dojo.registerModulePath("wc","../wc"),dojo.require("wc.service.common"),dojo.require("dojo.io.iframe"),dojo.require("dojo.io.script"),dojo.require("dojo.parser"),dojo.require("dijit.form.Button"),dojo.require("wc.widget.WCMenu"),dojo.require("wc.widget.WCDialog"),dojo.require("wc.widget.ScrollablePane"),dojo.require("dijit.layout.TabContainer"),dojo.require("dijit.layout.ContentPane"),dojo.require("dijit.Tooltip"),dojo.require("wc.widget.WCDropDownButton"),dojo.require("dijit.Dialog"),dojo.require("dojo.dnd.Source"),dojo.require("dojo.currency"),dojo.require("dijit.Tree"),dojo.require("dojo.back"),dojo.require("dijit.form.DateTextBox"),dojo.require("wc.widget.RefreshArea"),dojo.require("wc.render.RefreshController"),dojo.require("wc.render.Context"),dojo.require("dojo.cookie"),dojo.subscribe("ajaxRequestInitiated","incrementNumAjaxRequest"),dojo.subscribe("ajaxRequestCompleted","decrementNumAjaxRequest");var showDropdown=!1,dropDownDlg=null,originalMiniCartWidth=0,isIE=!!document.all,correctBrowser=!1,requestSubmitted=!0,currentId="",numAjaxRequests=0,autoSuggestTimer=-1,autoSuggestKeystrokeDelay=700,autoSuggestHover=!1,autoSuggestPreviousTerm="",autoSuggestURL="",autoSelectOption=-1,historyIndex=-1,retrievedCachedSuggestions=!1,TOTAL_SUGGESTED=4,TOTAL_HISTORY=2,AUTOSUGGEST_THRESHOLD=1,DYNAMIC_AUTOSUGGEST_THRESHOLD=1,CACHED_AUTOSUGGEST_OFFSET=1e3;function focusSetter(){dojo.byId("MiniCartFocusReceiver1")?dojo.byId("MiniCartFocusReceiver1").focus():dojo.byId("MiniCartFocusReceiver2").focus()}function determineFocus(e){e.shiftKey&&e.keyCode==dojo.keys.TAB&&(e.srcElement?"MiniCartFocusReceiver1"==e.srcElement.id?(dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver2"==e.srcElement.id&&(dojo.byId("MiniCartFocusReceiver2").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver1"==e.target.id?(dojo.byId("WC_MiniShopCartDisplay_link_5")&&dojo.byId("WC_MiniShopCartDisplay_link_5").focus(),dojo.stopEvent(e)):"MiniCartFocusReceiver2"==e.target.id&&(dojo.byId("MiniCartFocusReceiver2").focus(),dojo.stopEvent(e)))}function destroyDialog(){dojo.query(".dijitDialog",document).forEach(function(e){"quick_cart_container"==dijit.byNode(e).id&&dijit.byNode(e).destroyRecursive()}),dropDownDlg=null}function showMiniShopCartDropDown1(e,t,o,n){console.debug(e.keyCode),e.keyCode==dojo.keys.DOWN_ARROW?showMiniShopCartDropDown(t,o,n):e.shiftKey&&e.keyCode==dojo.keys.ENTER&&(showMiniShopCartDropDown(t,o,n),dojo.stopEvent(e))}function showMiniShopCartDropDown(e,t,o){var n=dojo.byId(e),r=dojo.coords(n,!0),i=r.x,d=r.y,a=dojo.coords(dojo.byId("MiniShoppingCart"),!0).w;8==dojo.isIE?a=dojo.coords(dojo.byId("outerCartContainer"),!0).w:dojo.isIE>=7&&dojo.isIE<8?a=dojo.coords(dojo.byId("miniShopCartBody"),!0).w:dojo.isIE<7&&(a=originalMiniCartWidth,"iw-il"!=dojo.locale&&"ar-eg"!=dojo.locale||(a=dojo.coords(dojo.byId("outerCartContainer"),!0).w)),dojo.style(dojo.byId("quick_cart"),"width",a+"px");var u=i;if(dojo.isIE&&(u=i+dojo.contentBox(dojo.byId(e)).w-a),("iw-il"==dojo.locale||"ar-eg"==dojo.locale)&&dojo.isIE<8){var l=dojo.coords(dojo.byId("miniShopCartLeftCorner")).x,s=dojo.coords(dojo.byId("miniShopCartRightCorner")).x;u=s>l?l:s}if(dropDownDlg&&(dropDownDlg.y=d,dropDownDlg.x=u),!dropDownDlg){var c=document.getElementById(t);(dropDownDlg=new wc.widget.WCDialog({relatedSource:e,x:i,y:d},c)).x=u}0!=dojo.isOpera&&null!=dojo.isOpera&&(dropDownDlg.x=dropDownDlg.x+window.pageXOffset,dropDownDlg.y=dropDownDlg.y+window.pageYOffset),"orderItemsList"==o?(dojo.byId("MiniShopCartProductsList").style.display="block",dojo.byId("MiniShopCartProductAdded").style.display="none"):"orderItemAdded"==o&&(dojo.byId("MiniShopCartProductsList").style.display="none",dojo.byId("MiniShopCartProductAdded").style.display="block"),dojo.isIE<7&&(document.getElementById("quick_cart_container").style.display="block"),setTimeout(dojo.hitch(dropDownDlg,"show",null),5),setTimeout(dojo.hitch(this,"hideUnderlayWrapper",""),5)}function hideUnderlayWrapper(){dojo.query(".dijitDialogUnderlayWrapper",document).forEach(function(e){e.style.display="none"})}function loadLink(e){document.location.href=e;try{void 0!=window.top._ceaCollabDialog&&null!=window.top._ceaCollabDialog&&window.top._ceaCollabDialog.topCategoryClicked(e)}catch(e){console.log(e)}}function clearSearchField(e){searchText=document.getElementById(e.id).value,searchText==autoSuggestPreviousTerm?document.getElementById(e.id).value="":(document.getElementById(e.id).select(),showAutoSuggestIfResults(),autoSuggestHover=!1)}function fillSearchField(e){"SimpleSearchForm_SearchTerm"==e.id?""==document.getElementById("SimpleSearchForm_SearchTerm").value&&(document.getElementById("SimpleSearchForm_SearchTerm").value=document.getElementById("searchTextHolder").innerHTML):"PageSearchForm_SearchTerm"==e.id&&""==document.getElementById("PageSearchForm_SearchTerm").value&&(document.getElementById("PageSearchForm_SearchTerm").value=document.getElementById("searchPageTextHolder").innerHTML),autoSuggestHover||showAutoSuggest(!1)}function showDropDownMenu(){var e=document.getElementById("header_menu_dropdown");(null!=document.getElementById("header_menu_dropdown")&&"undefined"!=document.getElementById("header_menu_dropdown")&&(e.style.display="block"),null!=document.getElementById("outerCartContainer")&&"undefined"!=document.getElementById("outerCartContainer"))&&(document.getElementById("outerCartContainer").style.display="block")}function initShopcartTarget(){dojo.subscribe("/dnd/drop",function(e,t,o,n){e!=n&&n.deleteSelectedNodes();var r=new popupActionProperties;if(r.showProductCompare=showProductCompare,"miniShopCart_dndTarget"==n.parent.id){if(void 0!=dojo.cookie("coShoppingDisableDnd")&&"true"==dojo.cookie("coShoppingDisableDnd"))return void ceadojo.publish("/wc/collaboration/dndDisabled",[]);var i=e.parent.id.indexOf("_",0);i>=0&&(e.parent.id=e.parent.id.substring(i+1));var d=e.node.getAttribute("dndType");"item"==d||"package"==d||"dynamicKit"==d?categoryDisplayJS.AddItem2ShopCartAjax(e.parent.id,1,{catalogEntryType:d}):"product"!=d&&"bundle"!=d||showPopup(e.parent.id,function(e){return e},"miniShopCart_dndTarget",null,r)}})}function cursor_wait(e){var t=!0;1==e&&dojo.isOpera>0&&(t=!1),t&&showProgressBar()}function showProgressBar(){requestSubmitted&&displayProgressBar()}function displayProgressBar(){var e=dijit.byId("progress_bar_dialog");if(null!=e){e.closeButtonNode.style.display="none";var t=document.getElementById("progress_bar");if(t.style.display="block",""!=this.currentId){var o=document.getElementById(this.currentId);dijit.placeOnScreenAroundElement(t,o,{TR:"TL"})}else e.containerNode.innerHTML,t.style.left="",t.style.top="",e.containerNode.appendChild(t),e.show();setTimeout("cursor_clear()",18e5)}}function setCurrentId(e){requestSubmitted||""!=this.currentId||(this.currentId=e)}function trim(e){word=e.toString();for(var t=0,o=word.length-1;" "==word.charAt(t);)t++;for(;" "==word.charAt(o);)o-=1;return t>o?word.substring(t,t):word.substring(t,o+1)}function cursor_clear(){requestSubmitted=!1;var e=dijit.byId("progress_bar_dialog"),t=document.getElementById("progress_bar");null!=e&&(null!=t&&(t.style.display="none"),e.hide(),this.currentId="")}function submitRequest(){return!requestSubmitted&&(requestSubmitted=!0,!0)}function setPageLocation(e){submitRequest()&&(document.location.href=e)}function submitSpecifiedForm(e){submitRequest()&&e.submit()}function parseWidget(e){var t,o=dijit.byId(e);null!=o&&void 0!=o||null!=(t=null==e||void 0==e?dojo.body():dojo.byId(e))&&void 0!=t&&(null!=t.getAttribute("dojoType")&&void 0!=t.getAttribute("dojoType")?dojo.parser.instantiate([t]):dojo.parser.parse(t))}function parseWCCEAWidget(e){var t,o=ceadijit.byId(e);null!=o&&void 0!=o||null!=(t=null==e||void 0==e?ceadojo.body():ceadojo.byId(e))&&void 0!=t&&(null!=t.getAttribute("ceadojoType")&&void 0!=t.getAttribute("ceadojoType")?ceadojo.parser.instantiate([t]):ceadojo.parser.parse(t))}function parseHeader(e){dojo.byId("progress_bar_dialog");var t=document.getElementById("header_menu_loaded"),o=document.getElementById("header_menu_overlay");if(0==currentId.length&&null!=document.getElementById("header_menu_loaded")&&"undefined"!=document.getElementById("header_menu_loaded")&&null!=document.getElementById("header_menu_overlay")&&"undefined"!=document.getElementById("header_menu_overlay")&&"none"==document.getElementById("header_menu_loaded").style.display){setCurrentId(null!=e&&void 0!=e?e:o.id),submitRequest(),cursor_wait(),o.style.display="none",parseWidget("header_menu_loaded"),t.style.display="block",cursor_clear();try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(e){dojo.connect(e,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",e.getURL())),dojo.connect(e,"onKeyPress",window.top._ceaCollabDialog,function(t){t.keyCode==dojo.keys.ENTER&&window.top._ceaCollabDialog.topCategoryClicked(e.getURL())})})}catch(e){console.log(e)}}}function hideElementById(e){dojo.byId(e).style.display="none"}function showElementById(e){dojo.byId(e).style.display="block"}function hideBackgroundImage(e){e.style.backgroundImage="none"}function showBackgroundImage(e){e.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){dojo.isIE&&dojo.isIE<=8&&(correctBrowser=!0)}function ApprovalToolLink(e,t){checkIE8Browser(),correctBrowser?RFQwindow=window.open(t):MessageHelper.formErrorHandleClient(e,MessageHelper.messages.ERROR_INCORRECT_BROWSER)}function updateViewAndBeginIndexForCurrencyChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("SetCurrencyPreferenceForm").URL.value=dojo.byId("SetCurrencyPreferenceForm").URL.value+"&coshopChangeCurrency="+dojo.byId("currencySelection").options[dojo.byId("currencySelection").selectedIndex].value)}catch(e){console.log(e)}}function updateViewAndBeginIndexForLanguageChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||(dojo.byId("LanguageSelectionForm").action=dojo.byId("LanguageSelectionForm").action+"&langId="+dojo.byId("languageSelection").options[dojo.byId("languageSelection").selectedIndex].value)}catch(e){console.log(e)}}function showHeaderLinksInTwoLines(){null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")&&(dojo.contentBox(document.getElementById("header_links")).w>750&&(null!=document.getElementById("header_links1")&&"undefined"!=document.getElementById("header_links1")&&(document.getElementById("header_links1").style.display="block"),null!=document.getElementById("headerHomeLink")&&"undefined"!=document.getElementById("headerHomeLink")&&(document.getElementById("headerHomeLink").style.display="none"),null!=document.getElementById("headerShopCartLink")&&"undefined"!=document.getElementById("headerShopCartLink")&&(document.getElementById("headerShopCartLink").style.display="none")),document.getElementById("header_links").style.visibility="visible")}function showLinksInOneLine(){null!=document.getElementById("header_links")&&"undefined"!=document.getElementById("header_links")&&(document.getElementById("header_links").style.visibility="visible")}function isNonNegativeInteger(e){var t=new RegExp(/^\d*$/);return null!=e&&""!=e&&t.test(e)}function isPositiveInteger(e){return isNonNegativeInteger(e)&&0!=e}function closeAllDialogs(){dijit.registry.byClass("dijit.Dialog").forEach(function(e){e.hide()})}function setWarningMessageCookie(e){dojo.cookie("signon_warning_cookie",e)}function removeCookie(e){dojo.cookie(e,null,{expires:-1})}function getCookie(e){for(var t=document.cookie.split(";"),o=0;o<t.length;o++){var n=t[o].indexOf("="),r=t[o].substr(0,n);if((r=r.replace(/^\s+|\s+$/g,""))==e)return unescape(t[o].substr(n+1))}}function isStorePreview(e,t){return e.indexOf(t)>-1}function hideESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"27"==t.keyCode){var o=dijit.byId(e);null!=o&&o.hide()}}function showESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"13"==t.keyCode){var o=dijit.byId(e);null!=o&&o.show()}}function incrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&numAjaxRequests++}function decrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&0!=numAjaxRequests&&numAjaxRequests--}function doDynamicAutoSuggest(e,t,o){-1!=autoSuggestTimer&&(clearTimeout(autoSuggestTimer),autoSuggestTimer=-1),autoSuggestTimer=setTimeout(function(){var n={};n.term=escape(t),n.showHeader=o,n.catalogId=$("#CatalogSearchForm [name=catalogId]").val(),n.storeId=$("#CatalogSearchForm [name=storeId]").val(),n.brandCount=$("#autoSuggest_Container [id^=autoSuggestStatic] [id^=suggestionItem]").length,$.ajax({url:e,data:n,dataType:"html",type:"post",complete:function(e){null==e||null==e.responseText?(document.getElementById("autoSuggestDynamic_Result_div").innerHTML="",utagFiller.setUnableToSearchError()):($("#autoSuggestDynamic_Result_div").html(e.responseText),e.responseText.includes('id="dynamicAutoSuggestTotalResults" value="0"')&&utagFiller.setUnableToSearchError()),showAutoSuggestIfResults()},error:function(){utagFiller.setUnableToSearchError()}}),autoSuggestTimer=-1},autoSuggestKeystrokeDelay)}function showAutoSuggest(e){var t=document.getElementById("autoSuggest_Result_div");document.getElementById("default_autosuggest_button");if($("#autoCompleteContainer").html(" "),null!=t&&"undefined"!=t)if(e){t.style.display="block",$(".site-search__hints-wrapper").hide();var o=$("#SimpleSearchForm_SearchTerm").val(),n=$("#dynamicAutoSuggestTotalResults").val();if(utagFiller.setInPageSearch(o,"suggested",n),o.length>0)for(var r=$('.autoSuggest_wrapper [id^="autoSelectOption"]').map(function(){return $(this).find(".product-brand").text()+"/"+$(this).find(".product-name").text()}),i=0;i<r.length;i++)for(var d=r[i].split("/"),a=0;a<d.length;a++)0==d[a].toLowerCase().indexOf(o.toLowerCase())&&($("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+o+'</span><span class="show">'+d[a].substring(o.length)+"</span></span>"),!0)}else t.style.display="none",$(".site-search__hints-wrapper").show()}function showAutoSuggestIfResults(){var e=document.getElementById("SimpleSearchForm_SearchTerm").value;"undefined"!=typeof staticContent&&""==document.getElementById(staticContentSectionDiv[0]).innerHTML&&""==document.getElementById("autoSuggestHistory").innerHTML&&null==document.getElementById("dynamicAutoSuggestTotalResults")?showAutoSuggest(!1):e.length>0&&showAutoSuggest(e.length>AUTOSUGGEST_THRESHOLD)}function selectAutoSuggest(e){var t=document.getElementById("SimpleSearchForm_SearchTerm");t.value=e,t.focus(),autoSuggestPreviousTerm=e,submitSpecifiedForm(document.CatalogSearchForm)}function highLightSelection(e,t){var o=document.getElementById("autoSelectOption_"+t);if(null!=o&&"undefined"!=o){if(e){o.className="autoSuggestSelected";var n=document.getElementById("SimpleSearchForm_SearchTerm");n.setAttribute("aria-activedescendant","suggestionItem_"+t);var r=document.getElementById("dynamicAutoSuggestTotalResults");null!=r&&"undefined"!=r&&t<r.value||t>=historyIndex?(n.value=o.title,autoSuggestPreviousTerm=o.title,autoSuggestURL=o.href):autoSuggestURL=""}else o.className="";return!0}return!1}function enableAutoSelect(e){highLightSelection(!1,autoSelectOption),document.getElementById("autoSelectOption_"+e).className="autoSuggestSelected",autoSelectOption=e}function resetAutoSuggestKeyword(){var e=document.getElementById("autoSuggestOriginalTerm");null!=e&&"undefined"!=e&&(document.getElementById("SimpleSearchForm_SearchTerm").value=e.value,autoSuggestPreviousTerm=e.value)}function clearAutoSuggestResults(){for(var e=0;e<staticContent.length;e++)document.getElementById(staticContentSectionDiv[e]).innerHTML="";autoSuggestPreviousTerm="",autoSuggestURL="",document.getElementById("autoSuggestDynamic_Result_div").innerHTML="",showAutoSuggest(!1)}function doAutoSuggest(e,t,o){if($("#autoCompleteContainer").text(""),o.length<=AUTOSUGGEST_THRESHOLD&&showAutoSuggest(!1),13!=e.keyCode)if(9!=e.keyCode)if(27!=e.keyCode)if(38!=e.keyCode)if(40!=e.keyCode){if(!(o.length>AUTOSUGGEST_THRESHOLD&&o==autoSuggestPreviousTerm||(autoSuggestPreviousTerm=o,o.length<=AUTOSUGGEST_THRESHOLD)))if(-1!=autoSuggestTimer&&(clearTimeout(autoSuggestTimer),autoSuggestTimer=-1),""!=o)if(autoSelectOption=-1,o.length>DYNAMIC_AUTOSUGGEST_THRESHOLD){doDynamicAutoSuggest(t,o,!0)}else document.getElementById("autoSuggestDynamic_Result_div").innerHTML="";else clearAutoSuggestResults()}else highLightSelection(!0,autoSelectOption+1)?(highLightSelection(!1,autoSelectOption),autoSelectOption++):autoSelectOption<CACHED_AUTOSUGGEST_OFFSET&&highLightSelection(!0,CACHED_AUTOSUGGEST_OFFSET)&&(highLightSelection(!1,autoSelectOption),autoSelectOption=CACHED_AUTOSUGGEST_OFFSET,resetAutoSuggestKeyword());else{var n=document.getElementById("dynamicAutoSuggestTotalResults");if(highLightSelection(!0,autoSelectOption-1))highLightSelection(!1,autoSelectOption),autoSelectOption==historyIndex&&resetAutoSuggestKeyword(),autoSelectOption--;else if(autoSelectOption==CACHED_AUTOSUGGEST_OFFSET&&null!=n&&"undefined"!=n)highLightSelection(!1,CACHED_AUTOSUGGEST_OFFSET),highLightSelection(!0,autoSelectOption=n.value-1);else{highLightSelection(!1,autoSelectOption),autoSelectOption=-1;document.getElementById("autoSuggestOriginalTerm");resetAutoSuggestKeyword(),autoSuggestURL=""}}else showAutoSuggest(!1);else autoSuggestHover=!0}function doStaticAutoSuggest(e){for(var t=["","","","","",""],o=0,n=e.toLowerCase(),r=CACHED_AUTOSUGGEST_OFFSET,i=0;i<staticContent.length;i++)for(var d=0,a=0;a<staticContent[i].length;a++){var u=staticContent[i][a][0],l=staticContent[i][a][1]+"&fromAutoSuggest=true",s=staticContent[i][a][2],c=u.toLowerCase().indexOf(n);if(-1!=c){s.length,u.length;if(t[i]=t[i]+"<div id='suggestionItem_"+r+"' role='listitem' tabindex='-1'><div class='swiper-slide'><a id='autoSelectOption_"+r+"' title='"+s+"' onmouseout='this.className=\"\"; autoSuggestURL=\"\";' onmouseover='enableAutoSelect("+r+"); autoSuggestURL=this.href;' href=\""+l+'"><img src="'+staticContent[i][a][3]+'" class="d-block img-fluid mx-auto" width="300" alt="'+s+'"/><h3 class="product-card__title text-uppercase text-center">'+s+"</h3></a></div></div>",r++,++d>=TOTAL_SUGGESTED)break}}for(i=0;i<staticContent.length;i++)document.getElementById(staticContentSectionDiv[i]).innerHTML="",""!=t[i]&&(document.getElementById(staticContentSectionDiv[o]).innerHTML="<section class='section mb-6  carousel-brands-result' style='display:none'><div class='container'><h2 class='section__title mb-md-5'>"+staticContentHeaders[i]+"</h2><div class='js-products-carousel products-carousel swiper-container' ><div class='swiper-wrapper'>"+t[i]+"</div></div></div></section>",o++);var g=document.getElementById("autoSuggestHistory");g.innerHTML="";new Array;historyIndex=r;getCookie("searchTermHistory");return o>0&&(showAutoSuggest(!0),!0)}function retrieveCachedSuggestions(e){if(!retrievedCachedSuggestions){$.ajax({url:e,dataType:"html",type:"post",complete:function(e){var t=e.responseText;$("#autoSuggestCachedSuggestions_div").html(t),retrievedCachedSuggestions=!0;var o=document.getElementById("SimpleSearchForm_SearchTerm").value;o.length>AUTOSUGGEST_THRESHOLD&&doStaticAutoSuggest(o)}});try{var t={id:"WCS-D-Search-PageReady"}}catch(e){t={id:"WCS-D-Search-PageReady-Error",Error_Source:"Server",Error_Code:"utag_data syntax - "+e.message};tealium_data2track.push(t)}finally{t.id="WCS-D-Search-PageReady",tealium_data2track.push(t)}}}function onKeyPressFunctions(e){if(13==e.keyCode){if(""!=autoSuggestURL)return window.location.href=autoSuggestURL,e.preventDefault(),!1;var t=$("#SimpleSearchForm_SearchTerm").val();if(void 0===t||null===t||0==t.length)return e.preventDefault(),!1;var o=trim($("#autoCompleteContainer").text());0==o.length?$("#SimpleSearchForm_SearchTerm").val(trim(t)):$("#SimpleSearchForm_SearchTerm").val(o)}}
//# sourceMappingURL=StoreCommonUtilities.js.map