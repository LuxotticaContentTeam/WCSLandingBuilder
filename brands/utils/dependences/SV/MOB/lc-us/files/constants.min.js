constants={services:{brandsLandingSearch:"BrandsLandingSearch?storeId=%storeId&facet=%facet&searchType=%searchType&langId=%langId&catalogId=%catalogId",storeSearch:"AjaxStoreLocatorResultsURL?storeId=%storeId&langId=%langId",s7:"https://assets.lenscrafters.com/is/image/LensCrafters/%upc__001.png?imwidth=%width"},ajaxParams:{storeId:"",catalogId:"",langId:"",orderId:"",userId:"",loggedIn:!1},regex:{zip:{usa:/^\d{5}(-\d{4})?$/,canada:/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ]( )?\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i}},error:{ajax:"Sorry, we were unable to complete your request at this time. Please try again later."},facetConversionMap:{FC:"color",BR:"brand",PR:"price",FR:"style",FS:"faceshape",FR:"frameshape",GE:"gender",FI:"fit",FM:"material"}},$.extend({displayModalToggle:function($target){$target.addClass("on").siblings().removeClass("on");var upc=$("img",$target).attr("rel");if($target.hasClass("pdp_fr"))var view="fr";else if($target.hasClass("pdp_qt"))view="qt";else if($target.hasClass("pdp_sd"))view="sd";var imgSrc=$.stringTemplate(constants.services.s7,{upc:upc,view:view,width:"1600"});window.iviewer.loadImage(imgSrc)},stringTemplate:function(text,vars,prefix){return prefix=prefix||"%",null!=vars&&$.each(vars,(function(variable,value){-1!=text.indexOf(prefix+variable)&&(text=text.replace(prefix+variable,value))})),text},getParams:function(hash){return $.jsonify(hash?window.location.hash:window.location.search)},jsonify:function(query){var params={};if(""!=query){var p=(query=query.replace("?","").replace("#","")).substring(0,query.length).split("&");p.length>0&&$.each(p,(function(k,v){if(""!=v){for(var tmp=v.split("="),indexOf=tmp[1].indexOf("+");indexOf>-1;)tmp[1]=tmp[1].replace("+"," "),indexOf=tmp[1].indexOf("+");params[tmp[0]]=unescape(tmp[1])}}))}return params}});