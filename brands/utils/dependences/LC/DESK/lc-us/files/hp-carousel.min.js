var carouselStrip=function(elem,args){if(args=args||{},!elem)return!1;var $container=$(elem);if($container.length<=0)return!1;if($container.hasClass("initialized"))return!0;$container.addClass("initialized"),console.log("initializing carousel...");var numberOfItems=args.numberOfItems?args.numberOfItems:3,speed=args.speed?args.speed:200,currentOffset=0,$items=$container.find(".carousel-item"),itemsCount=$items.length;if(itemsCount<=numberOfItems)return $container.find(".button-arrow").on("click",(function(e){e.preventDefault()})),!1;var items=[];$items.each((function(){items.push($(this))}));var $itemsContainer=$container.find(".carousel-items-container"),$arrowLeft=$container.find(".a-left"),$arrowRight=$container.find(".a-right");$arrowRight.css({opacity:"1"});var itemWidth=$container.outerWidth()/(numberOfItems+1);function hideItem(elem){elem&&elem.animate({opacity:0},speed),elem.attr("aria-hidden","true").find("a").attr("tabindex","-1")}function showItem(elem){elem&&elem.animate({opacity:1},speed),elem.attr("aria-hidden","false").find("a").attr("tabindex",""),void 0===elem.find("img").attr("src")&&elem.find("img").attr("src",elem.find("img").data("src"))}$items.css({width:itemWidth+"px"}),$itemsContainer.css({"margin-left":itemWidth/2+"px"});for(var i=0;i<itemsCount;i++)i>numberOfItems-1?hideItem(items[i]):showItem(items[i]);function animate(){$itemsContainer.animate({"margin-left":itemWidth/2-itemWidth*currentOffset},speed);for(var i=0;i<itemsCount;i++)i<currentOffset||i>numberOfItems+currentOffset-1?hideItem(items[i]):showItem(items[i]);!function(){atEnd()?$arrowRight.css({opacity:"0.3"}):$arrowRight.css({opacity:"1"});currentOffset<=0?$arrowLeft.css({opacity:"0.3"}):$arrowLeft.css({opacity:"1"})}()}function atEnd(){if(currentOffset>=itemsCount-numberOfItems)return!0}$arrowLeft.on("click",(function(e){e.preventDefault(),function(){if(currentOffset<=0)return currentOffset=0,!0;currentOffset-=numberOfItems,animate()}()})),$arrowRight.on("click",(function(e){e.preventDefault(),function(){if(atEnd())return!0;currentOffset+=numberOfItems,animate()}()}))};