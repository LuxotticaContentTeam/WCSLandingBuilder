if(function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(!t.document)throw new Error("jQuery requires a window with a document");return e(t)}:e(t)}("undefined"!=typeof window?window:this,function(t,e){"use strict";var i=[],n=t.document,s=Object.getPrototypeOf,r=i.slice,o=i.concat,a=i.push,l=i.indexOf,u={},c=u.toString,h=u.hasOwnProperty,d=h.toString,p=d.call(Object),f={},m=function(t){return"function"==typeof t&&"number"!=typeof t.nodeType},g=function(t){return null!=t&&t===t.window},v={type:!0,src:!0,noModule:!0};function y(t,e,i){var s,r=(e=e||n).createElement("script");if(r.text=t,i)for(s in v)i[s]&&(r[s]=i[s]);e.head.appendChild(r).parentNode.removeChild(r)}function _(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?u[c.call(t)]||"object":typeof t}var b=function(t,e){return new b.fn.init(t,e)},w=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function T(t){var e=!!t&&"length"in t&&t.length,i=_(t);return!m(t)&&!g(t)&&("array"===i||0===e||"number"==typeof e&&e>0&&e-1 in t)}b.fn=b.prototype={jquery:"3.3.1",constructor:b,length:0,toArray:function(){return r.call(this)},get:function(t){return null==t?r.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){var e=b.merge(this.constructor(),t);return e.prevObject=this,e},each:function(t){return b.each(this,t)},map:function(t){return this.pushStack(b.map(this,function(e,i){return t.call(e,i,e)}))},slice:function(){return this.pushStack(r.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(t){var e=this.length,i=+t+(t<0?e:0);return this.pushStack(i>=0&&i<e?[this[i]]:[])},end:function(){return this.prevObject||this.constructor()},push:a,sort:i.sort,splice:i.splice},b.extend=b.fn.extend=function(){var t,e,i,n,s,r,o=arguments[0]||{},a=1,l=arguments.length,u=!1;for("boolean"==typeof o&&(u=o,o=arguments[a]||{},a++),"object"==typeof o||m(o)||(o={}),a===l&&(o=this,a--);a<l;a++)if(null!=(t=arguments[a]))for(e in t)i=o[e],o!==(n=t[e])&&(u&&n&&(b.isPlainObject(n)||(s=Array.isArray(n)))?(s?(s=!1,r=i&&Array.isArray(i)?i:[]):r=i&&b.isPlainObject(i)?i:{},o[e]=b.extend(u,r,n)):void 0!==n&&(o[e]=n));return o},b.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){var e,i;return!(!t||"[object Object]"!==c.call(t))&&(!(e=s(t))||"function"==typeof(i=h.call(e,"constructor")&&e.constructor)&&d.call(i)===p)},isEmptyObject:function(t){var e;for(e in t)return!1;return!0},globalEval:function(t){y(t)},each:function(t,e){var i,n=0;if(T(t))for(i=t.length;n<i&&!1!==e.call(t[n],n,t[n]);n++);else for(n in t)if(!1===e.call(t[n],n,t[n]))break;return t},trim:function(t){return null==t?"":(t+"").replace(w,"")},makeArray:function(t,e){var i=e||[];return null!=t&&(T(Object(t))?b.merge(i,"string"==typeof t?[t]:t):a.call(i,t)),i},inArray:function(t,e,i){return null==e?-1:l.call(e,t,i)},merge:function(t,e){for(var i=+e.length,n=0,s=t.length;n<i;n++)t[s++]=e[n];return t.length=s,t},grep:function(t,e,i){for(var n=[],s=0,r=t.length,o=!i;s<r;s++)!e(t[s],s)!==o&&n.push(t[s]);return n},map:function(t,e,i){var n,s,r=0,a=[];if(T(t))for(n=t.length;r<n;r++)null!=(s=e(t[r],r,i))&&a.push(s);else for(r in t)null!=(s=e(t[r],r,i))&&a.push(s);return o.apply([],a)},guid:1,support:f}),"function"==typeof Symbol&&(b.fn[Symbol.iterator]=i[Symbol.iterator]),b.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){u["[object "+e+"]"]=e.toLowerCase()});var k=function(t){var e,i,n,s,r,o,a,l,u,c,h,d,p,f,m,g,v,y,_,b="sizzle"+1*new Date,w=t.document,T=0,k=0,S=ot(),C=ot(),x=ot(),E=function(t,e){return t===e&&(h=!0),0},D={}.hasOwnProperty,A=[],P=A.pop,I=A.push,O=A.push,M=A.slice,L=function(t,e){for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i;return-1},N="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",F="\\["+R+"*("+U+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+U+"))|)"+R+"*\\]",j=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(R+"+","g"),z=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),B=new RegExp("^"+R+"*,"+R+"*"),W=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),Y=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),V=new RegExp(j),q=new RegExp("^"+U+"$"),$={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U+"|[*])"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+j),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+N+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,K=/^[^{]+\{\s*\[native \w/,Z=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,J=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),tt=function(t,e,i){var n="0x"+e-65536;return n!=n||i?e:n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320)},et=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,it=function(t,e){return e?"\0"===t?"ï¿½":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},nt=function(){d()},st=yt(function(t){return!0===t.disabled&&("form"in t||"label"in t)},{dir:"parentNode",next:"legend"});try{O.apply(A=M.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(t){O={apply:A.length?function(t,e){I.apply(t,M.call(e))}:function(t,e){for(var i=t.length,n=0;t[i++]=e[n++];);t.length=i-1}}}function rt(t,e,n,s){var r,a,u,c,h,f,v,y=e&&e.ownerDocument,T=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==T&&9!==T&&11!==T)return n;if(!s&&((e?e.ownerDocument||e:w)!==p&&d(e),e=e||p,m)){if(11!==T&&(h=Z.exec(t)))if(r=h[1]){if(9===T){if(!(u=e.getElementById(r)))return n;if(u.id===r)return n.push(u),n}else if(y&&(u=y.getElementById(r))&&_(e,u)&&u.id===r)return n.push(u),n}else{if(h[2])return O.apply(n,e.getElementsByTagName(t)),n;if((r=h[3])&&i.getElementsByClassName&&e.getElementsByClassName)return O.apply(n,e.getElementsByClassName(r)),n}if(i.qsa&&!x[t+" "]&&(!g||!g.test(t))){if(1!==T)y=e,v=t;else if("object"!==e.nodeName.toLowerCase()){for((c=e.getAttribute("id"))?c=c.replace(et,it):e.setAttribute("id",c=b),a=(f=o(t)).length;a--;)f[a]="#"+c+" "+vt(f[a]);v=f.join(","),y=Q.test(t)&&mt(e.parentNode)||e}if(v)try{return O.apply(n,y.querySelectorAll(v)),n}catch(t){}finally{c===b&&e.removeAttribute("id")}}}return l(t.replace(z,"$1"),e,n,s)}function ot(){var t=[];return function e(i,s){return t.push(i+" ")>n.cacheLength&&delete e[t.shift()],e[i+" "]=s}}function at(t){return t[b]=!0,t}function lt(t){var e=p.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e),e=null}}function ut(t,e){for(var i=t.split("|"),s=i.length;s--;)n.attrHandle[i[s]]=e}function ct(t,e){var i=e&&t,n=i&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(n)return n;if(i)for(;i=i.nextSibling;)if(i===e)return-1;return t?1:-1}function ht(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function dt(t){return function(e){var i=e.nodeName.toLowerCase();return("input"===i||"button"===i)&&e.type===t}}function pt(t){return function(e){return"form"in e?e.parentNode&&!1===e.disabled?"label"in e?"label"in e.parentNode?e.parentNode.disabled===t:e.disabled===t:e.isDisabled===t||e.isDisabled!==!t&&st(e)===t:e.disabled===t:"label"in e&&e.disabled===t}}function ft(t){return at(function(e){return e=+e,at(function(i,n){for(var s,r=t([],i.length,e),o=r.length;o--;)i[s=r[o]]&&(i[s]=!(n[s]=i[s]))})})}function mt(t){return t&&void 0!==t.getElementsByTagName&&t}for(e in i=rt.support={},r=rt.isXML=function(t){var e=t&&(t.ownerDocument||t).documentElement;return!!e&&"HTML"!==e.nodeName},d=rt.setDocument=function(t){var e,s,o=t?t.ownerDocument||t:w;return o!==p&&9===o.nodeType&&o.documentElement?(f=(p=o).documentElement,m=!r(p),w!==p&&(s=p.defaultView)&&s.top!==s&&(s.addEventListener?s.addEventListener("unload",nt,!1):s.attachEvent&&s.attachEvent("onunload",nt)),i.attributes=lt(function(t){return t.className="i",!t.getAttribute("className")}),i.getElementsByTagName=lt(function(t){return t.appendChild(p.createComment("")),!t.getElementsByTagName("*").length}),i.getElementsByClassName=K.test(p.getElementsByClassName),i.getById=lt(function(t){return f.appendChild(t).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),i.getById?(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){return t.getAttribute("id")===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i=e.getElementById(t);return i?[i]:[]}}):(n.filter.ID=function(t){var e=t.replace(J,tt);return function(t){var i=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return i&&i.value===e}},n.find.ID=function(t,e){if(void 0!==e.getElementById&&m){var i,n,s,r=e.getElementById(t);if(r){if((i=r.getAttributeNode("id"))&&i.value===t)return[r];for(s=e.getElementsByName(t),n=0;r=s[n++];)if((i=r.getAttributeNode("id"))&&i.value===t)return[r]}return[]}}),n.find.TAG=i.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):i.qsa?e.querySelectorAll(t):void 0}:function(t,e){var i,n=[],s=0,r=e.getElementsByTagName(t);if("*"===t){for(;i=r[s++];)1===i.nodeType&&n.push(i);return n}return r},n.find.CLASS=i.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&m)return e.getElementsByClassName(t)},v=[],g=[],(i.qsa=K.test(p.querySelectorAll))&&(lt(function(t){f.appendChild(t).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+R+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||g.push("\\["+R+"*(?:value|"+N+")"),t.querySelectorAll("[id~="+b+"-]").length||g.push("~="),t.querySelectorAll(":checked").length||g.push(":checked"),t.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),lt(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=p.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&g.push("name"+R+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),g.push(",.*:")})),(i.matchesSelector=K.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&lt(function(t){i.disconnectedMatch=y.call(t,"*"),y.call(t,"[s!='']:x"),v.push("!=",j)}),g=g.length&&new RegExp(g.join("|")),v=v.length&&new RegExp(v.join("|")),e=K.test(f.compareDocumentPosition),_=e||K.test(f.contains)?function(t,e){var i=9===t.nodeType?t.documentElement:t,n=e&&e.parentNode;return t===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):t.compareDocumentPosition&&16&t.compareDocumentPosition(n)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},E=e?function(t,e){if(t===e)return h=!0,0;var n=!t.compareDocumentPosition-!e.compareDocumentPosition;return n||(1&(n=(t.ownerDocument||t)===(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!i.sortDetached&&e.compareDocumentPosition(t)===n?t===p||t.ownerDocument===w&&_(w,t)?-1:e===p||e.ownerDocument===w&&_(w,e)?1:c?L(c,t)-L(c,e):0:4&n?-1:1)}:function(t,e){if(t===e)return h=!0,0;var i,n=0,s=t.parentNode,r=e.parentNode,o=[t],a=[e];if(!s||!r)return t===p?-1:e===p?1:s?-1:r?1:c?L(c,t)-L(c,e):0;if(s===r)return ct(t,e);for(i=t;i=i.parentNode;)o.unshift(i);for(i=e;i=i.parentNode;)a.unshift(i);for(;o[n]===a[n];)n++;return n?ct(o[n],a[n]):o[n]===w?-1:a[n]===w?1:0},p):p},rt.matches=function(t,e){return rt(t,null,null,e)},rt.matchesSelector=function(t,e){if((t.ownerDocument||t)!==p&&d(t),e=e.replace(Y,"='$1']"),i.matchesSelector&&m&&!x[e+" "]&&(!v||!v.test(e))&&(!g||!g.test(e)))try{var n=y.call(t,e);if(n||i.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){}return rt(e,p,null,[t]).length>0},rt.contains=function(t,e){return(t.ownerDocument||t)!==p&&d(t),_(t,e)},rt.attr=function(t,e){(t.ownerDocument||t)!==p&&d(t);var s=n.attrHandle[e.toLowerCase()],r=s&&D.call(n.attrHandle,e.toLowerCase())?s(t,e,!m):void 0;return void 0!==r?r:i.attributes||!m?t.getAttribute(e):(r=t.getAttributeNode(e))&&r.specified?r.value:null},rt.escape=function(t){return(t+"").replace(et,it)},rt.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},rt.uniqueSort=function(t){var e,n=[],s=0,r=0;if(h=!i.detectDuplicates,c=!i.sortStable&&t.slice(0),t.sort(E),h){for(;e=t[r++];)e===t[r]&&(s=n.push(r));for(;s--;)t.splice(n[s],1)}return c=null,t},s=rt.getText=function(t){var e,i="",n=0,r=t.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)i+=s(t)}else if(3===r||4===r)return t.nodeValue}else for(;e=t[n++];)i+=s(e);return i},(n=rt.selectors={cacheLength:50,createPseudo:at,match:$,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(J,tt),t[3]=(t[3]||t[4]||t[5]||"").replace(J,tt),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||rt.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&rt.error(t[0]),t},PSEUDO:function(t){var e,i=!t[6]&&t[2];return $.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":i&&V.test(i)&&(e=o(i,!0))&&(e=i.indexOf(")",i.length-e)-i.length)&&(t[0]=t[0].slice(0,e),t[2]=i.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(J,tt).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=S[t+" "];return e||(e=new RegExp("(^|"+R+")"+t+"("+R+"|$)"))&&S(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(t,e,i){return function(n){var s=rt.attr(n,t);return null==s?"!="===e:!e||(s+="","="===e?s===i:"!="===e?s!==i:"^="===e?i&&0===s.indexOf(i):"*="===e?i&&s.indexOf(i)>-1:"$="===e?i&&s.slice(-i.length)===i:"~="===e?(" "+s.replace(H," ")+" ").indexOf(i)>-1:"|="===e&&(s===i||s.slice(0,i.length+1)===i+"-"))}},CHILD:function(t,e,i,n,s){var r="nth"!==t.slice(0,3),o="last"!==t.slice(-4),a="of-type"===e;return 1===n&&0===s?function(t){return!!t.parentNode}:function(e,i,l){var u,c,h,d,p,f,m=r!==o?"nextSibling":"previousSibling",g=e.parentNode,v=a&&e.nodeName.toLowerCase(),y=!l&&!a,_=!1;if(g){if(r){for(;m;){for(d=e;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===t&&!f&&"nextSibling"}return!0}if(f=[o?g.firstChild:g.lastChild],o&&y){for(_=(p=(u=(c=(h=(d=g)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===T&&u[1])&&u[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(_=p=0)||f.pop();)if(1===d.nodeType&&++_&&d===e){c[t]=[T,p,_];break}}else if(y&&(_=p=(u=(c=(h=(d=e)[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]||[])[0]===T&&u[1]),!1===_)for(;(d=++p&&d&&d[m]||(_=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++_||(y&&((c=(h=d[b]||(d[b]={}))[d.uniqueID]||(h[d.uniqueID]={}))[t]=[T,_]),d!==e)););return(_-=s)===n||_%n==0&&_/n>=0}}},PSEUDO:function(t,e){var i,s=n.pseudos[t]||n.setFilters[t.toLowerCase()]||rt.error("unsupported pseudo: "+t);return s[b]?s(e):s.length>1?(i=[t,t,"",e],n.setFilters.hasOwnProperty(t.toLowerCase())?at(function(t,i){for(var n,r=s(t,e),o=r.length;o--;)t[n=L(t,r[o])]=!(i[n]=r[o])}):function(t){return s(t,0,i)}):s}},pseudos:{not:at(function(t){var e=[],i=[],n=a(t.replace(z,"$1"));return n[b]?at(function(t,e,i,s){for(var r,o=n(t,null,s,[]),a=t.length;a--;)(r=o[a])&&(t[a]=!(e[a]=r))}):function(t,s,r){return e[0]=t,n(e,null,r,i),e[0]=null,!i.pop()}}),has:at(function(t){return function(e){return rt(t,e).length>0}}),contains:at(function(t){return t=t.replace(J,tt),function(e){return(e.textContent||e.innerText||s(e)).indexOf(t)>-1}}),lang:at(function(t){return q.test(t||"")||rt.error("unsupported lang: "+t),t=t.replace(J,tt).toLowerCase(),function(e){var i;do{if(i=m?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(i=i.toLowerCase())===t||0===i.indexOf(t+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var i=t.location&&t.location.hash;return i&&i.slice(1)===e.id},root:function(t){return t===f},focus:function(t){return t===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:pt(!1),disabled:pt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!n.pseudos.empty(t)},header:function(t){return X.test(t.nodeName)},input:function(t){return G.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){var e;return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(e=t.getAttribute("type"))||"text"===e.toLowerCase())},first:ft(function(){return[0]}),last:ft(function(t,e){return[e-1]}),eq:ft(function(t,e,i){return[i<0?i+e:i]}),even:ft(function(t,e){for(var i=0;i<e;i+=2)t.push(i);return t}),odd:ft(function(t,e){for(var i=1;i<e;i+=2)t.push(i);return t}),lt:ft(function(t,e,i){for(var n=i<0?i+e:i;--n>=0;)t.push(n);return t}),gt:ft(function(t,e,i){for(var n=i<0?i+e:i;++n<e;)t.push(n);return t})}}).pseudos.nth=n.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})n.pseudos[e]=ht(e);for(e in{submit:!0,reset:!0})n.pseudos[e]=dt(e);function gt(){}function vt(t){for(var e=0,i=t.length,n="";e<i;e++)n+=t[e].value;return n}function yt(t,e,i){var n=e.dir,s=e.next,r=s||n,o=i&&"parentNode"===r,a=k++;return e.first?function(e,i,s){for(;e=e[n];)if(1===e.nodeType||o)return t(e,i,s);return!1}:function(e,i,l){var u,c,h,d=[T,a];if(l){for(;e=e[n];)if((1===e.nodeType||o)&&t(e,i,l))return!0}else for(;e=e[n];)if(1===e.nodeType||o)if(c=(h=e[b]||(e[b]={}))[e.uniqueID]||(h[e.uniqueID]={}),s&&s===e.nodeName.toLowerCase())e=e[n]||e;else{if((u=c[r])&&u[0]===T&&u[1]===a)return d[2]=u[2];if(c[r]=d,d[2]=t(e,i,l))return!0}return!1}}function _t(t){return t.length>1?function(e,i,n){for(var s=t.length;s--;)if(!t[s](e,i,n))return!1;return!0}:t[0]}function bt(t,e,i,n,s){for(var r,o=[],a=0,l=t.length,u=null!=e;a<l;a++)(r=t[a])&&(i&&!i(r,n,s)||(o.push(r),u&&e.push(a)));return o}function wt(t,e,i,n,s,r){return n&&!n[b]&&(n=wt(n)),s&&!s[b]&&(s=wt(s,r)),at(function(r,o,a,l){var u,c,h,d=[],p=[],f=o.length,m=r||function(t,e,i){for(var n=0,s=e.length;n<s;n++)rt(t,e[n],i);return i}(e||"*",a.nodeType?[a]:a,[]),g=!t||!r&&e?m:bt(m,d,t,a,l),v=i?s||(r?t:f||n)?[]:o:g;if(i&&i(g,v,a,l),n)for(u=bt(v,p),n(u,[],a,l),c=u.length;c--;)(h=u[c])&&(v[p[c]]=!(g[p[c]]=h));if(r){if(s||t){if(s){for(u=[],c=v.length;c--;)(h=v[c])&&u.push(g[c]=h);s(null,v=[],u,l)}for(c=v.length;c--;)(h=v[c])&&(u=s?L(r,h):d[c])>-1&&(r[u]=!(o[u]=h))}}else v=bt(v===o?v.splice(f,v.length):v),s?s(null,o,v,l):O.apply(o,v)})}function Tt(t){for(var e,i,s,r=t.length,o=n.relative[t[0].type],a=o||n.relative[" "],l=o?1:0,c=yt(function(t){return t===e},a,!0),h=yt(function(t){return L(e,t)>-1},a,!0),d=[function(t,i,n){var s=!o&&(n||i!==u)||((e=i).nodeType?c(t,i,n):h(t,i,n));return e=null,s}];l<r;l++)if(i=n.relative[t[l].type])d=[yt(_t(d),i)];else{if((i=n.filter[t[l].type].apply(null,t[l].matches))[b]){for(s=++l;s<r&&!n.relative[t[s].type];s++);return wt(l>1&&_t(d),l>1&&vt(t.slice(0,l-1).concat({value:" "===t[l-2].type?"*":""})).replace(z,"$1"),i,l<s&&Tt(t.slice(l,s)),s<r&&Tt(t=t.slice(s)),s<r&&vt(t))}d.push(i)}return _t(d)}return gt.prototype=n.filters=n.pseudos,n.setFilters=new gt,o=rt.tokenize=function(t,e){var i,s,r,o,a,l,u,c=C[t+" "];if(c)return e?0:c.slice(0);for(a=t,l=[],u=n.preFilter;a;){for(o in i&&!(s=B.exec(a))||(s&&(a=a.slice(s[0].length)||a),l.push(r=[])),i=!1,(s=W.exec(a))&&(i=s.shift(),r.push({value:i,type:s[0].replace(z," ")}),a=a.slice(i.length)),n.filter)!(s=$[o].exec(a))||u[o]&&!(s=u[o](s))||(i=s.shift(),r.push({value:i,type:o,matches:s}),a=a.slice(i.length));if(!i)break}return e?a.length:a?rt.error(t):C(t,l).slice(0)},a=rt.compile=function(t,e){var i,s=[],r=[],a=x[t+" "];if(!a){for(e||(e=o(t)),i=e.length;i--;)(a=Tt(e[i]))[b]?s.push(a):r.push(a);(a=x(t,function(t,e){var i=e.length>0,s=t.length>0,r=function(r,o,a,l,c){var h,f,g,v=0,y="0",_=r&&[],b=[],w=u,k=r||s&&n.find.TAG("*",c),S=T+=null==w?1:Math.random()||.1,C=k.length;for(c&&(u=o===p||o||c);y!==C&&null!=(h=k[y]);y++){if(s&&h){for(f=0,o||h.ownerDocument===p||(d(h),a=!m);g=t[f++];)if(g(h,o||p,a)){l.push(h);break}c&&(T=S)}i&&((h=!g&&h)&&v--,r&&_.push(h))}if(v+=y,i&&y!==v){for(f=0;g=e[f++];)g(_,b,o,a);if(r){if(v>0)for(;y--;)_[y]||b[y]||(b[y]=P.call(l));b=bt(b)}O.apply(l,b),c&&!r&&b.length>0&&v+e.length>1&&rt.uniqueSort(l)}return c&&(T=S,u=w),_};return i?at(r):r}(r,s))).selector=t}return a},l=rt.select=function(t,e,i,s){var r,l,u,c,h,d="function"==typeof t&&t,p=!s&&o(t=d.selector||t);if(i=i||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(u=l[0]).type&&9===e.nodeType&&m&&n.relative[l[1].type]){if(!(e=(n.find.ID(u.matches[0].replace(J,tt),e)||[])[0]))return i;d&&(e=e.parentNode),t=t.slice(l.shift().value.length)}for(r=$.needsContext.test(t)?0:l.length;r--&&(u=l[r],!n.relative[c=u.type]);)if((h=n.find[c])&&(s=h(u.matches[0].replace(J,tt),Q.test(l[0].type)&&mt(e.parentNode)||e))){if(l.splice(r,1),!(t=s.length&&vt(l)))return O.apply(i,s),i;break}}return(d||a(t,p))(s,e,!m,i,!e||Q.test(t)&&mt(e.parentNode)||e),i},i.sortStable=b.split("").sort(E).join("")===b,i.detectDuplicates=!!h,d(),i.sortDetached=lt(function(t){return 1&t.compareDocumentPosition(p.createElement("fieldset"))}),lt(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||ut("type|href|height|width",function(t,e,i){if(!i)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),i.attributes&&lt(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||ut("value",function(t,e,i){if(!i&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),lt(function(t){return null==t.getAttribute("disabled")})||ut(N,function(t,e,i){var n;if(!i)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),rt}(t);b.find=k,b.expr=k.selectors,b.expr[":"]=b.expr.pseudos,b.uniqueSort=b.unique=k.uniqueSort,b.text=k.getText,b.isXMLDoc=k.isXML,b.contains=k.contains,b.escapeSelector=k.escape;var S=function(t,e,i){for(var n=[],s=void 0!==i;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(s&&b(t).is(i))break;n.push(t)}return n},C=function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i},x=b.expr.match.needsContext;function E(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var D=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function A(t,e,i){return m(e)?b.grep(t,function(t,n){return!!e.call(t,n,t)!==i}):e.nodeType?b.grep(t,function(t){return t===e!==i}):"string"!=typeof e?b.grep(t,function(t){return l.call(e,t)>-1!==i}):b.filter(e,t,i)}b.filter=function(t,e,i){var n=e[0];return i&&(t=":not("+t+")"),1===e.length&&1===n.nodeType?b.find.matchesSelector(n,t)?[n]:[]:b.find.matches(t,b.grep(e,function(t){return 1===t.nodeType}))},b.fn.extend({find:function(t){var e,i,n=this.length,s=this;if("string"!=typeof t)return this.pushStack(b(t).filter(function(){for(e=0;e<n;e++)if(b.contains(s[e],this))return!0}));for(i=this.pushStack([]),e=0;e<n;e++)b.find(t,s[e],i);return n>1?b.uniqueSort(i):i},filter:function(t){return this.pushStack(A(this,t||[],!1))},not:function(t){return this.pushStack(A(this,t||[],!0))},is:function(t){return!!A(this,"string"==typeof t&&x.test(t)?b(t):t||[],!1).length}});var P,I=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(b.fn.init=function(t,e,i){var s,r;if(!t)return this;if(i=i||P,"string"==typeof t){if(!(s="<"===t[0]&&">"===t[t.length-1]&&t.length>=3?[null,t,null]:I.exec(t))||!s[1]&&e)return!e||e.jquery?(e||i).find(t):this.constructor(e).find(t);if(s[1]){if(e=e instanceof b?e[0]:e,b.merge(this,b.parseHTML(s[1],e&&e.nodeType?e.ownerDocument||e:n,!0)),D.test(s[1])&&b.isPlainObject(e))for(s in e)m(this[s])?this[s](e[s]):this.attr(s,e[s]);return this}return(r=n.getElementById(s[2]))&&(this[0]=r,this.length=1),this}return t.nodeType?(this[0]=t,this.length=1,this):m(t)?void 0!==i.ready?i.ready(t):t(b):b.makeArray(t,this)}).prototype=b.fn,P=b(n);var O=/^(?:parents|prev(?:Until|All))/,M={children:!0,contents:!0,next:!0,prev:!0};function L(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}b.fn.extend({has:function(t){var e=b(t,this),i=e.length;return this.filter(function(){for(var t=0;t<i;t++)if(b.contains(this,e[t]))return!0})},closest:function(t,e){var i,n=0,s=this.length,r=[],o="string"!=typeof t&&b(t);if(!x.test(t))for(;n<s;n++)for(i=this[n];i&&i!==e;i=i.parentNode)if(i.nodeType<11&&(o?o.index(i)>-1:1===i.nodeType&&b.find.matchesSelector(i,t))){r.push(i);break}return this.pushStack(r.length>1?b.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?l.call(b(t),this[0]):l.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(b.uniqueSort(b.merge(this.get(),b(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),b.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return S(t,"parentNode")},parentsUntil:function(t,e,i){return S(t,"parentNode",i)},next:function(t){return L(t,"nextSibling")},prev:function(t){return L(t,"previousSibling")},nextAll:function(t){return S(t,"nextSibling")},prevAll:function(t){return S(t,"previousSibling")},nextUntil:function(t,e,i){return S(t,"nextSibling",i)},prevUntil:function(t,e,i){return S(t,"previousSibling",i)},siblings:function(t){return C((t.parentNode||{}).firstChild,t)},children:function(t){return C(t.firstChild)},contents:function(t){return E(t,"iframe")?t.contentDocument:(E(t,"template")&&(t=t.content||t),b.merge([],t.childNodes))}},function(t,e){b.fn[t]=function(i,n){var s=b.map(this,e,i);return"Until"!==t.slice(-5)&&(n=i),n&&"string"==typeof n&&(s=b.filter(n,s)),this.length>1&&(M[t]||b.uniqueSort(s),O.test(t)&&s.reverse()),this.pushStack(s)}});var N=/[^\x20\t\r\n\f]+/g;function R(t){return t}function U(t){throw t}function F(t,e,i,n){var s;try{t&&m(s=t.promise)?s.call(t).done(e).fail(i):t&&m(s=t.then)?s.call(t,e,i):e.apply(void 0,[t].slice(n))}catch(t){i.apply(void 0,[t])}}b.Callbacks=function(t){t="string"==typeof t?function(t){var e={};return b.each(t.match(N)||[],function(t,i){e[i]=!0}),e}(t):b.extend({},t);var e,i,n,s,r=[],o=[],a=-1,l=function(){for(s=s||t.once,n=e=!0;o.length;a=-1)for(i=o.shift();++a<r.length;)!1===r[a].apply(i[0],i[1])&&t.stopOnFalse&&(a=r.length,i=!1);t.memory||(i=!1),e=!1,s&&(r=i?[]:"")},u={add:function(){return r&&(i&&!e&&(a=r.length-1,o.push(i)),function e(i){b.each(i,function(i,n){m(n)?t.unique&&u.has(n)||r.push(n):n&&n.length&&"string"!==_(n)&&e(n)})}(arguments),i&&!e&&l()),this},remove:function(){return b.each(arguments,function(t,e){for(var i;(i=b.inArray(e,r,i))>-1;)r.splice(i,1),i<=a&&a--}),this},has:function(t){return t?b.inArray(t,r)>-1:r.length>0},empty:function(){return r&&(r=[]),this},disable:function(){return s=o=[],r=i="",this},disabled:function(){return!r},lock:function(){return s=o=[],i||e||(r=i=""),this},locked:function(){return!!s},fireWith:function(t,i){return s||(i=[t,(i=i||[]).slice?i.slice():i],o.push(i),e||l()),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},b.extend({Deferred:function(e){var i=[["notify","progress",b.Callbacks("memory"),b.Callbacks("memory"),2],["resolve","done",b.Callbacks("once memory"),b.Callbacks("once memory"),0,"resolved"],["reject","fail",b.Callbacks("once memory"),b.Callbacks("once memory"),1,"rejected"]],n="pending",s={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var t=arguments;return b.Deferred(function(e){b.each(i,function(i,n){var s=m(t[n[4]])&&t[n[4]];r[n[1]](function(){var t=s&&s.apply(this,arguments);t&&m(t.promise)?t.promise().progress(e.notify).done(e.resolve).fail(e.reject):e[n[0]+"With"](this,s?[t]:arguments)})}),t=null}).promise()},then:function(e,n,s){var r=0;function o(e,i,n,s){return function(){var a=this,l=arguments,u=function(){var t,u;if(!(e<r)){if((t=n.apply(a,l))===i.promise())throw new TypeError("Thenable self-resolution");u=t&&("object"==typeof t||"function"==typeof t)&&t.then,m(u)?s?u.call(t,o(r,i,R,s),o(r,i,U,s)):(r++,u.call(t,o(r,i,R,s),o(r,i,U,s),o(r,i,R,i.notifyWith))):(n!==R&&(a=void 0,l=[t]),(s||i.resolveWith)(a,l))}},c=s?u:function(){try{u()}catch(t){b.Deferred.exceptionHook&&b.Deferred.exceptionHook(t,c.stackTrace),e+1>=r&&(n!==U&&(a=void 0,l=[t]),i.rejectWith(a,l))}};e?c():(b.Deferred.getStackHook&&(c.stackTrace=b.Deferred.getStackHook()),t.setTimeout(c))}}return b.Deferred(function(t){i[0][3].add(o(0,t,m(s)?s:R,t.notifyWith)),i[1][3].add(o(0,t,m(e)?e:R)),i[2][3].add(o(0,t,m(n)?n:U))}).promise()},promise:function(t){return null!=t?b.extend(t,s):s}},r={};return b.each(i,function(t,e){var o=e[2],a=e[5];s[e[1]]=o.add,a&&o.add(function(){n=a},i[3-t][2].disable,i[3-t][3].disable,i[0][2].lock,i[0][3].lock),o.add(e[3].fire),r[e[0]]=function(){return r[e[0]+"With"](this===r?void 0:this,arguments),this},r[e[0]+"With"]=o.fireWith}),s.promise(r),e&&e.call(r,r),r},when:function(t){var e=arguments.length,i=e,n=Array(i),s=r.call(arguments),o=b.Deferred(),a=function(t){return function(i){n[t]=this,s[t]=arguments.length>1?r.call(arguments):i,--e||o.resolveWith(n,s)}};if(e<=1&&(F(t,o.done(a(i)).resolve,o.reject,!e),"pending"===o.state()||m(s[i]&&s[i].then)))return o.then();for(;i--;)F(s[i],a(i),o.reject);return o.promise()}});var j=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;b.Deferred.exceptionHook=function(e,i){t.console&&t.console.warn&&e&&j.test(e.name)&&t.console.warn("jQuery.Deferred exception: "+e.message,e.stack,i)},b.readyException=function(e){t.setTimeout(function(){throw e})};var H=b.Deferred();function z(){n.removeEventListener("DOMContentLoaded",z),t.removeEventListener("load",z),b.ready()}b.fn.ready=function(t){return H.then(t).catch(function(t){b.readyException(t)}),this},b.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--b.readyWait:b.isReady)||(b.isReady=!0,!0!==t&&--b.readyWait>0||H.resolveWith(n,[b]))}}),b.ready.then=H.then,"complete"===n.readyState||"loading"!==n.readyState&&!n.documentElement.doScroll?t.setTimeout(b.ready):(n.addEventListener("DOMContentLoaded",z),t.addEventListener("load",z));var B=function(t,e,i,n,s,r,o){var a=0,l=t.length,u=null==i;if("object"===_(i))for(a in s=!0,i)B(t,e,a,i[a],!0,r,o);else if(void 0!==n&&(s=!0,m(n)||(o=!0),u&&(o?(e.call(t,n),e=null):(u=e,e=function(t,e,i){return u.call(b(t),i)})),e))for(;a<l;a++)e(t[a],i,o?n:n.call(t[a],a,e(t[a],i)));return s?t:u?e.call(t):l?e(t[0],i):r},W=/^-ms-/,Y=/-([a-z])/g;function V(t,e){return e.toUpperCase()}function q(t){return t.replace(W,"ms-").replace(Y,V)}var $=function(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType};function G(){this.expando=b.expando+G.uid++}G.uid=1,G.prototype={cache:function(t){var e=t[this.expando];return e||(e={},$(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,i){var n,s=this.cache(t);if("string"==typeof e)s[q(e)]=i;else for(n in e)s[q(n)]=e[n];return s},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][q(e)]},access:function(t,e,i){return void 0===e||e&&"string"==typeof e&&void 0===i?this.get(t,e):(this.set(t,e,i),void 0!==i?i:e)},remove:function(t,e){var i,n=t[this.expando];if(void 0!==n){if(void 0!==e){i=(e=Array.isArray(e)?e.map(q):(e=q(e))in n?[e]:e.match(N)||[]).length;for(;i--;)delete n[e[i]]}(void 0===e||b.isEmptyObject(n))&&(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){var e=t[this.expando];return void 0!==e&&!b.isEmptyObject(e)}};var X=new G,K=new G,Z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function J(t,e,i){var n;if(void 0===i&&1===t.nodeType)if(n="data-"+e.replace(Q,"-$&").toLowerCase(),"string"==typeof(i=t.getAttribute(n))){try{i=function(t){return"true"===t||"false"!==t&&("null"===t?null:t===+t+""?+t:Z.test(t)?JSON.parse(t):t)}(i)}catch(t){}K.set(t,e,i)}else i=void 0;return i}b.extend({hasData:function(t){return K.hasData(t)||X.hasData(t)},data:function(t,e,i){return K.access(t,e,i)},removeData:function(t,e){K.remove(t,e)},_data:function(t,e,i){return X.access(t,e,i)},_removeData:function(t,e){X.remove(t,e)}}),b.fn.extend({data:function(t,e){var i,n,s,r=this[0],o=r&&r.attributes;if(void 0===t){if(this.length&&(s=K.get(r),1===r.nodeType&&!X.get(r,"hasDataAttrs"))){for(i=o.length;i--;)o[i]&&0===(n=o[i].name).indexOf("data-")&&(n=q(n.slice(5)),J(r,n,s[n]));X.set(r,"hasDataAttrs",!0)}return s}return"object"==typeof t?this.each(function(){K.set(this,t)}):B(this,function(e){var i;if(r&&void 0===e)return void 0!==(i=K.get(r,t))?i:void 0!==(i=J(r,t))?i:void 0;this.each(function(){K.set(this,t,e)})},null,e,arguments.length>1,null,!0)},removeData:function(t){return this.each(function(){K.remove(this,t)})}}),b.extend({queue:function(t,e,i){var n;if(t)return e=(e||"fx")+"queue",n=X.get(t,e),i&&(!n||Array.isArray(i)?n=X.access(t,e,b.makeArray(i)):n.push(i)),n||[]},dequeue:function(t,e){e=e||"fx";var i=b.queue(t,e),n=i.length,s=i.shift(),r=b._queueHooks(t,e);"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===e&&i.unshift("inprogress"),delete r.stop,s.call(t,function(){b.dequeue(t,e)},r)),!n&&r&&r.empty.fire()},_queueHooks:function(t,e){var i=e+"queueHooks";return X.get(t,i)||X.access(t,i,{empty:b.Callbacks("once memory").add(function(){X.remove(t,[e+"queue",i])})})}}),b.fn.extend({queue:function(t,e){var i=2;return"string"!=typeof t&&(e=t,t="fx",i--),arguments.length<i?b.queue(this[0],t):void 0===e?this:this.each(function(){var i=b.queue(this,t,e);b._queueHooks(this,t),"fx"===t&&"inprogress"!==i[0]&&b.dequeue(this,t)})},dequeue:function(t){return this.each(function(){b.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){var i,n=1,s=b.Deferred(),r=this,o=this.length,a=function(){--n||s.resolveWith(r,[r])};for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";o--;)(i=X.get(r[o],t+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(e)}});var tt=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,et=new RegExp("^(?:([+-])=|)("+tt+")([a-z%]*)$","i"),it=["Top","Right","Bottom","Left"],nt=function(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&b.contains(t.ownerDocument,t)&&"none"===b.css(t,"display")},st=function(t,e,i,n){var s,r,o={};for(r in e)o[r]=t.style[r],t.style[r]=e[r];for(r in s=i.apply(t,n||[]),e)t.style[r]=o[r];return s};function rt(t,e,i,n){var s,r,o=20,a=n?function(){return n.cur()}:function(){return b.css(t,e,"")},l=a(),u=i&&i[3]||(b.cssNumber[e]?"":"px"),c=(b.cssNumber[e]||"px"!==u&&+l)&&et.exec(b.css(t,e));if(c&&c[3]!==u){for(l/=2,u=u||c[3],c=+l||1;o--;)b.style(t,e,c+u),(1-r)*(1-(r=a()/l||.5))<=0&&(o=0),c/=r;c*=2,b.style(t,e,c+u),i=i||[]}return i&&(c=+c||+l||0,s=i[1]?c+(i[1]+1)*i[2]:+i[2],n&&(n.unit=u,n.start=c,n.end=s)),s}var ot={};function at(t){var e,i=t.ownerDocument,n=t.nodeName,s=ot[n];return s||(e=i.body.appendChild(i.createElement(n)),s=b.css(e,"display"),e.parentNode.removeChild(e),"none"===s&&(s="block"),ot[n]=s,s)}function lt(t,e){for(var i,n,s=[],r=0,o=t.length;r<o;r++)(n=t[r]).style&&(i=n.style.display,e?("none"===i&&(s[r]=X.get(n,"display")||null,s[r]||(n.style.display="")),""===n.style.display&&nt(n)&&(s[r]=at(n))):"none"!==i&&(s[r]="none",X.set(n,"display",i)));for(r=0;r<o;r++)null!=s[r]&&(t[r].style.display=s[r]);return t}b.fn.extend({show:function(){return lt(this,!0)},hide:function(){return lt(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){nt(this)?b(this).show():b(this).hide()})}});var ut=/^(?:checkbox|radio)$/i,ct=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,ht=/^$|^module$|\/(?:java|ecma)script/i,dt={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function pt(t,e){var i;return i=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[],void 0===e||e&&E(t,e)?b.merge([t],i):i}function ft(t,e){for(var i=0,n=t.length;i<n;i++)X.set(t[i],"globalEval",!e||X.get(e[i],"globalEval"))}dt.optgroup=dt.option,dt.tbody=dt.tfoot=dt.colgroup=dt.caption=dt.thead,dt.th=dt.td;var mt,gt,vt=/<|&#?\w+;/;function yt(t,e,i,n,s){for(var r,o,a,l,u,c,h=e.createDocumentFragment(),d=[],p=0,f=t.length;p<f;p++)if((r=t[p])||0===r)if("object"===_(r))b.merge(d,r.nodeType?[r]:r);else if(vt.test(r)){for(o=o||h.appendChild(e.createElement("div")),a=(ct.exec(r)||["",""])[1].toLowerCase(),l=dt[a]||dt._default,o.innerHTML=l[1]+b.htmlPrefilter(r)+l[2],c=l[0];c--;)o=o.lastChild;b.merge(d,o.childNodes),(o=h.firstChild).textContent=""}else d.push(e.createTextNode(r));for(h.textContent="",p=0;r=d[p++];)if(n&&b.inArray(r,n)>-1)s&&s.push(r);else if(u=b.contains(r.ownerDocument,r),o=pt(h.appendChild(r),"script"),u&&ft(o),i)for(c=0;r=o[c++];)ht.test(r.type||"")&&i.push(r);return h}mt=n.createDocumentFragment().appendChild(n.createElement("div")),(gt=n.createElement("input")).setAttribute("type","radio"),gt.setAttribute("checked","checked"),gt.setAttribute("name","t"),mt.appendChild(gt),f.checkClone=mt.cloneNode(!0).cloneNode(!0).lastChild.checked,mt.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!mt.cloneNode(!0).lastChild.defaultValue;var _t=n.documentElement,bt=/^key/,wt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Tt=/^([^.]*)(?:\.(.+)|)/;function kt(){return!0}function St(){return!1}function Ct(){try{return n.activeElement}catch(t){}}function xt(t,e,i,n,s,r){var o,a;if("object"==typeof e){for(a in"string"!=typeof i&&(n=n||i,i=void 0),e)xt(t,a,i,n,e[a],r);return t}if(null==n&&null==s?(s=i,n=i=void 0):null==s&&("string"==typeof i?(s=n,n=void 0):(s=n,n=i,i=void 0)),!1===s)s=St;else if(!s)return t;return 1===r&&(o=s,(s=function(t){return b().off(t),o.apply(this,arguments)}).guid=o.guid||(o.guid=b.guid++)),t.each(function(){b.event.add(this,e,s,n,i)})}b.event={global:{},add:function(t,e,i,n,s){var r,o,a,l,u,c,h,d,p,f,m,g=X.get(t);if(g)for(i.handler&&(i=(r=i).handler,s=r.selector),s&&b.find.matchesSelector(_t,s),i.guid||(i.guid=b.guid++),(l=g.events)||(l=g.events={}),(o=g.handle)||(o=g.handle=function(e){return void 0!==b&&b.event.triggered!==e.type?b.event.dispatch.apply(t,arguments):void 0}),u=(e=(e||"").match(N)||[""]).length;u--;)p=m=(a=Tt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p&&(h=b.event.special[p]||{},p=(s?h.delegateType:h.bindType)||p,h=b.event.special[p]||{},c=b.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&b.expr.match.needsContext.test(s),namespace:f.join(".")},r),(d=l[p])||((d=l[p]=[]).delegateCount=0,h.setup&&!1!==h.setup.call(t,n,f,o)||t.addEventListener&&t.addEventListener(p,o)),h.add&&(h.add.call(t,c),c.handler.guid||(c.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,c):d.push(c),b.event.global[p]=!0)},remove:function(t,e,i,n,s){var r,o,a,l,u,c,h,d,p,f,m,g=X.hasData(t)&&X.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(N)||[""]).length;u--;)if(p=m=(a=Tt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=b.event.special[p]||{},d=l[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=r=d.length;r--;)c=d[r],!s&&m!==c.origType||i&&i.guid!==c.guid||a&&!a.test(c.namespace)||n&&n!==c.selector&&("**"!==n||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));o&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||b.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)b.event.remove(t,p+e[u],i,n,!0);b.isEmptyObject(l)&&X.remove(t,"handle events")}},dispatch:function(t){var e,i,n,s,r,o,a=b.event.fix(t),l=new Array(arguments.length),u=(X.get(this,"events")||{})[a.type]||[],c=b.event.special[a.type]||{};for(l[0]=a,e=1;e<arguments.length;e++)l[e]=arguments[e];if(a.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,a)){for(o=b.event.handlers.call(this,a,u),e=0;(s=o[e++])&&!a.isPropagationStopped();)for(a.currentTarget=s.elem,i=0;(r=s.handlers[i++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(r.namespace)||(a.handleObj=r,a.data=r.data,void 0!==(n=((b.event.special[r.origType]||{}).handle||r.handler).apply(s.elem,l))&&!1===(a.result=n)&&(a.preventDefault(),a.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,a),a.result}},handlers:function(t,e){var i,n,s,r,o,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&t.button>=1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(r=[],o={},i=0;i<l;i++)void 0===o[s=(n=e[i]).selector+" "]&&(o[s]=n.needsContext?b(s,this).index(u)>-1:b.find(s,this,null,[u]).length),o[s]&&r.push(n);r.length&&a.push({elem:u,handlers:r})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(t,e){Object.defineProperty(b.Event.prototype,t,{enumerable:!0,configurable:!0,get:m(e)?function(){if(this.originalEvent)return e(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[t]},set:function(e){Object.defineProperty(this,t,{enumerable:!0,configurable:!0,writable:!0,value:e})}})},fix:function(t){return t[b.expando]?t:new b.Event(t)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Ct()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Ct()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&E(this,"input"))return this.click(),!1},_default:function(t){return E(t.target,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},b.removeEvent=function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i)},b.Event=function(t,e){if(!(this instanceof b.Event))return new b.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?kt:St,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&b.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[b.expando]=!0},b.Event.prototype={constructor:b.Event,isDefaultPrevented:St,isPropagationStopped:St,isImmediatePropagationStopped:St,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=kt,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=kt,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=kt,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},b.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(t){var e=t.button;return null==t.which&&bt.test(t.type)?null!=t.charCode?t.charCode:t.keyCode:!t.which&&void 0!==e&&wt.test(t.type)?1&e?1:2&e?3:4&e?2:0:t.which}},b.event.addProp),b.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,e){b.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=t.relatedTarget,s=t.handleObj;return n&&(n===this||b.contains(this,n))||(t.type=s.origType,i=s.handler.apply(this,arguments),t.type=e),i}}}),b.fn.extend({on:function(t,e,i,n){return xt(this,t,e,i,n)},one:function(t,e,i,n){return xt(this,t,e,i,n,1)},off:function(t,e,i){var n,s;if(t&&t.preventDefault&&t.handleObj)return n=t.handleObj,b(t.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"==typeof t){for(s in t)this.off(s,e,t[s]);return this}return!1!==e&&"function"!=typeof e||(i=e,e=void 0),!1===i&&(i=St),this.each(function(){b.event.remove(this,t,i,e)})}});var Et=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Dt=/<script|<style|<link/i,At=/checked\s*(?:[^=]|=\s*.checked.)/i,Pt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function It(t,e){return E(t,"table")&&E(11!==e.nodeType?e:e.firstChild,"tr")&&b(t).children("tbody")[0]||t}function Ot(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function Mt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function Lt(t,e){var i,n,s,r,o,a,l,u;if(1===e.nodeType){if(X.hasData(t)&&(r=X.access(t),o=X.set(e,r),u=r.events))for(s in delete o.handle,o.events={},u)for(i=0,n=u[s].length;i<n;i++)b.event.add(e,s,u[s][i]);K.hasData(t)&&(a=K.access(t),l=b.extend({},a),K.set(e,l))}}function Nt(t,e,i,n){e=o.apply([],e);var s,r,a,l,u,c,h=0,d=t.length,p=d-1,g=e[0],v=m(g);if(v||d>1&&"string"==typeof g&&!f.checkClone&&At.test(g))return t.each(function(s){var r=t.eq(s);v&&(e[0]=g.call(this,s,r.html())),Nt(r,e,i,n)});if(d&&(r=(s=yt(e,t[0].ownerDocument,!1,t,n)).firstChild,1===s.childNodes.length&&(s=r),r||n)){for(l=(a=b.map(pt(s,"script"),Ot)).length;h<d;h++)u=s,h!==p&&(u=b.clone(u,!0,!0),l&&b.merge(a,pt(u,"script"))),i.call(t[h],u,h);if(l)for(c=a[a.length-1].ownerDocument,b.map(a,Mt),h=0;h<l;h++)u=a[h],ht.test(u.type||"")&&!X.access(u,"globalEval")&&b.contains(c,u)&&(u.src&&"module"!==(u.type||"").toLowerCase()?b._evalUrl&&b._evalUrl(u.src):y(u.textContent.replace(Pt,""),c,u))}return t}function Rt(t,e,i){for(var n,s=e?b.filter(e,t):t,r=0;null!=(n=s[r]);r++)i||1!==n.nodeType||b.cleanData(pt(n)),n.parentNode&&(i&&b.contains(n.ownerDocument,n)&&ft(pt(n,"script")),n.parentNode.removeChild(n));return t}b.extend({htmlPrefilter:function(t){return t.replace(Et,"<$1></$2>")},clone:function(t,e,i){var n,s,r,o,a,l,u,c=t.cloneNode(!0),h=b.contains(t.ownerDocument,t);if(!(f.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||b.isXMLDoc(t)))for(o=pt(c),n=0,s=(r=pt(t)).length;n<s;n++)a=r[n],l=o[n],u=void 0,"input"===(u=l.nodeName.toLowerCase())&&ut.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(i)for(r=r||pt(t),o=o||pt(c),n=0,s=r.length;n<s;n++)Lt(r[n],o[n]);else Lt(t,c);return(o=pt(c,"script")).length>0&&ft(o,!h&&pt(t,"script")),c},cleanData:function(t){for(var e,i,n,s=b.event.special,r=0;void 0!==(i=t[r]);r++)if($(i)){if(e=i[X.expando]){if(e.events)for(n in e.events)s[n]?b.event.remove(i,n):b.removeEvent(i,n,e.handle);i[X.expando]=void 0}i[K.expando]&&(i[K.expando]=void 0)}}}),b.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return B(this,function(t){return void 0===t?b.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return Nt(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||It(this,t).appendChild(t)})},prepend:function(){return Nt(this,arguments,function(t){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var e=It(this,t);e.insertBefore(t,e.firstChild)}})},before:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return Nt(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(b.cleanData(pt(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return b.clone(this,t,e)})},html:function(t){return B(this,function(t){var e=this[0]||{},i=0,n=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Dt.test(t)&&!dt[(ct.exec(t)||["",""])[1].toLowerCase()]){t=b.htmlPrefilter(t);try{for(;i<n;i++)1===(e=this[i]||{}).nodeType&&(b.cleanData(pt(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var t=[];return Nt(this,arguments,function(e){var i=this.parentNode;b.inArray(this,t)<0&&(b.cleanData(pt(this)),i&&i.replaceChild(e,this))},t)}}),b.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){b.fn[t]=function(t){for(var i,n=[],s=b(t),r=s.length-1,o=0;o<=r;o++)i=o===r?this:this.clone(!0),b(s[o])[e](i),a.apply(n,i.get());return this.pushStack(n)}});var Ut=new RegExp("^("+tt+")(?!px)[a-z%]+$","i"),Ft=function(e){var i=e.ownerDocument.defaultView;return i&&i.opener||(i=t),i.getComputedStyle(e)},jt=new RegExp(it.join("|"),"i");function Ht(t,e,i){var n,s,r,o,a=t.style;return(i=i||Ft(t))&&(""!==(o=i.getPropertyValue(e)||i[e])||b.contains(t.ownerDocument,t)||(o=b.style(t,e)),!f.pixelBoxStyles()&&Ut.test(o)&&jt.test(e)&&(n=a.width,s=a.minWidth,r=a.maxWidth,a.minWidth=a.maxWidth=a.width=o,o=i.width,a.width=n,a.minWidth=s,a.maxWidth=r)),void 0!==o?o+"":o}function zt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}!function(){function e(){if(c){u.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",c.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",_t.appendChild(u).appendChild(c);var e=t.getComputedStyle(c);s="1%"!==e.top,l=12===i(e.marginLeft),c.style.right="60%",a=36===i(e.right),r=36===i(e.width),c.style.position="absolute",o=36===c.offsetWidth||"absolute",_t.removeChild(u),c=null}}function i(t){return Math.round(parseFloat(t))}var s,r,o,a,l,u=n.createElement("div"),c=n.createElement("div");c.style&&(c.style.backgroundClip="content-box",c.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===c.style.backgroundClip,b.extend(f,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),s},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Bt=/^(none|table(?!-c[ea]).+)/,Wt=/^--/,Yt={position:"absolute",visibility:"hidden",display:"block"},Vt={letterSpacing:"0",fontWeight:"400"},qt=["Webkit","Moz","ms"],$t=n.createElement("div").style;function Gt(t){var e=b.cssProps[t];return e||(e=b.cssProps[t]=function(t){if(t in $t)return t;for(var e=t[0].toUpperCase()+t.slice(1),i=qt.length;i--;)if((t=qt[i]+e)in $t)return t}(t)||t),e}function Xt(t,e,i){var n=et.exec(e);return n?Math.max(0,n[2]-(i||0))+(n[3]||"px"):e}function Kt(t,e,i,n,s,r){var o="width"===e?1:0,a=0,l=0;if(i===(n?"border":"content"))return 0;for(;o<4;o+=2)"margin"===i&&(l+=b.css(t,i+it[o],!0,s)),n?("content"===i&&(l-=b.css(t,"padding"+it[o],!0,s)),"margin"!==i&&(l-=b.css(t,"border"+it[o]+"Width",!0,s))):(l+=b.css(t,"padding"+it[o],!0,s),"padding"!==i?l+=b.css(t,"border"+it[o]+"Width",!0,s):a+=b.css(t,"border"+it[o]+"Width",!0,s));return!n&&r>=0&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))),l}function Zt(t,e,i){var n=Ft(t),s=Ht(t,e,n),r="border-box"===b.css(t,"boxSizing",!1,n),o=r;if(Ut.test(s)){if(!i)return s;s="auto"}return o=o&&(f.boxSizingReliable()||s===t.style[e]),("auto"===s||!parseFloat(s)&&"inline"===b.css(t,"display",!1,n))&&(s=t["offset"+e[0].toUpperCase()+e.slice(1)],o=!0),(s=parseFloat(s)||0)+Kt(t,e,i||(r?"border":"content"),o,n,s)+"px"}function Qt(t,e,i,n,s){return new Qt.prototype.init(t,e,i,n,s)}b.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Ht(t,"opacity");return""===i?"1":i}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,i,n){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var s,r,o,a=q(e),l=Wt.test(e),u=t.style;if(l||(e=Gt(a)),o=b.cssHooks[e]||b.cssHooks[a],void 0===i)return o&&"get"in o&&void 0!==(s=o.get(t,!1,n))?s:u[e];"string"===(r=typeof i)&&(s=et.exec(i))&&s[1]&&(i=rt(t,e,s),r="number"),null!=i&&i==i&&("number"===r&&(i+=s&&s[3]||(b.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==i||0!==e.indexOf("background")||(u[e]="inherit"),o&&"set"in o&&void 0===(i=o.set(t,i,n))||(l?u.setProperty(e,i):u[e]=i))}},css:function(t,e,i,n){var s,r,o,a=q(e);return Wt.test(e)||(e=Gt(a)),(o=b.cssHooks[e]||b.cssHooks[a])&&"get"in o&&(s=o.get(t,!0,i)),void 0===s&&(s=Ht(t,e,n)),"normal"===s&&e in Vt&&(s=Vt[e]),""===i||i?(r=parseFloat(s),!0===i||isFinite(r)?r||0:s):s}}),b.each(["height","width"],function(t,e){b.cssHooks[e]={get:function(t,i,n){if(i)return!Bt.test(b.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?Zt(t,e,n):st(t,Yt,function(){return Zt(t,e,n)})},set:function(t,i,n){var s,r=Ft(t),o="border-box"===b.css(t,"boxSizing",!1,r),a=n&&Kt(t,e,n,o,r);return o&&f.scrollboxSize()===r.position&&(a-=Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-parseFloat(r[e])-Kt(t,e,"border",!1,r)-.5)),a&&(s=et.exec(i))&&"px"!==(s[3]||"px")&&(t.style[e]=i,i=b.css(t,e)),Xt(0,i,a)}}}),b.cssHooks.marginLeft=zt(f.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Ht(t,"marginLeft"))||t.getBoundingClientRect().left-st(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),b.each({margin:"",padding:"",border:"Width"},function(t,e){b.cssHooks[t+e]={expand:function(i){for(var n=0,s={},r="string"==typeof i?i.split(" "):[i];n<4;n++)s[t+it[n]+e]=r[n]||r[n-2]||r[0];return s}},"margin"!==t&&(b.cssHooks[t+e].set=Xt)}),b.fn.extend({css:function(t,e){return B(this,function(t,e,i){var n,s,r={},o=0;if(Array.isArray(e)){for(n=Ft(t),s=e.length;o<s;o++)r[e[o]]=b.css(t,e[o],!1,n);return r}return void 0!==i?b.style(t,e,i):b.css(t,e)},t,e,arguments.length>1)}}),b.Tween=Qt,Qt.prototype={constructor:Qt,init:function(t,e,i,n,s,r){this.elem=t,this.prop=i,this.easing=s||b.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=n,this.unit=r||(b.cssNumber[i]?"":"px")},cur:function(){var t=Qt.propHooks[this.prop];return t&&t.get?t.get(this):Qt.propHooks._default.get(this)},run:function(t){var e,i=Qt.propHooks[this.prop];return this.options.duration?this.pos=e=b.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):Qt.propHooks._default.set(this),this}},Qt.prototype.init.prototype=Qt.prototype,Qt.propHooks={_default:{get:function(t){var e;return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(e=b.css(t.elem,t.prop,""))&&"auto"!==e?e:0},set:function(t){b.fx.step[t.prop]?b.fx.step[t.prop](t):1!==t.elem.nodeType||null==t.elem.style[b.cssProps[t.prop]]&&!b.cssHooks[t.prop]?t.elem[t.prop]=t.now:b.style(t.elem,t.prop,t.now+t.unit)}}},Qt.propHooks.scrollTop=Qt.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},b.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},b.fx=Qt.prototype.init,b.fx.step={};var Jt,te,ee=/^(?:toggle|show|hide)$/,ie=/queueHooks$/;function ne(){te&&(!1===n.hidden&&t.requestAnimationFrame?t.requestAnimationFrame(ne):t.setTimeout(ne,b.fx.interval),b.fx.tick())}function se(){return t.setTimeout(function(){Jt=void 0}),Jt=Date.now()}function re(t,e){var i,n=0,s={height:t};for(e=e?1:0;n<4;n+=2-e)s["margin"+(i=it[n])]=s["padding"+i]=t;return e&&(s.opacity=s.width=t),s}function oe(t,e,i){for(var n,s=(ae.tweeners[e]||[]).concat(ae.tweeners["*"]),r=0,o=s.length;r<o;r++)if(n=s[r].call(i,e,t))return n}function ae(t,e,i){var n,s,r=0,o=ae.prefilters.length,a=b.Deferred().always(function(){delete l.elem}),l=function(){if(s)return!1;for(var e=Jt||se(),i=Math.max(0,u.startTime+u.duration-e),n=1-(i/u.duration||0),r=0,o=u.tweens.length;r<o;r++)u.tweens[r].run(n);return a.notifyWith(t,[u,n,i]),n<1&&o?i:(o||a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u]),!1)},u=a.promise({elem:t,props:b.extend({},e),opts:b.extend(!0,{specialEasing:{},easing:b.easing._default},i),originalProperties:e,originalOptions:i,startTime:Jt||se(),duration:i.duration,tweens:[],createTween:function(e,i){var n=b.Tween(t,u.opts,e,i,u.opts.specialEasing[e]||u.opts.easing);return u.tweens.push(n),n},stop:function(e){var i=0,n=e?u.tweens.length:0;if(s)return this;for(s=!0;i<n;i++)u.tweens[i].run(1);return e?(a.notifyWith(t,[u,1,0]),a.resolveWith(t,[u,e])):a.rejectWith(t,[u,e]),this}}),c=u.props;for(!function(t,e){var i,n,s,r,o;for(i in t)if(s=e[n=q(i)],r=t[i],Array.isArray(r)&&(s=r[1],r=t[i]=r[0]),i!==n&&(t[n]=r,delete t[i]),(o=b.cssHooks[n])&&"expand"in o)for(i in r=o.expand(r),delete t[n],r)i in t||(t[i]=r[i],e[i]=s);else e[n]=s}(c,u.opts.specialEasing);r<o;r++)if(n=ae.prefilters[r].call(u,t,c,u.opts))return m(n.stop)&&(b._queueHooks(u.elem,u.opts.queue).stop=n.stop.bind(n)),n;return b.map(c,oe,u),m(u.opts.start)&&u.opts.start.call(t,u),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always),b.fx.timer(b.extend(l,{elem:t,anim:u,queue:u.opts.queue})),u}b.Animation=b.extend(ae,{tweeners:{"*":[function(t,e){var i=this.createTween(t,e);return rt(i.elem,t,et.exec(e),i),i}]},tweener:function(t,e){m(t)?(e=t,t=["*"]):t=t.match(N);for(var i,n=0,s=t.length;n<s;n++)i=t[n],ae.tweeners[i]=ae.tweeners[i]||[],ae.tweeners[i].unshift(e)},prefilters:[function(t,e,i){var n,s,r,o,a,l,u,c,h="width"in e||"height"in e,d=this,p={},f=t.style,m=t.nodeType&&nt(t),g=X.get(t,"fxshow");for(n in i.queue||(null==(o=b._queueHooks(t,"fx")).unqueued&&(o.unqueued=0,a=o.empty.fire,o.empty.fire=function(){o.unqueued||a()}),o.unqueued++,d.always(function(){d.always(function(){o.unqueued--,b.queue(t,"fx").length||o.empty.fire()})})),e)if(s=e[n],ee.test(s)){if(delete e[n],r=r||"toggle"===s,s===(m?"hide":"show")){if("show"!==s||!g||void 0===g[n])continue;m=!0}p[n]=g&&g[n]||b.style(t,n)}if((l=!b.isEmptyObject(e))||!b.isEmptyObject(p))for(n in h&&1===t.nodeType&&(i.overflow=[f.overflow,f.overflowX,f.overflowY],null==(u=g&&g.display)&&(u=X.get(t,"display")),"none"===(c=b.css(t,"display"))&&(u?c=u:(lt([t],!0),u=t.style.display||u,c=b.css(t,"display"),lt([t]))),("inline"===c||"inline-block"===c&&null!=u)&&"none"===b.css(t,"float")&&(l||(d.done(function(){f.display=u}),null==u&&(c=f.display,u="none"===c?"":c)),f.display="inline-block")),i.overflow&&(f.overflow="hidden",d.always(function(){f.overflow=i.overflow[0],f.overflowX=i.overflow[1],f.overflowY=i.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=X.access(t,"fxshow",{display:u}),r&&(g.hidden=!m),m&&lt([t],!0),d.done(function(){for(n in m||lt([t]),X.remove(t,"fxshow"),p)b.style(t,n,p[n])})),l=oe(m?g[n]:0,n,d),n in g||(g[n]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?ae.prefilters.unshift(t):ae.prefilters.push(t)}}),b.speed=function(t,e,i){var n=t&&"object"==typeof t?b.extend({},t):{complete:i||!i&&e||m(t)&&t,duration:t,easing:i&&e||e&&!m(e)&&e};return b.fx.off?n.duration=0:"number"!=typeof n.duration&&(n.duration in b.fx.speeds?n.duration=b.fx.speeds[n.duration]:n.duration=b.fx.speeds._default),null!=n.queue&&!0!==n.queue||(n.queue="fx"),n.old=n.complete,n.complete=function(){m(n.old)&&n.old.call(this),n.queue&&b.dequeue(this,n.queue)},n},b.fn.extend({fadeTo:function(t,e,i,n){return this.filter(nt).css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){var s=b.isEmptyObject(t),r=b.speed(e,i,n),o=function(){var e=ae(this,b.extend({},t),r);(s||X.get(this,"finish"))&&e.stop(!0)};return o.finish=o,s||!1===r.queue?this.each(o):this.queue(r.queue,o)},stop:function(t,e,i){var n=function(t){var e=t.stop;delete t.stop,e(i)};return"string"!=typeof t&&(i=e,e=t,t=void 0),e&&!1!==t&&this.queue(t||"fx",[]),this.each(function(){var e=!0,s=null!=t&&t+"queueHooks",r=b.timers,o=X.get(this);if(s)o[s]&&o[s].stop&&n(o[s]);else for(s in o)o[s]&&o[s].stop&&ie.test(s)&&n(o[s]);for(s=r.length;s--;)r[s].elem!==this||null!=t&&r[s].queue!==t||(r[s].anim.stop(i),e=!1,r.splice(s,1));!e&&i||b.dequeue(this,t)})},finish:function(t){return!1!==t&&(t=t||"fx"),this.each(function(){var e,i=X.get(this),n=i[t+"queue"],s=i[t+"queueHooks"],r=b.timers,o=n?n.length:0;for(i.finish=!0,b.queue(this,t,[]),s&&s.stop&&s.stop.call(this,!0),e=r.length;e--;)r[e].elem===this&&r[e].queue===t&&(r[e].anim.stop(!0),r.splice(e,1));for(e=0;e<o;e++)n[e]&&n[e].finish&&n[e].finish.call(this);delete i.finish})}}),b.each(["toggle","show","hide"],function(t,e){var i=b.fn[e];b.fn[e]=function(t,n,s){return null==t||"boolean"==typeof t?i.apply(this,arguments):this.animate(re(e,!0),t,n,s)}}),b.each({slideDown:re("show"),slideUp:re("hide"),slideToggle:re("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){b.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),b.timers=[],b.fx.tick=function(){var t,e=0,i=b.timers;for(Jt=Date.now();e<i.length;e++)(t=i[e])()||i[e]!==t||i.splice(e--,1);i.length||b.fx.stop(),Jt=void 0},b.fx.timer=function(t){b.timers.push(t),b.fx.start()},b.fx.interval=13,b.fx.start=function(){te||(te=!0,ne())},b.fx.stop=function(){te=null},b.fx.speeds={slow:600,fast:200,_default:400},b.fn.delay=function(e,i){return e=b.fx&&b.fx.speeds[e]||e,i=i||"fx",this.queue(i,function(i,n){var s=t.setTimeout(i,e);n.stop=function(){t.clearTimeout(s)}})},function(){var t=n.createElement("input"),e=n.createElement("select").appendChild(n.createElement("option"));t.type="checkbox",f.checkOn=""!==t.value,f.optSelected=e.selected,(t=n.createElement("input")).value="t",t.type="radio",f.radioValue="t"===t.value}();var le,ue=b.expr.attrHandle;b.fn.extend({attr:function(t,e){return B(this,b.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){b.removeAttr(this,t)})}}),b.extend({attr:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?b.prop(t,e,i):(1===r&&b.isXMLDoc(t)||(s=b.attrHooks[e.toLowerCase()]||(b.expr.match.bool.test(e)?le:void 0)),void 0!==i?null===i?void b.removeAttr(t,e):s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:(t.setAttribute(e,i+""),i):s&&"get"in s&&null!==(n=s.get(t,e))?n:null==(n=b.find.attr(t,e))?void 0:n)},attrHooks:{type:{set:function(t,e){if(!f.radioValue&&"radio"===e&&E(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}}},removeAttr:function(t,e){var i,n=0,s=e&&e.match(N);if(s&&1===t.nodeType)for(;i=s[n++];)t.removeAttribute(i)}}),le={set:function(t,e,i){return!1===e?b.removeAttr(t,i):t.setAttribute(i,i),i}},b.each(b.expr.match.bool.source.match(/\w+/g),function(t,e){var i=ue[e]||b.find.attr;ue[e]=function(t,e,n){var s,r,o=e.toLowerCase();return n||(r=ue[o],ue[o]=s,s=null!=i(t,e,n)?o:null,ue[o]=r),s}});var ce=/^(?:input|select|textarea|button)$/i,he=/^(?:a|area)$/i;function de(t){return(t.match(N)||[]).join(" ")}function pe(t){return t.getAttribute&&t.getAttribute("class")||""}function fe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(N)||[]}b.fn.extend({prop:function(t,e){return B(this,b.prop,t,e,arguments.length>1)},removeProp:function(t){return this.each(function(){delete this[b.propFix[t]||t]})}}),b.extend({prop:function(t,e,i){var n,s,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&b.isXMLDoc(t)||(e=b.propFix[e]||e,s=b.propHooks[e]),void 0!==i?s&&"set"in s&&void 0!==(n=s.set(t,i,e))?n:t[e]=i:s&&"get"in s&&null!==(n=s.get(t,e))?n:t[e]},propHooks:{tabIndex:{get:function(t){var e=b.find.attr(t,"tabindex");return e?parseInt(e,10):ce.test(t.nodeName)||he.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(b.propHooks.selected={get:function(t){var e=t.parentNode;return e&&e.parentNode&&e.parentNode.selectedIndex,null},set:function(t){var e=t.parentNode;e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex)}}),b.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){b.propFix[this.toLowerCase()]=this}),b.fn.extend({addClass:function(t){var e,i,n,s,r,o,a,l=0;if(m(t))return this.each(function(e){b(this).addClass(t.call(this,e,pe(this)))});if((e=fe(t)).length)for(;i=this[l++];)if(s=pe(i),n=1===i.nodeType&&" "+de(s)+" "){for(o=0;r=e[o++];)n.indexOf(" "+r+" ")<0&&(n+=r+" ");s!==(a=de(n))&&i.setAttribute("class",a)}return this},removeClass:function(t){var e,i,n,s,r,o,a,l=0;if(m(t))return this.each(function(e){b(this).removeClass(t.call(this,e,pe(this)))});if(!arguments.length)return this.attr("class","");if((e=fe(t)).length)for(;i=this[l++];)if(s=pe(i),n=1===i.nodeType&&" "+de(s)+" "){for(o=0;r=e[o++];)for(;n.indexOf(" "+r+" ")>-1;)n=n.replace(" "+r+" "," ");s!==(a=de(n))&&i.setAttribute("class",a)}return this},toggleClass:function(t,e){var i=typeof t,n="string"===i||Array.isArray(t);return"boolean"==typeof e&&n?e?this.addClass(t):this.removeClass(t):m(t)?this.each(function(i){b(this).toggleClass(t.call(this,i,pe(this),e),e)}):this.each(function(){var e,s,r,o;if(n)for(s=0,r=b(this),o=fe(t);e=o[s++];)r.hasClass(e)?r.removeClass(e):r.addClass(e);else void 0!==t&&"boolean"!==i||((e=pe(this))&&X.set(this,"__className__",e),this.setAttribute&&this.setAttribute("class",e||!1===t?"":X.get(this,"__className__")||""))})},hasClass:function(t){var e,i,n=0;for(e=" "+t+" ";i=this[n++];)if(1===i.nodeType&&(" "+de(pe(i))+" ").indexOf(e)>-1)return!0;return!1}});var me=/\r/g;b.fn.extend({val:function(t){var e,i,n,s=this[0];return arguments.length?(n=m(t),this.each(function(i){var s;1===this.nodeType&&(null==(s=n?t.call(this,i,b(this).val()):t)?s="":"number"==typeof s?s+="":Array.isArray(s)&&(s=b.map(s,function(t){return null==t?"":t+""})),(e=b.valHooks[this.type]||b.valHooks[this.nodeName.toLowerCase()])&&"set"in e&&void 0!==e.set(this,s,"value")||(this.value=s))})):s?(e=b.valHooks[s.type]||b.valHooks[s.nodeName.toLowerCase()])&&"get"in e&&void 0!==(i=e.get(s,"value"))?i:"string"==typeof(i=s.value)?i.replace(me,""):null==i?"":i:void 0}}),b.extend({valHooks:{option:{get:function(t){var e=b.find.attr(t,"value");return null!=e?e:de(b.text(t))}},select:{get:function(t){var e,i,n,s=t.options,r=t.selectedIndex,o="select-one"===t.type,a=o?null:[],l=o?r+1:s.length;for(n=r<0?l:o?r:0;n<l;n++)if(((i=s[n]).selected||n===r)&&!i.disabled&&(!i.parentNode.disabled||!E(i.parentNode,"optgroup"))){if(e=b(i).val(),o)return e;a.push(e)}return a},set:function(t,e){for(var i,n,s=t.options,r=b.makeArray(e),o=s.length;o--;)((n=s[o]).selected=b.inArray(b.valHooks.option.get(n),r)>-1)&&(i=!0);return i||(t.selectedIndex=-1),r}}}}),b.each(["radio","checkbox"],function(){b.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=b.inArray(b(t).val(),e)>-1}},f.checkOn||(b.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),f.focusin="onfocusin"in t;var ge=/^(?:focusinfocus|focusoutblur)$/,ve=function(t){t.stopPropagation()};b.extend(b.event,{trigger:function(e,i,s,r){var o,a,l,u,c,d,p,f,v=[s||n],y=h.call(e,"type")?e.type:e,_=h.call(e,"namespace")?e.namespace.split("."):[];if(a=f=l=s=s||n,3!==s.nodeType&&8!==s.nodeType&&!ge.test(y+b.event.triggered)&&(y.indexOf(".")>-1&&(_=y.split("."),y=_.shift(),_.sort()),c=y.indexOf(":")<0&&"on"+y,(e=e[b.expando]?e:new b.Event(y,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=s),i=null==i?[e]:b.makeArray(i,[e]),p=b.event.special[y]||{},r||!p.trigger||!1!==p.trigger.apply(s,i))){if(!r&&!p.noBubble&&!g(s)){for(u=p.delegateType||y,ge.test(u+y)||(a=a.parentNode);a;a=a.parentNode)v.push(a),l=a;l===(s.ownerDocument||n)&&v.push(l.defaultView||l.parentWindow||t)}for(o=0;(a=v[o++])&&!e.isPropagationStopped();)f=a,e.type=o>1?u:p.bindType||y,(d=(X.get(a,"events")||{})[e.type]&&X.get(a,"handle"))&&d.apply(a,i),(d=c&&a[c])&&d.apply&&$(a)&&(e.result=d.apply(a,i),!1===e.result&&e.preventDefault());return e.type=y,r||e.isDefaultPrevented()||p._default&&!1!==p._default.apply(v.pop(),i)||!$(s)||c&&m(s[y])&&!g(s)&&((l=s[c])&&(s[c]=null),b.event.triggered=y,e.isPropagationStopped()&&f.addEventListener(y,ve),s[y](),e.isPropagationStopped()&&f.removeEventListener(y,ve),b.event.triggered=void 0,l&&(s[c]=l)),e.result}},simulate:function(t,e,i){var n=b.extend(new b.Event,i,{type:t,isSimulated:!0});b.event.trigger(n,null,e)}}),b.fn.extend({trigger:function(t,e){return this.each(function(){b.event.trigger(t,e,this)})},triggerHandler:function(t,e){var i=this[0];if(i)return b.event.trigger(t,e,i,!0)}}),f.focusin||b.each({focus:"focusin",blur:"focusout"},function(t,e){var i=function(t){b.event.simulate(e,t.target,b.event.fix(t))};b.event.special[e]={setup:function(){var n=this.ownerDocument||this,s=X.access(n,e);s||n.addEventListener(t,i,!0),X.access(n,e,(s||0)+1)},teardown:function(){var n=this.ownerDocument||this,s=X.access(n,e)-1;s?X.access(n,e,s):(n.removeEventListener(t,i,!0),X.remove(n,e))}}});var ye=t.location,_e=Date.now(),be=/\?/;b.parseXML=function(e){var i;if(!e||"string"!=typeof e)return null;try{i=(new t.DOMParser).parseFromString(e,"text/xml")}catch(t){i=void 0}return i&&!i.getElementsByTagName("parsererror").length||b.error("Invalid XML: "+e),i};var we=/\[\]$/,Te=/\r?\n/g,ke=/^(?:submit|button|image|reset|file)$/i,Se=/^(?:input|select|textarea|keygen)/i;function Ce(t,e,i,n){var s;if(Array.isArray(e))b.each(e,function(e,s){i||we.test(t)?n(t,s):Ce(t+"["+("object"==typeof s&&null!=s?e:"")+"]",s,i,n)});else if(i||"object"!==_(e))n(t,e);else for(s in e)Ce(t+"["+s+"]",e[s],i,n)}b.param=function(t,e){var i,n=[],s=function(t,e){var i=m(e)?e():e;n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==i?"":i)};if(Array.isArray(t)||t.jquery&&!b.isPlainObject(t))b.each(t,function(){s(this.name,this.value)});else for(i in t)Ce(i,t[i],e,s);return n.join("&")},b.fn.extend({serialize:function(){return b.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=b.prop(this,"elements");return t?b.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!b(this).is(":disabled")&&Se.test(this.nodeName)&&!ke.test(t)&&(this.checked||!ut.test(t))}).map(function(t,e){var i=b(this).val();return null==i?null:Array.isArray(i)?b.map(i,function(t){return{name:e.name,value:t.replace(Te,"\r\n")}}):{name:e.name,value:i.replace(Te,"\r\n")}}).get()}});var xe=/%20/g,Ee=/#.*$/,De=/([?&])_=[^&]*/,Ae=/^(.*?):[ \t]*([^\r\n]*)$/gm,Pe=/^(?:GET|HEAD)$/,Ie=/^\/\//,Oe={},Me={},Le="*/".concat("*"),Ne=n.createElement("a");function Re(t){return function(e,i){"string"!=typeof e&&(i=e,e="*");var n,s=0,r=e.toLowerCase().match(N)||[];if(m(i))for(;n=r[s++];)"+"===n[0]?(n=n.slice(1)||"*",(t[n]=t[n]||[]).unshift(i)):(t[n]=t[n]||[]).push(i)}}function Ue(t,e,i,n){var s={},r=t===Me;function o(a){var l;return s[a]=!0,b.each(t[a]||[],function(t,a){var u=a(e,i,n);return"string"!=typeof u||r||s[u]?r?!(l=u):void 0:(e.dataTypes.unshift(u),o(u),!1)}),l}return o(e.dataTypes[0])||!s["*"]&&o("*")}function Fe(t,e){var i,n,s=b.ajaxSettings.flatOptions||{};for(i in e)void 0!==e[i]&&((s[i]?t:n||(n={}))[i]=e[i]);return n&&b.extend(!0,t,n),t}Ne.href=ye.href,b.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ye.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ye.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Le,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":b.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Fe(Fe(t,b.ajaxSettings),e):Fe(b.ajaxSettings,t)},ajaxPrefilter:Re(Oe),ajaxTransport:Re(Me),ajax:function(e,i){"object"==typeof e&&(i=e,e=void 0),i=i||{};var s,r,o,a,l,u,c,h,d,p,f=b.ajaxSetup({},i),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?b(m):b.event,v=b.Deferred(),y=b.Callbacks("once memory"),_=f.statusCode||{},w={},T={},k="canceled",S={readyState:0,getResponseHeader:function(t){var e;if(c){if(!a)for(a={};e=Ae.exec(o);)a[e[1].toLowerCase()]=e[2];e=a[t.toLowerCase()]}return null==e?null:e},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(t,e){return null==c&&(t=T[t.toLowerCase()]=T[t.toLowerCase()]||t,w[t]=e),this},overrideMimeType:function(t){return null==c&&(f.mimeType=t),this},statusCode:function(t){var e;if(t)if(c)S.always(t[S.status]);else for(e in t)_[e]=[_[e],t[e]];return this},abort:function(t){var e=t||k;return s&&s.abort(e),C(0,e),this}};if(v.promise(S),f.url=((e||f.url||ye.href)+"").replace(Ie,ye.protocol+"//"),f.type=i.method||i.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(N)||[""],null==f.crossDomain){u=n.createElement("a");try{u.href=f.url,u.href=u.href,f.crossDomain=Ne.protocol+"//"+Ne.host!=u.protocol+"//"+u.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=b.param(f.data,f.traditional)),Ue(Oe,f,i,S),c)return S;for(d in(h=b.event&&f.global)&&0==b.active++&&b.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pe.test(f.type),r=f.url.replace(Ee,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(xe,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(be.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(De,"$1"),p=(be.test(r)?"&":"?")+"_="+_e+++p),f.url=r+p),f.ifModified&&(b.lastModified[r]&&S.setRequestHeader("If-Modified-Since",b.lastModified[r]),b.etag[r]&&S.setRequestHeader("If-None-Match",b.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||i.contentType)&&S.setRequestHeader("Content-Type",f.contentType),S.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Le+"; q=0.01":""):f.accepts["*"]),f.headers)S.setRequestHeader(d,f.headers[d]);if(f.beforeSend&&(!1===f.beforeSend.call(m,S,f)||c))return S.abort();if(k="abort",y.add(f.complete),S.done(f.success),S.fail(f.error),s=Ue(Me,f,i,S)){if(S.readyState=1,h&&g.trigger("ajaxSend",[S,f]),c)return S;f.async&&f.timeout>0&&(l=t.setTimeout(function(){S.abort("timeout")},f.timeout));try{c=!1,s.send(w,C)}catch(t){if(c)throw t;C(-1,t)}}else C(-1,"No Transport");function C(e,i,n,a){var u,d,p,w,T,k=i;c||(c=!0,l&&t.clearTimeout(l),s=void 0,o=a||"",S.readyState=e>0?4:0,u=e>=200&&e<300||304===e,n&&(w=function(t,e,i){for(var n,s,r,o,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===n&&(n=t.mimeType||e.getResponseHeader("Content-Type"));if(n)for(s in a)if(a[s]&&a[s].test(n)){l.unshift(s);break}if(l[0]in i)r=l[0];else{for(s in i){if(!l[0]||t.converters[s+" "+l[0]]){r=s;break}o||(o=s)}r=r||o}if(r)return r!==l[0]&&l.unshift(r),i[r]}(f,S,n)),w=function(t,e,i,n){var s,r,o,a,l,u={},c=t.dataTypes.slice();if(c[1])for(o in t.converters)u[o.toLowerCase()]=t.converters[o];for(r=c.shift();r;)if(t.responseFields[r]&&(i[t.responseFields[r]]=e),!l&&n&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(o=u[l+" "+r]||u["* "+r]))for(s in u)if((a=s.split(" "))[1]===r&&(o=u[l+" "+a[0]]||u["* "+a[0]])){!0===o?o=u[s]:!0!==u[s]&&(r=a[0],c.unshift(a[1]));break}if(!0!==o)if(o&&t.throws)e=o(e);else try{e=o(e)}catch(t){return{state:"parsererror",error:o?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(f,w,S,u),u?(f.ifModified&&((T=S.getResponseHeader("Last-Modified"))&&(b.lastModified[r]=T),(T=S.getResponseHeader("etag"))&&(b.etag[r]=T)),204===e||"HEAD"===f.type?k="nocontent":304===e?k="notmodified":(k=w.state,d=w.data,u=!(p=w.error))):(p=k,!e&&k||(k="error",e<0&&(e=0))),S.status=e,S.statusText=(i||k)+"",u?v.resolveWith(m,[d,k,S]):v.rejectWith(m,[S,k,p]),S.statusCode(_),_=void 0,h&&g.trigger(u?"ajaxSuccess":"ajaxError",[S,f,u?d:p]),y.fireWith(m,[S,k]),h&&(g.trigger("ajaxComplete",[S,f]),--b.active||b.event.trigger("ajaxStop")))}return S},getJSON:function(t,e,i){return b.get(t,e,i,"json")},getScript:function(t,e){return b.get(t,void 0,e,"script")}}),b.each(["get","post"],function(t,e){b[e]=function(t,i,n,s){return m(i)&&(s=s||n,n=i,i=void 0),b.ajax(b.extend({url:t,type:e,dataType:s,data:i,success:n},b.isPlainObject(t)&&t))}}),b._evalUrl=function(t){return b.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},b.fn.extend({wrapAll:function(t){var e;return this[0]&&(m(t)&&(t=t.call(this[0])),e=b(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(t){return m(t)?this.each(function(e){b(this).wrapInner(t.call(this,e))}):this.each(function(){var e=b(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=m(t);return this.each(function(i){b(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(t){return this.parent(t).not("body").each(function(){b(this).replaceWith(this.childNodes)}),this}}),b.expr.pseudos.hidden=function(t){return!b.expr.pseudos.visible(t)},b.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},b.ajaxSettings.xhr=function(){try{return new t.XMLHttpRequest}catch(t){}};var je={0:200,1223:204},He=b.ajaxSettings.xhr();f.cors=!!He&&"withCredentials"in He,f.ajax=He=!!He,b.ajaxTransport(function(e){var i,n;if(f.cors||He&&!e.crossDomain)return{send:function(s,r){var o,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(o in e.xhrFields)a[o]=e.xhrFields[o];for(o in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest"),s)a.setRequestHeader(o,s[o]);i=function(t){return function(){i&&(i=n=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===t?a.abort():"error"===t?"number"!=typeof a.status?r(0,"error"):r(a.status,a.statusText):r(je[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=i(),n=a.onerror=a.ontimeout=i("error"),void 0!==a.onabort?a.onabort=n:a.onreadystatechange=function(){4===a.readyState&&t.setTimeout(function(){i&&n()})},i=i("abort");try{a.send(e.hasContent&&e.data||null)}catch(t){if(i)throw t}},abort:function(){i&&i()}}}),b.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),b.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return b.globalEval(t),t}}}),b.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),b.ajaxTransport("script",function(t){var e,i;if(t.crossDomain)return{send:function(s,r){e=b("<script>").prop({charset:t.scriptCharset,src:t.url}).on("load error",i=function(t){e.remove(),i=null,t&&r("error"===t.type?404:200,t.type)}),n.head.appendChild(e[0])},abort:function(){i&&i()}}});var ze,Be=[],We=/(=)\?(?=&|$)|\?\?/;b.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Be.pop()||b.expando+"_"+_e++;return this[t]=!0,t}}),b.ajaxPrefilter("json jsonp",function(e,i,n){var s,r,o,a=!1!==e.jsonp&&(We.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&We.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return s=e.jsonpCallback=m(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(We,"$1"+s):!1!==e.jsonp&&(e.url+=(be.test(e.url)?"&":"?")+e.jsonp+"="+s),e.converters["script json"]=function(){return o||b.error(s+" was not called"),o[0]},e.dataTypes[0]="json",r=t[s],t[s]=function(){o=arguments},n.always(function(){void 0===r?b(t).removeProp(s):t[s]=r,e[s]&&(e.jsonpCallback=i.jsonpCallback,Be.push(s)),o&&m(r)&&r(o[0]),o=r=void 0}),"script"}),f.createHTMLDocument=((ze=n.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===ze.childNodes.length),b.parseHTML=function(t,e,i){return"string"!=typeof t?[]:("boolean"==typeof e&&(i=e,e=!1),e||(f.createHTMLDocument?((s=(e=n.implementation.createHTMLDocument("")).createElement("base")).href=n.location.href,e.head.appendChild(s)):e=n),o=!i&&[],(r=D.exec(t))?[e.createElement(r[1])]:(r=yt([t],e,o),o&&o.length&&b(o).remove(),b.merge([],r.childNodes)));var s,r,o},b.fn.load=function(t,e,i){var n,s,r,o=this,a=t.indexOf(" ");return a>-1&&(n=de(t.slice(a)),t=t.slice(0,a)),m(e)?(i=e,e=void 0):e&&"object"==typeof e&&(s="POST"),o.length>0&&b.ajax({url:t,type:s||"GET",dataType:"html",data:e}).done(function(t){r=arguments,o.html(n?b("<div>").append(b.parseHTML(t)).find(n):t)}).always(i&&function(t,e){o.each(function(){i.apply(this,r||[t.responseText,e,t])})}),this},b.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){b.fn[e]=function(t){return this.on(e,t)}}),b.expr.pseudos.animated=function(t){return b.grep(b.timers,function(e){return t===e.elem}).length},b.offset={setOffset:function(t,e,i){var n,s,r,o,a,l,u=b.css(t,"position"),c=b(t),h={};"static"===u&&(t.style.position="relative"),a=c.offset(),r=b.css(t,"top"),l=b.css(t,"left"),("absolute"===u||"fixed"===u)&&(r+l).indexOf("auto")>-1?(o=(n=c.position()).top,s=n.left):(o=parseFloat(r)||0,s=parseFloat(l)||0),m(e)&&(e=e.call(t,i,b.extend({},a))),null!=e.top&&(h.top=e.top-a.top+o),null!=e.left&&(h.left=e.left-a.left+s),"using"in e?e.using.call(t,h):c.css(h)}},b.fn.extend({offset:function(t){if(arguments.length)return void 0===t?this:this.each(function(e){b.offset.setOffset(this,t,e)});var e,i,n=this[0];return n?n.getClientRects().length?(e=n.getBoundingClientRect(),i=n.ownerDocument.defaultView,{top:e.top+i.pageYOffset,left:e.left+i.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,i,n=this[0],s={top:0,left:0};if("fixed"===b.css(n,"position"))e=n.getBoundingClientRect();else{for(e=this.offset(),i=n.ownerDocument,t=n.offsetParent||i.documentElement;t&&(t===i.body||t===i.documentElement)&&"static"===b.css(t,"position");)t=t.parentNode;t&&t!==n&&1===t.nodeType&&((s=b(t).offset()).top+=b.css(t,"borderTopWidth",!0),s.left+=b.css(t,"borderLeftWidth",!0))}return{top:e.top-s.top-b.css(n,"marginTop",!0),left:e.left-s.left-b.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===b.css(t,"position");)t=t.offsetParent;return t||_t})}}),b.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,e){var i="pageYOffset"===e;b.fn[t]=function(n){return B(this,function(t,n,s){var r;if(g(t)?r=t:9===t.nodeType&&(r=t.defaultView),void 0===s)return r?r[e]:t[n];r?r.scrollTo(i?r.pageXOffset:s,i?s:r.pageYOffset):t[n]=s},t,n,arguments.length)}}),b.each(["top","left"],function(t,e){b.cssHooks[e]=zt(f.pixelPosition,function(t,i){if(i)return i=Ht(t,e),Ut.test(i)?b(t).position()[e]+"px":i})}),b.each({Height:"height",Width:"width"},function(t,e){b.each({padding:"inner"+t,content:e,"":"outer"+t},function(i,n){b.fn[n]=function(s,r){var o=arguments.length&&(i||"boolean"!=typeof s),a=i||(!0===s||!0===r?"margin":"border");return B(this,function(e,i,s){var r;return g(e)?0===n.indexOf("outer")?e["inner"+t]:e.document.documentElement["client"+t]:9===e.nodeType?(r=e.documentElement,Math.max(e.body["scroll"+t],r["scroll"+t],e.body["offset"+t],r["offset"+t],r["client"+t])):void 0===s?b.css(e,i,a):b.style(e,i,s,a)},e,o?s:void 0,o)}})}),b.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,e){b.fn[e]=function(t,i){return arguments.length>0?this.on(e,null,t,i):this.trigger(e)}}),b.fn.extend({hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),b.fn.extend({bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",i)}}),b.proxy=function(t,e){var i,n,s;if("string"==typeof e&&(i=t[e],e=t,t=i),m(t))return n=r.call(arguments,2),(s=function(){return t.apply(e||this,n.concat(r.call(arguments)))}).guid=t.guid=t.guid||b.guid++,s},b.holdReady=function(t){t?b.readyWait++:b.ready(!0)},b.isArray=Array.isArray,b.parseJSON=JSON.parse,b.nodeName=E,b.isFunction=m,b.isWindow=g,b.camelCase=q,b.type=_,b.now=Date.now,b.isNumeric=function(t){var e=b.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},"function"==typeof define&&define.amd&&define("jquery",[],function(){return b});var Ye=t.jQuery,Ve=t.$;return b.noConflict=function(e){return t.$===b&&(t.$=Ve),e&&t.jQuery===b&&(t.jQuery=Ye),b},e||(t.jQuery=t.$=b),b}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t){t.ui=t.ui||{};t.ui.version="1.12.1";var e,i=0,n=Array.prototype.slice;t.cleanData=(e=t.cleanData,function(i){var n,s,r;for(r=0;null!=(s=i[r]);r++)try{(n=t._data(s,"events"))&&n.remove&&t(s).triggerHandler("remove")}catch(t){}e(i)}),t.widget=function(e,i,n){var s,r,o,a={},l=e.split(".")[0],u=l+"-"+(e=e.split(".")[1]);return n||(n=i,i=t.Widget),t.isArray(n)&&(n=t.extend.apply(null,[{}].concat(n))),t.expr[":"][u.toLowerCase()]=function(e){return!!t.data(e,u)},t[l]=t[l]||{},s=t[l][e],r=t[l][e]=function(t,e){if(!this._createWidget)return new r(t,e);arguments.length&&this._createWidget(t,e)},t.extend(r,s,{version:n.version,_proto:t.extend({},n),_childConstructors:[]}),(o=new i).options=t.widget.extend({},o.options),t.each(n,function(e,n){t.isFunction(n)?a[e]=function(){function t(){return i.prototype[e].apply(this,arguments)}function s(t){return i.prototype[e].apply(this,t)}return function(){var e,i=this._super,r=this._superApply;return this._super=t,this._superApply=s,e=n.apply(this,arguments),this._super=i,this._superApply=r,e}}():a[e]=n}),r.prototype=t.widget.extend(o,{widgetEventPrefix:s&&o.widgetEventPrefix||e},a,{constructor:r,namespace:l,widgetName:e,widgetFullName:u}),s?(t.each(s._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),t.widget.bridge(e,r),r},t.widget.extend=function(e){for(var i,s,r=n.call(arguments,1),o=0,a=r.length;o<a;o++)for(i in r[o])s=r[o][i],r[o].hasOwnProperty(i)&&void 0!==s&&(t.isPlainObject(s)?e[i]=t.isPlainObject(e[i])?t.widget.extend({},e[i],s):t.widget.extend({},s):e[i]=s);return e},t.widget.bridge=function(e,i){var s=i.prototype.widgetFullName||e;t.fn[e]=function(r){var o="string"==typeof r,a=n.call(arguments,1),l=this;return o?this.length||"instance"!==r?this.each(function(){var i,n=t.data(this,s);return"instance"===r?(l=n,!1):n?t.isFunction(n[r])&&"_"!==r.charAt(0)?(i=n[r].apply(n,a))!==n&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:t.error("no such method '"+r+"' for "+e+" widget instance"):t.error("cannot call methods on "+e+" prior to initialization; attempted to call method '"+r+"'")}):l=void 0:(a.length&&(r=t.widget.extend.apply(null,[r].concat(a))),this.each(function(){var e=t.data(this,s);e?(e.option(r||{}),e._init&&e._init()):t.data(this,s,new i(r,this))})),l}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=t(),this.hoverable=t(),this.focusable=t(),this.classesElementLookup={},n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){var e=this;this._destroy(),t.each(this.classesElementLookup,function(t,i){e._removeClass(i,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:t.noop,widget:function(){return this.element},option:function(e,i){var n,s,r,o=e;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof e)if(o={},n=e.split("."),e=n.shift(),n.length){for(s=o[e]=t.widget.extend({},this.options[e]),r=0;r<n.length-1;r++)s[n[r]]=s[n[r]]||{},s=s[n[r]];if(e=n.pop(),1===arguments.length)return void 0===s[e]?null:s[e];s[e]=i}else{if(1===arguments.length)return void 0===this.options[e]?null:this.options[e];o[e]=i}return this._setOptions(o),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(e){var i,n,s;for(i in e)s=this.classesElementLookup[i],e[i]!==this.options.classes[i]&&s&&s.length&&(n=t(s.get()),this._removeClass(s,i),n.addClass(this._classes({element:n,keys:i,classes:e,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(e){var i=[],n=this;function s(s,r){var o,a;for(a=0;a<s.length;a++)o=n.classesElementLookup[s[a]]||t(),o=e.add?t(t.unique(o.get().concat(e.element.get()))):t(o.not(e.element).get()),n.classesElementLookup[s[a]]=o,i.push(s[a]),r&&e.classes[s[a]]&&i.push(e.classes[s[a]])}return e=t.extend({element:this.element,classes:this.options.classes||{}},e),this._on(e.element,{remove:"_untrackClassesElement"}),e.keys&&s(e.keys.match(/\S+/g)||[],!0),e.extra&&s(e.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(e){var i=this;t.each(i.classesElementLookup,function(n,s){-1!==t.inArray(e.target,s)&&(i.classesElementLookup[n]=t(s.not(e.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,n){n="boolean"==typeof n?n:i;var s="string"==typeof t||null===t,r={extra:s?e:i,keys:s?t:e,element:s?this.element:t,add:n};return r.element.toggleClass(this._classes(r),n),this},_on:function(e,i,n){var s,r=this;"boolean"!=typeof e&&(n=i,i=e,e=!1),n?(i=s=t(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,s=this.widget()),t.each(n,function(n,o){function a(){if(e||!0!==r.options.disabled&&!t(this).hasClass("ui-state-disabled"))return("string"==typeof o?r[o]:o).apply(r,arguments)}"string"!=typeof o&&(a.guid=o.guid=o.guid||a.guid||t.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+r.eventNamespace,c=l[2];c?s.on(u,c,a):i.on(u,a)})},_off:function(e,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.off(i).off(i),this.bindings=t(this.bindings.not(e).get()),this.focusable=t(this.focusable.not(e).get()),this.hoverable=t(this.hoverable.not(e).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){this._addClass(t(e.currentTarget),null,"ui-state-hover")},mouseleave:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){this._addClass(t(e.currentTarget),null,"ui-state-focus")},focusout:function(e){this._removeClass(t(e.currentTarget),null,"ui-state-focus")}})},_trigger:function(e,i,n){var s,r,o=this.options[e];if(n=n||{},(i=t.Event(i)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],r=i.originalEvent)for(s in r)s in i||(i[s]=r[s]);return this.element.trigger(i,n),!(t.isFunction(o)&&!1===o.apply(this.element[0],[i].concat(n))||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,r){var o;"string"==typeof s&&(s={effect:s});var a=s?!0===s||"number"==typeof s?i:s.effect||i:e;"number"==typeof(s=s||{})&&(s={duration:s}),o=!t.isEmptyObject(s),s.complete=r,s.delay&&n.delay(s.delay),o&&t.effects&&t.effects.effect[a]?n[e](s):a!==e&&n[a]?n[a](s.duration,s.easing,r):n.queue(function(i){t(this)[e](),r&&r.call(n[0]),i()})}});t.widget;!function(){var e,i=Math.max,n=Math.abs,s=/left|center|right/,r=/top|center|bottom/,o=/[\+\-]\d+(\.[\d]+)?%?/,a=/^\w+/,l=/%$/,u=t.fn.position;function c(t,e,i){return[parseFloat(t[0])*(l.test(t[0])?e/100:1),parseFloat(t[1])*(l.test(t[1])?i/100:1)]}function h(e,i){return parseInt(t.css(e,i),10)||0}t.position={scrollbarWidth:function(){if(void 0!==e)return e;var i,n,s=t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),r=s.children()[0];return t("body").append(s),i=r.offsetWidth,s.css("overflow","scroll"),i===(n=r.offsetWidth)&&(n=s[0].clientWidth),s.remove(),e=i-n},getScrollInfo:function(e){var i=e.isWindow||e.isDocument?"":e.element.css("overflow-x"),n=e.isWindow||e.isDocument?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]),s=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:s,offset:!n&&!s?t(e).offset():{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:i.outerWidth(),height:i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return u.apply(this,arguments);e=t.extend({},e);var l,d,p,f,m,g,v,y,_=t(e.of),b=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(b),T=(e.collision||"flip").split(" "),k={};return g=9===(y=(v=_)[0]).nodeType?{width:v.width(),height:v.height(),offset:{top:0,left:0}}:t.isWindow(y)?{width:v.width(),height:v.height(),offset:{top:v.scrollTop(),left:v.scrollLeft()}}:y.preventDefault?{width:0,height:0,offset:{top:y.pageY,left:y.pageX}}:{width:v.outerWidth(),height:v.outerHeight(),offset:v.offset()},_[0].preventDefault&&(e.at="left top"),d=g.width,p=g.height,f=g.offset,m=t.extend({},f),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=s.test(n[0])?n.concat(["center"]):r.test(n[0])?["center"].concat(n):["center","center"]),n[0]=s.test(n[0])?n[0]:"center",n[1]=r.test(n[1])?n[1]:"center",t=o.exec(n[0]),i=o.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[a.exec(n[0])[0],a.exec(n[1])[0]]}),1===T.length&&(T[1]=T[0]),"right"===e.at[0]?m.left+=d:"center"===e.at[0]&&(m.left+=d/2),"bottom"===e.at[1]?m.top+=p:"center"===e.at[1]&&(m.top+=p/2),l=c(k.at,d,p),m.left+=l[0],m.top+=l[1],this.each(function(){var s,r,o=t(this),a=o.outerWidth(),u=o.outerHeight(),g=h(this,"marginLeft"),v=h(this,"marginTop"),y=a+g+h(this,"marginRight")+w.width,S=u+v+h(this,"marginBottom")+w.height,C=t.extend({},m),x=c(k.my,o.outerWidth(),o.outerHeight());"right"===e.my[0]?C.left-=a:"center"===e.my[0]&&(C.left-=a/2),"bottom"===e.my[1]?C.top-=u:"center"===e.my[1]&&(C.top-=u/2),C.left+=x[0],C.top+=x[1],s={marginLeft:g,marginTop:v},t.each(["left","top"],function(i,n){t.ui.position[T[i]]&&t.ui.position[T[i]][n](C,{targetWidth:d,targetHeight:p,elemWidth:a,elemHeight:u,collisionPosition:s,collisionWidth:y,collisionHeight:S,offset:[l[0]+x[0],l[1]+x[1]],my:e.my,at:e.at,within:b,elem:o})}),e.using&&(r=function(t){var s=f.left-C.left,r=s+d-a,l=f.top-C.top,c=l+p-u,h={target:{element:_,left:f.left,top:f.top,width:d,height:p},element:{element:o,left:C.left,top:C.top,width:a,height:u},horizontal:r<0?"left":s>0?"right":"center",vertical:c<0?"top":l>0?"bottom":"middle"};d<a&&n(s+r)<d&&(h.horizontal="center"),p<u&&n(l+c)<p&&(h.vertical="middle"),i(n(s),n(r))>i(n(l),n(c))?h.important="horizontal":h.important="vertical",e.using.call(this,t,h)}),o.offset(t.extend(C,{using:r}))})},t.ui.position={fit:{left:function(t,e){var n,s=e.within,r=s.isWindow?s.scrollLeft:s.offset.left,o=s.width,a=t.left-e.collisionPosition.marginLeft,l=r-a,u=a+e.collisionWidth-o-r;e.collisionWidth>o?l>0&&u<=0?(n=t.left+l+e.collisionWidth-o-r,t.left+=l-n):t.left=u>0&&l<=0?r:l>u?r+o-e.collisionWidth:r:l>0?t.left+=l:u>0?t.left-=u:t.left=i(t.left-a,t.left)},top:function(t,e){var n,s=e.within,r=s.isWindow?s.scrollTop:s.offset.top,o=e.within.height,a=t.top-e.collisionPosition.marginTop,l=r-a,u=a+e.collisionHeight-o-r;e.collisionHeight>o?l>0&&u<=0?(n=t.top+l+e.collisionHeight-o-r,t.top+=l-n):t.top=u>0&&l<=0?r:l>u?r+o-e.collisionHeight:r:l>0?t.top+=l:u>0?t.top-=u:t.top=i(t.top-a,t.top)}},flip:{left:function(t,e){var i,s,r=e.within,o=r.offset.left+r.scrollLeft,a=r.width,l=r.isWindow?r.scrollLeft:r.offset.left,u=t.left-e.collisionPosition.marginLeft,c=u-l,h=u+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];c<0?((i=t.left+d+p+f+e.collisionWidth-a-o)<0||i<n(c))&&(t.left+=d+p+f):h>0&&((s=t.left-e.collisionPosition.marginLeft+d+p+f-l)>0||n(s)<h)&&(t.left+=d+p+f)},top:function(t,e){var i,s,r=e.within,o=r.offset.top+r.scrollTop,a=r.height,l=r.isWindow?r.scrollTop:r.offset.top,u=t.top-e.collisionPosition.marginTop,c=u-l,h=u+e.collisionHeight-a-l,d="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,p="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,f=-2*e.offset[1];c<0?((s=t.top+d+p+f+e.collisionHeight-a-o)<0||s<n(c))&&(t.top+=d+p+f):h>0&&((i=t.top-e.collisionPosition.marginTop+d+p+f-l)>0||n(i)<h)&&(t.top+=d+p+f)}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}}}();t.ui.position,t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])}}),t.fn.extend({disableSelection:(s="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(s+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}});var s,r,o="ui-effects-animated",a=t;t.effects={effect:{}},function(t,e){var i,n=/^([\-+])=\s*(\d+\.?\d*)/,s=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],r=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},o={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},a={byte:{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},l=r.support={},u=t("<p>")[0],c=t.each;function h(t,e,i){var n=a[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:n.max<t?n.max:t)}function d(e){var n=r(),a=n._rgba=[];return e=e.toLowerCase(),c(s,function(t,i){var s,r=i.re.exec(e),l=r&&i.parse(r),u=i.space||"rgba";if(l)return s=n[u](l),n[o[u].cache]=s[o[u].cache],a=n._rgba=s._rgba,!1}),a.length?("0,0,0,0"===a.join()&&t.extend(a,i.transparent),n):i[e]}function p(t,e,i){return 6*(i=(i+1)%1)<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}u.style.cssText="background-color:rgba(1,1,1,.5)",l.rgba=u.style.backgroundColor.indexOf("rgba")>-1,c(o,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),r.fn=t.extend(r.prototype,{parse:function(e,n,s,a){if(void 0===e)return this._rgba=[null,null,null,null],this;(e.jquery||e.nodeType)&&(e=t(e).css(n),n=void 0);var l=this,u=t.type(e),p=this._rgba=[];return void 0!==n&&(e=[e,n,s,a],u="array"),"string"===u?this.parse(d(e)||i._default):"array"===u?(c(o.rgba.props,function(t,i){p[i.idx]=h(e[i.idx],i)}),this):"object"===u?(c(o,e instanceof r?function(t,i){e[i.cache]&&(l[i.cache]=e[i.cache].slice())}:function(i,n){var s=n.cache;c(n.props,function(t,i){if(!l[s]&&n.to){if("alpha"===t||null==e[t])return;l[s]=n.to(l._rgba)}l[s][i.idx]=h(e[t],i,!0)}),l[s]&&t.inArray(null,l[s].slice(0,3))<0&&(l[s][3]=1,n.from&&(l._rgba=n.from(l[s])))}),this):void 0},is:function(t){var e=r(t),i=!0,n=this;return c(o,function(t,s){var r,o=e[s.cache];return o&&(r=n[s.cache]||s.to&&s.to(n._rgba)||[],c(s.props,function(t,e){if(null!=o[e.idx])return i=o[e.idx]===r[e.idx]})),i}),i},_space:function(){var t=[],e=this;return c(o,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var i=r(t),n=i._space(),s=o[n],l=0===this.alpha()?r("transparent"):this,u=l[s.cache]||s.to(l._rgba),d=u.slice();return i=i[s.cache],c(s.props,function(t,n){var s=n.idx,r=u[s],o=i[s],l=a[n.type]||{};null!==o&&(null===r?d[s]=o:(l.mod&&(o-r>l.mod/2?r+=l.mod:r-o>l.mod/2&&(r-=l.mod)),d[s]=h((o-r)*e+r,n)))}),this[n](d)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=r(e)._rgba;return r(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&e<3&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return 1===(t=(t||0).toString(16)).length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),r.fn.parse.prototype=r.fn,o.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,r=t[2]/255,o=t[3],a=Math.max(n,s,r),l=Math.min(n,s,r),u=a-l,c=a+l,h=.5*c;return e=l===a?0:n===a?60*(s-r)/u+360:s===a?60*(r-n)/u+120:60*(n-s)/u+240,i=0===u?0:h<=.5?u/c:u/(2-c),[Math.round(e)%360,i,h,null==o?1:o]},o.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],s=t[3],r=n<=.5?n*(1+i):n+i-n*i,o=2*n-r;return[Math.round(255*p(o,r,e+1/3)),Math.round(255*p(o,r,e)),Math.round(255*p(o,r,e-1/3)),s]},c(o,function(e,i){var s=i.props,o=i.cache,a=i.to,l=i.from;r.fn[e]=function(e){if(a&&!this[o]&&(this[o]=a(this._rgba)),void 0===e)return this[o].slice();var i,n=t.type(e),u="array"===n||"object"===n?e:arguments,d=this[o].slice();return c(s,function(t,e){var i=u["object"===n?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=h(i,e)}),l?((i=r(l(d)))[o]=d,i):r(d)},c(s,function(i,s){r.fn[i]||(r.fn[i]=function(r){var o,a=t.type(r),l="alpha"===i?this._hsla?"hsla":"rgba":e,u=this[l](),c=u[s.idx];return"undefined"===a?c:("function"===a&&(r=r.call(this,c),a=t.type(r)),null==r&&s.empty?this:("string"===a&&(o=n.exec(r))&&(r=c+parseFloat(o[2])*("+"===o[1]?1:-1)),u[s.idx]=r,this[l](u)))})})}),r.hook=function(e){var i=e.split(" ");c(i,function(e,i){t.cssHooks[i]={set:function(e,n){var s,o,a="";if("transparent"!==n&&("string"!==t.type(n)||(s=d(n)))){if(n=r(s||n),!l.rgba&&1!==n._rgba[3]){for(o="backgroundColor"===i?e.parentNode:e;(""===a||"transparent"===a)&&o&&o.style;)try{a=t.css(o,"backgroundColor"),o=o.parentNode}catch(t){}n=n.blend(a&&"transparent"!==a?a:"_default")}n=n.toRgbaString()}try{e.style[i]=n}catch(t){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=r(e.elem,i),e.end=r(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},r.hook("backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor"),t.cssHooks.borderColor={expand:function(t){var e={};return c(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},i=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(a),function(){var e,i=["add","remove","toggle"],n={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};function s(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)"string"==typeof s[i=s[n]]&&(r[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(r[i]=s[i]);return r}t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(a.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,o,a){var l=t.speed(r,o,a);return this.queue(function(){var r,o=t(this),a=o.attr("class")||"",u=l.children?o.find("*").addBack():o;u=u.map(function(){return{el:t(this),start:s(this)}}),(r=function(){t.each(i,function(t,i){e[i]&&o[i+"Class"](e[i])})})(),u=u.map(function(){return this.end=s(this.el[0]),this.diff=function(e,i){var s,r,o={};for(s in i)r=i[s],e[s]!==r&&(n[s]||!t.fx.step[s]&&isNaN(parseFloat(r))||(o[s]=r));return o}(this.start,this.end),this}),o.attr("class",a),u=u.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,u.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(o[0])})})},t.fn.extend({addClass:(e=t.fn.addClass,function(i,n,s,r){return n?t.effects.animateClass.call(this,{add:i},n,s,r):e.apply(this,arguments)}),removeClass:function(e){return function(i,n,s,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(e){return function(i,n,s,r,o){return"boolean"==typeof n||void 0===n?s?t.effects.animateClass.call(this,n?{add:i}:{remove:i},s,r,o):e.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,s,r)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,r){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,r)}})}(),function(){var e;function i(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function n(e){return!(e&&"number"!=typeof e&&!t.fx.speeds[e])||("string"==typeof e&&!t.effects.effect[e]||(!!t.isFunction(e)||"object"==typeof e&&!e.effect))}function s(t,e){var i=e.outerWidth(),n=e.outerHeight(),s=/^rect\((-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto),?\s*(-?\d*\.?\d*px|-?\d+%|auto)\)$/.exec(t)||["",0,i,n,0];return{top:parseFloat(s[1])||0,right:"auto"===s[2]?i:parseFloat(s[2]),bottom:"auto"===s[3]?n:parseFloat(s[3]),left:parseFloat(s[4])||0}}t.expr&&t.expr.filters&&t.expr.filters.animated&&(t.expr.filters.animated=(e=t.expr.filters.animated,function(i){return!!t(i).data(o)||e(i)})),!1!==t.uiBackCompat&&t.extend(t.effects,{save:function(t,e){for(var i=0,n=e.length;i<n;i++)null!==e[i]&&t.data("ui-effects-"+e[i],t[0].style[e[i]])},restore:function(t,e){for(var i,n=0,s=e.length;n<s;n++)null!==e[n]&&(i=t.data("ui-effects-"+e[n]),t.css(e[n],i))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),float:e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(t){r=document.body}return e.wrap(n),(e[0]===r||t.contains(e[0],r))&&t(r).trigger("focus"),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).trigger("focus")),e}}),t.extend(t.effects,{version:"1.12.1",define:function(e,i,n){return n||(n=i,i="effect"),t.effects.effect[e]=n,t.effects.effect[e].mode=i,n},scaledDimensions:function(t,e,i){if(0===e)return{height:0,width:0,outerHeight:0,outerWidth:0};var n="horizontal"!==i?(e||100)/100:1,s="vertical"!==i?(e||100)/100:1;return{height:t.height()*s,width:t.width()*n,outerHeight:t.outerHeight()*s,outerWidth:t.outerWidth()*n}},clipToBox:function(t){return{width:t.clip.right-t.clip.left,height:t.clip.bottom-t.clip.top,left:t.clip.left,top:t.clip.top}},unshift:function(t,e,i){var n=t.queue();e>1&&n.splice.apply(n,[1,0].concat(n.splice(e,i))),t.dequeue()},saveStyle:function(t){t.data("ui-effects-style",t[0].style.cssText)},restoreStyle:function(t){t[0].style.cssText=t.data("ui-effects-style")||"",t.removeData("ui-effects-style")},mode:function(t,e){var i=t.is(":hidden");return"toggle"===e&&(e=i?"show":"hide"),(i?"hide"===e:"show"===e)&&(e="none"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createPlaceholder:function(e){var i,n=e.css("position"),s=e.position();return e.css({marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()),/^(static|relative)/.test(n)&&(n="absolute",i=t("<"+e[0].nodeName+">").insertAfter(e).css({display:/^(inline|ruby)/.test(e.css("display"))?"inline-block":"block",visibility:"hidden",marginTop:e.css("marginTop"),marginBottom:e.css("marginBottom"),marginLeft:e.css("marginLeft"),marginRight:e.css("marginRight"),float:e.css("float")}).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).addClass("ui-effects-placeholder"),e.data("ui-effects-placeholder",i)),e.css({position:n,left:s.left,top:s.top}),i},removePlaceholder:function(t){var e="ui-effects-placeholder",i=t.data(e);i&&(i.remove(),t.removeData(e))},cleanUp:function(e){t.effects.restoreStyle(e),t.effects.removePlaceholder(e)},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var r=e.cssUnit(i);r[0]>0&&(s[i]=r[0]*n+r[1])}),s}}),t.fn.extend({effect:function(){var e=i.apply(this,arguments),n=t.effects.effect[e.effect],s=n.mode,r=e.queue,a=r||"fx",l=e.complete,u=e.mode,c=[],h=function(e){var i=t(this),n=t.effects.mode(i,u)||s;i.data(o,!0),c.push(n),s&&("show"===n||n===s&&"hide"===n)&&i.show(),s&&"none"===n||t.effects.saveStyle(i),t.isFunction(e)&&e()};if(t.fx.off||!n)return u?this[u](e.duration,l):this.each(function(){l&&l.call(this)});function d(i){var r=t(this);function a(){t.isFunction(l)&&l.call(r[0]),t.isFunction(i)&&i()}e.mode=c.shift(),!1===t.uiBackCompat||s?"none"===e.mode?(r[u](),a()):n.call(r[0],e,function(){r.removeData(o),t.effects.cleanUp(r),"hide"===e.mode&&r.hide(),a()}):(r.is(":hidden")?"hide"===u:"show"===u)?(r[u](),a()):n.call(r[0],e,a)}return!1===r?this.each(h).each(d):this.queue(a,h).queue(a,d)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="show",this.effect.call(this,s)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="hide",this.effect.call(this,s)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||"boolean"==typeof e)return t.apply(this,arguments);var s=i.apply(this,arguments);return s.mode="toggle",this.effect.call(this,s)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n},cssClip:function(t){return t?this.css("clip","rect("+t.top+"px "+t.right+"px "+t.bottom+"px "+t.left+"px)"):s(this.css("clip"),this)},transfer:function(e,i){var n=t(this),s=t(e.to),r="fixed"===s.css("position"),o=t("body"),a=r?o.scrollTop():0,l=r?o.scrollLeft():0,u=s.offset(),c={top:u.top-a,left:u.left-l,height:s.innerHeight(),width:s.innerWidth()},h=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo("body").addClass(e.className).css({top:h.top-a,left:h.left-l,height:n.innerHeight(),width:n.innerWidth(),position:r?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){d.remove(),t.isFunction(i)&&i()})}}),t.fx.step.clip=function(e){e.clipInit||(e.start=t(e.elem).cssClip(),"string"==typeof e.end&&(e.end=s(e.end,e.elem)),e.clipInit=!0),t(e.elem).cssClip({top:e.pos*(e.end.top-e.start.top)+e.start.top,right:e.pos*(e.end.right-e.start.right)+e.start.right,bottom:e.pos*(e.end.bottom-e.start.bottom)+e.start.bottom,left:e.pos*(e.end.left-e.start.left)+e.start.left})}}(),r={},t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){r[e]=function(e){return Math.pow(e,t+2)}}),t.extend(r,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;t<((e=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(r,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return t<.5?i(2*t)/2:1-i(-2*t+2)/2}});t.effects,t.effects.define("blind","hide",function(e,i){var n={up:["bottom","top"],vertical:["bottom","top"],down:["top","bottom"],left:["right","left"],horizontal:["right","left"],right:["left","right"]},s=t(this),r=e.direction||"up",o=s.cssClip(),a={clip:t.extend({},o)},l=t.effects.createPlaceholder(s);a.clip[n[r][0]]=a.clip[n[r][1]],"show"===e.mode&&(s.cssClip(a.clip),l&&l.css(t.effects.clipToBox(a)),a.clip=o),l&&l.animate(t.effects.clipToBox(a),e.duration,e.easing),s.animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("bounce",function(e,i){var n,s,r,o=t(this),a=e.mode,l="hide"===a,u="show"===a,c=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(u||l?1:0),f=e.duration/p,m=e.easing,g="up"===c||"down"===c?"top":"left",v="up"===c||"left"===c,y=0,_=o.queue().length;for(t.effects.createPlaceholder(o),r=o.css(g),h||(h=o["top"===g?"outerHeight":"outerWidth"]()/3),u&&((s={opacity:1})[g]=r,o.css("opacity",0).css(g,v?2*-h:2*h).animate(s,f,m)),l&&(h/=Math.pow(2,d-1)),(s={})[g]=r;y<d;y++)(n={})[g]=(v?"-=":"+=")+h,o.animate(n,f,m).animate(s,f,m),h=l?2*h:h/2;l&&((n={opacity:0})[g]=(v?"-=":"+=")+h,o.animate(n,f,m)),o.queue(i),t.effects.unshift(o,_,p+1)}),t.effects.define("clip","hide",function(e,i){var n,s={},r=t(this),o=e.direction||"vertical",a="both"===o,l=a||"horizontal"===o,u=a||"vertical"===o;n=r.cssClip(),s.clip={top:u?(n.bottom-n.top)/2:n.top,right:l?(n.right-n.left)/2:n.right,bottom:u?(n.bottom-n.top)/2:n.bottom,left:l?(n.right-n.left)/2:n.left},t.effects.createPlaceholder(r),"show"===e.mode&&(r.cssClip(s.clip),s.clip=n),r.animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("drop","hide",function(e,i){var n,s=t(this),r="show"===e.mode,o=e.direction||"left",a="up"===o||"down"===o?"top":"left",l="up"===o||"left"===o?"-=":"+=",u="+="===l?"-=":"+=",c={opacity:0};t.effects.createPlaceholder(s),n=e.distance||s["top"===a?"outerHeight":"outerWidth"](!0)/2,c[a]=l+n,r&&(s.css(c),c[a]=u+n,c.opacity=1),s.animate(c,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("explode","hide",function(e,i){var n,s,r,o,a,l,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,c=u,h=t(this),d="show"===e.mode,p=h.show().css("visibility","hidden").offset(),f=Math.ceil(h.outerWidth()/c),m=Math.ceil(h.outerHeight()/u),g=[];function v(){g.push(this),g.length===u*c&&(h.css({visibility:"visible"}),t(g).remove(),i())}for(n=0;n<u;n++)for(o=p.top+n*m,l=n-(u-1)/2,s=0;s<c;s++)r=p.left+s*f,a=s-(c-1)/2,h.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-s*f,top:-n*m}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:f,height:m,left:r+(d?a*f:0),top:o+(d?l*m:0),opacity:d?0:1}).animate({left:r+(d?0:a*f),top:o+(d?0:l*m),opacity:d?1:0},e.duration||500,e.easing,v)}),t.effects.define("fade","toggle",function(e,i){var n="show"===e.mode;t(this).css("opacity",n?0:1).animate({opacity:n?1:0},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("fold","hide",function(e,i){var n=t(this),s=e.mode,r="show"===s,o="hide"===s,a=e.size||15,l=/([0-9]+)%/.exec(a),u=!!e.horizFirst?["right","bottom"]:["bottom","right"],c=e.duration/2,h=t.effects.createPlaceholder(n),d=n.cssClip(),p={clip:t.extend({},d)},f={clip:t.extend({},d)},m=[d[u[0]],d[u[1]]],g=n.queue().length;l&&(a=parseInt(l[1],10)/100*m[o?0:1]),p.clip[u[0]]=a,f.clip[u[0]]=a,f.clip[u[1]]=0,r&&(n.cssClip(f.clip),h&&h.css(t.effects.clipToBox(f)),f.clip=d),n.queue(function(i){h&&h.animate(t.effects.clipToBox(p),c,e.easing).animate(t.effects.clipToBox(f),c,e.easing),i()}).animate(p,c,e.easing).animate(f,c,e.easing).queue(i),t.effects.unshift(n,g,4)}),t.effects.define("highlight","show",function(e,i){var n=t(this),s={backgroundColor:n.css("backgroundColor")};"hide"===e.mode&&(s.opacity=0),t.effects.saveStyle(n),n.css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:i})}),t.effects.define("size",function(e,i){var n,s,r,o=t(this),a=["fontSize"],l=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],u=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],c=e.mode,h="effect"!==c,d=e.scale||"both",p=e.origin||["middle","center"],f=o.css("position"),m=o.position(),g=t.effects.scaledDimensions(o),v=e.from||g,y=e.to||t.effects.scaledDimensions(o,0);t.effects.createPlaceholder(o),"show"===c&&(r=v,v=y,y=r),s={from:{y:v.height/g.height,x:v.width/g.width},to:{y:y.height/g.height,x:y.width/g.width}},"box"!==d&&"both"!==d||(s.from.y!==s.to.y&&(v=t.effects.setTransition(o,l,s.from.y,v),y=t.effects.setTransition(o,l,s.to.y,y)),s.from.x!==s.to.x&&(v=t.effects.setTransition(o,u,s.from.x,v),y=t.effects.setTransition(o,u,s.to.x,y))),"content"!==d&&"both"!==d||s.from.y!==s.to.y&&(v=t.effects.setTransition(o,a,s.from.y,v),y=t.effects.setTransition(o,a,s.to.y,y)),p&&(n=t.effects.getBaseline(p,g),v.top=(g.outerHeight-v.outerHeight)*n.y+m.top,v.left=(g.outerWidth-v.outerWidth)*n.x+m.left,y.top=(g.outerHeight-y.outerHeight)*n.y+m.top,y.left=(g.outerWidth-y.outerWidth)*n.x+m.left),o.css(v),"content"!==d&&"both"!==d||(l=l.concat(["marginTop","marginBottom"]).concat(a),u=u.concat(["marginLeft","marginRight"]),o.find("*[width]").each(function(){var i=t(this),n=t.effects.scaledDimensions(i),r={height:n.height*s.from.y,width:n.width*s.from.x,outerHeight:n.outerHeight*s.from.y,outerWidth:n.outerWidth*s.from.x},o={height:n.height*s.to.y,width:n.width*s.to.x,outerHeight:n.height*s.to.y,outerWidth:n.width*s.to.x};s.from.y!==s.to.y&&(r=t.effects.setTransition(i,l,s.from.y,r),o=t.effects.setTransition(i,l,s.to.y,o)),s.from.x!==s.to.x&&(r=t.effects.setTransition(i,u,s.from.x,r),o=t.effects.setTransition(i,u,s.to.x,o)),h&&t.effects.saveStyle(i),i.css(r),i.animate(o,e.duration,e.easing,function(){h&&t.effects.restoreStyle(i)})})),o.animate(y,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){var e=o.offset();0===y.opacity&&o.css("opacity",v.opacity),h||(o.css("position","static"===f?"relative":f).offset(e),t.effects.saveStyle(o)),i()}})}),t.effects.define("scale",function(e,i){var n=t(this),s=e.mode,r=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"effect"!==s?0:100),o=t.extend(!0,{from:t.effects.scaledDimensions(n),to:t.effects.scaledDimensions(n,r,e.direction||"both"),origin:e.origin||["middle","center"]},e);e.fade&&(o.from.opacity=1,o.to.opacity=0),t.effects.effect.size.call(this,o,i)}),t.effects.define("puff","hide",function(e,i){var n=t.extend(!0,{},e,{fade:!0,percent:parseInt(e.percent,10)||150});t.effects.effect.scale.call(this,n,i)}),t.effects.define("pulsate","show",function(e,i){var n=t(this),s=e.mode,r="show"===s,o=r||"hide"===s,a=2*(e.times||5)+(o?1:0),l=e.duration/a,u=0,c=1,h=n.queue().length;for(!r&&n.is(":visible")||(n.css("opacity",0).show(),u=1);c<a;c++)n.animate({opacity:u},l,e.easing),u=1-u;n.animate({opacity:u},l,e.easing),n.queue(i),t.effects.unshift(n,h,a+1)}),t.effects.define("shake",function(e,i){var n=1,s=t(this),r=e.direction||"left",o=e.distance||20,a=e.times||3,l=2*a+1,u=Math.round(e.duration/l),c="up"===r||"down"===r?"top":"left",h="up"===r||"left"===r,d={},p={},f={},m=s.queue().length;for(t.effects.createPlaceholder(s),d[c]=(h?"-=":"+=")+o,p[c]=(h?"+=":"-=")+2*o,f[c]=(h?"-=":"+=")+2*o,s.animate(d,u,e.easing);n<a;n++)s.animate(p,u,e.easing).animate(f,u,e.easing);s.animate(p,u,e.easing).animate(d,u/2,e.easing).queue(i),t.effects.unshift(s,m,l+1)}),t.effects.define("slide","show",function(e,i){var n,s,r=t(this),o={up:["bottom","top"],down:["top","bottom"],left:["right","left"],right:["left","right"]},a=e.mode,l=e.direction||"left",u="up"===l||"down"===l?"top":"left",c="up"===l||"left"===l,h=e.distance||r["top"===u?"outerHeight":"outerWidth"](!0),d={};t.effects.createPlaceholder(r),n=r.cssClip(),s=r.position()[u],d[u]=(c?-1:1)*h+s,d.clip=r.cssClip(),d.clip[o[l][1]]=d.clip[o[l][0]],"show"===a&&(r.cssClip(d.clip),r.css(u,d[u]),d.clip=n,d[u]=s),r.animate(d,{queue:!1,duration:e.duration,easing:e.easing,complete:i})});!1!==t.uiBackCompat&&t.effects.define("transfer",function(e,i){t(this).transfer(e,i)});t.ui.focusable=function(e,i){var n,s,r,o,a,l=e.nodeName.toLowerCase();return"area"===l?(s=(n=e.parentNode).name,!(!e.href||!s||"map"!==n.nodeName.toLowerCase())&&((r=t("img[usemap='#"+s+"']")).length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(o=!e.disabled)&&(a=t(e).closest("fieldset")[0])&&(o=!a.disabled):o="a"===l&&e.href||i,o&&t(e).is(":visible")&&function(t){var e=t.css("visibility");for(;"inherit"===e;)t=t.parent(),e=t.css("visibility");return"hidden"!==e}(t(e)))},t.extend(t.expr[":"],{focusable:function(e){return t.ui.focusable(e,null!=t.attr(e,"tabindex"))}});t.ui.focusable,t.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):t(this[0].form)},t.ui.formResetMixin={_formResetHandler:function(){var e=t(this);setTimeout(function(){var i=e.data("ui-form-reset-instances");t.each(i,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var t=this.form.data("ui-form-reset-instances")||[];t.length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(t.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}};"1.7"===t.fn.jquery.substring(0,3)&&(t.each(["Width","Height"],function(e,i){var n="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};function o(e,i,s,r){return t.each(n,function(){i-=parseFloat(t.css(e,"padding"+this))||0,s&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),r&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}t.fn["inner"+i]=function(e){return void 0===e?r["inner"+i].call(this):this.each(function(){t(this).css(s,o(this,e)+"px")})},t.fn["outer"+i]=function(e,n){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){t(this).css(s,o(this,e,!0,n)+"px")})}}),t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))});var l,u;t.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},t.ui.escapeSelector=(l=/([!"#$%&'()*+,.\/:;<=>?@[\]^`{|}~])/g,function(t){return t.replace(l,"\\$1")}),t.fn.labels=function(){var e,i,n,s,r;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(s=this.eq(0).parents("label"),(n=this.attr("id"))&&(r=(e=this.eq(0).parents().last()).add(e.length?e.siblings():this.siblings()),i="label[for='"+t.ui.escapeSelector(n)+"']",s=s.add(r.find(i).addBack(i))),this.pushStack(s))},t.fn.scrollParent=function(e){var i=this.css("position"),n="absolute"===i,s=e?/(auto|scroll|hidden)/:/(auto|scroll)/,r=this.parents().filter(function(){var e=t(this);return(!n||"static"!==e.css("position"))&&s.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==i&&r.length?r:t(this[0].ownerDocument||document)},t.extend(t.expr[":"],{tabbable:function(e){var i=t.attr(e,"tabindex"),n=null!=i;return(!n||i>=0)&&t.ui.focusable(e,n)}}),t.fn.extend({uniqueId:(u=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++u)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&t(this).removeAttr("id")})}}),t.widget("ui.accordion",{version:"1.12.1",options:{active:0,animate:{},classes:{"ui-accordion-header":"ui-corner-top","ui-accordion-header-collapsed":"ui-corner-all","ui-accordion-content":"ui-corner-bottom"},collapsible:!1,event:"click",header:"> li > :first-child, > :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this._addClass("ui-accordion","ui-widget ui-helper-reset"),this.element.attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t()}},_createIcons:function(){var e,i,n=this.options.icons;n&&(e=t("<span>"),this._addClass(e,"ui-accordion-header-icon","ui-icon "+n.header),e.prependTo(this.headers),i=this.active.children(".ui-accordion-header-icon"),this._removeClass(i,n.header)._addClass(i,null,n.activeHeader)._addClass(this.headers,"ui-accordion-icons"))},_destroyIcons:function(){this._removeClass(this.headers,"ui-accordion-icons"),this.headers.children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeAttr("role"),this.headers.removeAttr("role aria-expanded aria-selected aria-controls tabIndex").removeUniqueId(),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role aria-hidden aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){"active"!==t?("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||!1!==this.options.active||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons())):this._activate(e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t),this._toggleClass(this.headers.add(this.headers.next()),null,"ui-state-disabled",!!t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),r=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:r=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:r=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:r=this.headers[0];break;case i.END:r=this.headers[n-1]}r&&(t(e.target).attr("tabIndex",-1),t(r).attr("tabIndex",0),t(r).trigger("focus"),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().trigger("focus")},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=t()):!1===e.active?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var t=this.headers,e=this.panels;this.headers=this.element.find(this.options.header),this._addClass(this.headers,"ui-accordion-header ui-accordion-header-collapsed","ui-state-default"),this.panels=this.headers.next().filter(":not(.ui-accordion-content-active)").hide(),this._addClass(this.panels,"ui-accordion-content","ui-helper-reset ui-widget-content"),e&&(this._off(t.not(this.headers)),this._off(e.not(this.panels)))},_refresh:function(){var e,i=this.options,n=i.heightStyle,s=this.element.parent();this.active=this._findActive(i.active),this._addClass(this.active,"ui-accordion-header-active","ui-state-active")._removeClass(this.active,"ui-accordion-header-collapsed"),this._addClass(this.active.next(),"ui-accordion-content-active"),this.active.next().show(),this.headers.attr("role","tab").each(function(){var e=t(this),i=e.uniqueId().attr("id"),n=e.next(),s=n.uniqueId().attr("id");e.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(e=s.height(),this.element.siblings(":visible").each(function(){var i=t(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(e-=i.outerHeight(!0))}),this.headers.each(function(){e-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,e-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===n&&(e=0,this.headers.next().each(function(){var i=t(this).is(":visible");i||t(this).show(),e=Math.max(e,t(this).css("height","").height()),i||t(this).hide()}).height(e))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i,n,s=this.options,r=this.active,o=t(e.currentTarget),a=o[0]===r[0],l=a&&s.collapsible,u=l?t():o.next(),c=r.next(),h={oldHeader:r,oldPanel:c,newHeader:l?t():o,newPanel:u};e.preventDefault(),a&&!s.collapsible||!1===this._trigger("beforeActivate",e,h)||(s.active=!l&&this.headers.index(o),this.active=a?t():o,this._toggle(h),this._removeClass(r,"ui-accordion-header-active","ui-state-active"),s.icons&&(i=r.children(".ui-accordion-header-icon"),this._removeClass(i,null,s.icons.activeHeader)._addClass(i,null,s.icons.header)),a||(this._removeClass(o,"ui-accordion-header-collapsed")._addClass(o,"ui-accordion-header-active","ui-state-active"),s.icons&&(n=o.children(".ui-accordion-header-icon"),this._removeClass(n,null,s.icons.header)._addClass(n,null,s.icons.activeHeader)),this._addClass(o.next(),"ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(t(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(t,e,i){var n,s,r,o=this,a=0,l=t.css("box-sizing"),u=t.length&&(!e.length||t.index()<e.index()),c=this.options.animate||{},h=u&&c.down||c,d=function(){o._toggleComplete(i)};return"number"==typeof h&&(r=h),"string"==typeof h&&(s=h),s=s||h.easing||c.easing,r=r||h.duration||c.duration,e.length?t.length?(n=t.show().outerHeight(),e.animate(this.hideProps,{duration:r,easing:s,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(this.showProps,{duration:r,easing:s,complete:d,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==o.options.heightStyle&&(i.now=Math.round(n-e.outerHeight()-a),a=0)}})):e.animate(this.hideProps,r,s,d):t.animate(this.showProps,r,s,d)},_toggleComplete:function(t){var e=t.oldPanel,i=e.prev();this._removeClass(e,"ui-accordion-content-active"),this._removeClass(i,"ui-accordion-header-active")._addClass(i,"ui-accordion-header-collapsed"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}}),t.ui.safeActiveElement=function(t){var e;try{e=t.activeElement}catch(i){e=t.body}return e||(e=t.body),e.nodeName||(e=t.body),e},t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(t){t.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),n=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&n.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),n=t(e.currentTarget);i[0]===n[0]&&(this._removeClass(n.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,n))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.find(this.options.items).eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]))&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(t){this._closeOnDocumentClick(t)&&this.collapseAll(t),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled").children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),e.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,n,s,r,o=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:o=!1,n=this.previousFilter||"",r=!1,s=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),s===n?r=!0:s=n+s,i=this._filterMenuItems(s),(i=r&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(e.keyCode),i=this._filterMenuItems(s)),i.length?(this.focus(e,i),this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}o&&e.preventDefault()},_activate:function(t){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i,n,s,r=this,o=this.options.icons.submenu,a=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),i=a.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),n=t("<span>").data("ui-menu-submenu-caret",!0);r._addClass(n,"ui-menu-icon","ui-icon "+o),i.attr("aria-haspopup","true").prepend(n),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(i,"ui-menu","ui-widget ui-widget-content ui-front"),(e=a.add(this.element).find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);r._isDivider(e)&&r._addClass(e,"ui-menu-divider","ui-widget-content")}),s=(n=e.not(".ui-menu-item, .ui-menu-divider")).children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(s,"ui-menu-item-wrapper"),e.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){if("icons"===t){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,e.submenu)}this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",String(t)),this._toggleClass(null,"ui-state-disabled",!!t)},focus:function(t,e){var i,n,s;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),s=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=e.children(".ui-menu")).length&&t&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,r,o,a;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,r=this.activeMenu.scrollTop(),o=this.activeMenu.height(),a=e.outerHeight(),s<0?this.activeMenu.scrollTop(r+s):s+a>o&&this.activeMenu.scrollTop(r+s-o+a))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",t,{item:this.active}),this.active=null)},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this._removeClass(n.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(t){return!/[^\-\u2014\u2013\s]/.test(t.text())},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.find(this.options.items)[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;this.active?this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-n-s<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,n,s;this.active?this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),n=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return n.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}});t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),r="textarea"===s,o="input"===s;this.isMultiLine=r||!o&&this._isContentEditable(this.element),this.valueMethod=this.element[r||o?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var r=t.ui.keyCode;switch(s.keyCode){case r.PAGE_UP:e=!0,this._move("previousPage",s);break;case r.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case r.UP:e=!0,this._keyEvent("previous",s);break;case r.DOWN:e=!0,this._keyEvent("next",s);break;case r.ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case r.TAB:this.menu.active&&this.menu.select(s);break;case r.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){if(n)return n=!1,void t.preventDefault();this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),this._change(t))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var n,s;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});s=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:s})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(s.value),(n=i.item.attr("aria-label")||s.value)&&t.trim(n).length&&(this.liveRegion.children().hide(),t("<div>").text(n).appendTo(this.liveRegion))},menuselect:function(e,i){var n=i.item.data("ui-autocomplete-item"),s=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=s,this._delay(function(){this.previous=s,this.selectedItem=n})),!1!==this._trigger("select",e,{item:n})&&this._value(n.value),this.term=this._value(),this.close(e),this.selectedItem=n}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(t){this._isEventTargetInWidget(t)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){var e=this.term===this._value(),i=this.menu.element.is(":visible"),n=t.altKey||t.ctrlKey||t.metaKey||t.shiftKey;e&&(!e||i||n)||(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):!1!==this._trigger("search",e)?this._search(t):void 0},_search:function(t){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(t,e){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[t](e);this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(t,e),e.preventDefault())},_isContentEditable:function(t){if(!t.length)return!1;var e=t.prop("contentEditable");return"inherit"===e?this._isContentEditable(t.parent()):"true"===e}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}});t.ui.autocomplete;var c=/ui-corner-([a-z]){2,6}/g;t.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var e=this,i=[];t.each(this.options.items,function(n,s){var r,o={};if(s)return"controlgroupLabel"===n?((r=e.element.find(s)).each(function(){var e=t(this);e.children(".ui-controlgroup-label-contents").length||e.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),e._addClass(r,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(r.get()))):void(t.fn[n]&&(o=e["_"+n+"Options"]?e["_"+n+"Options"]("middle"):{classes:{}},e.element.find(s).each(function(){var s=t(this),r=s[n]("instance"),a=t.widget.extend({},o);if("button"!==n||!s.parent(".ui-spinner").length){r||(r=s[n]()[n]("instance")),r&&(a.classes=e._resolveClassesValues(a.classes,r)),s[n](a);var l=s[n]("widget");t.data(l[0],"ui-controlgroup-data",r||s[n]("instance")),i.push(l[0])}})))}),this.childWidgets=t(t.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var i=t(this).data("ui-controlgroup-data");i&&i[e]&&i[e]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(e,i){var n={};return t.each(e,function(s){var r=i.options.classes[s]||"";r=t.trim(r.replace(c,"")),n[s]=(r+" "+e[s]).replace(/\s+/g," ")}),n},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var e,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),e=this.childWidgets,this.options.onlyVisible&&(e=e.filter(":visible")),e.length&&(t.each(["first","last"],function(t,n){var s=e[n]().data("ui-controlgroup-data");if(s&&i["_"+s.widgetName+"Options"]){var r=i["_"+s.widgetName+"Options"](1===e.length?"only":n);r.classes=i._resolveClassesValues(r.classes,s),s.element[s.widgetName](r)}else i._updateCornerClass(e[n](),n)}),this._callChildMethod("refresh"))}});t.widget("ui.checkboxradio",[t.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,i,n=this,s=this._super()||{};return this._readType(),i=this.element.labels(),this.label=t(i[i.length-1]),this.label.length||t.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){n.originalLabel+=3===this.nodeType?t(this).text():this.outerHTML}),this.originalLabel&&(s.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(s.disabled=e),s},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||t.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,i="input[name='"+t.ui.escapeSelector(e)+"']";return e?(this.form.length?t(this.form[0].elements).filter(i):t(i).filter(function(){return 0===t(this).form().length})).not(this.element):t([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=t(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){if("label"!==t||e){if(this._super(t,e),"disabled"===t)return this._toggleClass(this.label,null,"ui-state-disabled",e),void(this.element[0].disabled=e);this.refresh()}},_updateIcon:function(e){var i="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=t("<span>"),this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(i+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):i+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",i),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),this.iconSpace&&(t=t.not(this.iconSpace[0])),t.remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]);t.ui.checkboxradio;t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(e){e.keyCode===t.ui.keyCode.SPACE&&(e.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(e,i){var n="iconPosition"!==e,s=n?this.options.iconPosition:i,r="top"===s||"bottom"===s;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,i),this._attachIcon(s),r?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(s))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=void 0===t.showLabel?this.options.showLabel:t.showLabel,i=void 0===t.icon?this.options.icon:t.icon;e||i||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e,e&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),t.fn.button=function(e){return function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?e.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}}(t.fn.button),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))});var h;t.ui.button;function d(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.regional.en=t.extend(!0,{},this.regional[""]),this.regional["en-US"]=t.extend(!0,{},this.regional.en),this.dpDiv=p(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function p(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.on("mouseout",i,function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).on("mouseover",i,f)}function f(){t.datepicker._isDisabledDatepicker(h.inline?h.dpDiv.parent()[0]:h.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))}function m(e,i){for(var n in t.extend(e,i),i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.12.1"}}),t.extend(d.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return m(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,r;s="div"===(n=e.nodeName.toLowerCase())||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(r=this._newInst(t(e),s)).settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,r):s&&this._inlineDatepicker(e,r)},_newInst:function(e,i){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?p(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).on("keydown",this._doKeyDown).on("keypress",this._doKeyPress).on("keyup",this._doKeyUp),this._autoSize(i),t.data(e,"datepicker",i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,r,o=this._get(i,"appendText"),a=this._get(i,"isRTL");i.append&&i.append.remove(),o&&(i.append=t("<span class='"+this._appendClass+"'>"+o+"</span>"),e[a?"before":"after"](i.append)),e.off("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),"focus"!==(n=this._get(i,"showOn"))&&"both"!==n||e.on("focus",this._showDatepicker),"button"!==n&&"both"!==n||(s=this._get(i,"buttonText"),r=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:r,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(r?t("<img/>").attr({src:r,alt:s,title:s}):s)),e[a?"before":"after"](i.trigger),i.trigger.on("click",function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,r=new Date(2009,11,20),o=this._get(t,"dateFormat");o.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;s<t.length;s++)t[s].length>i&&(i=t[s].length,n=s);return n},r.setMonth(e(this._get(t,o.match(/MM/)?"monthNames":"monthNamesShort"))),r.setDate(e(this._get(t,o.match(/DD/)?"dayNames":"dayNamesShort"))+20-r.getDay())),t.input.attr("size",this._formatDate(t,r).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,"datepicker",i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,s,r){var o,a,l,u,c,h=this._dialogInst;return h||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.on("keydown",this._doKeyDown),t("body").append(this._dialogInput),(h=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},t.data(this._dialogInput[0],"datepicker",h)),m(h.settings,s||{}),i=i&&i.constructor===Date?this._formatDate(h,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[a/2-100+u,l/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),h.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],"datepicker",h),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,"datepicker");n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,"datepicker"),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).off("focus",this._showDatepicker).off("keydown",this._doKeyDown).off("keypress",this._doKeyPress).off("keyup",this._doKeyUp)):"div"!==i&&"span"!==i||n.removeClass(this.markerClassName).empty(),h===s&&(h=null))},_enableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!1,r.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),r=t.data(e,"datepicker");s.hasClass(this.markerClassName)&&("input"===(i=e.nodeName.toLowerCase())?(e.disabled=!0,r.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==i&&"span"!==i||((n=s.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;e<this._disabledInputs.length;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,"datepicker")}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,i,n){var s,r,o,a,l=this._getInst(e);if(2===arguments.length&&"string"==typeof i)return"defaults"===i?t.extend({},t.datepicker._defaults):l?"all"===i?t.extend({},l.settings):this._get(l,i):null;s=i||{},"string"==typeof i&&((s={})[i]=n),l&&(this._curInst===l&&this._hideDatepicker(),r=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(l,"min"),a=this._getMinMaxDate(l,"max"),m(l.settings,s),null!==o&&void 0!==s.dateFormat&&void 0===s.minDate&&(l.settings.minDate=this._formatDate(l,o)),null!==a&&void 0!==s.dateFormat&&void 0===s.maxDate&&(l.settings.maxDate=this._formatDate(l,a)),"disabled"in s&&(s.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(t(e),l),this._autoSize(l),this._setDate(l,r),this._updateAlternate(l),this._updateDatepicker(l))},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,r=t.datepicker._getInst(e.target),o=!0,a=r.dpDiv.is(".ui-datepicker-rtl");if(r._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),o=!1;break;case 13:return(s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",r.dpDiv))[0]&&t.datepicker._selectDay(e.target,r.selectedMonth,r.selectedYear,s[0]),(i=t.datepicker._get(r,"onSelect"))?(n=t.datepicker._formatDate(r),i.apply(r.input?r.input[0]:null,[n,r])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(r,"stepBigMonths"):-t.datepicker._get(r,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,a?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(r,"stepBigMonths"):+t.datepicker._get(r,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var i,n,s=t.datepicker._getInst(e.target);if(t.datepicker._get(s,"constrainInput"))return i=t.datepicker._possibleChars(t.datepicker._get(s,"dateFormat")),n=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||n<" "||!i||i.indexOf(n)>-1},_doKeyUp:function(e){var i=t.datepicker._getInst(e.target);if(i.input.val()!==i.lastVal)try{t.datepicker.parseDate(t.datepicker._get(i,"dateFormat"),i.input?i.input.val():null,t.datepicker._getFormatConfig(i))&&(t.datepicker._setDateFromField(i),t.datepicker._updateAlternate(i),t.datepicker._updateDatepicker(i))}catch(t){}return!0},_showDatepicker:function(e){var i,n,s,r,o,a,l;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),t.datepicker._isDisabledDatepicker(e)||t.datepicker._lastInput===e)||(i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),!1!==(s=(n=t.datepicker._get(i,"beforeShow"))?n.apply(e,[e,i]):{})&&(m(i.settings,s),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),r=!1,t(e).parents().each(function(){return!(r|="fixed"===t(this).css("position"))}),o={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),o=t.datepicker._checkOffset(i,o,r),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":r?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),i.inline||(a=t.datepicker._get(i,"showAnim"),l=t.datepicker._get(i,"duration"),i.dpDiv.css("z-index",function(t){for(var e,i;t.length&&t[0]!==document;){if(("absolute"===(e=t.css("position"))||"relative"===e||"fixed"===e)&&(i=parseInt(t.css("zIndex"),10),!isNaN(i)&&0!==i))return i;t=t.parent()}return 0}(t(e))+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[a]?i.dpDiv.show(a,t.datepicker._get(i,"showOptions"),l):i.dpDiv[a||"show"](a?l:null),t.datepicker._shouldFocusInput(i)&&i.input.trigger("focus"),t.datepicker._curInst=i)))},_updateDatepicker:function(e){this.maxRows=4,h=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e);var i,n=this._getNumberOfMonths(e),s=n[1],r=e.dpDiv.find("."+this._dayOverClass+" a");r.length>0&&f.apply(r.get(0)),e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",17*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.trigger("focus"),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),r=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,a=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),u=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-o:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+a?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+r>u&&u>r?Math.abs(r+a):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return[(i=t(e).offset()).left,i.top]},_hideDatepicker:function(e){var i,n,s,r,o=this._curInst;!o||e&&o!==t.data(e,"datepicker")||this._datepickerShowing&&(i=this._get(o,"showAnim"),n=this._get(o,"duration"),s=function(){t.datepicker._tidyDialog(o)},t.effects&&(t.effects.effect[i]||t.effects[i])?o.dpDiv.hide(i,t.datepicker._get(o,"showOptions"),n,s):o.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,(r=this._get(o,"onClose"))&&r.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).off(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id===t.datepicker._mainDivId||0!==i.parents("#"+t.datepicker._mainDivId).length||i.hasClass(t.datepicker.markerClassName)||i.closest("."+t.datepicker._triggerClass).length||!t.datepicker._datepickerShowing||t.datepicker._inDialog&&t.blockUI)&&(!i.hasClass(t.datepicker.markerClassName)||t.datepicker._curInst===n)||t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),r=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(r,i+("M"===n?this._get(r,"showCurrentAtPos"):0),n),this._updateDatepicker(r))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),r=this._getInst(s[0]);r["selected"+("M"===n?"Month":"Year")]=r["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(r),this._adjustDate(s)},_selectDay:function(e,i,n,s){var r,o=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((r=this._getInst(o[0])).selectedDay=r.currentDay=t("a",s).html(),r.selectedMonth=r.currentMonth=i,r.selectedYear=r.currentYear=n,this._selectDate(e,this._formatDate(r,r.currentDay,r.currentMonth,r.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),r=this._getInst(s[0]);i=null!=i?i:this._formatDate(r),r.input&&r.input.val(i),this._updateAlternate(r),(n=this._get(r,"onSelect"))?n.apply(r.input?r.input[0]:null,[i,r]):r.input&&r.input.trigger("change"),r.inline?this._updateDatepicker(r):(this._hideDatepicker(),this._lastInput=r.input[0],"object"!=typeof r.input[0]&&r.input.trigger("focus"),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,r=this._get(e,"altField");r&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(r).val(s))},noWeekends:function(t){var e=t.getDay();return[e>0&&e<6,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(e,i,n){if(null==e||null==i)throw"Invalid arguments";if(""===(i="object"==typeof i?i.toString():i+""))return null;var s,r,o,a,l=0,u=(n?n.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof u?u:(new Date).getFullYear()%100+parseInt(u,10),h=(n?n.dayNamesShort:null)||this._defaults.dayNamesShort,d=(n?n.dayNames:null)||this._defaults.dayNames,p=(n?n.monthNamesShort:null)||this._defaults.monthNamesShort,f=(n?n.monthNames:null)||this._defaults.monthNames,m=-1,g=-1,v=-1,y=-1,_=!1,b=function(t){var i=s+1<e.length&&e.charAt(s+1)===t;return i&&s++,i},w=function(t){var e=b(t),n="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=new RegExp("^\\d{"+("y"===t?n:1)+","+n+"}"),r=i.substring(l).match(s);if(!r)throw"Missing number at position "+l;return l+=r[0].length,parseInt(r[0],10)},T=function(e,n,s){var r=-1,o=t.map(b(e)?s:n,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(o,function(t,e){var n=e[1];if(i.substr(l,n.length).toLowerCase()===n.toLowerCase())return r=e[0],l+=n.length,!1}),-1!==r)return r+1;throw"Unknown name at position "+l},k=function(){if(i.charAt(l)!==e.charAt(s))throw"Unexpected literal at position "+l;l++};for(s=0;s<e.length;s++)if(_)"'"!==e.charAt(s)||b("'")?k():_=!1;else switch(e.charAt(s)){case"d":v=w("d");break;case"D":T("D",h,d);break;case"o":y=w("o");break;case"m":g=w("m");break;case"M":g=T("M",p,f);break;case"y":m=w("y");break;case"@":m=(a=new Date(w("@"))).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"!":m=(a=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),g=a.getMonth()+1,v=a.getDate();break;case"'":b("'")?k():_=!0;break;default:k()}if(l<i.length&&(o=i.substr(l),!/^\s+/.test(o)))throw"Extra/unparsed characters found in date: "+o;if(-1===m?m=(new Date).getFullYear():m<100&&(m+=(new Date).getFullYear()-(new Date).getFullYear()%100+(m<=c?0:-100)),y>-1)for(g=1,v=y;;){if(v<=(r=this._getDaysInMonth(m,g-1)))break;g++,v-=r}if((a=this._daylightSavingAdjust(new Date(m,g-1,v))).getFullYear()!==m||a.getMonth()+1!==g||a.getDate()!==v)throw"Invalid date";return a},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,r=(i?i.dayNames:null)||this._defaults.dayNames,o=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,a=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=n+1<t.length&&t.charAt(n+1)===e;return i&&n++,i},u=function(t,e,i){var n=""+e;if(l(t))for(;n.length<i;)n="0"+n;return n},c=function(t,e,i,n){return l(t)?n[e]:i[e]},h="",d=!1;if(e)for(n=0;n<t.length;n++)if(d)"'"!==t.charAt(n)||l("'")?h+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":h+=u("d",e.getDate(),2);break;case"D":h+=c("D",e.getDay(),s,r);break;case"o":h+=u("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=u("m",e.getMonth()+1,2);break;case"M":h+=c("M",e.getMonth(),o,a);break;case"y":h+=l("y")?e.getFullYear():(e.getFullYear()%100<10?"0":"")+e.getFullYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=t.charAt(n)}return h},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=e+1<t.length&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;e<t.length;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,e){return void 0!==t.settings[e]?t.settings[e]:this._defaults[e]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),r=s,o=this._getFormatConfig(t);try{r=this.parseDate(i,n,o)||s}catch(t){n=e?"":n}t.selectedDay=r.getDate(),t.drawMonth=t.selectedMonth=r.getMonth(),t.drawYear=t.selectedYear=r.getFullYear(),t.currentDay=n?r.getDate():0,t.currentMonth=n?r.getMonth():0,t.currentYear=n?r.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=null==i||""===i?n:"string"==typeof i?function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(t){}for(var n=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,s=n.getFullYear(),r=n.getMonth(),o=n.getDate(),a=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,l=a.exec(i);l;){switch(l[2]||"d"){case"d":case"D":o+=parseInt(l[1],10);break;case"w":case"W":o+=7*parseInt(l[1],10);break;case"m":case"M":r+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r));break;case"y":case"Y":s+=parseInt(l[1],10),o=Math.min(o,t.datepicker._getDaysInMonth(s,r))}l=a.exec(i)}return new Date(s,r,o)}(i):"number"==typeof i?isNaN(i)?n:function(t){var e=new Date;return e.setDate(e.getDate()+t),e}(i):new Date(i.getTime());return(s=s&&"Invalid Date"===s.toString()?n:s)&&(s.setHours(0),s.setMinutes(0),s.setSeconds(0),s.setMilliseconds(0)),this._daylightSavingAdjust(s)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,r=t.selectedYear,o=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=o.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=o.getMonth(),t.drawYear=t.selectedYear=t.currentYear=o.getFullYear(),s===t.selectedMonth&&r===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){return!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay))},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).on(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,r,o,a,l,u,c,h,d,p,f,m,g,v,y,_,b,w,T,k,S,C,x,E,D,A,P,I,O,M,L,N,R,U,F,j,H=new Date,z=this._daylightSavingAdjust(new Date(H.getFullYear(),H.getMonth(),H.getDate())),B=this._get(t,"isRTL"),W=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),V=this._get(t,"navigationAsDateFormat"),q=this._getNumberOfMonths(t),$=this._get(t,"showCurrentAtPos"),G=this._get(t,"stepMonths"),X=1!==q[0]||1!==q[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Z=this._getMinMaxDate(t,"min"),Q=this._getMinMaxDate(t,"max"),J=t.drawMonth-$,tt=t.drawYear;if(J<0&&(J+=12,tt--),Q)for(e=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),e=Z&&e<Z?Z:e;this._daylightSavingAdjust(new Date(tt,J,1))>e;)--J<0&&(J=11,tt--);for(t.drawMonth=J,t.drawYear=tt,i=this._get(t,"prevText"),i=V?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,J-G,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=V?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,J+G,1)),this._getFormatConfig(t)):s,r=this._canAdjustMonth(t,1,tt,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",o=this._get(t,"currentText"),a=this._get(t,"gotoCurrent")&&t.currentDay?K:z,o=V?this.formatDate(o,a,this._getFormatConfig(t)):o,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",u=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(t,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+o+"</button>":"")+(B?"":l)+"</div>":"",c=parseInt(this._get(t,"firstDay"),10),c=isNaN(c)?0:c,h=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),_=this._getDefaultDate(t),b="",T=0;T<q[0];T++){for(k="",this.maxRows=4,S=0;S<q[1];S++){if(C=this._daylightSavingAdjust(new Date(tt,J,t.selectedDay)),x=" ui-corner-all",E="",X){if(E+="<div class='ui-datepicker-group",q[1]>1)switch(S){case 0:E+=" ui-datepicker-group-first",x=" ui-corner-"+(B?"right":"left");break;case q[1]-1:E+=" ui-datepicker-group-last",x=" ui-corner-"+(B?"left":"right");break;default:E+=" ui-datepicker-group-middle",x=""}E+="'>"}for(E+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+x+"'>"+(/all|left/.test(x)&&0===T?B?r:n:"")+(/all|right/.test(x)&&0===T?B?n:r:"")+this._generateMonthYearHeader(t,J,tt,Z,Q,T>0||S>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",D=h?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;w<7;w++)D+="<th scope='col'"+((w+c+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[A=(w+c)%7]+"'>"+p[A]+"</span></th>";for(E+=D+"</tr></thead><tbody>",P=this._getDaysInMonth(tt,J),tt===t.selectedYear&&J===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,P)),I=(this._getFirstDayOfMonth(tt,J)-c+7)%7,O=Math.ceil((I+P)/7),M=X&&this.maxRows>O?this.maxRows:O,this.maxRows=M,L=this._daylightSavingAdjust(new Date(tt,J,1-I)),N=0;N<M;N++){for(E+="<tr>",R=h?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(L)+"</td>":"",w=0;w<7;w++)U=g?g.apply(t.input?t.input[0]:null,[L]):[!0,""],j=(F=L.getMonth()!==J)&&!y||!U[0]||Z&&L<Z||Q&&L>Q,R+="<td class='"+((w+c+6)%7>=5?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(L.getTime()===C.getTime()&&J===t.selectedMonth&&t._keyEvent||_.getTime()===L.getTime()&&_.getTime()===C.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+U[1]+(L.getTime()===K.getTime()?" "+this._currentClass:"")+(L.getTime()===z.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!U[2]?"":" title='"+U[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+L.getMonth()+"' data-year='"+L.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+L.getDate()+"</span>":"<a class='ui-state-default"+(L.getTime()===z.getTime()?" ui-state-highlight":"")+(L.getTime()===K.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+L.getDate()+"</a>")+"</td>",L.setDate(L.getDate()+1),L=this._daylightSavingAdjust(L);E+=R+"</tr>"}++J>11&&(J=0,tt++),k+=E+="</tbody></table>"+(X?"</div>"+(q[0]>0&&S===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}b+=k}return b+=u,t._keyEvent=!1,b},_generateMonthYearHeader:function(t,e,i,n,s,r,o,a){var l,u,c,h,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",b="";if(r||!g)b+="<span class='ui-datepicker-month'>"+o[e]+"</span>";else{for(l=n&&n.getFullYear()===i,u=s&&s.getFullYear()===i,b+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",c=0;c<12;c++)(!l||c>=n.getMonth())&&(!u||c<=s.getMonth())&&(b+="<option value='"+c+"'"+(c===e?" selected='selected'":"")+">"+a[c]+"</option>");b+="</select>"}if(y||(_+=b+(!r&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",r||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",_+=t.yearshtml,t.yearshtml=null}return _+=this._get(t,"yearSuffix"),y&&(_+=(!r&&g&&v?"":"&#xa0;")+b),_+="</div>"},_adjustInstDate:function(t,e,i){var n=t.selectedYear+("Y"===i?e:0),s=t.selectedMonth+("M"===i?e:0),r=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),o=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,r)));t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&e<i?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),r=this._daylightSavingAdjust(new Date(i,n+(e<0?e:s[0]*s[1]),1));return e<0&&r.setDate(this._getDaysInMonth(r.getFullYear(),r.getMonth())),this._isInRange(t,r)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),r=this._getMinMaxDate(t,"max"),o=null,a=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),o=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(o+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||e.getTime()>=s.getTime())&&(!r||e.getTime()<=r.getTime())&&(!o||e.getFullYear()>=o)&&(!a||e.getFullYear()<=a)},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return{shortYearCutoff:e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).on("mousedown",t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new d,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.12.1";t.datepicker,t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var g=!1;t(document).on("mouseup",function(){g=!1});t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!g){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var i=this,n=1===e.which,s=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(n&&!s&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return i._mouseMove(t)},this._mouseUpDelegate=function(t){return i._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),g=!0,!0))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,g=!1,e.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),t.ui.plugin={add:function(e,i,n){var s,r=t.ui[e].prototype;for(s in n)r.plugins[s]=r.plugins[s]||[],r.plugins[s].push([i,n[s]])},call:function(t,e,i,n){var s,r=t.plugins[e];if(r&&(n||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(s=0;s<r.length;s++)t.options[r[s][0]]&&r[s][1].apply(t.element,i)}},t.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&t(e).trigger("blur")};t.widget("ui.draggable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(e){var i=this.options;return!(this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0)&&(this.handle=this._getHandle(e),!!this.handle&&(this._blurActiveElement(e),this._blockFrames(!0===i.iframeFix?"iframe":i.iframeFix),!0))},_blockFrames:function(e){this.iframeBlocks=this.document.find(e).map(function(){var e=t(this);return t("<div>").css("position","absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(e){var i=t.ui.safeActiveElement(this.document[0]);t(e.target).closest(i).length||t.ui.safeBlur(i)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===t(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(e),this.originalPosition=this.position=this._generatePosition(e,!1),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(e,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(!1===this._trigger("drag",e,n))return this._mouseUp(new t.Event("mouseup",e)),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||!0===this.options.revert||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==i._trigger("stop",e)&&i._clear()}):!1!==this._trigger("stop",e)&&this._clear(),!1},_mouseUp:function(e){return this._unblockFrames(),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),this.handleElement.is(e.target)&&this.element.trigger("focus"),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new t.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!t(e.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper),s=n?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return s.parents("body").length||s.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&s[0]===this.element[0]&&this._setPositionRelative(),s[0]===this.element[0]||/(fixed|absolute)/.test(s.css("position"))||s.css("position","absolute"),s},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var e=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options,r=this.document[0];this.relativeContainer=null,s.containment?"window"!==s.containment?"document"!==s.containment?s.containment.constructor!==Array?("parent"===s.containment&&(s.containment=this.helper[0].parentNode),(n=(i=t(s.containment))[0])&&(e=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i)):this.containment=s.containment:this.containment=[0,0,t(r).width()-this.helperProportions.width-this.margins.left,(t(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var i="absolute"===t?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:e.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(t,e){var i,n,s,r,o=this.options,a=this._isRootNode(this.scrollParent[0]),l=t.pageX,u=t.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,t.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),t.pageY-this.offset.click.top<i[1]&&(u=i[1]+this.offset.click.top),t.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),t.pageY-this.offset.click.top>i[3]&&(u=i[3]+this.offset.click.top)),o.grid&&(s=o.grid[1]?this.originalPageY+Math.round((u-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,u=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-o.grid[1]:s+o.grid[1]:s,r=o.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,l=i?r-this.offset.click.left>=i[0]||r-this.offset.click.left>i[2]?r:r-this.offset.click.left>=i[0]?r-o.grid[0]:r+o.grid[0]:r),"y"===o.axis&&(l=this.originalPageX),"x"===o.axis&&(u=this.originalPageY)),{top:u-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n,this],!0),/^(drag|start|stop)/.test(e)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i,n){var s=t.extend({},i,{item:n.element});n.sortables=[],t(n.options.connectToSortable).each(function(){var i=t(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",e,s))})},stop:function(e,i,n){var s=t.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,t.each(n.sortables,function(){this.isOver?(this.isOver=0,n.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(e),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",e,s))})},drag:function(e,i,n){t.each(n.sortables,function(){var s=!1,r=this;r.positionAbs=n.positionAbs,r.helperProportions=n.helperProportions,r.offset.click=n.offset.click,r._intersectsWith(r.containerCache)&&(s=!0,t.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&t.contains(r.element[0],this.element[0])&&(s=!1),s})),s?(r.isOver||(r.isOver=1,n._parent=i.helper.parent(),r.currentItem=i.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return i.helper[0]},e.target=r.currentItem[0],r._mouseCapture(e,!0),r._mouseStart(e,!0,!0),r.offset.click.top=n.offset.click.top,r.offset.click.left=n.offset.click.left,r.offset.parent.left-=n.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=n.offset.parent.top-r.offset.parent.top,n._trigger("toSortable",e),n.dropped=r.element,t.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,r.fromOutside=n),r.currentItem&&(r._mouseDrag(e),i.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",e,r._uiHash(r)),r._mouseStop(e,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(e),i.position=n._generatePosition(e,!0),n._trigger("fromSortable",e),n.dropped=!1,t.each(n.sortables,function(){this.refreshPositions()}))})}}),t.ui.plugin.add("draggable","cursor",{start:function(e,i,n){var s=t("body"),r=n.options;s.css("cursor")&&(r._cursor=s.css("cursor")),s.css("cursor",r.cursor)},stop:function(e,i,n){var s=n.options;s._cursor&&t("body").css("cursor",s._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("opacity")&&(r._opacity=s.css("opacity")),s.css("opacity",r.opacity)},stop:function(e,i,n){var s=n.options;s._opacity&&t(i.helper).css("opacity",s._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(t,e,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(e,i,n){var s=n.options,r=!1,o=n.scrollParentNotHidden[0],a=n.document[0];o!==a&&"HTML"!==o.tagName?(s.axis&&"x"===s.axis||(n.overflowOffset.top+o.offsetHeight-e.pageY<s.scrollSensitivity?o.scrollTop=r=o.scrollTop+s.scrollSpeed:e.pageY-n.overflowOffset.top<s.scrollSensitivity&&(o.scrollTop=r=o.scrollTop-s.scrollSpeed)),s.axis&&"y"===s.axis||(n.overflowOffset.left+o.offsetWidth-e.pageX<s.scrollSensitivity?o.scrollLeft=r=o.scrollLeft+s.scrollSpeed:e.pageX-n.overflowOffset.left<s.scrollSensitivity&&(o.scrollLeft=r=o.scrollLeft-s.scrollSpeed))):(s.axis&&"x"===s.axis||(e.pageY-t(a).scrollTop()<s.scrollSensitivity?r=t(a).scrollTop(t(a).scrollTop()-s.scrollSpeed):t(window).height()-(e.pageY-t(a).scrollTop())<s.scrollSensitivity&&(r=t(a).scrollTop(t(a).scrollTop()+s.scrollSpeed))),s.axis&&"y"===s.axis||(e.pageX-t(a).scrollLeft()<s.scrollSensitivity?r=t(a).scrollLeft(t(a).scrollLeft()-s.scrollSpeed):t(window).width()-(e.pageX-t(a).scrollLeft())<s.scrollSensitivity&&(r=t(a).scrollLeft(t(a).scrollLeft()+s.scrollSpeed)))),!1!==r&&t.ui.ddmanager&&!s.dropBehaviour&&t.ui.ddmanager.prepareOffsets(n,e)}}),t.ui.plugin.add("draggable","snap",{start:function(e,i,n){var s=n.options;n.snapElements=[],t(s.snap.constructor!==String?s.snap.items||":data(ui-draggable)":s.snap).each(function(){var e=t(this),i=e.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:i.top,left:i.left})})},drag:function(e,i,n){var s,r,o,a,l,u,c,h,d,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,y=i.offset.top,_=y+n.helperProportions.height;for(d=n.snapElements.length-1;d>=0;d--)u=(l=n.snapElements[d].left-n.margins.left)+n.snapElements[d].width,h=(c=n.snapElements[d].top-n.margins.top)+n.snapElements[d].height,v<l-m||g>u+m||_<c-m||y>h+m||!t.contains(n.snapElements[d].item.ownerDocument,n.snapElements[d].item)?(n.snapElements[d].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=!1):("inner"!==f.snapMode&&(s=Math.abs(c-_)<=m,r=Math.abs(h-y)<=m,o=Math.abs(l-v)<=m,a=Math.abs(u-g)<=m,s&&(i.position.top=n._convertPositionTo("relative",{top:c-n.helperProportions.height,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u}).left)),p=s||r||o||a,"outer"!==f.snapMode&&(s=Math.abs(c-y)<=m,r=Math.abs(h-_)<=m,o=Math.abs(l-g)<=m,a=Math.abs(u-v)<=m,s&&(i.position.top=n._convertPositionTo("relative",{top:c,left:0}).top),r&&(i.position.top=n._convertPositionTo("relative",{top:h-n.helperProportions.height,left:0}).top),o&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:u-n.helperProportions.width}).left)),!n.snapElements[d].snapping&&(s||r||o||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,e,t.extend(n._uiHash(),{snapItem:n.snapElements[d].item})),n.snapElements[d].snapping=s||r||o||a||p)}}),t.ui.plugin.add("draggable","stack",{start:function(e,i,n){var s,r=n.options,o=t.makeArray(t(r.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});o.length&&(s=parseInt(t(o[0]).css("zIndex"),10)||0,t(o).each(function(e){t(this).css("zIndex",s+e)}),this.css("zIndex",s+o.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i,n){var s=t(i.helper),r=n.options;s.css("zIndex")&&(r._zIndex=s.css("zIndex")),s.css("zIndex",r.zIndex)},stop:function(e,i,n){var s=n.options;s._zIndex&&t(i.helper).css("zIndex",s._zIndex)}});t.ui.draggable;t.widget("ui.resizable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n,s=i&&"left"===i?"scrollLeft":"scrollTop";return e[s]>0||(e[s]=1,n=e[s]>0,e[s]=0,n)},_create:function(){var e,i=this.options,n=this;this._addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!i.aspectRatio,aspectRatio:i.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:i.helper||i.ghost||i.animate?i.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,e={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(e),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(e),this._proportionallyResize()),this._setupHandles(),i.autoHide&&t(this.element).on("mouseenter",function(){i.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){i.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var e,i,n,s,r,o=this.options,a=this;if(this.handles=o.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=t(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},i=0;i<n.length;i++)s="ui-resizable-"+(e=t.trim(n[i])),r=t("<div>"),this._addClass(r,"ui-resizable-handle "+s),r.css({zIndex:o.zIndex}),this.handles[e]=".ui-resizable-"+e,this.element.append(r);this._renderAxis=function(e){var i,n,s,r;for(i in e=e||this.element,this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=t(this.handles[i]),this._on(this.handles[i],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=t(this.handles[i],this.element),r=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,r),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(r=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=r&&r[1]?r[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)((n=t(this.handles[i])[0])===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(e){var i,n,s,r=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),r.containment&&(i+=t(r.containment).scrollLeft()||0,n+=t(r.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof r.aspectRatio?r.aspectRatio:this.originalSize.width/this.originalSize.height||1,s=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===s?this.axis+"-resize":s),this._addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var i,n,s=this.originalMousePosition,r=this.axis,o=e.pageX-s.left||0,a=e.pageY-s.top||0,l=this._change[r];return this._updatePrevProperties(),!!l&&(i=l.apply(this,[e,o,a]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",e,this.ui()),this._applyChanges()),!1)},_mouseStop:function(e){this.resizing=!1;var i,n,s,r,o,a,l,u=this.options;return this._helper&&(s=(n=(i=this._proportionallyResizeElements).length&&/textarea/i.test(i[0].nodeName))&&this._hasScroll(i[0],"left")?0:this.sizeDiff.height,r=n?0:this.sizeDiff.width,o={width:this.helper.width()-r,height:this.helper.height()-s},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,u.animate||this.element.css(t.extend(o,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!u.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,i,n,s,r,o=this.options;r={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(e=r.minHeight*this.aspectRatio,n=r.minWidth/this.aspectRatio,i=r.maxHeight*this.aspectRatio,s=r.maxWidth/this.aspectRatio,e>r.minWidth&&(r.minWidth=e),n>r.minHeight&&(r.minHeight=n),i<r.maxWidth&&(r.maxWidth=i),s<r.maxHeight&&(r.maxHeight=s)),this._vBoundaries=r},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,i=this.size,n=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===n&&(t.left=e.left+(i.width-t.width),t.top=null),"nw"===n&&(t.top=e.top+(i.height-t.height),t.left=e.left+(i.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,i=this.axis,n=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,s=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,o=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(i),c=/nw|ne|n/.test(i);return r&&(t.width=e.minWidth),o&&(t.height=e.minHeight),n&&(t.width=e.maxWidth),s&&(t.height=e.maxHeight),r&&u&&(t.left=a-e.minWidth),n&&u&&(t.left=a-e.maxWidth),o&&c&&(t.top=l-e.minHeight),s&&c&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,i=[],n=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],s=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)i[e]=parseFloat(n[e])||0,i[e]+=parseFloat(s[e])||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,i=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize;return{left:this.originalPosition.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).resizable("instance"),n=i.options,s=i._proportionallyResizeElements,r=s.length&&/textarea/i.test(s[0].nodeName),o=r&&i._hasScroll(s[0],"left")?0:i.sizeDiff.height,a=r?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-o},u=parseFloat(i.element.css("left"))+(i.position.left-i.originalPosition.left)||null,c=parseFloat(i.element.css("top"))+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,c&&u?{top:c,left:u}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseFloat(i.element.css("width")),height:parseFloat(i.element.css("height")),top:parseFloat(i.element.css("top")),left:parseFloat(i.element.css("left"))};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var e,i,n,s,r,o,a,l=t(this).resizable("instance"),u=l.options,c=l.element,h=u.containment,d=h instanceof t?h.get(0):/parent/.test(h)?c.parent().get(0):h;d&&(l.containerElement=t(d),/document/.test(h)||h===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(e=t(d),i=[],t(["Top","Right","Left","Bottom"]).each(function(t,n){i[t]=l._num(e.css("padding"+n))}),l.containerOffset=e.offset(),l.containerPosition=e.position(),l.containerSize={height:e.innerHeight()-i[3],width:e.innerWidth()-i[1]},n=l.containerOffset,s=l.containerSize.height,r=l.containerSize.width,o=l._hasScroll(d,"left")?d.scrollWidth:r,a=l._hasScroll(d)?d.scrollHeight:s,l.parentData={element:d,left:n.left,top:n.top,width:o,height:a}))},resize:function(e){var i,n,s,r,o=t(this).resizable("instance"),a=o.options,l=o.containerOffset,u=o.position,c=o._aspectRatio||e.shiftKey,h={top:0,left:0},d=o.containerElement,p=!0;d[0]!==document&&/static/.test(d.css("position"))&&(h=l),u.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-h.left),c&&(o.size.height=o.size.width/o.aspectRatio,p=!1),o.position.left=a.helper?l.left:0),u.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio,p=!1),o.position.top=o._helper?l.top:0),s=o.containerElement.get(0)===o.element.parent().get(0),r=/relative|absolute/.test(o.containerElement.css("position")),s&&r?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),i=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-h.left:o.offset.left-l.left)),n=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-h.top:o.offset.top-l.top)),i+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-i,c&&(o.size.height=o.size.width/o.aspectRatio,p=!1)),n+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-n,c&&(o.size.width=o.size.height*o.aspectRatio,p=!1)),p||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var e=t(this).resizable("instance"),i=e.options,n=e.containerOffset,s=e.containerPosition,r=e.containerElement,o=t(e.helper),a=o.offset(),l=o.outerWidth()-e.sizeDiff.width,u=o.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:u}),e._helper&&!i.animate&&/static/.test(r.css("position"))&&t(this).css({left:a.left-s.left-n.left,width:l,height:u})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).resizable("instance").options;t(e.alsoResize).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseFloat(e.width()),height:parseFloat(e.height()),left:parseFloat(e.css("left")),top:parseFloat(e.css("top"))})})},resize:function(e,i){var n=t(this).resizable("instance"),s=n.options,r=n.originalSize,o=n.originalPosition,a={height:n.size.height-r.height||0,width:n.size.width-r.width||0,top:n.position.top-o.top||0,left:n.position.left-o.left||0};t(s.alsoResize).each(function(){var e=t(this),n=t(this).data("ui-resizable-alsoresize"),s={},r=e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(r,function(t,e){var i=(n[e]||0)+(a[e]||0);i&&i>=0&&(s[e]=i||null)}),e.css(s)})},stop:function(){t(this).removeData("ui-resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).resizable("instance"),i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}),e._addClass(e.ghost,"ui-resizable-ghost"),!1!==t.uiBackCompat&&"string"==typeof e.options.ghost&&e.ghost.addClass(this.options.ghost),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).resizable("instance");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).resizable("instance");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e,i=t(this).resizable("instance"),n=i.options,s=i.size,r=i.originalSize,o=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,u=l[0]||1,c=l[1]||1,h=Math.round((s.width-r.width)/u)*u,d=Math.round((s.height-r.height)/c)*c,p=r.width+h,f=r.height+d,m=n.maxWidth&&n.maxWidth<p,g=n.maxHeight&&n.maxHeight<f,v=n.minWidth&&n.minWidth>p,y=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=u),y&&(f+=c),m&&(p-=u),g&&(f-=c),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=o.top-d):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=o.left-h):((f-c<=0||p-u<=0)&&(e=i._getPaddingPlusBorderDimensions(this)),f-c>0?(i.size.height=f,i.position.top=o.top-d):(f=c-e.height,i.size.height=f,i.position.top=o.top+r.height-f),p-u>0?(i.size.width=p,i.position.left=o.left-h):(p=u-e.width,i.size.width=p,i.position.left=o.left+r.width-p))}});t.ui.resizable;t.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;i<0&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(t=e.parent.children().eq(e.index)).length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||t.ui.safeBlur(t.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,i){var n=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+t(this).css("z-index")}).get(),r=Math.max.apply(null,s);return r>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",r+1),n=!0),n&&!i&&this._trigger("focus",e),n},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=t(t.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var t=this._focusedElement;t||(t=this.element.find("[autofocus]")),t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).trigger("focus")},_keepFocus:function(e){function i(){var e=t.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===e||t.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB&&!e.isDefaultPrevented()){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(this._delay(function(){s.trigger("focus")}),e.preventDefault()):(this._delay(function(){n.trigger("focus")}),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=t("<button type='button'></button>").button({label:t("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(e,"ui-dialog-title"),this._title(e),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title?t.text(this.options.title):t.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(t.each(i,function(i,n){var s,r;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,r={icon:n.icon,iconPosition:n.iconPosition,showLabel:n.showLabel,icons:n.icons,text:n.text},delete n.click,delete n.icon,delete n.iconPosition,delete n.showLabel,delete n.icons,"boolean"==typeof n.text&&delete n.text,t("<button></button>",n).button(r).appendTo(e.uiButtonSet).on("click",function(){s.apply(e.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var e=this,i=this.options;function n(t){return{position:t.position,offset:t.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(i,s){e._addClass(t(this),"ui-dialog-dragging"),e._blockFrames(),e._trigger("dragStart",i,n(s))},drag:function(t,i){e._trigger("drag",t,n(i))},stop:function(s,r){var o=r.offset.left-e.document.scrollLeft(),a=r.offset.top-e.document.scrollTop();i.position={my:"left top",at:"left"+(o>=0?"+":"")+o+" top"+(a>=0?"+":"")+a,of:e.window},e._removeClass(t(this),"ui-dialog-dragging"),e._unblockFrames(),e._trigger("dragStop",s,n(r))}})},_makeResizable:function(){var e=this,i=this.options,n=i.resizable,s=this.uiDialog.css("position"),r="string"==typeof n?n:"n,e,s,w,se,sw,ne,nw";function o(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:i.maxWidth,maxHeight:i.maxHeight,minWidth:i.minWidth,minHeight:this._minHeight(),handles:r,start:function(i,n){e._addClass(t(this),"ui-dialog-resizing"),e._blockFrames(),e._trigger("resizeStart",i,o(n))},resize:function(t,i){e._trigger("resize",t,o(i))},stop:function(n,s){var r=e.uiDialog.offset(),a=r.left-e.document.scrollLeft(),l=r.top-e.document.scrollTop();i.height=e.uiDialog.height(),i.width=e.uiDialog.width(),i.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:e.window},e._removeClass(t(this),"ui-dialog-resizing"),e._unblockFrames(),e._trigger("resizeStop",n,o(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(e){this._makeFocusTarget(),this._focusedElement=t(e.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var e=this._trackingInstances(),i=t.inArray(this,e);-1!==i&&e.splice(i,1)},_trackingInstances:function(){var t=this.document.data("ui-dialog-instances");return t||(t=[],this.document.data("ui-dialog-instances",t)),t},_minHeight:function(){var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,s={};t.each(e,function(t,e){i._setOption(t,e),t in i.sizeRelatedOptions&&(n=!0),t in i.resizableRelatedOptions&&(s[t]=e)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,i){var n,s,r=this.uiDialog;"disabled"!==e&&(this._super(e,i),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:t("<a>").text(""+this.options.closeText).html()}),"draggable"===e&&((n=r.is(":data(ui-draggable)"))&&!i&&r.draggable("destroy"),!n&&i&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((s=r.is(":data(ui-resizable)"))&&!i&&r.resizable("destroy"),s&&"string"==typeof i&&r.resizable("option","handles",i),s||!1===i||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!t(e.target).closest(".ui-dialog").length||!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=!0;this._delay(function(){e=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(t){e||this._allowInteraction(t)||(t.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=t("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var t=this.document.data("ui-dialog-overlays")-1;t?this.document.data("ui-dialog-overlays",t):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==t.uiBackCompat&&t.widget("ui.dialog",t.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(t,e){"dialogClass"===t&&this.uiDialog.removeClass(this.options.dialogClass).addClass(e),this._superApply(arguments)}});t.ui.dialog;t.widget("ui.droppable",{version:"1.12.1",widgetEventPrefix:"drop",options:{accept:"*",addClasses:!0,greedy:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(n)?n:function(t){return t.is(n)},this.proportions=function(){if(!arguments.length)return e||(e={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight});e=arguments[0]},this._addToManager(i.scope),i.addClasses&&this._addClass("ui-droppable")},_addToManager:function(e){t.ui.ddmanager.droppables[e]=t.ui.ddmanager.droppables[e]||[],t.ui.ddmanager.droppables[e].push(this)},_splice:function(t){for(var e=0;e<t.length;e++)t[e]===this&&t.splice(e,1)},_destroy:function(){var e=t.ui.ddmanager.droppables[this.options.scope];this._splice(e)},_setOption:function(e,i){if("accept"===e)this.accept=t.isFunction(i)?i:function(t){return t.is(i)};else if("scope"===e){var n=t.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(e,i)},_activate:function(e){var i=t.ui.ddmanager.current;this._addActiveClass(),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this._removeActiveClass(),i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._addHoverClass(),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this._removeHoverClass(),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return!(!n||(n.currentItem||n.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=t(this).droppable("instance");if(i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&v(n,t.extend(i,{offset:i.element.offset()}),i.options.tolerance,e))return s=!0,!1}),!s&&(!!this.accept.call(this.element[0],n.currentItem||n.element)&&(this._removeActiveClass(),this._removeHoverClass(),this._trigger("drop",e,this.ui(n)),this.element)))},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}},_addHoverClass:function(){this._addClass("ui-droppable-hover")},_removeHoverClass:function(){this._removeClass("ui-droppable-hover")},_addActiveClass:function(){this._addClass("ui-droppable-active")},_removeActiveClass:function(){this._removeClass("ui-droppable-active")}});var v=t.ui.intersect=function(){function t(t,e,i){return t>=e&&t<e+i}return function(e,i,n,s){if(!i.offset)return!1;var r=(e.positionAbs||e.position.absolute).left+e.margins.left,o=(e.positionAbs||e.position.absolute).top+e.margins.top,a=r+e.helperProportions.width,l=o+e.helperProportions.height,u=i.offset.left,c=i.offset.top,h=u+i.proportions().width,d=c+i.proportions().height;switch(n){case"fit":return u<=r&&a<=h&&c<=o&&l<=d;case"intersect":return u<r+e.helperProportions.width/2&&a-e.helperProportions.width/2<h&&c<o+e.helperProportions.height/2&&l-e.helperProportions.height/2<d;case"pointer":return t(s.pageY,c,i.proportions().height)&&t(s.pageX,u,i.proportions().width);case"touch":return(o>=c&&o<=d||l>=c&&l<=d||o<c&&l>d)&&(r>=u&&r<=h||a>=u&&a<=h||r<u&&a>h);default:return!1}}}();t.ui.ddmanager={current:null,droppables:{default:[]},prepareOffsets:function(e,i){var n,s,r=t.ui.ddmanager.droppables[e.options.scope]||[],o=i?i.type:null,a=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;n<r.length;n++)if(!(r[n].options.disabled||e&&!r[n].accept.call(r[n].element[0],e.currentItem||e.element))){for(s=0;s<a.length;s++)if(a[s]===r[n].element[0]){r[n].proportions().height=0;continue t}r[n].visible="none"!==r[n].element.css("display"),r[n].visible&&("mousedown"===o&&r[n]._activate.call(r[n],i),r[n].offset=r[n].element.offset(),r[n].proportions({width:r[n].element[0].offsetWidth,height:r[n].element[0].offsetHeight}))}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&v(e,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").on("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,r,o=v(e,this,this.options.tolerance,i),a=!o&&this.isover?"isout":o&&!this.isover?"isover":null;a&&(this.options.greedy&&(s=this.options.scope,(r=this.element.parents(":data(ui-droppable)").filter(function(){return t(this).droppable("instance").options.scope===s})).length&&((n=t(r[0]).droppable("instance")).greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").off("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}},!1!==t.uiBackCompat&&t.widget("ui.droppable",t.ui.droppable,{options:{hoverClass:!1,activeClass:!1},_addActiveClass:function(){this._super(),this.options.activeClass&&this.element.addClass(this.options.activeClass)},_removeActiveClass:function(){this._super(),this.options.activeClass&&this.element.removeClass(this.options.activeClass)},_addHoverClass:function(){this._super(),this.options.hoverClass&&this.element.addClass(this.options.hoverClass)},_removeHoverClass:function(){this._super(),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass)}});t.ui.droppable,t.widget("ui.progressbar",{version:"1.12.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=t("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).width(i.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,e===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}}),t.widget("ui.selectable",t.ui.mouse,{version:"1.12.1",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e=this;this._addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e.elementPos=t(e.element[0]).offset(),e.selectees=t(e.options.filter,e.element[0]),e._addClass(e.selectees,"ui-selectee"),e.selectees.each(function(){var i=t(this),n=i.offset(),s={left:n.left-e.elementPos.left,top:n.top-e.elementPos.top};t.data(this,"selectable-item",{element:this,$element:i,left:s.left,top:s.top,right:s.left+i.outerWidth(),bottom:s.top+i.outerHeight(),startselected:!1,selected:i.hasClass("ui-selected"),selecting:i.hasClass("ui-selecting"),unselecting:i.hasClass("ui-unselecting")})})},this.refresh(),this._mouseInit(),this.helper=t("<div>"),this._addClass(this.helper,"ui-selectable-helper")},_destroy:function(){this.selectees.removeData("selectable-item"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.elementPos=t(this.element[0]).offset(),this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(i._removeClass(n.$element,"ui-selected"),n.selected=!1,i._addClass(n.$element,"ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");if(s)return n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),i._removeClass(s.$element,n?"ui-unselecting":"ui-selected")._addClass(s.$element,n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,r=this.opos[0],o=this.opos[1],a=e.pageX,l=e.pageY;return r>a&&(i=a,a=r,r=i),o>l&&(i=l,l=o,o=i),this.helper.css({left:r,top:o,width:a-r,height:l-o}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),u=!1,c={};i&&i.element!==n.element[0]&&(c.left=i.left+n.elementPos.left,c.right=i.right+n.elementPos.left,c.top=i.top+n.elementPos.top,c.bottom=i.bottom+n.elementPos.top,"touch"===s.tolerance?u=!(c.left>a||c.right<r||c.top>l||c.bottom<o):"fit"===s.tolerance&&(u=c.left>r&&c.right<a&&c.top>o&&c.bottom<l),u?(i.selected&&(n._removeClass(i.$element,"ui-selected"),i.selected=!1),i.unselecting&&(n._removeClass(i.$element,"ui-unselecting"),i.unselecting=!1),i.selecting||(n._addClass(i.$element,"ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,n._addClass(i.$element,"ui-selected"),i.selected=!0):(n._removeClass(i.$element,"ui-selecting"),i.selecting=!1,i.startselected&&(n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(n._removeClass(i.$element,"ui-selected"),i.selected=!1,n._addClass(i.$element,"ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");i._removeClass(n.$element,"ui-selecting")._addClass(n.$element,"ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}}),t.widget("ui.selectmenu",[t.ui.formResetMixin,{version:"1.12.1",defaultElement:"<select>",options:{appendTo:null,classes:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"},disabled:null,icons:{button:"ui-icon-triangle-1-s"},position:{my:"left top",at:"left bottom",collision:"none"},width:!1,change:null,close:null,focus:null,open:null,select:null},_create:function(){var e=this.element.uniqueId().attr("id");this.ids={element:e,button:e+"-button",menu:e+"-menu"},this._drawButton(),this._drawMenu(),this._bindFormResetHandler(),this._rendered=!1,this.menuItems=t()},_drawButton:function(){var e,i=this,n=this._parseOption(this.element.find("option:selected"),this.element[0].selectedIndex);this.labels=this.element.labels().attr("for",this.ids.button),this._on(this.labels,{click:function(t){this.button.focus(),t.preventDefault()}}),this.element.hide(),this.button=t("<span>",{tabindex:this.options.disabled?-1:0,id:this.ids.button,role:"combobox","aria-expanded":"false","aria-autocomplete":"list","aria-owns":this.ids.menu,"aria-haspopup":"true",title:this.element.attr("title")}).insertAfter(this.element),this._addClass(this.button,"ui-selectmenu-button ui-selectmenu-button-closed","ui-button ui-widget"),e=t("<span>").appendTo(this.button),this._addClass(e,"ui-selectmenu-icon","ui-icon "+this.options.icons.button),this.buttonItem=this._renderButtonItem(n).appendTo(this.button),!1!==this.options.width&&this._resizeButton(),this._on(this.button,this._buttonEvents),this.button.one("focusin",function(){i._rendered||i._refreshMenu()})},_drawMenu:function(){var e=this;this.menu=t("<ul>",{"aria-hidden":"true","aria-labelledby":this.ids.button,id:this.ids.menu}),this.menuWrap=t("<div>").append(this.menu),this._addClass(this.menuWrap,"ui-selectmenu-menu","ui-front"),this.menuWrap.appendTo(this._appendTo()),this.menuInstance=this.menu.menu({classes:{"ui-menu":"ui-corner-bottom"},role:"listbox",select:function(t,i){t.preventDefault(),e._setSelection(),e._select(i.item.data("ui-selectmenu-item"),t)},focus:function(t,i){var n=i.item.data("ui-selectmenu-item");null!=e.focusIndex&&n.index!==e.focusIndex&&(e._trigger("focus",t,{item:n}),e.isOpen||e._select(n,t)),e.focusIndex=n.index,e.button.attr("aria-activedescendant",e.menuItems.eq(n.index).attr("id"))}}).menu("instance"),this.menuInstance._off(this.menu,"mouseleave"),this.menuInstance._closeOnDocumentClick=function(){return!1},this.menuInstance._isDivider=function(){return!1}},refresh:function(){this._refreshMenu(),this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(this._getSelectedItem().data("ui-selectmenu-item")||{})),null===this.options.width&&this._resizeButton()},_refreshMenu:function(){var t,e=this.element.find("option");this.menu.empty(),this._parseOptions(e),this._renderMenu(this.menu,this.items),this.menuInstance.refresh(),this.menuItems=this.menu.find("li").not(".ui-selectmenu-optgroup").find(".ui-menu-item-wrapper"),this._rendered=!0,e.length&&(t=this._getSelectedItem(),this.menuInstance.focus(null,t),this._setAria(t.data("ui-selectmenu-item")),this._setOption("disabled",this.element.prop("disabled")))},open:function(t){this.options.disabled||(this._rendered?(this._removeClass(this.menu.find(".ui-state-active"),null,"ui-state-active"),this.menuInstance.focus(null,this._getSelectedItem())):this._refreshMenu(),this.menuItems.length&&(this.isOpen=!0,this._toggleAttr(),this._resizeMenu(),this._position(),this._on(this.document,this._documentClick),this._trigger("open",t)))},_position:function(){this.menuWrap.position(t.extend({of:this.button},this.options.position))},close:function(t){this.isOpen&&(this.isOpen=!1,this._toggleAttr(),this.range=null,this._off(this.document),this._trigger("close",t))},widget:function(){return this.button},menuWidget:function(){return this.menu},_renderButtonItem:function(e){var i=t("<span>");return this._setText(i,e.label),this._addClass(i,"ui-selectmenu-text"),i},_renderMenu:function(e,i){var n=this,s="";t.each(i,function(i,r){var o;r.optgroup!==s&&(o=t("<li>",{text:r.optgroup}),n._addClass(o,"ui-selectmenu-optgroup","ui-menu-divider"+(r.element.parent("optgroup").prop("disabled")?" ui-state-disabled":"")),o.appendTo(e),s=r.optgroup),n._renderItemData(e,r)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-selectmenu-item",e)},_renderItem:function(e,i){var n=t("<li>"),s=t("<div>",{title:i.element.attr("title")});return i.disabled&&this._addClass(n,null,"ui-state-disabled"),this._setText(s,i.label),n.append(s).appendTo(e)},_setText:function(t,e){e?t.text(e):t.html("&#160;")},_move:function(t,e){var i,n,s=".ui-menu-item";this.isOpen?i=this.menuItems.eq(this.focusIndex).parent("li"):(i=this.menuItems.eq(this.element[0].selectedIndex).parent("li"),s+=":not(.ui-state-disabled)"),(n="first"===t||"last"===t?i["first"===t?"prevAll":"nextAll"](s).eq(-1):i[t+"All"](s).eq(0)).length&&this.menuInstance.focus(e,n)},_getSelectedItem:function(){return this.menuItems.eq(this.element[0].selectedIndex).parent("li")},_toggle:function(t){this[this.isOpen?"close":"open"](t)},_setSelection:function(){var t;this.range&&(window.getSelection?((t=window.getSelection()).removeAllRanges(),t.addRange(this.range)):this.range.select(),this.button.focus())},_documentClick:{mousedown:function(e){this.isOpen&&(t(e.target).closest(".ui-selectmenu-menu, #"+t.ui.escapeSelector(this.ids.button)).length||this.close(e))}},_buttonEvents:{mousedown:function(){var t;window.getSelection?(t=window.getSelection()).rangeCount&&(this.range=t.getRangeAt(0)):this.range=document.selection.createRange()},click:function(t){this._setSelection(),this._toggle(t)},keydown:function(e){var i=!0;switch(e.keyCode){case t.ui.keyCode.TAB:case t.ui.keyCode.ESCAPE:this.close(e),i=!1;break;case t.ui.keyCode.ENTER:this.isOpen&&this._selectFocusedItem(e);break;case t.ui.keyCode.UP:e.altKey?this._toggle(e):this._move("prev",e);break;case t.ui.keyCode.DOWN:e.altKey?this._toggle(e):this._move("next",e);break;case t.ui.keyCode.SPACE:this.isOpen?this._selectFocusedItem(e):this._toggle(e);break;case t.ui.keyCode.LEFT:this._move("prev",e);break;case t.ui.keyCode.RIGHT:this._move("next",e);break;case t.ui.keyCode.HOME:case t.ui.keyCode.PAGE_UP:this._move("first",e);break;case t.ui.keyCode.END:case t.ui.keyCode.PAGE_DOWN:this._move("last",e);break;default:this.menu.trigger(e),i=!1}i&&e.preventDefault()}},_selectFocusedItem:function(t){var e=this.menuItems.eq(this.focusIndex).parent("li");e.hasClass("ui-state-disabled")||this._select(e.data("ui-selectmenu-item"),t)},_select:function(t,e){var i=this.element[0].selectedIndex;this.element[0].selectedIndex=t.index,this.buttonItem.replaceWith(this.buttonItem=this._renderButtonItem(t)),this._setAria(t),this._trigger("select",e,{item:t}),t.index!==i&&this._trigger("change",e,{item:t}),this.close(e)},_setAria:function(t){var e=this.menuItems.eq(t.index).attr("id");this.button.attr({"aria-labelledby":e,"aria-activedescendant":e}),this.menu.attr("aria-activedescendant",e)},_setOption:function(t,e){if("icons"===t){var i=this.button.find("span.ui-icon");this._removeClass(i,null,this.options.icons.button)._addClass(i,null,e.button)}this._super(t,e),"appendTo"===t&&this.menuWrap.appendTo(this._appendTo()),"width"===t&&this._resizeButton()},_setOptionDisabled:function(t){this._super(t),this.menuInstance.option("disabled",t),this.button.attr("aria-disabled",t),this._toggleClass(this.button,null,"ui-state-disabled",t),this.element.prop("disabled",t),t?(this.button.attr("tabindex",-1),this.close()):this.button.attr("tabindex",0)},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_toggleAttr:function(){this.button.attr("aria-expanded",this.isOpen),this._removeClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"closed":"open"))._addClass(this.button,"ui-selectmenu-button-"+(this.isOpen?"open":"closed"))._toggleClass(this.menuWrap,"ui-selectmenu-open",null,this.isOpen),this.menu.attr("aria-hidden",!this.isOpen)},_resizeButton:function(){var t=this.options.width;!1!==t?(null===t&&(t=this.element.show().outerWidth(),this.element.hide()),this.button.outerWidth(t)):this.button.css("width","")},_resizeMenu:function(){this.menu.outerWidth(Math.max(this.button.outerWidth(),this.menu.width("").outerWidth()+1))},_getCreateOptions:function(){var t=this._super();return t.disabled=this.element.prop("disabled"),t},_parseOptions:function(e){var i=this,n=[];e.each(function(e,s){n.push(i._parseOption(t(s),e))}),this.items=n},_parseOption:function(t,e){var i=t.parent("optgroup");return{element:t,index:e,value:t.val(),label:t.text(),optgroup:i.attr("label")||"",disabled:i.prop("disabled")||t.prop("disabled")}},_destroy:function(){this._unbindFormResetHandler(),this.menuWrap.remove(),this.button.remove(),this.element.show(),this.element.removeUniqueId(),this.labels.attr("for",this.ids.element)}}]),t.widget("ui.slider",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle"),r=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;e<i;e++)r.push("<span tabindex='0'></span>");this.handles=s.add(t(r.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e).attr("tabIndex",0)})},_createRange:function(){var e=this.options;e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=t("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==e.range&&"max"!==e.range||this._addClass(this.range,"ui-slider-range-"+e.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,r,o,a,l,u=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-u.values(e));(s>i||s===i&&(e===u._lastChangedValue||u.values(e)===c.min))&&(s=i,r=t(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,this._addClass(r,null,"ui-state-active"),r.trigger("focus"),a=r.offset(),l=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:e.pageX-a.left-r.width()/2,top:e.pageY-a.top-r.height()/2-(parseInt(r.css("borderTopWidth"),10)||0)-(parseInt(r.css("borderBottomWidth"),10)||0)+(parseInt(r.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,r;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(n=i/e)>1&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),r=this._valueMin()+n*s,this._trimAlignValue(r)},_uiHash:function(t,e,i){var n={handle:this.handles[t],handleIndex:t,value:void 0!==e?e:this.value()};return this._hasMultipleValues()&&(n.value=void 0!==e?e:this.values(t),n.values=i||this.values()),n},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(t,e){return this._trigger("start",t,this._uiHash(e))},_slide:function(t,e,i){var n,s=this.value(),r=this.values();this._hasMultipleValues()&&(n=this.values(e?0:1),s=this.values(e),2===this.options.values.length&&!0===this.options.range&&(i=0===e?Math.min(n,i):Math.max(n,i)),r[e]=i),i!==s&&!1!==this._trigger("slide",t,this._uiHash(e,i,r))&&(this._hasMultipleValues()?this.values(e,i):this.value(i))},_stop:function(t,e){this._trigger("stop",t,this._uiHash(e))},_change:function(t,e){this._keySliding||this._mouseSliding||(this._lastChangedValue=e,this._trigger("change",t,this._uiHash(e)))},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,r;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this._hasMultipleValues()?this._values(e):this.value();for(n=this.options.values,s=arguments[0],r=0;r<n.length;r+=1)n[r]=this._trimAlignValue(s[r]),this._change(null,r);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&!0===this.options.range&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),this._super(e,i),e){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(i),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=s-1;n>=0;n--)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(t){this._super(t),this._toggleClass(null,"ui-state-disabled",!!t)},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this._hasMultipleValues()){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(t<=this._valueMin())return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var t=this.options.max,e=this._valueMin(),i=this.options.step;(t=Math.round((t-e)/i)*i+e)>this.options.max&&(t-=i),this.max=parseFloat(t.toFixed(this._precision()))},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(t){"vertical"===t&&this.range.css({width:"",left:""}),"horizontal"===t&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var e,i,n,s,r,o=this.options.range,a=this.options,l=this,u=!this._animateOff&&a.animate,c={};this._hasMultipleValues()?this.handles.each(function(n){i=(l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())*100,c["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[u?"animate":"css"](c,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[u?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[u?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[u?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:a.animate}))),e=i}):(n=this.value(),s=this._valueMin(),r=this._valueMax(),i=r!==s?(n-s)/(r-s)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[u?"animate":"css"](c,a.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:i+"%"},a.animate),"max"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({width:100-i+"%"},a.animate),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:i+"%"},a.animate),"max"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[u?"animate":"css"]({height:100-i+"%"},a.animate))},_handleEvents:{keydown:function(e){var i,n,s,r=t(e.target).data("ui-slider-handle-index");switch(e.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(t(e.target),null,"ui-state-active"),!1===this._start(e,r)))return}switch(s=this.options.step,i=n=this._hasMultipleValues()?this.values(r):this.value(),e.keyCode){case t.ui.keyCode.HOME:n=this._valueMin();break;case t.ui.keyCode.END:n=this._valueMax();break;case t.ui.keyCode.PAGE_UP:n=this._trimAlignValue(i+(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.PAGE_DOWN:n=this._trimAlignValue(i-(this._valueMax()-this._valueMin())/this.numPages);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(i===this._valueMax())return;n=this._trimAlignValue(i+s);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i===this._valueMin())return;n=this._trimAlignValue(i-s)}this._slide(e,r,n)},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),this._removeClass(t(e.target),null,"ui-state-active"))}}}),t.widget("ui.sortable",t.ui.mouse,{version:"1.12.1",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(t,e,i){return t>=e&&t<e+i},_isFloating:function(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))},_create:function(){this.containerCache={},this._addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(t,e){this._super(t,e),"handle"===t&&this._setHandleClassName()},_setHandleClassName:function(){var e=this;this._removeClass(this.element.find(".ui-sortable-handle"),"ui-sortable-handle"),t.each(this.items,function(){e._addClass(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item,"ui-sortable-handle")})},_destroy:function(){this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(e,i){var n=null,s=!1,r=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),t(e.target).parents().each(function(){if(t.data(this,r.widgetName+"-item")===r)return n=t(this),!1}),t.data(e.target,r.widgetName+"-item")===r&&(n=t(e.target)),!!n&&(!(this.options.handle&&!i&&(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),!s))&&(this.currentItem=n,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,i,n){var s,r,o=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(r=this.document.find("body"),this.storedCursor=r.css("cursor"),r.css("cursor",o.cursor),this.storedStylesheet=t("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(r)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this._addClass(this.helper,"ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,r,o=this.options,a=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-this.document.scrollTop()<o.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-o.scrollSpeed):this.window.height()-(e.pageY-this.document.scrollTop())<o.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+o.scrollSpeed)),e.pageX-this.document.scrollLeft()<o.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-o.scrollSpeed):this.window.width()-(e.pageX-this.document.scrollLeft())<o.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+o.scrollSpeed))),!1!==a&&t.ui.ddmanager&&!o.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(s=(n=this.items[i]).item[0],(r=this._intersectsWithPointer(n))&&n.instance===this.currentContainer&&!(s===this.currentItem[0]||this.placeholder[1===r?"next":"prev"]()[0]===s||t.contains(this.placeholder[0],s)||"semi-dynamic"===this.options.type&&t.contains(this.element[0],s))){if(this.direction=1===r?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),r=this.options.axis,o={};r&&"x"!==r||(o.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),r&&"y"!==r||(o.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp(new t.Event("mouseup",{target:null})),"original"===this.options.helper?(this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,r=t.left,o=r+t.width,a=t.top,l=a+t.height,u=this.offset.click.top,c=this.offset.click.left,h="x"===this.options.axis||n+u>a&&n+u<l,d="y"===this.options.axis||e+c>r&&e+c<o,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:r<e+this.helperProportions.width/2&&i-this.helperProportions.width/2<o&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(t){var e,i,n="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top,t.height),s="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left,t.width);return!(!n||!s)&&(e=this._getDragVerticalDirection(),i=this._getDragHorizontalDirection(),this.floating?"right"===i||"down"===e?2:1:e&&("down"===e?2:1))},_intersectsWithSides:function(t){var e=this._isOverAxis(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&e||"up"===n&&!e)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,r,o=[],a=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(n=(s=t(l[i],this.document[0])).length-1;n>=0;n--)(r=t.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&a.push([t.isFunction(r.options.items)?r.options.items.call(r.element):t(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);function u(){o.push(this)}for(a.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=a.length-1;i>=0;i--)a[i][0].each(u);return t(o)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;i<e.length;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,r,o,a,l,u,c=this.items,h=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(n=(s=t(d[i],this.document[0])).length-1;n>=0;n--)(r=t.data(s[n],this.widgetFullName))&&r!==this&&!r.options.disabled&&(h.push([t.isFunction(r.options.items)?r.options.items.call(r.element[0],e,{item:this.currentItem}):t(r.options.items,r.element),r]),this.containers.push(r));for(i=h.length-1;i>=0;i--)for(o=h[i][1],n=0,u=(a=h[i][0]).length;n<u;n++)(l=t(a[n])).data(this.widgetName+"-item",o),c.push({item:l,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var i,n,s,r;for(this.floating=!!this.items.length&&("x"===this.options.axis||this._isFloating(this.items[0].item)),this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),i=this.items.length-1;i>=0;i--)(n=this.items[i]).instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),r=s.offset(),n.left=r.left,n.top=r.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)r=this.containers[i].element.offset(),this.containers[i].containerCache.left=r.left,this.containers[i].containerCache.top=r.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){var i,n=(e=e||this).options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]);return e._addClass(s,"ui-sortable-placeholder",i||e.currentItem[0].className)._removeClass(s,"ui-sortable-helper"),"tbody"===n?e._createTrPlaceholder(e.currentItem.find("tr").eq(0),t("<tr>",e.document[0]).appendTo(s)):"tr"===n?e._createTrPlaceholder(e.currentItem,s):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){i&&!n.forcePlaceholderSize||(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_createTrPlaceholder:function(e,i){var n=this;e.children().each(function(){t("<td>&#160;</td>",n.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(e){var i,n,s,r,o,a,l,u,c,h,d=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!t.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(d&&t.contains(this.containers[i].element[0],d.element[0]))continue;d=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",e,this._uiHash(this)),this.containers[i].containerCache.over=0);if(d)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(s=1e4,r=null,o=(c=d.floating||this._isFloating(this.currentItem))?"left":"top",a=c?"width":"height",h=c?"pageX":"pageY",n=this.items.length-1;n>=0;n--)t.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[o],u=!1,e[h]-l>this.items[n][a]/2&&(u=!0),Math.abs(e[h]-l)<s&&(s=Math.abs(e[h]-l),r=this.items[n],this.direction=u?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",e,this._uiHash()),this.currentContainer.containerCache.over=1));r?this._rearrange(e,r,null,!0):this._rearrange(e,null,this.containers[p].element,!0),this._trigger("change",e,this._uiHash()),this.containers[p]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",e,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),n[0].style.width&&!i.forceHelperSize||n.width(this.currentItem.width()),n[0].style.height&&!i.forceHelperSize||n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),"document"!==s.containment&&"window"!==s.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===s.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===s.containment?this.document.height()||document.body.parentNode.scrollHeight:this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,r=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():r?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():r?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,r=e.pageX,o=e.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(r=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(r=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((o-this.originalPageY)/s.grid[1])*s.grid[1],o=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((r-this.originalPageX)/s.grid[0])*s.grid[0],r=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:r-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS),this._removeClass(this.currentItem,"ui-sortable-helper")}else this.currentItem.show();function s(t,e,i){return function(n){i._trigger(t,n,e._uiHash(e))}}for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(s("deactivate",this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(s("out",this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!e){for(i=0;i<n.length;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){!1===t.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}});function y(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.12.1",defaultElement:"<input>",widgetEventPrefix:"spin",options:{classes:{"ui-spinner":"ui-corner-all","ui-spinner-down":"ui-corner-br","ui-spinner-up":"ui-corner-tr"},culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),""!==this.value()&&this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e=this._super(),i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);null!=s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",t))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){var i;function n(){this.element[0]===t.ui.safeActiveElement(this.document[0])||(this.element.trigger("focus"),this.previous=i,this._delay(function(){this.previous=i}))}i=this.element[0]===t.ui.safeActiveElement(this.document[0])?this.previous:this.element.val(),e.preventDefault(),n.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,n.call(this)}),!1!==this._start(e)&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(t(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap("<span>").parent().append("<a></a><a></a>")},_draw:function(){this._enhance(),this._addClass(this.uiSpinner,"ui-spinner","ui-widget ui-widget-content"),this._addClass("ui-spinner-input"),this.element.attr("role","spinbutton"),this.buttons=this.uiSpinner.children("a").attr("tabIndex",-1).attr("aria-hidden",!0).button({classes:{"ui-button":""}}),this._removeClass(this.buttons,"ui-corner-all"),this._addClass(this.buttons.first(),"ui-spinner-button ui-spinner-up"),this._addClass(this.buttons.last(),"ui-spinner-button ui-spinner-down"),this.buttons.first().button({icon:this.options.icons.up,showLabel:!1}),this.buttons.last().button({icon:this.options.icons.down,showLabel:!1}),this.buttons.height()>Math.ceil(.5*this.uiSpinner.height())&&this.uiSpinner.height()>0&&this.uiSpinner.height(this.uiSpinner.height())},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_start:function(t){return!(!this.spinning&&!1===this._trigger("start",t))&&(this.counter||(this.counter=1),this.spinning=!0,!0)},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",e,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=t.toString(),i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return i=t-(e=null!==n.min?n.min:0),t=e+(i=Math.round(i/n.step)*n.step),t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&t<n.min?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){var i,n,s;if("culture"===t||"numberFormat"===t)return i=this._parse(this.element.val()),this.options[t]=e,void this.element.val(this._format(i));"max"!==t&&"min"!==t&&"step"!==t||"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(n=this.buttons.first().find(".ui-icon"),this._removeClass(n,null,this.options.icons.up),this._addClass(n,null,e.up),s=this.buttons.last().find(".ui-icon"),this._removeClass(s,null,this.options.icons.down),this._addClass(s,null,e.down)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this._toggleClass(this.uiSpinner,null,"ui-state-disabled",!!t),this.element.prop("disabled",!!t),this.buttons.button(t?"disable":"enable")},_setOptions:y(function(t){this._super(t)}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},isValid:function(){var t=this.value();return null!==t&&t===this._adjustValue(t)},_value:function(t,e){var i;""!==t&&null!==(i=this._parse(t))&&(e||(i=this._adjustValue(i)),t=this._format(i)),this.element.val(t),this._refresh()},_destroy:function(){this.element.prop("disabled",!1).removeAttr("autocomplete role aria-valuemin aria-valuemax aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:y(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:y(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:y(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:y(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){if(!arguments.length)return this._parse(this.element.val());y(this._value).call(this,t)},widget:function(){return this.uiSpinner}}),!1!==t.uiBackCompat&&t.widget("ui.spinner",t.ui.spinner,{_enhance:function(){this.uiSpinner=this.element.attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml())},_uiSpinnerHtml:function(){return"<span>"},_buttonHtml:function(){return"<a></a><a></a>"}});var _;t.ui.spinner;t.widget("ui.tabs",{version:"1.12.1",delay:300,options:{active:null,classes:{"ui-tabs":"ui-corner-all","ui-tabs-nav":"ui-corner-all","ui-tabs-panel":"ui-corner-bottom","ui-tabs-tab":"ui-corner-top"},collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_isLocal:(_=/#.*$/,function(t){var e,i;e=t.href.replace(_,""),i=location.href.replace(_,"");try{e=decodeURIComponent(e)}catch(t){}try{i=decodeURIComponent(i)}catch(t){}return t.hash.length>1&&e===i}),_create:function(){var e=this,i=this.options;this.running=!1,this._addClass("ui-tabs","ui-widget ui-widget-content"),this._toggleClass("ui-tabs-collapsible",null,i.collapsible),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(i.active):this.active=t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var e=this.options.active,i=this.options.collapsible,n=location.hash.substring(1);return null===e&&(n&&this.tabs.each(function(i,s){if(t(s).attr("aria-controls")===n)return e=i,!1}),null===e&&(e=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==e&&-1!==e||(e=!!this.tabs.length&&0)),!1!==e&&-1===(e=this.tabs.index(this.tabs.eq(e)))&&(e=!i&&0),!i&&!1===e&&this.anchors.length&&(e=0),e},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(e){var i=t(t.ui.safeActiveElement(this.document[0])).closest("li"),n=this.tabs.index(i),s=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:n++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:s=!1,n--;break;case t.ui.keyCode.END:n=this.anchors.length-1;break;case t.ui.keyCode.HOME:n=0;break;case t.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n);case t.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(n!==this.options.active&&n);default:return}e.preventDefault(),clearTimeout(this.activating),n=this._focusNextTab(n,s),e.ctrlKey||e.metaKey||(i.attr("aria-selected","false"),this.tabs.eq(n).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",n)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.trigger("focus"))},_handlePageNav:function(e){return e.altKey&&e.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,i){var n=this.tabs.length-1;for(;-1!==t.inArray((e>n&&(e=0),e<0&&(e=n),e),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).trigger("focus"),t},_setOption:function(t,e){"active"!==t?(this._super(t,e),"collapsible"===t&&(this._toggleClass("ui-tabs-collapsible",null,e),e||!1!==this.options.active||this._activate(0)),"event"===t&&this._setupEvents(e),"heightStyle"===t&&this._setupHeightStyle(e)):this._activate(e)},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setOptionDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-hidden":"true"}),this.active.length?(this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}),this._addClass(this.active,"ui-tabs-active","ui-state-active"),this._getPanelForTab(this.active).show().attr({"aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this,i=this.tabs,n=this.anchors,s=this.panels;this.tablist=this._getList().attr("role","tablist"),this._addClass(this.tablist,"ui-tabs-nav","ui-helper-reset ui-helper-clearfix ui-widget-header"),this.tablist.on("mousedown"+this.eventNamespace,"> li",function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).on("focus"+this.eventNamespace,".ui-tabs-anchor",function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this.tabs=this.tablist.find("> li:has(a[href])").attr({role:"tab",tabIndex:-1}),this._addClass(this.tabs,"ui-tabs-tab","ui-state-default"),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).attr({role:"presentation",tabIndex:-1}),this._addClass(this.anchors,"ui-tabs-anchor"),this.panels=t(),this.anchors.each(function(i,n){var s,r,o,a=t(n).uniqueId().attr("id"),l=t(n).closest("li"),u=l.attr("aria-controls");e._isLocal(n)?(o=(s=n.hash).substring(1),r=e.element.find(e._sanitizeSelector(s))):(s="#"+(o=l.attr("aria-controls")||t({}).uniqueId()[0].id),(r=e.element.find(s)).length||(r=e._createPanel(o)).insertAfter(e.panels[i-1]||e.tablist),r.attr("aria-live","polite")),r.length&&(e.panels=e.panels.add(r)),u&&l.data("ui-tabs-aria-controls",u),l.attr({"aria-controls":o,"aria-labelledby":a}),r.attr("aria-labelledby",a)}),this.panels.attr("role","tabpanel"),this._addClass(this.panels,"ui-tabs-panel","ui-widget-content"),i&&(this._off(i.not(this.tabs)),this._off(n.not(this.anchors)),this._off(s.not(this.panels)))},_getList:function(){return this.tablist||this.element.find("ol, ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).data("ui-tabs-destroy",!0)},_setOptionDisabled:function(e){var i,n,s;for(t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1),s=0;n=this.tabs[s];s++)i=t(n),!0===e||-1!==t.inArray(s,e)?(i.attr("aria-disabled","true"),this._addClass(i,null,"ui-state-disabled")):(i.removeAttr("aria-disabled"),this._removeClass(i,null,"ui-state-disabled"));this.options.disabled=e,this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!0===e)},_setupEvents:function(e){var i={};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(!0,this.anchors,{click:function(t){t.preventDefault()}}),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget).closest("li"),r=s[0]===n[0],o=r&&i.collapsible,a=o?t():this._getPanelForTab(s),l=n.length?this._getPanelForTab(n):t(),u={oldTab:n,oldPanel:l,newTab:o?t():s,newPanel:a};e.preventDefault(),s.hasClass("ui-state-disabled")||s.hasClass("ui-tabs-loading")||this.running||r&&!i.collapsible||!1===this._trigger("beforeActivate",e,u)||(i.active=!o&&this.tabs.index(s),this.active=r?t():s,this.xhr&&this.xhr.abort(),l.length||a.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),a.length&&this.load(this.tabs.index(s),e),this._toggle(e,u))},_toggle:function(e,i){var n=this,s=i.newPanel,r=i.oldPanel;function o(){n.running=!1,n._trigger("activate",e,i)}function a(){n._addClass(i.newTab.closest("li"),"ui-tabs-active","ui-state-active"),s.length&&n.options.show?n._show(s,n.options.show,o):(s.show(),o())}this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){n._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),a()}):(this._removeClass(i.oldTab.closest("li"),"ui-tabs-active","ui-state-active"),r.hide(),a()),r.attr("aria-hidden","true"),i.oldTab.attr({"aria-selected":"false","aria-expanded":"false"}),s.length&&r.length?i.oldTab.attr("tabIndex",-1):s.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),s.attr("aria-hidden","false"),i.newTab.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return!1===e?t():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+t.ui.escapeSelector(e)+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.tablist.removeAttr("role").off(this.eventNamespace),this.anchors.removeAttr("role tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeAttr("role tabIndex aria-live aria-busy aria-selected aria-labelledby aria-hidden aria-expanded")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(e){var i=this.options.disabled;!1!==i&&(void 0===e?i=!1:(e=this._getIndex(e),i=t.isArray(i)?t.map(i,function(t){return t!==e?t:null}):t.map(this.tabs,function(t,i){return i!==e?i:null})),this._setOptionDisabled(i))},disable:function(e){var i=this.options.disabled;if(!0!==i){if(void 0===e)i=!0;else{if(e=this._getIndex(e),-1!==t.inArray(e,i))return;i=t.isArray(i)?t.merge([e],i).sort():[e]}this._setOptionDisabled(i)}},load:function(e,i){e=this._getIndex(e);var n=this,s=this.tabs.eq(e),r=s.find(".ui-tabs-anchor"),o=this._getPanelForTab(s),a={tab:s,panel:o},l=function(t,e){"abort"===e&&n.panels.stop(!1,!0),n._removeClass(s,"ui-tabs-loading"),o.removeAttr("aria-busy"),t===n.xhr&&delete n.xhr};this._isLocal(r[0])||(this.xhr=t.ajax(this._ajaxSettings(r,i,a)),this.xhr&&"canceled"!==this.xhr.statusText&&(this._addClass(s,"ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.done(function(t,e,s){setTimeout(function(){o.html(t),n._trigger("load",i,a),l(s,e)},1)}).fail(function(t,e){setTimeout(function(){l(t,e)},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href").replace(/#.*$/,""),beforeSend:function(e,r){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:r},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}}),!1!==t.uiBackCompat&&t.widget("ui.tabs",t.ui.tabs,{_processTabs:function(){this._superApply(arguments),this._addClass(this.tabs,"ui-tab")}});t.ui.tabs;t.widget("ui.tooltip",{version:"1.12.1",options:{classes:{"ui-tooltip":"ui-corner-all ui-widget-shadow"},content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,track:!1,close:null,open:null},_addDescribedBy:function(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))},_removeDescribedBy:function(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),(n=t.trim(n.join(" ")))?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.liveRegion=t("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this.disabledTitles=t([])},_setOption:function(e,i){var n=this;this._super(e,i),"content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e.element)})},_setOptionDisabled:function(t){this[t?"_disable":"_enable"]()},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n.element[0],e.close(s,!0)}),this.disabledTitles=this.disabledTitles.add(this.element.find(this.options.items).addBack().filter(function(){var e=t(this);if(e.is("[title]"))return e.data("ui-tooltip-title",e.attr("title")).removeAttr("title")}))},_enable:function(){this.disabledTitles.each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))}),this.disabledTitles=t([])},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&((e=t.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(e,n),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,r=e?e.type:null;if("string"==typeof n||n.nodeType||n.jquery)return this._open(e,t,n);(i=n.call(t[0],function(i){s._delay(function(){t.data("ui-tooltip-open")&&(e&&(e.type=r),this._open(e,t,i))})}))&&this._open(e,t,i)},_open:function(e,i,n){var s,r,o,a,l=t.extend({},this.options.position);function u(t){l.of=t,r.is(":hidden")||r.position(l)}n&&((s=this._find(i))?s.tooltip.find(".ui-tooltip-content").html(n):(i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),r=s.tooltip,this._addDescribedBy(i,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),(a=t("<div>").html(r.find(".ui-tooltip-content").html())).removeAttr("name").find("[name]").removeAttr("name"),a.removeAttr("id").find("[id]").removeAttr("id"),a.appendTo(this.liveRegion),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:u}),u(e)):r.position(t.extend({of:i},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.track&&this.options.show&&this.options.show.delay&&(o=this.delayedShow=setInterval(function(){r.is(":visible")&&(u(l.of),clearInterval(o))},t.fx.interval)),this._trigger("open",e,{tooltip:r})))},_registerCloseHandlers:function(e,i){var n={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var n=t.Event(e);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),e&&"mouseover"!==e.type||(n.mouseleave="close"),e&&"focusin"!==e.type||(n.focusout="close"),this._on(!0,i,n)},close:function(e){var i,n=this,s=t(e?e.currentTarget:this.element),r=this._find(s);r?(i=r.tooltip,r.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&!s.attr("title")&&s.attr("title",s.data("ui-tooltip-title")),this._removeDescribedBy(s),r.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),r.closing=!0,this._trigger("close",e,{tooltip:i}),r.hiding||(r.closing=!1))):s.removeData("ui-tooltip-open")},_tooltip:function(e){var i=t("<div>").attr("role","tooltip"),n=t("<div>").appendTo(i),s=i.uniqueId().attr("id");return this._addClass(n,"ui-tooltip-content"),this._addClass(i,"ui-tooltip","ui-widget ui-widget-content"),i.appendTo(this._appendTo(e)),this.tooltips[s]={element:e,tooltip:i}},_find:function(t){var e=t.data("ui-tooltip-id");return e?this.tooltips[e]:null},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_appendTo:function(t){var e=t.closest(".ui-front, dialog");return e.length||(e=this.document[0].body),e},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur"),r=n.element;s.target=s.currentTarget=r[0],e.close(s,!0),t("#"+i).remove(),r.data("ui-tooltip-title")&&(r.attr("title")||r.attr("title",r.data("ui-tooltip-title")),r.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}}),!1!==t.uiBackCompat&&t.widget("ui.tooltip",t.ui.tooltip,{options:{tooltipClass:null},_tooltip:function(){var t=this._superApply(arguments);return this.options.tooltipClass&&t.tooltip.addClass(this.options.tooltipClass),t}});t.ui.tooltip}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?t(require("jquery")):t(jQuery)}(function(t){var e=/\+/g;function i(t){return r.raw?t:encodeURIComponent(t)}function n(t){return i(r.json?JSON.stringify(t):String(t))}function s(i,n){var s=r.raw?i:function(t){0===t.indexOf('"')&&(t=t.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return t=decodeURIComponent(t.replace(e," ")),r.json?JSON.parse(t):t}catch(t){}}(i);return t.isFunction(n)?n(s):s}var r=t.cookie=function(e,o,a){if(void 0!==o&&!t.isFunction(o)){if("number"==typeof(a=t.extend({},r.defaults,a)).expires){var l=a.expires,u=a.expires=new Date;u.setTime(+u+864e5*l)}return document.cookie=[i(e),"=",n(o),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var c,h=e?void 0:{},d=document.cookie?document.cookie.split("; "):[],p=0,f=d.length;p<f;p++){var m=d[p].split("="),g=(c=m.shift(),r.raw?c:decodeURIComponent(c)),v=m.join("=");if(e&&e===g){h=s(v,o);break}e||void 0===(v=s(v))||(h[g]=v)}return h};r.defaults={},t.removeCookie=function(e,i){return void 0!==t.cookie(e)&&(t.cookie(e,"",t.extend({},i,{expires:-1})),!t.cookie(e))}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=!1,i=!1,n=0,s=2e3,r=0,o=t,a=document,l=window,u=o(l),c=[];var h=l.requestAnimationFrame||l.webkitRequestAnimationFrame||l.mozRequestAnimationFrame||!1,d=l.cancelAnimationFrame||l.webkitCancelAnimationFrame||l.mozCancelAnimationFrame||!1;if(h)l.cancelAnimationFrame||(d=function(t){});else{var p=0;h=function(t,e){var i=(new Date).getTime(),n=Math.max(0,16-(i-p)),s=l.setTimeout(function(){t(i+n)},n);return p=i+n,s},d=function(t){l.clearTimeout(t)}}var f,m,g,v=l.MutationObserver||l.WebKitMutationObserver||!1,y=Date.now||function(){return(new Date).getTime()},_={zindex:"auto",cursoropacitymin:0,cursoropacitymax:1,cursorcolor:"#424242",cursorwidth:"6px",cursorborder:"1px solid #fff",cursorborderradius:"5px",scrollspeed:40,mousescrollstep:27,touchbehavior:!1,emulatetouch:!1,hwacceleration:!0,usetransition:!0,boxzoom:!1,dblclickzoom:!0,gesturezoom:!0,grabcursorenabled:!0,autohidemode:!0,background:"",iframeautoresize:!0,cursorminheight:32,preservenativescrolling:!0,railoffset:!1,railhoffset:!1,bouncescroll:!0,spacebarenabled:!0,railpadding:{top:0,right:0,left:0,bottom:0},disableoutline:!0,horizrailenabled:!0,railalign:"right",railvalign:"bottom",enabletranslate3d:!0,enablemousewheel:!0,enablekeyboard:!0,smoothscroll:!0,sensitiverail:!0,enablemouselockapi:!0,cursorfixedheight:!1,directionlockdeadzone:6,hidecursordelay:400,nativeparentscrolling:!0,enablescrollonselection:!0,overflowx:!0,overflowy:!0,cursordragspeed:.3,rtlmode:"auto",cursordragontouch:!1,oneaxismousemode:"auto",scriptpath:(m=a.currentScript||!!(f=a.getElementsByTagName("script")).length&&f[f.length-1],g=m?m.src.split("?")[0]:"",g.split("/").length>0?g.split("/").slice(0,-1).join("/")+"/":""),preventmultitouchscrolling:!0,disablemutationobserver:!1,enableobserver:!0,scrollbarid:!1},b=!1,w=function(t,p){var f=this;this.version="3.7.6",this.name="nicescroll",this.me=p;var m=o("body"),g=this.opt={doc:m,win:!1};if(o.extend(g,_),g.snapbackspeed=80,t)for(var w in g)void 0!==t[w]&&(g[w]=t[w]);if(g.disablemutationobserver&&(v=!1),this.doc=g.doc,this.iddoc=this.doc&&this.doc[0]&&this.doc[0].id||"",this.ispage=/^BODY|HTML/.test(g.win?g.win[0].nodeName:this.doc[0].nodeName),this.haswrapper=!1!==g.win,this.win=g.win||(this.ispage?u:this.doc),this.docscroll=this.ispage&&!this.haswrapper?u:this.win,this.body=m,this.viewport=!1,this.isfixed=!1,this.iframe=!1,this.isiframe="IFRAME"==this.doc[0].nodeName&&"IFRAME"==this.win[0].nodeName,this.istextarea="TEXTAREA"==this.win[0].nodeName,this.forcescreen=!1,this.canshowonmouseevent="scroll"!=g.autohidemode,this.onmousedown=!1,this.onmouseup=!1,this.onmousemove=!1,this.onmousewheel=!1,this.onkeypress=!1,this.ongesturezoom=!1,this.onclick=!1,this.onscrollstart=!1,this.onscrollend=!1,this.onscrollcancel=!1,this.onzoomin=!1,this.onzoomout=!1,this.view=!1,this.page=!1,this.scroll={x:0,y:0},this.scrollratio={x:0,y:0},this.cursorheight=20,this.scrollvaluemax=0,"auto"==g.rtlmode){var k=this.win[0]==l?this.body:this.win,S=k.css("writing-mode")||k.css("-webkit-writing-mode")||k.css("-ms-writing-mode")||k.css("-moz-writing-mode");"horizontal-tb"==S||"lr-tb"==S||""===S?(this.isrtlmode="rtl"==k.css("direction"),this.isvertical=!1):(this.isrtlmode="vertical-rl"==S||"tb"==S||"tb-rl"==S||"rl-tb"==S,this.isvertical="vertical-rl"==S||"tb"==S||"tb-rl"==S)}else this.isrtlmode=!0===g.rtlmode,this.isvertical=!1;if(this.scrollrunning=!1,this.scrollmom=!1,this.observer=!1,this.observerremover=!1,this.observerbody=!1,!1!==g.scrollbarid)this.id=g.scrollbarid;else do{this.id="ascrail"+s++}while(a.getElementById(this.id));this.rail=!1,this.cursor=!1,this.cursorfreezed=!1,this.selectiondrag=!1,this.zoom=!1,this.zoomactive=!1,this.hasfocus=!1,this.hasmousefocus=!1,this.railslocked=!1,this.locked=!1,this.hidden=!1,this.cursoractive=!0,this.wheelprevented=!1,this.overflowx=g.overflowx,this.overflowy=g.overflowy,this.nativescrollingarea=!1,this.checkarea=0,this.events=[],this.saved={},this.delaylist={},this.synclist={},this.lastdeltax=0,this.lastdeltay=0,this.detected=function(){if(b)return b;var t=a.createElement("DIV"),e=t.style,i=navigator.userAgent,n=navigator.platform,s={};return s.haspointerlock="pointerLockElement"in a||"webkitPointerLockElement"in a||"mozPointerLockElement"in a,s.isopera="opera"in l,s.isopera12=s.isopera&&"getUserMedia"in navigator,s.isoperamini="[object OperaMini]"===Object.prototype.toString.call(l.operamini),s.isie="all"in a&&"attachEvent"in t&&!s.isopera,s.isieold=s.isie&&!("msInterpolationMode"in e),s.isie7=s.isie&&!s.isieold&&(!("documentMode"in a)||7===a.documentMode),s.isie8=s.isie&&"documentMode"in a&&8===a.documentMode,s.isie9=s.isie&&"performance"in l&&9===a.documentMode,s.isie10=s.isie&&"performance"in l&&10===a.documentMode,s.isie11="msRequestFullscreen"in t&&a.documentMode>=11,s.ismsedge="msCredentials"in l,s.ismozilla="MozAppearance"in e,s.iswebkit=!s.ismsedge&&"WebkitAppearance"in e,s.ischrome=s.iswebkit&&"chrome"in l,s.ischrome38=s.ischrome&&"touchAction"in e,s.ischrome22=!s.ischrome38&&s.ischrome&&s.haspointerlock,s.ischrome26=!s.ischrome38&&s.ischrome&&"transition"in e,s.cantouch="ontouchstart"in a.documentElement||"ontouchstart"in l,s.hasw3ctouch=!!l.PointerEvent&&(navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0),s.hasmstouch=!s.hasw3ctouch&&(l.MSPointerEvent||!1),s.ismac=/^mac$/i.test(n),s.isios=s.cantouch&&/iphone|ipad|ipod/i.test(n),s.isios4=s.isios&&!("seal"in Object),s.isios7=s.isios&&"webkitHidden"in a,s.isios8=s.isios&&"hidden"in a,s.isios10=s.isios&&l.Proxy,s.isandroid=/android/i.test(i),s.haseventlistener="addEventListener"in t,s.trstyle=!1,s.hastransform=!1,s.hastranslate3d=!1,s.transitionstyle=!1,s.hastransition=!1,s.transitionend=!1,s.trstyle="transform",s.hastransform="transform"in e||function(){for(var t=["msTransform","webkitTransform","MozTransform","OTransform"],i=0,n=t.length;i<n;i++)if(void 0!==e[t[i]]){s.trstyle=t[i];break}s.hastransform=!!s.trstyle}(),s.hastransform&&(e[s.trstyle]="translate3d(1px,2px,3px)",s.hastranslate3d=/translate3d/.test(e[s.trstyle])),s.transitionstyle="transition",s.prefixstyle="",s.transitionend="transitionend",s.hastransition="transition"in e||function(){s.transitionend=!1;for(var t=["webkitTransition","msTransition","MozTransition","OTransition","OTransition","KhtmlTransition"],i=["-webkit-","-ms-","-moz-","-o-","-o","-khtml-"],n=["webkitTransitionEnd","msTransitionEnd","transitionend","otransitionend","oTransitionEnd","KhtmlTransitionEnd"],r=0,o=t.length;r<o;r++)if(t[r]in e){s.transitionstyle=t[r],s.prefixstyle=i[r],s.transitionend=n[r];break}s.ischrome26&&(s.prefixstyle=i[1]),s.hastransition=s.transitionstyle}(),s.cursorgrabvalue=function(){var t=["grab","-webkit-grab","-moz-grab"];(s.ischrome&&!s.ischrome38||s.isie)&&(t=[]);for(var i=0,n=t.length;i<n;i++){var r=t[i];if(e.cursor=r,e.cursor==r)return r}return"url(https://cdnjs.cloudflare.com/ajax/libs/slider-pro/1.3.0/css/images/openhand.cur),n-resize"}(),s.hasmousecapture="setCapture"in t,s.hasMutationObserver=!1!==v,t=null,b=s,s}();var C=o.extend({},this.detected);this.canhwscroll=C.hastransform&&g.hwacceleration,this.ishwscroll=this.canhwscroll&&f.haswrapper,this.isrtlmode?this.isvertical?this.hasreversehr=!(C.iswebkit||C.isie||C.isie11):this.hasreversehr=!(C.iswebkit||C.isie&&!C.isie10&&!C.isie11):this.hasreversehr=!1,this.istouchcapable=!1,(C.cantouch||!C.hasw3ctouch&&!C.hasmstouch)&&(!C.cantouch||C.isios||C.isandroid||!C.iswebkit&&!C.ismozilla)||(this.istouchcapable=!0),g.enablemouselockapi||(C.hasmousecapture=!1,C.haspointerlock=!1),this.debounced=function(t,e,i){f&&(f.delaylist[t]||!1||(f.delaylist[t]={h:h(function(){f.delaylist[t].fn.call(f),f.delaylist[t]=!1},i)},e.call(f)),f.delaylist[t].fn=e)},this.synched=function(t,e){f.synclist[t]?f.synclist[t]=e:(f.synclist[t]=e,h(function(){f&&(f.synclist[t]&&f.synclist[t].call(f),f.synclist[t]=null)}))},this.unsynched=function(t){f.synclist[t]&&(f.synclist[t]=!1)},this.css=function(t,e){for(var i in e)f.saved.css.push([t,i,t.css(i)]),t.css(i,e[i])},this.scrollTop=function(t){return void 0===t?f.getScrollTop():f.setScrollTop(t)},this.scrollLeft=function(t){return void 0===t?f.getScrollLeft():f.setScrollLeft(t)};var x=function(t,e,i,n,s,r,o){this.st=t,this.ed=e,this.spd=i,this.p1=n||0,this.p2=s||1,this.p3=r||0,this.p4=o||1,this.ts=y(),this.df=e-t};function E(){var t=f.doc.css(C.trstyle);return!(!t||"matrix"!=t.substr(0,6))&&t.replace(/^.*\((.*)\)$/g,"$1").replace(/px/g,"").split(/, +/)}if(x.prototype={B2:function(t){return 3*(1-t)*(1-t)*t},B3:function(t){return 3*(1-t)*t*t},B4:function(t){return t*t*t},getPos:function(){return(y()-this.ts)/this.spd},getNow:function(){var t=(y()-this.ts)/this.spd,e=this.B2(t)+this.B3(t)+this.B4(t);return t>=1?this.ed:this.st+this.df*e|0},update:function(t,e){return this.st=this.getNow(),this.ed=t,this.spd=e,this.ts=y(),this.df=this.ed-this.st,this}},this.ishwscroll){this.doc.translate={x:0,y:0,tx:"0px",ty:"0px"},C.hastranslate3d&&C.isios&&this.doc.css("-webkit-backface-visibility","hidden"),this.getScrollTop=function(t){if(!t){var e=E();if(e)return 16==e.length?-e[13]:-e[5];if(f.timerscroll&&f.timerscroll.bz)return f.timerscroll.bz.getNow()}return f.doc.translate.y},this.getScrollLeft=function(t){if(!t){var e=E();if(e)return 16==e.length?-e[12]:-e[4];if(f.timerscroll&&f.timerscroll.bh)return f.timerscroll.bh.getNow()}return f.doc.translate.x},this.notifyScrollEvent=function(t){var e=a.createEvent("UIEvents");e.initUIEvent("scroll",!1,!1,l,1),e.niceevent=!0,t.dispatchEvent(e)};var D=this.isrtlmode?1:-1;C.hastranslate3d&&g.enabletranslate3d?(this.setScrollTop=function(t,e){f.doc.translate.y=t,f.doc.translate.ty=-1*t+"px",f.doc.css(C.trstyle,"translate3d("+f.doc.translate.tx+","+f.doc.translate.ty+",0)"),e||f.notifyScrollEvent(f.win[0])},this.setScrollLeft=function(t,e){f.doc.translate.x=t,f.doc.translate.tx=t*D+"px",f.doc.css(C.trstyle,"translate3d("+f.doc.translate.tx+","+f.doc.translate.ty+",0)"),e||f.notifyScrollEvent(f.win[0])}):(this.setScrollTop=function(t,e){f.doc.translate.y=t,f.doc.translate.ty=-1*t+"px",f.doc.css(C.trstyle,"translate("+f.doc.translate.tx+","+f.doc.translate.ty+")"),e||f.notifyScrollEvent(f.win[0])},this.setScrollLeft=function(t,e){f.doc.translate.x=t,f.doc.translate.tx=t*D+"px",f.doc.css(C.trstyle,"translate("+f.doc.translate.tx+","+f.doc.translate.ty+")"),e||f.notifyScrollEvent(f.win[0])})}else this.getScrollTop=function(){return f.docscroll.scrollTop()},this.setScrollTop=function(t){f.docscroll.scrollTop(t)},this.getScrollLeft=function(){return f.hasreversehr?f.detected.ismozilla?f.page.maxw-Math.abs(f.docscroll.scrollLeft()):f.page.maxw-f.docscroll.scrollLeft():f.docscroll.scrollLeft()},this.setScrollLeft=function(t){return setTimeout(function(){if(f)return f.hasreversehr&&(t=f.detected.ismozilla?-(f.page.maxw-t):f.page.maxw-t),f.docscroll.scrollLeft(t)},1)};this.getTarget=function(t){return!!t&&(t.target?t.target:!!t.srcElement&&t.srcElement)},this.hasParent=function(t,e){if(!t)return!1;for(var i=t.target||t.srcElement||t||!1;i&&i.id!=e;)i=i.parentNode||!1;return!1!==i};var A={thin:1,medium:3,thick:5};function P(t,e,i){var n=t.css(e),s=parseFloat(n);if(isNaN(s)){var r=3==(s=A[n]||0)?i?f.win.outerHeight()-f.win.innerHeight():f.win.outerWidth()-f.win.innerWidth():1;return f.isie8&&s&&(s+=1),r?s:0}return s}this.getDocumentScrollOffset=function(){return{top:l.pageYOffset||a.documentElement.scrollTop,left:l.pageXOffset||a.documentElement.scrollLeft}},this.getOffset=function(){if(f.isfixed){var t=f.win.offset(),e=f.getDocumentScrollOffset();return t.top-=e.top,t.left-=e.left,t}var i=f.win.offset();if(!f.viewport)return i;var n=f.viewport.offset();return{top:i.top-n.top,left:i.left-n.left}},this.updateScrollBar=function(t){var e,i;if(f.ishwscroll)f.rail.css({height:f.win.innerHeight()-(g.railpadding.top+g.railpadding.bottom)}),f.railh&&f.railh.css({width:f.win.innerWidth()-(g.railpadding.left+g.railpadding.right)});else{var n=f.getOffset();if((e={top:n.top,left:n.left-(g.railpadding.left+g.railpadding.right)}).top+=P(f.win,"border-top-width",!0),e.left+=f.rail.align?f.win.outerWidth()-P(f.win,"border-right-width")-f.rail.width:P(f.win,"border-left-width"),(i=g.railoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left)),f.railslocked||f.rail.css({top:e.top,left:e.left,height:(t?t.h:f.win.innerHeight())-(g.railpadding.top+g.railpadding.bottom)}),f.zoom&&f.zoom.css({top:e.top+1,left:1==f.rail.align?e.left-20:e.left+f.rail.width+4}),f.railh&&!f.railslocked){e={top:n.top,left:n.left},(i=g.railhoffset)&&(i.top&&(e.top+=i.top),i.left&&(e.left+=i.left));var s=f.railh.align?e.top+P(f.win,"border-top-width",!0)+f.win.innerHeight()-f.railh.height:e.top+P(f.win,"border-top-width",!0),r=e.left+P(f.win,"border-left-width");f.railh.css({top:s-(g.railpadding.top+g.railpadding.bottom),left:r,width:f.railh.width})}}},this.doRailClick=function(t,e,i){var n,s,r,o;f.railslocked||(f.cancelEvent(t),"pageY"in t||(t.pageX=t.clientX+a.documentElement.scrollLeft,t.pageY=t.clientY+a.documentElement.scrollTop),e?(n=i?f.doScrollLeft:f.doScrollTop,r=i?(t.pageX-f.railh.offset().left-f.cursorwidth/2)*f.scrollratio.x:(t.pageY-f.rail.offset().top-f.cursorheight/2)*f.scrollratio.y,f.unsynched("relativexy"),n(0|r)):(n=i?f.doScrollLeftBy:f.doScrollBy,r=i?f.scroll.x:f.scroll.y,o=i?t.pageX-f.railh.offset().left:t.pageY-f.rail.offset().top,s=i?f.view.w:f.view.h,n(r>=o?s:-s)))},f.newscrolly=f.newscrollx=0,f.hasanimationframe="requestAnimationFrame"in l,f.hascancelanimationframe="cancelAnimationFrame"in l,f.hasborderbox=!1,this.init=function(){if(f.saved.css=[],C.isoperamini)return!0;if(C.isandroid&&!("hidden"in a))return!0;g.emulatetouch=g.emulatetouch||g.touchbehavior,f.hasborderbox=l.getComputedStyle&&"border-box"===l.getComputedStyle(a.body)["box-sizing"];var t={"overflow-y":"hidden"};if((C.isie11||C.isie10)&&(t["-ms-overflow-style"]="none"),f.ishwscroll&&(this.doc.css(C.transitionstyle,C.prefixstyle+"transform 0ms ease-out"),C.transitionend&&f.bind(f.doc,C.transitionend,f.onScrollTransitionEnd,!1)),f.zindex="auto",f.ispage||"auto"!=g.zindex?f.zindex=g.zindex:f.zindex=function(){var t=f.win;if("zIndex"in t)return t.zIndex();for(;t.length>0;){if(9==t[0].nodeType)return!1;var e=t.css("zIndex");if(!isNaN(e)&&0!==e)return parseInt(e);t=t.parent()}return!1}()||"auto",!f.ispage&&"auto"!=f.zindex&&f.zindex>r&&(r=f.zindex),f.isie&&0===f.zindex&&"auto"==g.zindex&&(f.zindex="auto"),!f.ispage||!C.isieold){var s=f.docscroll;f.ispage&&(s=f.haswrapper?f.win:f.doc),f.css(s,t),f.ispage&&(C.isie11||C.isie)&&f.css(o("html"),t),!C.isios||f.ispage||f.haswrapper||f.css(m,{"-webkit-overflow-scrolling":"touch"});var c=o(a.createElement("div"));c.css({position:"relative",top:0,float:"right",width:g.cursorwidth,height:0,"background-color":g.cursorcolor,border:g.cursorborder,"background-clip":"padding-box","-webkit-border-radius":g.cursorborderradius,"-moz-border-radius":g.cursorborderradius,"border-radius":g.cursorborderradius}),c.addClass("nicescroll-cursors"),f.cursor=c;var h=o(a.createElement("div"));h.attr("id",f.id),h.addClass("nicescroll-rails nicescroll-rails-vr");var d,p,y=["left","right","top","bottom"];for(var _ in y)p=y[_],(d=g.railpadding[p]||0)&&h.css("padding-"+p,d+"px");h.append(c),h.width=Math.max(parseFloat(g.cursorwidth),c.outerWidth()),h.css({width:h.width+"px",zIndex:f.zindex,background:g.background,cursor:"default"}),h.visibility=!0,h.scrollable=!0,h.align="left"==g.railalign?0:1,f.rail=h,f.rail.drag=!1;var b,w=!1;if(!g.boxzoom||f.ispage||C.isieold||(w=a.createElement("div"),f.bind(w,"click",f.doZoom),f.bind(w,"mouseenter",function(){f.zoom.css("opacity",g.cursoropacitymax)}),f.bind(w,"mouseleave",function(){f.zoom.css("opacity",g.cursoropacitymin)}),f.zoom=o(w),f.zoom.css({cursor:"pointer",zIndex:f.zindex,backgroundImage:"url("+g.scriptpath+"zoomico.png)",height:18,width:18,backgroundPosition:"0 0"}),g.dblclickzoom&&f.bind(f.win,"dblclick",f.doZoom),C.cantouch&&g.gesturezoom&&(f.ongesturezoom=function(t){return t.scale>1.5&&f.doZoomIn(t),t.scale<.8&&f.doZoomOut(t),f.cancelEvent(t)},f.bind(f.win,"gestureend",f.ongesturezoom))),f.railh=!1,g.horizrailenabled&&(f.css(s,{overflowX:"hidden"}),(c=o(a.createElement("div"))).css({position:"absolute",top:0,height:g.cursorwidth,width:0,backgroundColor:g.cursorcolor,border:g.cursorborder,backgroundClip:"padding-box","-webkit-border-radius":g.cursorborderradius,"-moz-border-radius":g.cursorborderradius,"border-radius":g.cursorborderradius}),C.isieold&&c.css("overflow","hidden"),c.addClass("nicescroll-cursors"),f.cursorh=c,(b=o(a.createElement("div"))).attr("id",f.id+"-hr"),b.addClass("nicescroll-rails nicescroll-rails-hr"),b.height=Math.max(parseFloat(g.cursorwidth),c.outerHeight()),b.css({height:b.height+"px",zIndex:f.zindex,background:g.background}),b.append(c),b.visibility=!0,b.scrollable=!0,b.align="top"==g.railvalign?0:1,f.railh=b,f.railh.drag=!1),f.ispage)h.css({position:"fixed",top:0,height:"100%"}),h.css(h.align?{right:0}:{left:0}),f.body.append(h),f.railh&&(b.css({position:"fixed",left:0,width:"100%"}),b.css(b.align?{bottom:0}:{top:0}),f.body.append(b));else{if(f.ishwscroll){"static"==f.win.css("position")&&f.css(f.win,{position:"relative"});var k="HTML"==f.win[0].nodeName?f.body:f.win;o(k).scrollTop(0).scrollLeft(0),f.zoom&&(f.zoom.css({position:"absolute",top:1,right:0,"margin-right":h.width+4}),k.append(f.zoom)),h.css({position:"absolute",top:0}),h.css(h.align?{right:0}:{left:0}),k.append(h),b&&(b.css({position:"absolute",left:0,bottom:0}),b.css(b.align?{bottom:0}:{top:0}),k.append(b))}else{f.isfixed="fixed"==f.win.css("position");var S=f.isfixed?"fixed":"absolute";f.isfixed||(f.viewport=f.getViewport(f.win[0])),f.viewport&&(f.body=f.viewport,/fixed|absolute/.test(f.viewport.css("position"))||f.css(f.viewport,{position:"relative"})),h.css({position:S}),f.zoom&&f.zoom.css({position:S}),f.updateScrollBar(),f.body.append(h),f.zoom&&f.body.append(f.zoom),f.railh&&(b.css({position:S}),f.body.append(b))}C.isios&&f.css(f.win,{"-webkit-tap-highlight-color":"rgba(0,0,0,0)","-webkit-touch-callout":"none"}),g.disableoutline&&(C.isie&&f.win.attr("hideFocus","true"),C.iswebkit&&f.win.css("outline","none"))}if(!1===g.autohidemode?(f.autohidedom=!1,f.rail.css({opacity:g.cursoropacitymax}),f.railh&&f.railh.css({opacity:g.cursoropacitymax})):!0===g.autohidemode||"leave"===g.autohidemode?(f.autohidedom=o().add(f.rail),C.isie8&&(f.autohidedom=f.autohidedom.add(f.cursor)),f.railh&&(f.autohidedom=f.autohidedom.add(f.railh)),f.railh&&C.isie8&&(f.autohidedom=f.autohidedom.add(f.cursorh))):"scroll"==g.autohidemode?(f.autohidedom=o().add(f.rail),f.railh&&(f.autohidedom=f.autohidedom.add(f.railh))):"cursor"==g.autohidemode?(f.autohidedom=o().add(f.cursor),f.railh&&(f.autohidedom=f.autohidedom.add(f.cursorh))):"hidden"==g.autohidemode&&(f.autohidedom=!1,f.hide(),f.railslocked=!1),C.cantouch||f.istouchcapable||g.emulatetouch||C.hasmstouch){f.scrollmom=new T(f);f.ontouchstart=function(t){if(f.locked)return!1;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;if(f.hasmoving=!1,f.scrollmom.timer&&(f.triggerScrollEnd(),f.scrollmom.stop()),!f.railslocked){var e=f.getTarget(t);if(e)if(/INPUT/i.test(e.nodeName)&&/range/i.test(e.type))return f.stopPropagation(t);var i="mousedown"===t.type;if(!("clientX"in t)&&"changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),f.forcescreen){var n=t;(t={original:t.original?t.original:t}).clientX=n.screenX,t.clientY=n.screenY}if(f.rail.drag={x:t.clientX,y:t.clientY,sx:f.scroll.x,sy:f.scroll.y,st:f.getScrollTop(),sl:f.getScrollLeft(),pt:2,dl:!1,tg:e},f.ispage||!g.directionlockdeadzone)f.rail.drag.dl="f";else{var s={w:u.width(),h:u.height()},r=f.getContentSize(),a=r.h-s.h,l=r.w-s.w;f.rail.scrollable&&!f.railh.scrollable?f.rail.drag.ck=a>0&&"v":!f.rail.scrollable&&f.railh.scrollable?f.rail.drag.ck=l>0&&"h":f.rail.drag.ck=!1}if(g.emulatetouch&&f.isiframe&&C.isie){var c=f.win.position();f.rail.drag.x+=c.left,f.rail.drag.y+=c.top}if(f.hasmoving=!1,f.lastmouseup=!1,f.scrollmom.reset(t.clientX,t.clientY),e&&i){if(!/INPUT|SELECT|BUTTON|TEXTAREA/i.test(e.nodeName))return C.hasmousecapture&&e.setCapture(),g.emulatetouch?(e.onclick&&!e._onclick&&(e._onclick=e.onclick,e.onclick=function(t){if(f.hasmoving)return!1;e._onclick.call(this,t)}),f.cancelEvent(t)):f.stopPropagation(t);/SUBMIT|CANCEL|BUTTON/i.test(o(e).attr("type"))&&(f.preventclick={tg:e,click:!1})}}},f.ontouchend=function(t){if(!f.rail.drag)return!0;if(2==f.rail.drag.pt){if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!1;f.rail.drag=!1;var e="mouseup"===t.type;if(f.hasmoving&&(f.scrollmom.doMomentum(),f.lastmouseup=!0,f.hideCursor(),C.hasmousecapture&&a.releaseCapture(),e))return f.cancelEvent(t)}else if(1==f.rail.drag.pt)return f.onmouseup(t)};var x=g.emulatetouch&&f.isiframe&&!C.hasmousecapture,E=.3*g.directionlockdeadzone|0;f.ontouchmove=function(t,e){if(!f.rail.drag)return!0;if(t.targetTouches&&g.preventmultitouchscrolling&&t.targetTouches.length>1)return!0;if(t.pointerType&&("mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))return!0;if(2==f.rail.drag.pt){var i,n;if("changedTouches"in t&&(t.clientX=t.changedTouches[0].clientX,t.clientY=t.changedTouches[0].clientY),n=i=0,x&&!e){var s=f.win.position();n=-s.left,i=-s.top}var r=t.clientY+i,o=r-f.rail.drag.y,l=t.clientX+n,u=l-f.rail.drag.x,c=f.rail.drag.st-o;if(f.ishwscroll&&g.bouncescroll)c<0?c=Math.round(c/2):c>f.page.maxh&&(c=f.page.maxh+Math.round((c-f.page.maxh)/2));else if(c<0?(c=0,r=0):c>f.page.maxh&&(c=f.page.maxh,r=0),0===r&&!f.hasmoving)return f.ispage||(f.rail.drag=!1),!0;var h=f.getScrollLeft();if(f.railh&&f.railh.scrollable&&(h=f.isrtlmode?u-f.rail.drag.sl:f.rail.drag.sl-u,f.ishwscroll&&g.bouncescroll?h<0?h=Math.round(h/2):h>f.page.maxw&&(h=f.page.maxw+Math.round((h-f.page.maxw)/2)):(h<0&&(h=0,l=0),h>f.page.maxw&&(h=f.page.maxw,l=0))),!f.hasmoving){if(f.rail.drag.y===t.clientY&&f.rail.drag.x===t.clientX)return f.cancelEvent(t);var d=Math.abs(o),p=Math.abs(u),m=g.directionlockdeadzone;if(f.rail.drag.ck?"v"==f.rail.drag.ck?p>m&&d<=E?f.rail.drag=!1:d>m&&(f.rail.drag.dl="v"):"h"==f.rail.drag.ck&&(d>m&&p<=E?f.rail.drag=!1:p>m&&(f.rail.drag.dl="h")):d>m&&p>m?f.rail.drag.dl="f":d>m?f.rail.drag.dl=p>E?"f":"v":p>m&&(f.rail.drag.dl=d>E?"f":"h"),!f.rail.drag.dl)return f.cancelEvent(t);f.triggerScrollStart(t.clientX,t.clientY,0,0,0),f.hasmoving=!0}return f.preventclick&&!f.preventclick.click&&(f.preventclick.click=f.preventclick.tg.onclick||!1,f.preventclick.tg.onclick=f.onpreventclick),f.rail.drag.dl&&("v"==f.rail.drag.dl?h=f.rail.drag.sl:"h"==f.rail.drag.dl&&(c=f.rail.drag.st)),f.synched("touchmove",function(){f.rail.drag&&2==f.rail.drag.pt&&(f.prepareTransition&&f.resetTransition(),f.rail.scrollable&&f.setScrollTop(c),f.scrollmom.update(l,r),f.railh&&f.railh.scrollable?(f.setScrollLeft(h),f.showCursor(c,h)):f.showCursor(c),C.isie10&&a.selection.clear())}),f.cancelEvent(t)}return 1==f.rail.drag.pt?f.onmousemove(t):void 0},f.ontouchstartCursor=function(t,e){if(!f.rail.drag||3==f.rail.drag.pt){if(f.locked)return f.cancelEvent(t);f.cancelScroll(),f.rail.drag={x:t.touches[0].clientX,y:t.touches[0].clientY,sx:f.scroll.x,sy:f.scroll.y,pt:3,hr:!!e};var i=f.getTarget(t);return!f.ispage&&C.hasmousecapture&&i.setCapture(),f.isiframe&&!C.hasmousecapture&&(f.saved.csspointerevents=f.doc.css("pointer-events"),f.css(f.doc,{"pointer-events":"none"})),f.cancelEvent(t)}},f.ontouchendCursor=function(t){if(f.rail.drag){if(C.hasmousecapture&&a.releaseCapture(),f.isiframe&&!C.hasmousecapture&&f.doc.css("pointer-events",f.saved.csspointerevents),3!=f.rail.drag.pt)return;return f.rail.drag=!1,f.cancelEvent(t)}},f.ontouchmoveCursor=function(t){if(f.rail.drag){if(3!=f.rail.drag.pt)return;if(f.cursorfreezed=!0,f.rail.drag.hr){f.scroll.x=f.rail.drag.sx+(t.touches[0].clientX-f.rail.drag.x),f.scroll.x<0&&(f.scroll.x=0);var e=f.scrollvaluemaxw;f.scroll.x>e&&(f.scroll.x=e)}else{f.scroll.y=f.rail.drag.sy+(t.touches[0].clientY-f.rail.drag.y),f.scroll.y<0&&(f.scroll.y=0);var i=f.scrollvaluemax;f.scroll.y>i&&(f.scroll.y=i)}return f.synched("touchmove",function(){f.rail.drag&&3==f.rail.drag.pt&&(f.showCursor(),f.rail.drag.hr?f.doScrollLeft(Math.round(f.scroll.x*f.scrollratio.x),g.cursordragspeed):f.doScrollTop(Math.round(f.scroll.y*f.scrollratio.y),g.cursordragspeed))}),f.cancelEvent(t)}}}if(f.onmousedown=function(t,e){if(!f.rail.drag||1==f.rail.drag.pt){if(f.railslocked)return f.cancelEvent(t);f.cancelScroll(),f.rail.drag={x:t.clientX,y:t.clientY,sx:f.scroll.x,sy:f.scroll.y,pt:1,hr:e||!1};var i=f.getTarget(t);return C.hasmousecapture&&i.setCapture(),f.isiframe&&!C.hasmousecapture&&(f.saved.csspointerevents=f.doc.css("pointer-events"),f.css(f.doc,{"pointer-events":"none"})),f.hasmoving=!1,f.cancelEvent(t)}},f.onmouseup=function(t){if(f.rail.drag)return 1!=f.rail.drag.pt||(C.hasmousecapture&&a.releaseCapture(),f.isiframe&&!C.hasmousecapture&&f.doc.css("pointer-events",f.saved.csspointerevents),f.rail.drag=!1,f.cursorfreezed=!1,f.hasmoving&&f.triggerScrollEnd(),f.cancelEvent(t))},f.onmousemove=function(t){if(f.rail.drag){if(1!==f.rail.drag.pt)return;if(C.ischrome&&0===t.which)return f.onmouseup(t);if(f.cursorfreezed=!0,f.hasmoving||f.triggerScrollStart(t.clientX,t.clientY,0,0,0),f.hasmoving=!0,f.rail.drag.hr){f.scroll.x=f.rail.drag.sx+(t.clientX-f.rail.drag.x),f.scroll.x<0&&(f.scroll.x=0);var e=f.scrollvaluemaxw;f.scroll.x>e&&(f.scroll.x=e)}else{f.scroll.y=f.rail.drag.sy+(t.clientY-f.rail.drag.y),f.scroll.y<0&&(f.scroll.y=0);var i=f.scrollvaluemax;f.scroll.y>i&&(f.scroll.y=i)}return f.synched("mousemove",function(){f.cursorfreezed&&(f.showCursor(),f.rail.drag.hr?f.scrollLeft(Math.round(f.scroll.x*f.scrollratio.x)):f.scrollTop(Math.round(f.scroll.y*f.scrollratio.y)))}),f.cancelEvent(t)}f.checkarea=0},C.cantouch||g.emulatetouch)f.onpreventclick=function(t){if(f.preventclick)return f.preventclick.tg.onclick=f.preventclick.click,f.preventclick=!1,f.cancelEvent(t)},f.onclick=!C.isios&&function(t){return!f.lastmouseup||(f.lastmouseup=!1,f.cancelEvent(t))},g.grabcursorenabled&&C.cursorgrabvalue&&(f.css(f.ispage?f.doc:f.win,{cursor:C.cursorgrabvalue}),f.css(f.rail,{cursor:C.cursorgrabvalue}));else{var D=function(t){if(f.selectiondrag){if(t){var e=f.win.outerHeight(),i=t.pageY-f.selectiondrag.top;i>0&&i<e&&(i=0),i>=e&&(i-=e),f.selectiondrag.df=i}if(0!==f.selectiondrag.df){var n=-2*f.selectiondrag.df/6|0;f.doScrollBy(n),f.debounced("doselectionscroll",function(){D()},50)}}};f.hasTextSelected="getSelection"in a?function(){return a.getSelection().rangeCount>0}:"selection"in a?function(){return"None"!=a.selection.type}:function(){return!1},f.onselectionstart=function(t){f.ispage||(f.selectiondrag=f.win.offset())},f.onselectionend=function(t){f.selectiondrag=!1},f.onselectiondrag=function(t){f.selectiondrag&&f.hasTextSelected()&&f.debounced("selectionscroll",function(){D(t)},250)}}if(C.hasw3ctouch?(f.css(f.ispage?o("html"):f.win,{"touch-action":"none"}),f.css(f.rail,{"touch-action":"none"}),f.css(f.cursor,{"touch-action":"none"}),f.bind(f.win,"pointerdown",f.ontouchstart),f.bind(a,"pointerup",f.ontouchend),f.delegate(a,"pointermove",f.ontouchmove)):C.hasmstouch?(f.css(f.ispage?o("html"):f.win,{"-ms-touch-action":"none"}),f.css(f.rail,{"-ms-touch-action":"none"}),f.css(f.cursor,{"-ms-touch-action":"none"}),f.bind(f.win,"MSPointerDown",f.ontouchstart),f.bind(a,"MSPointerUp",f.ontouchend),f.delegate(a,"MSPointerMove",f.ontouchmove),f.bind(f.cursor,"MSGestureHold",function(t){t.preventDefault()}),f.bind(f.cursor,"contextmenu",function(t){t.preventDefault()})):C.cantouch&&(f.bind(f.win,"touchstart",f.ontouchstart,!1,!0),f.bind(a,"touchend",f.ontouchend,!1,!0),f.bind(a,"touchcancel",f.ontouchend,!1,!0),f.delegate(a,"touchmove",f.ontouchmove,!1,!0)),g.emulatetouch&&(f.bind(f.win,"mousedown",f.ontouchstart,!1,!0),f.bind(a,"mouseup",f.ontouchend,!1,!0),f.bind(a,"mousemove",f.ontouchmove,!1,!0)),(g.cursordragontouch||!C.cantouch&&!g.emulatetouch)&&(f.rail.css({cursor:"default"}),f.railh&&f.railh.css({cursor:"default"}),f.jqbind(f.rail,"mouseenter",function(){if(!f.ispage&&!f.win.is(":visible"))return!1;f.canshowonmouseevent&&f.showCursor(),f.rail.active=!0}),f.jqbind(f.rail,"mouseleave",function(){f.rail.active=!1,f.rail.drag||f.hideCursor()}),g.sensitiverail&&(f.bind(f.rail,"click",function(t){f.doRailClick(t,!1,!1)}),f.bind(f.rail,"dblclick",function(t){f.doRailClick(t,!0,!1)}),f.bind(f.cursor,"click",function(t){f.cancelEvent(t)}),f.bind(f.cursor,"dblclick",function(t){f.cancelEvent(t)})),f.railh&&(f.jqbind(f.railh,"mouseenter",function(){if(!f.ispage&&!f.win.is(":visible"))return!1;f.canshowonmouseevent&&f.showCursor(),f.rail.active=!0}),f.jqbind(f.railh,"mouseleave",function(){f.rail.active=!1,f.rail.drag||f.hideCursor()}),g.sensitiverail&&(f.bind(f.railh,"click",function(t){f.doRailClick(t,!1,!0)}),f.bind(f.railh,"dblclick",function(t){f.doRailClick(t,!0,!0)}),f.bind(f.cursorh,"click",function(t){f.cancelEvent(t)}),f.bind(f.cursorh,"dblclick",function(t){f.cancelEvent(t)})))),g.cursordragontouch&&(this.istouchcapable||C.cantouch)&&(f.bind(f.cursor,"touchstart",f.ontouchstartCursor),f.bind(f.cursor,"touchmove",f.ontouchmoveCursor),f.bind(f.cursor,"touchend",f.ontouchendCursor),f.cursorh&&f.bind(f.cursorh,"touchstart",function(t){f.ontouchstartCursor(t,!0)}),f.cursorh&&f.bind(f.cursorh,"touchmove",f.ontouchmoveCursor),f.cursorh&&f.bind(f.cursorh,"touchend",f.ontouchendCursor)),g.emulatetouch||C.isandroid||C.isios?(f.bind(C.hasmousecapture?f.win:a,"mouseup",f.ontouchend),f.onclick&&f.bind(a,"click",f.onclick),g.cursordragontouch?(f.bind(f.cursor,"mousedown",f.onmousedown),f.bind(f.cursor,"mouseup",f.onmouseup),f.cursorh&&f.bind(f.cursorh,"mousedown",function(t){f.onmousedown(t,!0)}),f.cursorh&&f.bind(f.cursorh,"mouseup",f.onmouseup)):(f.bind(f.rail,"mousedown",function(t){t.preventDefault()}),f.railh&&f.bind(f.railh,"mousedown",function(t){t.preventDefault()}))):(f.bind(C.hasmousecapture?f.win:a,"mouseup",f.onmouseup),f.bind(a,"mousemove",f.onmousemove),f.onclick&&f.bind(a,"click",f.onclick),f.bind(f.cursor,"mousedown",f.onmousedown),f.bind(f.cursor,"mouseup",f.onmouseup),f.railh&&(f.bind(f.cursorh,"mousedown",function(t){f.onmousedown(t,!0)}),f.bind(f.cursorh,"mouseup",f.onmouseup)),!f.ispage&&g.enablescrollonselection&&(f.bind(f.win[0],"mousedown",f.onselectionstart),f.bind(a,"mouseup",f.onselectionend),f.bind(f.cursor,"mouseup",f.onselectionend),f.cursorh&&f.bind(f.cursorh,"mouseup",f.onselectionend),f.bind(a,"mousemove",f.onselectiondrag)),f.zoom&&(f.jqbind(f.zoom,"mouseenter",function(){f.canshowonmouseevent&&f.showCursor(),f.rail.active=!0}),f.jqbind(f.zoom,"mouseleave",function(){f.rail.active=!1,f.rail.drag||f.hideCursor()}))),g.enablemousewheel&&(f.isiframe||f.mousewheel(C.isie&&f.ispage?a:f.win,f.onmousewheel),f.mousewheel(f.rail,f.onmousewheel),f.railh&&f.mousewheel(f.railh,f.onmousewheelhr)),f.ispage||C.cantouch||/HTML|^BODY/.test(f.win[0].nodeName)||(f.win.attr("tabindex")||f.win.attr({tabindex:++n}),f.bind(f.win,"focus",function(t){e=f.getTarget(t).id||f.getTarget(t)||!1,f.hasfocus=!0,f.canshowonmouseevent&&f.noticeCursor()}),f.bind(f.win,"blur",function(t){e=!1,f.hasfocus=!1}),f.bind(f.win,"mouseenter",function(t){i=f.getTarget(t).id||f.getTarget(t)||!1,f.hasmousefocus=!0,f.canshowonmouseevent&&f.noticeCursor()}),f.bind(f.win,"mouseleave",function(t){i=!1,f.hasmousefocus=!1,f.rail.drag||f.hideCursor()})),f.onkeypress=function(t){if(f.railslocked&&0===f.page.maxh)return!0;t=t||l.event;var n=f.getTarget(t);if(n&&/INPUT|TEXTAREA|SELECT|OPTION/.test(n.nodeName)&&(!(n.getAttribute("type")||n.type||!1)||!/submit|button|cancel/i.tp))return!0;if(o(n).attr("contenteditable"))return!0;if(f.hasfocus||f.hasmousefocus&&!e||f.ispage&&!e&&!i){var s=t.keyCode;if(f.railslocked&&27!=s)return f.cancelEvent(t);var r=t.ctrlKey||!1,a=t.shiftKey||!1,u=!1;switch(s){case 38:case 63233:f.doScrollBy(72),u=!0;break;case 40:case 63235:f.doScrollBy(-72),u=!0;break;case 37:case 63232:f.railh&&(r?f.doScrollLeft(0):f.doScrollLeftBy(72),u=!0);break;case 39:case 63234:f.railh&&(r?f.doScrollLeft(f.page.maxw):f.doScrollLeftBy(-72),u=!0);break;case 33:case 63276:f.doScrollBy(f.view.h),u=!0;break;case 34:case 63277:f.doScrollBy(-f.view.h),u=!0;break;case 36:case 63273:f.railh&&r?f.doScrollPos(0,0):f.doScrollTo(0),u=!0;break;case 35:case 63275:f.railh&&r?f.doScrollPos(f.page.maxw,f.page.maxh):f.doScrollTo(f.page.maxh),u=!0;break;case 32:g.spacebarenabled&&(a?f.doScrollBy(f.view.h):f.doScrollBy(-f.view.h),u=!0);break;case 27:f.zoomactive&&(f.doZoom(),u=!0)}if(u)return f.cancelEvent(t)}},g.enablekeyboard&&f.bind(a,C.isopera&&!C.isopera12?"keypress":"keydown",f.onkeypress),f.bind(a,"keydown",function(t){(t.ctrlKey||!1)&&(f.wheelprevented=!0)}),f.bind(a,"keyup",function(t){t.ctrlKey||!1||(f.wheelprevented=!1)}),f.bind(l,"blur",function(t){f.wheelprevented=!1}),f.bind(l,"resize",f.onscreenresize),f.bind(l,"orientationchange",f.onscreenresize),f.bind(l,"load",f.lazyResize),C.ischrome&&!f.ispage&&!f.haswrapper){var A=f.win.attr("style"),P=parseFloat(f.win.css("width"))+1;f.win.css("width",P),f.synched("chromefix",function(){f.win.attr("style",A)})}if(f.onAttributeChange=function(t){f.lazyResize(f.isieold?250:30)},g.enableobserver&&(f.isie11||!1===v||(f.observerbody=new v(function(t){if(t.forEach(function(t){if("attributes"==t.type)return m.hasClass("modal-open")&&m.hasClass("modal-dialog")&&!o.contains(o(".modal-dialog")[0],f.doc[0])?f.hide():f.show()}),f.me.clientWidth!=f.page.width||f.me.clientHeight!=f.page.height)return f.lazyResize(30)}),f.observerbody.observe(a.body,{childList:!0,subtree:!0,characterData:!1,attributes:!0,attributeFilter:["class"]})),!f.ispage&&!f.haswrapper)){var I=f.win[0];!1!==v?(f.observer=new v(function(t){t.forEach(f.onAttributeChange)}),f.observer.observe(I,{childList:!0,characterData:!1,attributes:!0,subtree:!1}),f.observerremover=new v(function(t){t.forEach(function(t){if(t.removedNodes.length>0)for(var e in t.removedNodes)if(f&&t.removedNodes[e]===I)return f.remove()})}),f.observerremover.observe(I.parentNode,{childList:!0,characterData:!1,attributes:!1,subtree:!1})):(f.bind(I,C.isie&&!C.isie9?"propertychange":"DOMAttrModified",f.onAttributeChange),C.isie9&&I.attachEvent("onpropertychange",f.onAttributeChange),f.bind(I,"DOMNodeRemoved",function(t){t.target===I&&f.remove()}))}!f.ispage&&g.boxzoom&&f.bind(l,"resize",f.resizeZoom),f.istextarea&&(f.bind(f.win,"keydown",f.lazyResize),f.bind(f.win,"mouseup",f.lazyResize)),f.lazyResize(30)}if("IFRAME"==this.doc[0].nodeName){var O=function(){var e;f.iframexd=!1;try{(e="contentDocument"in this?this.contentDocument:this.contentWindow._doc).domain}catch(t){f.iframexd=!0,e=!1}if(f.iframexd)return"console"in l&&console.log("NiceScroll error: policy restriced iframe"),!0;if(f.forcescreen=!0,f.isiframe&&(f.iframe={doc:o(e),html:f.doc.contents().find("html")[0],body:f.doc.contents().find("body")[0]},f.getContentSize=function(){return{w:Math.max(f.iframe.html.scrollWidth,f.iframe.body.scrollWidth),h:Math.max(f.iframe.html.scrollHeight,f.iframe.body.scrollHeight)}},f.docscroll=o(f.iframe.body)),!C.isios&&g.iframeautoresize&&!f.isiframe){f.win.scrollTop(0),f.doc.height("");var i=Math.max(e.getElementsByTagName("html")[0].scrollHeight,e.body.scrollHeight);f.doc.height(i)}f.lazyResize(30),f.css(o(f.iframe.body),t),C.isios&&f.haswrapper&&f.css(o(e.body),{"-webkit-transform":"translate3d(0,0,0)"}),"contentWindow"in this?f.bind(this.contentWindow,"scroll",f.onscroll):f.bind(e,"scroll",f.onscroll),g.enablemousewheel&&f.mousewheel(e,f.onmousewheel),g.enablekeyboard&&f.bind(e,C.isopera?"keypress":"keydown",f.onkeypress),C.cantouch?(f.bind(e,"touchstart",f.ontouchstart),f.bind(e,"touchmove",f.ontouchmove)):g.emulatetouch&&(f.bind(e,"mousedown",f.ontouchstart),f.bind(e,"mousemove",function(t){return f.ontouchmove(t,!0)}),g.grabcursorenabled&&C.cursorgrabvalue&&f.css(o(e.body),{cursor:C.cursorgrabvalue})),f.bind(e,"mouseup",f.ontouchend),f.zoom&&(g.dblclickzoom&&f.bind(e,"dblclick",f.doZoom),f.ongesturezoom&&f.bind(e,"gestureend",f.ongesturezoom))};this.doc[0].readyState&&"complete"===this.doc[0].readyState&&setTimeout(function(){O.call(f.doc[0],!1)},500),f.bind(this.doc,"load",O)}},this.showCursor=function(t,e){if(f.cursortimeout&&(clearTimeout(f.cursortimeout),f.cursortimeout=0),f.rail){if(f.autohidedom&&(f.autohidedom.stop().css({opacity:g.cursoropacitymax}),f.cursoractive=!0),f.rail.drag&&1==f.rail.drag.pt||(void 0!==t&&!1!==t&&(f.scroll.y=t/f.scrollratio.y|0),void 0!==e&&(f.scroll.x=e/f.scrollratio.x|0)),f.cursor.css({height:f.cursorheight,top:f.scroll.y}),f.cursorh){var i=f.hasreversehr?f.scrollvaluemaxw-f.scroll.x:f.scroll.x;f.cursorh.css({width:f.cursorwidth,left:!f.rail.align&&f.rail.visibility?i+f.rail.width:i}),f.cursoractive=!0}f.zoom&&f.zoom.stop().css({opacity:g.cursoropacitymax})}},this.hideCursor=function(t){f.cursortimeout||f.rail&&f.autohidedom&&(f.hasmousefocus&&"leave"===g.autohidemode||(f.cursortimeout=setTimeout(function(){f.rail.active&&f.showonmouseevent||(f.autohidedom.stop().animate({opacity:g.cursoropacitymin}),f.zoom&&f.zoom.stop().animate({opacity:g.cursoropacitymin}),f.cursoractive=!1),f.cursortimeout=0},t||g.hidecursordelay)))},this.noticeCursor=function(t,e,i){f.showCursor(e,i),f.rail.active||f.hideCursor(t)},this.getContentSize=f.ispage?function(){return{w:Math.max(a.body.scrollWidth,a.documentElement.scrollWidth),h:Math.max(a.body.scrollHeight,a.documentElement.scrollHeight)}}:f.haswrapper?function(){return{w:f.doc[0].offsetWidth,h:f.doc[0].offsetHeight}}:function(){return{w:f.docscroll[0].scrollWidth,h:f.docscroll[0].scrollHeight}},this.onResize=function(t,e){if(!f||!f.win)return!1;var i=f.page.maxh,n=f.page.maxw,s=f.view.h,r=f.view.w;if(f.view={w:f.ispage?f.win.width():f.win[0].clientWidth,h:f.ispage?f.win.height():f.win[0].clientHeight},f.page=e||f.getContentSize(),f.page.maxh=Math.max(0,f.page.h-f.view.h),f.page.maxw=Math.max(0,f.page.w-f.view.w),f.page.maxh==i&&f.page.maxw==n&&f.view.w==r&&f.view.h==s){if(f.ispage)return f;var o=f.win.offset();if(f.lastposition){var a=f.lastposition;if(a.top==o.top&&a.left==o.left)return f}f.lastposition=o}return 0===f.page.maxh?(f.hideRail(),f.scrollvaluemax=0,f.scroll.y=0,f.scrollratio.y=0,f.cursorheight=0,f.setScrollTop(0),f.rail&&(f.rail.scrollable=!1)):(f.page.maxh-=g.railpadding.top+g.railpadding.bottom,f.rail.scrollable=!0),0===f.page.maxw?(f.hideRailHr(),f.scrollvaluemaxw=0,f.scroll.x=0,f.scrollratio.x=0,f.cursorwidth=0,f.setScrollLeft(0),f.railh&&(f.railh.scrollable=!1)):(f.page.maxw-=g.railpadding.left+g.railpadding.right,f.railh&&(f.railh.scrollable=g.horizrailenabled)),f.railslocked=f.locked||0===f.page.maxh&&0===f.page.maxw,f.railslocked?(f.ispage||f.updateScrollBar(f.view),!1):(f.hidden||(f.rail.visibility||f.showRail(),f.railh&&!f.railh.visibility&&f.showRailHr()),f.istextarea&&f.win.css("resize")&&"none"!=f.win.css("resize")&&(f.view.h-=20),f.cursorheight=Math.min(f.view.h,Math.round(f.view.h*(f.view.h/f.page.h))),f.cursorheight=g.cursorfixedheight?g.cursorfixedheight:Math.max(g.cursorminheight,f.cursorheight),f.cursorwidth=Math.min(f.view.w,Math.round(f.view.w*(f.view.w/f.page.w))),f.cursorwidth=g.cursorfixedheight?g.cursorfixedheight:Math.max(g.cursorminheight,f.cursorwidth),f.scrollvaluemax=f.view.h-f.cursorheight-(g.railpadding.top+g.railpadding.bottom),f.hasborderbox||(f.scrollvaluemax-=f.cursor[0].offsetHeight-f.cursor[0].clientHeight),f.railh&&(f.railh.width=f.page.maxh>0?f.view.w-f.rail.width:f.view.w,f.scrollvaluemaxw=f.railh.width-f.cursorwidth-(g.railpadding.left+g.railpadding.right)),f.ispage||f.updateScrollBar(f.view),f.scrollratio={x:f.page.maxw/f.scrollvaluemaxw,y:f.page.maxh/f.scrollvaluemax},f.getScrollTop()>f.page.maxh?f.doScrollTop(f.page.maxh):(f.scroll.y=f.getScrollTop()/f.scrollratio.y|0,f.scroll.x=f.getScrollLeft()/f.scrollratio.x|0,f.cursoractive&&f.noticeCursor()),f.scroll.y&&0===f.getScrollTop()&&f.doScrollTo(f.scroll.y*f.scrollratio.y|0),f)},this.resize=f.onResize;var I=0;function O(t,e,i,n){f._bind(t,e,function(n){var s={original:n=n||l.event,target:n.target||n.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"==n.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){return n.preventDefault?n.preventDefault():n.returnValue=!1,!1},stopImmediatePropagation:function(){n.stopImmediatePropagation?n.stopImmediatePropagation():n.cancelBubble=!0}};return"mousewheel"==e?(n.wheelDeltaX&&(s.deltaX=-.025*n.wheelDeltaX),n.wheelDeltaY&&(s.deltaY=-.025*n.wheelDeltaY),!s.deltaY&&!s.deltaX&&(s.deltaY=-.025*n.wheelDelta)):s.deltaY=n.detail,i.call(t,s)},n)}this.onscreenresize=function(t){clearTimeout(I);var e=!f.ispage&&!f.haswrapper;e&&f.hideRails(),I=setTimeout(function(){f&&(e&&f.showRails(),f.resize()),I=0},120)},this.lazyResize=function(t){return clearTimeout(I),t=isNaN(t)?240:t,I=setTimeout(function(){f&&f.resize(),I=0},t),f},this.jqbind=function(t,e,i){f.events.push({e:t,n:e,f:i,q:!0}),o(t).on(e,i)},this.mousewheel=function(t,e,i){var n="jquery"in t?t[0]:t;if("onwheel"in a.createElement("div"))f._bind(n,"wheel",e,i||!1);else{var s=void 0!==a.onmousewheel?"mousewheel":"DOMMouseScroll";O(n,s,e,i||!1),"DOMMouseScroll"==s&&O(n,"MozMousePixelScroll",e,i||!1)}};var M=!1;if(C.haseventlistener){try{var L=Object.defineProperty({},"passive",{get:function(){M=!0}});l.addEventListener("test",null,L)}catch(t){}this.stopPropagation=function(t){return!!t&&((t=t.original?t.original:t).stopPropagation(),!1)},this.cancelEvent=function(t){return t.cancelable&&t.preventDefault(),t.stopImmediatePropagation(),t.preventManipulation&&t.preventManipulation(),!1}}else Event.prototype.preventDefault=function(){this.returnValue=!1},Event.prototype.stopPropagation=function(){this.cancelBubble=!0},l.constructor.prototype.addEventListener=a.constructor.prototype.addEventListener=Element.prototype.addEventListener=function(t,e,i){this.attachEvent("on"+t,e)},l.constructor.prototype.removeEventListener=a.constructor.prototype.removeEventListener=Element.prototype.removeEventListener=function(t,e,i){this.detachEvent("on"+t,e)},this.cancelEvent=function(t){return(t=t||l.event)&&(t.cancelBubble=!0,t.cancel=!0,t.returnValue=!1),!1},this.stopPropagation=function(t){return(t=t||l.event)&&(t.cancelBubble=!0),!1};this.delegate=function(t,e,i,n,s){var r=c[e]||!1;r||(r={a:[],l:[],f:function(t){for(var e=r.l,i=!1,n=e.length-1;n>=0;n--)if(!1===(i=e[n].call(t.target,t)))return!1;return i}},f.bind(t,e,r.f,n,s),c[e]=r),f.ispage?(r.a=[f.id].concat(r.a),r.l=[i].concat(r.l)):(r.a.push(f.id),r.l.push(i))},this.undelegate=function(t,e,i,n,s){var r=c[e]||!1;if(r&&r.l)for(var o=0,a=r.l.length;o<a;o++)r.a[o]===f.id&&(r.a.splice(o),r.l.splice(o),0===r.a.length&&(f._unbind(t,e,r.l.f),c[e]=null))},this.bind=function(t,e,i,n,s){var r="jquery"in t?t[0]:t;f._bind(r,e,i,n||!1,s||!1)},this._bind=function(t,e,i,n,s){f.events.push({e:t,n:e,f:i,b:n,q:!1}),M&&s?t.addEventListener(e,i,{passive:!1,capture:n}):t.addEventListener(e,i,n||!1)},this._unbind=function(t,e,i,n){c[e]?f.undelegate(t,e,i,n):t.removeEventListener(e,i,n)},this.unbindAll=function(){for(var t=0;t<f.events.length;t++){var e=f.events[t];e.q?e.e.unbind(e.n,e.f):f._unbind(e.e,e.n,e.f,e.b)}},this.showRails=function(){return f.showRail().showRailHr()},this.showRail=function(){return 0===f.page.maxh||!f.ispage&&"none"==f.win.css("display")||(f.rail.visibility=!0,f.rail.css("display","block")),f},this.showRailHr=function(){return f.railh&&(0===f.page.maxw||!f.ispage&&"none"==f.win.css("display")||(f.railh.visibility=!0,f.railh.css("display","block"))),f},this.hideRails=function(){return f.hideRail().hideRailHr()},this.hideRail=function(){return f.rail.visibility=!1,f.rail.css("display","none"),f},this.hideRailHr=function(){return f.railh&&(f.railh.visibility=!1,f.railh.css("display","none")),f},this.show=function(){return f.hidden=!1,f.railslocked=!1,f.showRails()},this.hide=function(){return f.hidden=!0,f.railslocked=!0,f.hideRails()},this.toggle=function(){return f.hidden?f.show():f.hide()},this.remove=function(){for(var t in f.stop(),f.cursortimeout&&clearTimeout(f.cursortimeout),f.delaylist)f.delaylist[t]&&d(f.delaylist[t].h);f.doZoomOut(),f.unbindAll(),C.isie9&&f.win[0].detachEvent("onpropertychange",f.onAttributeChange),!1!==f.observer&&f.observer.disconnect(),!1!==f.observerremover&&f.observerremover.disconnect(),!1!==f.observerbody&&f.observerbody.disconnect(),f.events=null,f.cursor&&f.cursor.remove(),f.cursorh&&f.cursorh.remove(),f.rail&&f.rail.remove(),f.railh&&f.railh.remove(),f.zoom&&f.zoom.remove();for(var e=0;e<f.saved.css.length;e++){var i=f.saved.css[e];i[0].css(i[1],void 0===i[2]?"":i[2])}f.saved=!1,f.me.data("__nicescroll","");var n=o.nicescroll;for(var s in n.each(function(t){if(this&&this.id===f.id){delete n[t];for(var e=++t;e<n.length;e++,t++)n[t]=n[e];n.length--,n.length&&delete n[n.length]}}),f)f[s]=null,delete f[s];f=null},this.scrollstart=function(t){return this.onscrollstart=t,f},this.scrollend=function(t){return this.onscrollend=t,f},this.scrollcancel=function(t){return this.onscrollcancel=t,f},this.zoomin=function(t){return this.onzoomin=t,f},this.zoomout=function(t){return this.onzoomout=t,f},this.isScrollable=function(t){var e=t.target?t.target:t;if("OPTION"==e.nodeName)return!0;for(;e&&1==e.nodeType&&e!==this.me[0]&&!/^BODY|HTML/.test(e.nodeName);){var i=o(e),n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n))return e.clientHeight!=e.scrollHeight;e=!!e.parentNode&&e.parentNode}return!1},this.getViewport=function(t){for(var e=!(!t||!t.parentNode)&&t.parentNode;e&&1==e.nodeType&&!/^BODY|HTML/.test(e.nodeName);){var i=o(e);if(/fixed|absolute/.test(i.css("position")))return i;var n=i.css("overflowY")||i.css("overflowX")||i.css("overflow")||"";if(/scroll|auto/.test(n)&&e.clientHeight!=e.scrollHeight)return i;if(i.getNiceScroll().length>0)return i;e=!!e.parentNode&&e.parentNode}return!1},this.triggerScrollStart=function(t,e,i,n,s){if(f.onscrollstart){var r={type:"scrollstart",current:{x:t,y:e},request:{x:i,y:n},end:{x:f.newscrollx,y:f.newscrolly},speed:s};f.onscrollstart.call(f,r)}},this.triggerScrollEnd=function(){if(f.onscrollend){var t=f.getScrollLeft(),e=f.getScrollTop(),i={type:"scrollend",current:{x:t,y:e},end:{x:t,y:e}};f.onscrollend.call(f,i)}};var N=0,R=0,U=0,F=1;function j(t,e,i,n){f.scrollrunning||(f.newscrolly=f.getScrollTop(),f.newscrollx=f.getScrollLeft(),U=y());var s=y()-U;if(U=y(),s>350?F=1:F+=(2-F)/10,e=e*F|0,t=t*F|0){if(n)if(t<0){if(f.getScrollLeft()>=f.page.maxw)return!0}else if(f.getScrollLeft()<=0)return!0;var r=t>0?1:-1;R!==r&&(f.scrollmom&&f.scrollmom.stop(),f.newscrollx=f.getScrollLeft(),R=r),f.lastdeltax-=t}if(e){if(function(){var t=f.getScrollTop();if(e<0){if(t>=f.page.maxh)return!0}else if(t<=0)return!0}()){if(g.nativeparentscrolling&&i&&!f.ispage&&!f.zoomactive)return!0;var o=f.view.h>>1;f.newscrolly<-o?(f.newscrolly=-o,e=-1):f.newscrolly>f.page.maxh+o?(f.newscrolly=f.page.maxh+o,e=1):e=0}var a=e>0?1:-1;N!==a&&(f.scrollmom&&f.scrollmom.stop(),f.newscrolly=f.getScrollTop(),N=a),f.lastdeltay-=e}(e||t)&&f.synched("relativexy",function(){var t=f.lastdeltay+f.newscrolly;f.lastdeltay=0;var e=f.lastdeltax+f.newscrollx;f.lastdeltax=0,f.rail.drag||f.doScrollPos(e,t)})}var H=!1;function z(t,e,i){var n,s;if(!i&&H)return!0;(0===t.deltaMode?(n=-t.deltaX*(g.mousescrollstep/54)|0,s=-t.deltaY*(g.mousescrollstep/54)|0):1===t.deltaMode&&(n=-t.deltaX*g.mousescrollstep*50/80|0,s=-t.deltaY*g.mousescrollstep*50/80|0),e&&g.oneaxismousemode&&0===n&&s)&&(n=s,s=0,i&&(n<0?f.getScrollLeft()>=f.page.maxw:f.getScrollLeft()<=0)&&(s=n,n=0));if(f.isrtlmode&&(n=-n),!j(n,s,i,!0))return H=!1,t.stopImmediatePropagation(),t.preventDefault();i&&(H=!0)}if(this.onmousewheel=function(t){if(f.wheelprevented||f.locked)return!1;if(f.railslocked)return f.debounced("checkunlock",f.resize,250),!1;if(f.rail.drag)return f.cancelEvent(t);if("auto"===g.oneaxismousemode&&0!==t.deltaX&&(g.oneaxismousemode=!1),g.oneaxismousemode&&0===t.deltaX&&!f.rail.scrollable)return!f.railh||!f.railh.scrollable||f.onmousewheelhr(t);var e=y(),i=!1;if(g.preservenativescrolling&&f.checkarea+600<e&&(f.nativescrollingarea=f.isScrollable(t),i=!0),f.checkarea=e,f.nativescrollingarea)return!0;var n=z(t,!1,i);return n&&(f.checkarea=0),n},this.onmousewheelhr=function(t){if(!f.wheelprevented){if(f.railslocked||!f.railh.scrollable)return!0;if(f.rail.drag)return f.cancelEvent(t);var e=y(),i=!1;return g.preservenativescrolling&&f.checkarea+600<e&&(f.nativescrollingarea=f.isScrollable(t),i=!0),f.checkarea=e,!!f.nativescrollingarea||(f.railslocked?f.cancelEvent(t):z(t,!0,i))}},this.stop=function(){return f.cancelScroll(),f.scrollmon&&f.scrollmon.stop(),f.cursorfreezed=!1,f.scroll.y=Math.round(f.getScrollTop()*(1/f.scrollratio.y)),f.noticeCursor(),f},this.getTransitionSpeed=function(t){return 80+t/72*g.scrollspeed|0},g.smoothscroll)if(f.ishwscroll&&C.hastransition&&g.usetransition&&g.smoothscroll){var B="";this.resetTransition=function(){B="",f.doc.css(C.prefixstyle+"transition-duration","0ms")},this.prepareTransition=function(t,e){var i=e?t:f.getTransitionSpeed(t),n=i+"ms";return B!==n&&(B=n,f.doc.css(C.prefixstyle+"transition-duration",n)),i},this.doScrollLeft=function(t,e){var i=f.scrollrunning?f.newscrolly:f.getScrollTop();f.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=f.scrollrunning?f.newscrollx:f.getScrollLeft();f.doScrollPos(i,t,e)},this.cursorupdate={running:!1,start:function(){var t=this;if(!t.running){t.running=!0;var e=function(){t.running&&h(e),f.showCursor(f.getScrollTop(),f.getScrollLeft()),f.notifyScrollEvent(f.win[0])};h(e)}},stop:function(){this.running=!1}},this.doScrollPos=function(t,e,i){var n=f.getScrollTop(),s=f.getScrollLeft();if(((f.newscrolly-n)*(e-n)<0||(f.newscrollx-s)*(t-s)<0)&&f.cancelScroll(),g.bouncescroll?(e<0?e=e/2|0:e>f.page.maxh&&(e=f.page.maxh+(e-f.page.maxh)/2|0),t<0?t=t/2|0:t>f.page.maxw&&(t=f.page.maxw+(t-f.page.maxw)/2|0)):(e<0?e=0:e>f.page.maxh&&(e=f.page.maxh),t<0?t=0:t>f.page.maxw&&(t=f.page.maxw)),f.scrollrunning&&t==f.newscrollx&&e==f.newscrolly)return!1;f.newscrolly=e,f.newscrollx=t;var r=f.getScrollTop(),o=f.getScrollLeft(),a={};a.x=t-o,a.y=e-r;var l=0|Math.sqrt(a.x*a.x+a.y*a.y),u=f.prepareTransition(l);f.scrollrunning||(f.scrollrunning=!0,f.triggerScrollStart(o,r,t,e,u),f.cursorupdate.start()),f.scrollendtrapped=!0,C.transitionend||(f.scrollendtrapped&&clearTimeout(f.scrollendtrapped),f.scrollendtrapped=setTimeout(f.onScrollTransitionEnd,u)),f.setScrollTop(f.newscrolly),f.setScrollLeft(f.newscrollx)},this.cancelScroll=function(){if(!f.scrollendtrapped)return!0;var t=f.getScrollTop(),e=f.getScrollLeft();return f.scrollrunning=!1,C.transitionend||clearTimeout(C.transitionend),f.scrollendtrapped=!1,f.resetTransition(),f.setScrollTop(t),f.railh&&f.setScrollLeft(e),f.timerscroll&&f.timerscroll.tm&&clearInterval(f.timerscroll.tm),f.timerscroll=!1,f.cursorfreezed=!1,f.cursorupdate.stop(),f.showCursor(t,e),f},this.onScrollTransitionEnd=function(){if(f.scrollendtrapped){var t=f.getScrollTop(),e=f.getScrollLeft();if(t<0?t=0:t>f.page.maxh&&(t=f.page.maxh),e<0?e=0:e>f.page.maxw&&(e=f.page.maxw),t!=f.newscrolly||e!=f.newscrollx)return f.doScrollPos(e,t,g.snapbackspeed);f.scrollrunning&&f.triggerScrollEnd(),f.scrollrunning=!1,f.scrollendtrapped=!1,f.resetTransition(),f.timerscroll=!1,f.setScrollTop(t),f.railh&&f.setScrollLeft(e),f.cursorupdate.stop(),f.noticeCursor(!1,t,e),f.cursorfreezed=!1}}}else this.doScrollLeft=function(t,e){var i=f.scrollrunning?f.newscrolly:f.getScrollTop();f.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=f.scrollrunning?f.newscrollx:f.getScrollLeft();f.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var n=f.getScrollTop(),s=f.getScrollLeft();((f.newscrolly-n)*(e-n)<0||(f.newscrollx-s)*(t-s)<0)&&f.cancelScroll();var r=!1;if(f.bouncescroll&&f.rail.visibility||(e<0?(e=0,r=!0):e>f.page.maxh&&(e=f.page.maxh,r=!0)),f.bouncescroll&&f.railh.visibility||(t<0?(t=0,r=!0):t>f.page.maxw&&(t=f.page.maxw,r=!0)),f.scrollrunning&&f.newscrolly===e&&f.newscrollx===t)return!0;f.newscrolly=e,f.newscrollx=t,f.dst={},f.dst.x=t-s,f.dst.y=e-n,f.dst.px=s,f.dst.py=n;var o=0|Math.sqrt(f.dst.x*f.dst.x+f.dst.y*f.dst.y),a=f.getTransitionSpeed(o);f.bzscroll={};var l=r?1:.58;f.bzscroll.x=new x(s,f.newscrollx,a,0,0,l,1),f.bzscroll.y=new x(n,f.newscrolly,a,0,0,l,1);y();var u=function(){if(f.scrollrunning){var t=f.bzscroll.y.getPos();f.setScrollLeft(f.bzscroll.x.getNow()),f.setScrollTop(f.bzscroll.y.getNow()),t<=1?f.timer=h(u):(f.scrollrunning=!1,f.timer=0,f.triggerScrollEnd())}};f.scrollrunning||(f.triggerScrollStart(s,n,t,e,a),f.scrollrunning=!0,f.timer=h(u))},this.cancelScroll=function(){return f.timer&&d(f.timer),f.timer=0,f.bzscroll=!1,f.scrollrunning=!1,f};else this.doScrollLeft=function(t,e){var i=f.getScrollTop();f.doScrollPos(t,i,e)},this.doScrollTop=function(t,e){var i=f.getScrollLeft();f.doScrollPos(i,t,e)},this.doScrollPos=function(t,e,i){var n=t>f.page.maxw?f.page.maxw:t;n<0&&(n=0);var s=e>f.page.maxh?f.page.maxh:e;s<0&&(s=0),f.synched("scroll",function(){f.setScrollTop(s),f.setScrollLeft(n)})},this.cancelScroll=function(){};this.doScrollBy=function(t,e){j(0,t)},this.doScrollLeftBy=function(t,e){j(t,0)},this.doScrollTo=function(t,e){var i=e?Math.round(t*f.scrollratio.y):t;i<0?i=0:i>f.page.maxh&&(i=f.page.maxh),f.cursorfreezed=!1,f.doScrollTop(t)},this.checkContentSize=function(){var t=f.getContentSize();t.h==f.page.h&&t.w==f.page.w||f.resize(!1,t)},f.onscroll=function(t){f.rail.drag||f.cursorfreezed||f.synched("scroll",function(){f.scroll.y=Math.round(f.getScrollTop()/f.scrollratio.y),f.railh&&(f.scroll.x=Math.round(f.getScrollLeft()/f.scrollratio.x)),f.noticeCursor()})},f.bind(f.docscroll,"scroll",f.onscroll),this.doZoomIn=function(t){if(!f.zoomactive){f.zoomactive=!0,f.zoomrestore={style:{}};var e=["position","top","left","zIndex","backgroundColor","marginTop","marginBottom","marginLeft","marginRight"],i=f.win[0].style;for(var n in e){var s=e[n];f.zoomrestore.style[s]=void 0!==i[s]?i[s]:""}f.zoomrestore.style.width=f.win.css("width"),f.zoomrestore.style.height=f.win.css("height"),f.zoomrestore.padding={w:f.win.outerWidth()-f.win.width(),h:f.win.outerHeight()-f.win.height()},C.isios4&&(f.zoomrestore.scrollTop=u.scrollTop(),u.scrollTop(0)),f.win.css({position:C.isios4?"absolute":"fixed",top:0,left:0,zIndex:r+100,margin:0});var o=f.win.css("backgroundColor");return(""===o||/transparent|rgba\(0, 0, 0, 0\)|rgba\(0,0,0,0\)/.test(o))&&f.win.css("backgroundColor","#fff"),f.rail.css({zIndex:r+101}),f.zoom.css({zIndex:r+102}),f.zoom.css("backgroundPosition","0 -18px"),f.resizeZoom(),f.onzoomin&&f.onzoomin.call(f),f.cancelEvent(t)}},this.doZoomOut=function(t){if(f.zoomactive)return f.zoomactive=!1,f.win.css("margin",""),f.win.css(f.zoomrestore.style),C.isios4&&u.scrollTop(f.zoomrestore.scrollTop),f.rail.css({"z-index":f.zindex}),f.zoom.css({"z-index":f.zindex}),f.zoomrestore=!1,f.zoom.css("backgroundPosition","0 0"),f.onResize(),f.onzoomout&&f.onzoomout.call(f),f.cancelEvent(t)},this.doZoom=function(t){return f.zoomactive?f.doZoomOut(t):f.doZoomIn(t)},this.resizeZoom=function(){if(f.zoomactive){var t=f.getScrollTop();f.win.css({width:u.width()-f.zoomrestore.padding.w+"px",height:u.height()-f.zoomrestore.padding.h+"px"}),f.onResize(),f.setScrollTop(Math.min(f.page.maxh,t))}},this.init(),o.nicescroll.push(this)},T=function(t){var e=this;this.nc=t,this.lastx=0,this.lasty=0,this.speedx=0,this.speedy=0,this.lasttime=0,this.steptime=0,this.snapx=!1,this.snapy=!1,this.demulx=0,this.demuly=0,this.lastscrollx=-1,this.lastscrolly=-1,this.chkx=0,this.chky=0,this.timer=0,this.reset=function(t,i){e.stop(),e.steptime=0,e.lasttime=y(),e.speedx=0,e.speedy=0,e.lastx=t,e.lasty=i,e.lastscrollx=-1,e.lastscrolly=-1},this.update=function(t,i){var n=y();e.steptime=n-e.lasttime,e.lasttime=n;var s=i-e.lasty,r=t-e.lastx,o=e.nc.getScrollTop()+s,a=e.nc.getScrollLeft()+r;e.snapx=a<0||a>e.nc.page.maxw,e.snapy=o<0||o>e.nc.page.maxh,e.speedx=r,e.speedy=s,e.lastx=t,e.lasty=i},this.stop=function(){e.nc.unsynched("domomentum2d"),e.timer&&clearTimeout(e.timer),e.timer=0,e.lastscrollx=-1,e.lastscrolly=-1},this.doSnapy=function(t,i){var n=!1;i<0?(i=0,n=!0):i>e.nc.page.maxh&&(i=e.nc.page.maxh,n=!0),t<0?(t=0,n=!0):t>e.nc.page.maxw&&(t=e.nc.page.maxw,n=!0),n?e.nc.doScrollPos(t,i,e.nc.opt.snapbackspeed):e.nc.triggerScrollEnd()},this.doMomentum=function(t){var i=y(),n=t?i+t:e.lasttime,s=e.nc.getScrollLeft(),r=e.nc.getScrollTop(),o=e.nc.page.maxh,a=e.nc.page.maxw;e.speedx=a>0?Math.min(60,e.speedx):0,e.speedy=o>0?Math.min(60,e.speedy):0;var l=n&&i-n<=60;(r<0||r>o||s<0||s>a)&&(l=!1);var u=!(!e.speedy||!l)&&e.speedy,c=!(!e.speedx||!l)&&e.speedx;if(u||c){var h=Math.max(16,e.steptime);if(h>50){var d=h/50;e.speedx*=d,e.speedy*=d,h=50}e.demulxy=0,e.lastscrollx=e.nc.getScrollLeft(),e.chkx=e.lastscrollx,e.lastscrolly=e.nc.getScrollTop(),e.chky=e.lastscrolly;var p=e.lastscrollx,f=e.lastscrolly,m=function(){var t=y()-i>600?.04:.02;e.speedx&&(p=Math.floor(e.lastscrollx-e.speedx*(1-e.demulxy)),e.lastscrollx=p,(p<0||p>a)&&(t=.1)),e.speedy&&(f=Math.floor(e.lastscrolly-e.speedy*(1-e.demulxy)),e.lastscrolly=f,(f<0||f>o)&&(t=.1)),e.demulxy=Math.min(1,e.demulxy+t),e.nc.synched("domomentum2d",function(){if(e.speedx){e.nc.getScrollLeft();e.chkx=p,e.nc.setScrollLeft(p)}if(e.speedy){e.nc.getScrollTop();e.chky=f,e.nc.setScrollTop(f)}e.timer||(e.nc.hideCursor(),e.doSnapy(p,f))}),e.demulxy<1?e.timer=setTimeout(m,h):(e.stop(),e.nc.hideCursor(),e.doSnapy(p,f))};m()}else e.doSnapy(e.nc.getScrollLeft(),e.nc.getScrollTop())}},k=t.fn.scrollTop;t.cssHooks.pageYOffset={get:function(t,e,i){var n=o.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollTop():k.call(t)},set:function(t,e){var i=o.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollTop(parseInt(e)):k.call(t,e),this}},t.fn.scrollTop=function(t){if(void 0===t){var e=this[0]&&o.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollTop():k.call(this)}return this.each(function(){var e=o.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollTop(parseInt(t)):k.call(o(this),t)})};var S=t.fn.scrollLeft;o.cssHooks.pageXOffset={get:function(t,e,i){var n=o.data(t,"__nicescroll")||!1;return n&&n.ishwscroll?n.getScrollLeft():S.call(t)},set:function(t,e){var i=o.data(t,"__nicescroll")||!1;return i&&i.ishwscroll?i.setScrollLeft(parseInt(e)):S.call(t,e),this}},t.fn.scrollLeft=function(t){if(void 0===t){var e=this[0]&&o.data(this[0],"__nicescroll")||!1;return e&&e.ishwscroll?e.getScrollLeft():S.call(this)}return this.each(function(){var e=o.data(this,"__nicescroll")||!1;e&&e.ishwscroll?e.setScrollLeft(parseInt(t)):S.call(o(this),t)})};var C=function(t){var e=this;if(this.length=0,this.name="nicescrollarray",this.each=function(t){return o.each(e,t),e},this.push=function(t){e[e.length]=t,e.length++},this.eq=function(t){return e[t]},t)for(var i=0;i<t.length;i++){var n=o.data(t[i],"__nicescroll")||!1;n&&(this[this.length]=n,this.length++)}return this};!function(t,e,i){for(var n=0,s=e.length;n<s;n++)i(t,e[n])}(C.prototype,["show","hide","toggle","onResize","resize","remove","stop","doScrollPos"],function(t,e){t[e]=function(){var t=arguments;return this.each(function(){this[e].apply(this,t)})}}),t.fn.getNiceScroll=function(t){return void 0===t?new C(this):this[t]&&o.data(this[t],"__nicescroll")||!1},(t.expr.pseudos||t.expr[":"]).nicescroll=function(t){return void 0!==o.data(t,"__nicescroll")},o.fn.niceScroll=function(t,e){void 0!==e||"object"!=typeof t||"jquery"in t||(e=t,t=!1);var i=new C;return this.each(function(){var n=o(this),s=o.extend({},e);if(t){var r=o(t);s.doc=r.length>1?o(t,n):r,s.win=n}!("doc"in s)||"win"in s||(s.win=n);var a=n.data("__nicescroll")||!1;a||(s.doc=s.doc||n,a=new w(s,n),n.data("__nicescroll",a)),i.push(a)}),1===i.length?i[0]:i},l.NiceScroll={getjQuery:function(){return t}},o.nicescroll||(o.nicescroll=new C,o.nicescroll.options=_)}),function(t){if(t.support.touch="ontouchend"in document,t.support.touch){var e,i=t.ui.mouse.prototype,n=i._mouseInit,s=i._mouseDestroy;i._touchStart=function(t){!e&&this._mouseCapture(t.originalEvent.changedTouches[0])&&(e=!0,this._touchMoved=!1,r(t,"mouseover"),r(t,"mousemove"),r(t,"mousedown"))},i._touchMove=function(t){e&&(this._touchMoved=!0,r(t,"mousemove"))},i._touchEnd=function(t){e&&(r(t,"mouseup"),r(t,"mouseout"),this._touchMoved||r(t,"click"),e=!1)},i._mouseInit=function(){this.element.bind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),n.call(this)},i._mouseDestroy=function(){this.element.unbind({touchstart:t.proxy(this,"_touchStart"),touchmove:t.proxy(this,"_touchMove"),touchend:t.proxy(this,"_touchEnd")}),s.call(this)}}function r(t,e){if(!(t.originalEvent.touches.length>1)){t.preventDefault();var i=t.originalEvent.changedTouches[0],n=document.createEvent("MouseEvents");n.initMouseEvent(e,!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),t.target.dispatchEvent(n)}}}(jQuery),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Popper=e()}(this,function(){"use strict";for(var t="undefined"!=typeof window&&"undefined"!=typeof document,e=["Edge","Trident","Firefox"],i=0,n=0;n<e.length;n+=1)if(t&&navigator.userAgent.indexOf(e[n])>=0){i=1;break}var s=t&&window.Promise?function(t){var e=!1;return function(){e||(e=!0,window.Promise.resolve().then(function(){e=!1,t()}))}}:function(t){var e=!1;return function(){e||(e=!0,setTimeout(function(){e=!1,t()},i))}};function r(t){return t&&"[object Function]"==={}.toString.call(t)}function o(t,e){if(1!==t.nodeType)return[];var i=t.ownerDocument.defaultView.getComputedStyle(t,null);return e?i[e]:i}function a(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function l(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}var e=o(t),i=e.overflow,n=e.overflowX,s=e.overflowY;return/(auto|scroll|overlay)/.test(i+s+n)?t:l(a(t))}var u=t&&!(!window.MSInputMethodContext||!document.documentMode),c=t&&/MSIE 10/.test(navigator.userAgent);function h(t){return 11===t?u:10===t?c:u||c}function d(t){if(!t)return document.documentElement;for(var e=h(10)?document.body:null,i=t.offsetParent||null;i===e&&t.nextElementSibling;)i=(t=t.nextElementSibling).offsetParent;var n=i&&i.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TH","TD","TABLE"].indexOf(i.nodeName)&&"static"===o(i,"position")?d(i):i:t?t.ownerDocument.documentElement:document.documentElement}function p(t){return null!==t.parentNode?p(t.parentNode):t}function f(t,e){if(!(t&&t.nodeType&&e&&e.nodeType))return document.documentElement;var i=t.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_FOLLOWING,n=i?t:e,s=i?e:t,r=document.createRange();r.setStart(n,0),r.setEnd(s,0);var o,a,l=r.commonAncestorContainer;if(t!==l&&e!==l||n.contains(s))return"BODY"===(a=(o=l).nodeName)||"HTML"!==a&&d(o.firstElementChild)!==o?d(l):l;var u=p(t);return u.host?f(u.host,e):f(t,p(e).host)}function m(t){var e="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",i=t.nodeName;if("BODY"===i||"HTML"===i){var n=t.ownerDocument.documentElement;return(t.ownerDocument.scrollingElement||n)[e]}return t[e]}function g(t,e){var i="x"===e?"Left":"Top",n="Left"===i?"Right":"Bottom";return parseFloat(t["border"+i+"Width"],10)+parseFloat(t["border"+n+"Width"],10)}function v(t,e,i,n){return Math.max(e["offset"+t],e["scroll"+t],i["client"+t],i["offset"+t],i["scroll"+t],h(10)?parseInt(i["offset"+t])+parseInt(n["margin"+("Height"===t?"Top":"Left")])+parseInt(n["margin"+("Height"===t?"Bottom":"Right")]):0)}function y(t){var e=t.body,i=t.documentElement,n=h(10)&&getComputedStyle(i);return{height:v("Height",e,i,n),width:v("Width",e,i,n)}}var _=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},b=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),w=function(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t},T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t};function k(t){return T({},t,{right:t.left+t.width,bottom:t.top+t.height})}function S(t){var e={};try{if(h(10)){e=t.getBoundingClientRect();var i=m(t,"top"),n=m(t,"left");e.top+=i,e.left+=n,e.bottom+=i,e.right+=n}else e=t.getBoundingClientRect()}catch(t){}var s={left:e.left,top:e.top,width:e.right-e.left,height:e.bottom-e.top},r="HTML"===t.nodeName?y(t.ownerDocument):{},a=r.width||t.clientWidth||s.right-s.left,l=r.height||t.clientHeight||s.bottom-s.top,u=t.offsetWidth-a,c=t.offsetHeight-l;if(u||c){var d=o(t);u-=g(d,"x"),c-=g(d,"y"),s.width-=u,s.height-=c}return k(s)}function C(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=h(10),s="HTML"===e.nodeName,r=S(t),a=S(e),u=l(t),c=o(e),d=parseFloat(c.borderTopWidth,10),p=parseFloat(c.borderLeftWidth,10);i&&s&&(a.top=Math.max(a.top,0),a.left=Math.max(a.left,0));var f=k({top:r.top-a.top-d,left:r.left-a.left-p,width:r.width,height:r.height});if(f.marginTop=0,f.marginLeft=0,!n&&s){var g=parseFloat(c.marginTop,10),v=parseFloat(c.marginLeft,10);f.top-=d-g,f.bottom-=d-g,f.left-=p-v,f.right-=p-v,f.marginTop=g,f.marginLeft=v}return(n&&!i?e.contains(u):e===u&&"BODY"!==u.nodeName)&&(f=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=m(e,"top"),s=m(e,"left"),r=i?-1:1;return t.top+=n*r,t.bottom+=n*r,t.left+=s*r,t.right+=s*r,t}(f,e)),f}function x(t){if(!t||!t.parentElement||h())return document.documentElement;for(var e=t.parentElement;e&&"none"===o(e,"transform");)e=e.parentElement;return e||document.documentElement}function E(t,e,i,n){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],r={top:0,left:0},u=s?x(t):f(t,e);if("viewport"===n)r=function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=t.ownerDocument.documentElement,n=C(t,i),s=Math.max(i.clientWidth,window.innerWidth||0),r=Math.max(i.clientHeight,window.innerHeight||0),o=e?0:m(i),a=e?0:m(i,"left");return k({top:o-n.top+n.marginTop,left:a-n.left+n.marginLeft,width:s,height:r})}(u,s);else{var c=void 0;"scrollParent"===n?"BODY"===(c=l(a(e))).nodeName&&(c=t.ownerDocument.documentElement):c="window"===n?t.ownerDocument.documentElement:n;var h=C(c,u,s);if("HTML"!==c.nodeName||function t(e){var i=e.nodeName;if("BODY"===i||"HTML"===i)return!1;if("fixed"===o(e,"position"))return!0;var n=a(e);return!!n&&t(n)}(u))r=h;else{var d=y(t.ownerDocument),p=d.height,g=d.width;r.top+=h.top-h.marginTop,r.bottom=p+h.top,r.left+=h.left-h.marginLeft,r.right=g+h.left}}var v="number"==typeof(i=i||0);return r.left+=v?i:i.left||0,r.top+=v?i:i.top||0,r.right-=v?i:i.right||0,r.bottom-=v?i:i.bottom||0,r}function D(t,e,i,n,s){var r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===t.indexOf("auto"))return t;var o=E(i,n,r,s),a={top:{width:o.width,height:e.top-o.top},right:{width:o.right-e.right,height:o.height},bottom:{width:o.width,height:o.bottom-e.bottom},left:{width:e.left-o.left,height:o.height}},l=Object.keys(a).map(function(t){return T({key:t},a[t],{area:(e=a[t],e.width*e.height)});var e}).sort(function(t,e){return e.area-t.area}),u=l.filter(function(t){var e=t.width,n=t.height;return e>=i.clientWidth&&n>=i.clientHeight}),c=u.length>0?u[0].key:l[0].key,h=t.split("-")[1];return c+(h?"-"+h:"")}function A(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return C(i,n?x(e):f(e,i),n)}function P(t){var e=t.ownerDocument.defaultView.getComputedStyle(t),i=parseFloat(e.marginTop||0)+parseFloat(e.marginBottom||0),n=parseFloat(e.marginLeft||0)+parseFloat(e.marginRight||0);return{width:t.offsetWidth+n,height:t.offsetHeight+i}}function I(t){var e={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,function(t){return e[t]})}function O(t,e,i){i=i.split("-")[0];var n=P(t),s={width:n.width,height:n.height},r=-1!==["right","left"].indexOf(i),o=r?"top":"left",a=r?"left":"top",l=r?"height":"width",u=r?"width":"height";return s[o]=e[o]+e[l]/2-n[l]/2,s[a]=i===a?e[a]-n[u]:e[I(a)],s}function M(t,e){return Array.prototype.find?t.find(e):t.filter(e)[0]}function L(t,e,i){return(void 0===i?t:t.slice(0,function(t,e,i){if(Array.prototype.findIndex)return t.findIndex(function(t){return t[e]===i});var n=M(t,function(t){return t[e]===i});return t.indexOf(n)}(t,"name",i))).forEach(function(t){t.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=t.function||t.fn;t.enabled&&r(i)&&(e.offsets.popper=k(e.offsets.popper),e.offsets.reference=k(e.offsets.reference),e=i(e,t))}),e}function N(t,e){return t.some(function(t){var i=t.name;return t.enabled&&i===e})}function R(t){for(var e=[!1,"ms","Webkit","Moz","O"],i=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<e.length;n++){var s=e[n],r=s?""+s+i:t;if(void 0!==document.body.style[r])return r}return null}function U(t){var e=t.ownerDocument;return e?e.defaultView:window}function F(t,e,i,n){i.updateBound=n,U(t).addEventListener("resize",i.updateBound,{passive:!0});var s=l(t);return function t(e,i,n,s){var r="BODY"===e.nodeName,o=r?e.ownerDocument.defaultView:e;o.addEventListener(i,n,{passive:!0}),r||t(l(o.parentNode),i,n,s),s.push(o)}(s,"scroll",i.updateBound,i.scrollParents),i.scrollElement=s,i.eventsEnabled=!0,i}function j(){var t,e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,e=this.state,U(t).removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function H(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(t)}function z(t,e){Object.keys(e).forEach(function(i){var n="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&H(e[i])&&(n="px"),t.style[i]=e[i]+n})}var B=t&&/Firefox/i.test(navigator.userAgent);function W(t,e,i){var n=M(t,function(t){return t.name===e}),s=!!n&&t.some(function(t){return t.name===i&&t.enabled&&t.order<n.order});if(!s){var r="`"+e+"`",o="`"+i+"`";console.warn(o+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")}return s}var Y=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=Y.slice(3);function q(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=V.indexOf(t),n=V.slice(i+1).concat(V.slice(0,i));return e?n.reverse():n}var $={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function G(t,e,i,n){var s=[0,0],r=-1!==["right","left"].indexOf(n),o=t.split(/(\+|\-)/).map(function(t){return t.trim()}),a=o.indexOf(M(o,function(t){return-1!==t.search(/,|\s/)}));o[a]&&-1===o[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==a?[o.slice(0,a).concat([o[a].split(l)[0]]),[o[a].split(l)[1]].concat(o.slice(a+1))]:[o];return(u=u.map(function(t,n){var s=(1===n?!r:r)?"height":"width",o=!1;return t.reduce(function(t,e){return""===t[t.length-1]&&-1!==["+","-"].indexOf(e)?(t[t.length-1]=e,o=!0,t):o?(t[t.length-1]+=e,o=!1,t):t.concat(e)},[]).map(function(t){return function(t,e,i,n){var s=t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),r=+s[1],o=s[2];if(!r)return t;if(0===o.indexOf("%")){var a=void 0;switch(o){case"%p":a=i;break;case"%":case"%r":default:a=n}return k(a)[e]/100*r}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*r;return r}(t,s,e,i)})})).forEach(function(t,e){t.forEach(function(i,n){H(i)&&(s[e]+=i*("-"===t[n-1]?-1:1))})}),s}var X={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(t){var e=t.placement,i=e.split("-")[0],n=e.split("-")[1];if(n){var s=t.offsets,r=s.reference,o=s.popper,a=-1!==["bottom","top"].indexOf(i),l=a?"left":"top",u=a?"width":"height",c={start:w({},l,r[l]),end:w({},l,r[l]+r[u]-o[u])};t.offsets.popper=T({},o,c[n])}return t}},offset:{order:200,enabled:!0,fn:function(t,e){var i=e.offset,n=t.placement,s=t.offsets,r=s.popper,o=s.reference,a=n.split("-")[0],l=void 0;return l=H(+i)?[+i,0]:G(i,r,o,a),"left"===a?(r.top+=l[0],r.left-=l[1]):"right"===a?(r.top+=l[0],r.left+=l[1]):"top"===a?(r.left+=l[0],r.top-=l[1]):"bottom"===a&&(r.left+=l[0],r.top+=l[1]),t.popper=r,t},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(t,e){var i=e.boundariesElement||d(t.instance.popper);t.instance.reference===i&&(i=d(i));var n=R("transform"),s=t.instance.popper.style,r=s.top,o=s.left,a=s[n];s.top="",s.left="",s[n]="";var l=E(t.instance.popper,t.instance.reference,e.padding,i,t.positionFixed);s.top=r,s.left=o,s[n]=a,e.boundaries=l;var u=e.priority,c=t.offsets.popper,h={primary:function(t){var i=c[t];return c[t]<l[t]&&!e.escapeWithReference&&(i=Math.max(c[t],l[t])),w({},t,i)},secondary:function(t){var i="right"===t?"left":"top",n=c[i];return c[t]>l[t]&&!e.escapeWithReference&&(n=Math.min(c[i],l[t]-("right"===t?c.width:c.height))),w({},i,n)}};return u.forEach(function(t){var e=-1!==["left","top"].indexOf(t)?"primary":"secondary";c=T({},c,h[e](t))}),t.offsets.popper=c,t},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(t){var e=t.offsets,i=e.popper,n=e.reference,s=t.placement.split("-")[0],r=Math.floor,o=-1!==["top","bottom"].indexOf(s),a=o?"right":"bottom",l=o?"left":"top",u=o?"width":"height";return i[a]<r(n[l])&&(t.offsets.popper[l]=r(n[l])-i[u]),i[l]>r(n[a])&&(t.offsets.popper[l]=r(n[a])),t}},arrow:{order:500,enabled:!0,fn:function(t,e){var i;if(!W(t.instance.modifiers,"arrow","keepTogether"))return t;var n=e.element;if("string"==typeof n){if(!(n=t.instance.popper.querySelector(n)))return t}else if(!t.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),t;var s=t.placement.split("-")[0],r=t.offsets,a=r.popper,l=r.reference,u=-1!==["left","right"].indexOf(s),c=u?"height":"width",h=u?"Top":"Left",d=h.toLowerCase(),p=u?"left":"top",f=u?"bottom":"right",m=P(n)[c];l[f]-m<a[d]&&(t.offsets.popper[d]-=a[d]-(l[f]-m)),l[d]+m>a[f]&&(t.offsets.popper[d]+=l[d]+m-a[f]),t.offsets.popper=k(t.offsets.popper);var g=l[d]+l[c]/2-m/2,v=o(t.instance.popper),y=parseFloat(v["margin"+h],10),_=parseFloat(v["border"+h+"Width"],10),b=g-t.offsets.popper[d]-y-_;return b=Math.max(Math.min(a[c]-m,b),0),t.arrowElement=n,t.offsets.arrow=(w(i={},d,Math.round(b)),w(i,p,""),i),t},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(t,e){if(N(t.instance.modifiers,"inner"))return t;if(t.flipped&&t.placement===t.originalPlacement)return t;var i=E(t.instance.popper,t.instance.reference,e.padding,e.boundariesElement,t.positionFixed),n=t.placement.split("-")[0],s=I(n),r=t.placement.split("-")[1]||"",o=[];switch(e.behavior){case $.FLIP:o=[n,s];break;case $.CLOCKWISE:o=q(n);break;case $.COUNTERCLOCKWISE:o=q(n,!0);break;default:o=e.behavior}return o.forEach(function(a,l){if(n!==a||o.length===l+1)return t;n=t.placement.split("-")[0],s=I(n);var u=t.offsets.popper,c=t.offsets.reference,h=Math.floor,d="left"===n&&h(u.right)>h(c.left)||"right"===n&&h(u.left)<h(c.right)||"top"===n&&h(u.bottom)>h(c.top)||"bottom"===n&&h(u.top)<h(c.bottom),p=h(u.left)<h(i.left),f=h(u.right)>h(i.right),m=h(u.top)<h(i.top),g=h(u.bottom)>h(i.bottom),v="left"===n&&p||"right"===n&&f||"top"===n&&m||"bottom"===n&&g,y=-1!==["top","bottom"].indexOf(n),_=!!e.flipVariations&&(y&&"start"===r&&p||y&&"end"===r&&f||!y&&"start"===r&&m||!y&&"end"===r&&g);(d||v||_)&&(t.flipped=!0,(d||v)&&(n=o[l+1]),_&&(r=function(t){return"end"===t?"start":"start"===t?"end":t}(r)),t.placement=n+(r?"-"+r:""),t.offsets.popper=T({},t.offsets.popper,O(t.instance.popper,t.offsets.reference,t.placement)),t=L(t.instance.modifiers,t,"flip"))}),t},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(t){var e=t.placement,i=e.split("-")[0],n=t.offsets,s=n.popper,r=n.reference,o=-1!==["left","right"].indexOf(i),a=-1===["top","left"].indexOf(i);return s[o?"left":"top"]=r[i]-(a?s[o?"width":"height"]:0),t.placement=I(e),t.offsets.popper=k(s),t}},hide:{order:800,enabled:!0,fn:function(t){if(!W(t.instance.modifiers,"hide","preventOverflow"))return t;var e=t.offsets.reference,i=M(t.instance.modifiers,function(t){return"preventOverflow"===t.name}).boundaries;if(e.bottom<i.top||e.left>i.right||e.top>i.bottom||e.right<i.left){if(!0===t.hide)return t;t.hide=!0,t.attributes["x-out-of-boundaries"]=""}else{if(!1===t.hide)return t;t.hide=!1,t.attributes["x-out-of-boundaries"]=!1}return t}},computeStyle:{order:850,enabled:!0,fn:function(t,e){var i=e.x,n=e.y,s=t.offsets.popper,r=M(t.instance.modifiers,function(t){return"applyStyle"===t.name}).gpuAcceleration;void 0!==r&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var o=void 0!==r?r:e.gpuAcceleration,a=d(t.instance.popper),l=S(a),u={position:s.position},c=function(t,e){var i=t.offsets,n=i.popper,s=i.reference,r=Math.round,o=Math.floor,a=function(t){return t},l=r(s.width),u=r(n.width),c=-1!==["left","right"].indexOf(t.placement),h=-1!==t.placement.indexOf("-"),d=e?c||h||l%2==u%2?r:o:a,p=e?r:a;return{left:d(l%2==1&&u%2==1&&!h&&e?n.left-1:n.left),top:p(n.top),bottom:p(n.bottom),right:d(n.right)}}(t,window.devicePixelRatio<2||!B),h="bottom"===i?"top":"bottom",p="right"===n?"left":"right",f=R("transform"),m=void 0,g=void 0;if(g="bottom"===h?"HTML"===a.nodeName?-a.clientHeight+c.bottom:-l.height+c.bottom:c.top,m="right"===p?"HTML"===a.nodeName?-a.clientWidth+c.right:-l.width+c.right:c.left,o&&f)u[f]="translate3d("+m+"px, "+g+"px, 0)",u[h]=0,u[p]=0,u.willChange="transform";else{var v="bottom"===h?-1:1,y="right"===p?-1:1;u[h]=g*v,u[p]=m*y,u.willChange=h+", "+p}var _={"x-placement":t.placement};return t.attributes=T({},_,t.attributes),t.styles=T({},u,t.styles),t.arrowStyles=T({},t.offsets.arrow,t.arrowStyles),t},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(t){var e,i;return z(t.instance.popper,t.styles),e=t.instance.popper,i=t.attributes,Object.keys(i).forEach(function(t){!1!==i[t]?e.setAttribute(t,i[t]):e.removeAttribute(t)}),t.arrowElement&&Object.keys(t.arrowStyles).length&&z(t.arrowElement,t.arrowStyles),t},onLoad:function(t,e,i,n,s){var r=A(s,e,t,i.positionFixed),o=D(i.placement,r,e,t,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return e.setAttribute("x-placement",o),z(e,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}},K=function(){function t(e,i){var n=this,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,t),this.scheduleUpdate=function(){return requestAnimationFrame(n.update)},this.update=s(this.update.bind(this)),this.options=T({},t.Defaults,o),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=e&&e.jquery?e[0]:e,this.popper=i&&i.jquery?i[0]:i,this.options.modifiers={},Object.keys(T({},t.Defaults.modifiers,o.modifiers)).forEach(function(e){n.options.modifiers[e]=T({},t.Defaults.modifiers[e]||{},o.modifiers?o.modifiers[e]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(t){return T({name:t},n.options.modifiers[t])}).sort(function(t,e){return t.order-e.order}),this.modifiers.forEach(function(t){t.enabled&&r(t.onLoad)&&t.onLoad(n.reference,n.popper,n.options,t,n.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return b(t,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var t={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};t.offsets.reference=A(this.state,this.popper,this.reference,this.options.positionFixed),t.placement=D(this.options.placement,t.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),t.originalPlacement=t.placement,t.positionFixed=this.options.positionFixed,t.offsets.popper=O(this.popper,t.offsets.reference,t.placement),t.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",t=L(this.modifiers,t),this.state.isCreated?this.options.onUpdate(t):(this.state.isCreated=!0,this.options.onCreate(t))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,N(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[R("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=F(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return j.call(this)}}]),t}();return K.Utils=("undefined"!=typeof window?window:global).PopperUtils,K.placements=Y,K.Defaults=X,K}),function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.AOS=e():t.AOS=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var s=i[n]={exports:{},id:n,loaded:!1};return t[n].call(s.exports,s,s.exports,e),s.loaded=!0,s.exports}var i={};return e.m=t,e.c=i,e.p="dist/",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{default:t}}var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},r=(n(i(1)),i(5)),o=n(r),a=n(i(6)),l=n(i(7)),u=n(i(8)),c=n(i(9)),h=n(i(10)),d=n(i(13)),p=[],f=!1,m=document.all&&!window.atob,g={offset:120,delay:0,easing:"ease",duration:400,disable:!1,once:!1,startEvent:"DOMContentLoaded"},v=function(){return!(arguments.length<=0||void 0===arguments[0])&&arguments[0]&&(f=!0),f?(p=(0,h.default)(p,g),(0,c.default)(p,g.once),p):void 0},y=function(){p=(0,d.default)(),v()};t.exports={init:function(t){return g=s(g,t),p=(0,d.default)(),function(t){return!0===t||"mobile"===t&&u.default.mobile()||"phone"===t&&u.default.phone()||"tablet"===t&&u.default.tablet()||"function"==typeof t&&!0===t()}(g.disable)||m?void p.forEach(function(t,e){t.node.removeAttribute("data-aos"),t.node.removeAttribute("data-aos-easing"),t.node.removeAttribute("data-aos-duration"),t.node.removeAttribute("data-aos-delay")}):(document.querySelector("body").setAttribute("data-aos-easing",g.easing),document.querySelector("body").setAttribute("data-aos-duration",g.duration),document.querySelector("body").setAttribute("data-aos-delay",g.delay),"DOMContentLoaded"===g.startEvent&&["complete","interactive"].indexOf(document.readyState)>-1?v(!0):"load"===g.startEvent?window.addEventListener(g.startEvent,function(){v(!0)}):document.addEventListener(g.startEvent,function(){v(!0)}),window.addEventListener("resize",(0,a.default)(v,50,!0)),window.addEventListener("orientationchange",(0,a.default)(v,50,!0)),window.addEventListener("scroll",(0,o.default)(function(){(0,c.default)(p,g.once)},99)),document.addEventListener("DOMNodeRemoved",function(t){var e=t.target;e&&1===e.nodeType&&e.hasAttribute&&e.hasAttribute("data-aos")&&(0,a.default)(y,50,!0)}),(0,l.default)("[data-aos]",y),p)},refresh:v,refreshHard:y}},function(t,e){},,,,function(t,e,i){"use strict";function n(t){var e=void 0===t?"undefined":s(t);return!!t&&("object"==e||"function"==e)}var s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},r=i(6),o="Expected a function";t.exports=function(t,e,i){var s=!0,a=!0;if("function"!=typeof t)throw new TypeError(o);return n(i)&&(s="leading"in i?!!i.leading:s,a="trailing"in i?!!i.trailing:a),r(t,e,{leading:s,maxWait:e,trailing:a})}},function(t,e){"use strict";function i(t){var e=void 0===t?"undefined":r(t);return!!t&&("object"==e||"function"==e)}function n(t){return"symbol"==(void 0===t?"undefined":r(t))||function(t){return!!t&&"object"==(void 0===t?"undefined":r(t))}(t)&&g.call(t)==c}function s(t){if("number"==typeof t)return t;if(n(t))return a;if(i(t)){var e=function(t){var e=i(t)?g.call(t):"";return e==l||e==u}(t.valueOf)?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(h,"");var s=p.test(t);return s||f.test(t)?m(t.slice(2),s?2:8):d.test(t)?a:+t}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t},o="Expected a function",a=NaN,l="[object Function]",u="[object GeneratorFunction]",c="[object Symbol]",h=/^\s+|\s+$/g,d=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,f=/^0o[0-7]+$/i,m=parseInt,g=Object.prototype.toString,v=Math.max,y=Math.min,_=Date.now;t.exports=function(t,e,n){function r(e){var i=h,n=d;return h=d=void 0,b=e,f=t.apply(n,i)}function a(t){var i=t-g;return!g||i>=e||0>i||T&&t-b>=p}function l(){var t=_();return a(t)?u(t):void(m=setTimeout(l,function(t){var i=e-(t-g);return T?y(i,p-(t-b)):i}(t)))}function u(t){return clearTimeout(m),m=void 0,k&&h?r(t):(h=d=void 0,f)}function c(){var t=_(),i=a(t);if(h=arguments,d=this,g=t,i){if(void 0===m)return function(t){return b=t,m=setTimeout(l,e),w?r(t):f}(g);if(T)return clearTimeout(m),m=setTimeout(l,e),r(g)}return void 0===m&&(m=setTimeout(l,e)),f}var h,d,p,f,m,g=0,b=0,w=!1,T=!1,k=!0;if("function"!=typeof t)throw new TypeError(o);return e=s(e)||0,i(n)&&(w=!!n.leading,p=(T="maxWait"in n)?v(s(n.maxWait)||0,e):p,k="trailing"in n?!!n.trailing:k),c.cancel=function(){void 0!==m&&clearTimeout(m),g=b=0,h=d=m=void 0},c.flush=function(){return void 0===m?f:u(_())},c}},function(t,e){"use strict";function i(){for(var t,e,i=0,s=r.length;s>i;i++){t=r[i];for(var o,a=0,l=(e=n.querySelectorAll(t.selector)).length;l>a;a++)(o=e[a]).ready||(o.ready=!0,t.fn.call(o,o))}}Object.defineProperty(e,"__esModule",{value:!0});var n=window.document,s=window.MutationObserver||window.WebKitMutationObserver,r=[],o=void 0;e.default=function(t,e){r.push({selector:t,fn:e}),!o&&s&&(o=new s(i)).observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0}),i()}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}return i(t,[{key:"phone",value:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},{key:"mobile",value:function(){var t,e=!1;return t=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4)))&&(e=!0),e}},{key:"tablet",value:function(){return this.mobile()&&!this.phone()}}]),t}();e.default=new n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){var i=window.pageYOffset,n=window.innerHeight;t.forEach(function(t,s){!function(t,e,i){var n=t.node.getAttribute("data-aos-once");e>t.position?t.node.classList.add("aos-animate"):void 0!==n&&("false"===n||!i&&"true"!==n)&&t.node.classList.remove("aos-animate")}(t,n+i,e)})}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(11));e.default=function(t,e){return t.forEach(function(t,i){t.node.classList.add("aos-init"),t.position=(0,n.default)(t.node,e.offset)}),t}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=function(t){return t&&t.__esModule?t:{default:t}}(i(12));e.default=function(t,e){var i=0,s=0,r=window.innerHeight,o={offset:t.getAttribute("data-aos-offset"),anchor:t.getAttribute("data-aos-anchor"),anchorPlacement:t.getAttribute("data-aos-anchor-placement")};switch(o.offset&&!isNaN(o.offset)&&(s=parseInt(o.offset)),o.anchor&&document.querySelectorAll(o.anchor)&&(t=document.querySelectorAll(o.anchor)[0]),i=(0,n.default)(t).top,o.anchorPlacement){case"top-bottom":break;case"center-bottom":i+=t.offsetHeight/2;break;case"bottom-bottom":i+=t.offsetHeight;break;case"top-center":i+=r/2;break;case"bottom-center":i+=r/2+t.offsetHeight;break;case"center-center":i+=r/2+t.offsetHeight/2;break;case"top-top":i+=r;break;case"bottom-top":i+=t.offsetHeight+r;break;case"center-top":i+=t.offsetHeight/2+r}return o.anchorPlacement||o.offset||isNaN(e)||(s=e),i+s}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){for(var e=0,i=0;t&&!isNaN(t.offsetLeft)&&!isNaN(t.offsetTop);)e+=t.offsetLeft-("BODY"!=t.tagName?t.scrollLeft:0),i+=t.offsetTop-("BODY"!=t.tagName?t.scrollTop:0),t=t.offsetParent;return{top:i,left:e}}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){t=t||document.querySelectorAll("[data-aos]");var e=[];return[].forEach.call(t,function(t,i){e.push({node:t})}),e}}])}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("jquery"),require("popper.js")):"function"==typeof define&&define.amd?define(["exports","jquery","popper.js"],e):e((t=t||self).bootstrap={},t.jQuery,t.Popper)}(this,function(t,e,i){"use strict";function n(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function s(t,e,i){return e&&n(t.prototype,e),i&&n(t,i),t}function r(t,e,i){return e in t?Object.defineProperty(t,e,{value:i,enumerable:!0,configurable:!0,writable:!0}):t[e]=i,t}function o(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{},n=Object.keys(i);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(i).filter(function(t){return Object.getOwnPropertyDescriptor(i,t).enumerable}))),n.forEach(function(e){r(t,e,i[e])})}return t}e=e&&e.hasOwnProperty("default")?e.default:e,i=i&&i.hasOwnProperty("default")?i.default:i;var a="transitionend";function l(t){var i=this,n=!1;return e(this).one(u.TRANSITION_END,function(){n=!0}),setTimeout(function(){n||u.triggerTransitionEnd(i)},t),this}var u={TRANSITION_END:"bsTransitionEnd",getUID:function(t){do{t+=~~(1e6*Math.random())}while(document.getElementById(t));return t},getSelectorFromElement:function(t){var e=t.getAttribute("data-target");if(!e||"#"===e){var i=t.getAttribute("href");e=i&&"#"!==i?i.trim():""}try{return document.querySelector(e)?e:null}catch(t){return null}},getTransitionDurationFromElement:function(t){if(!t)return 0;var i=e(t).css("transition-duration"),n=e(t).css("transition-delay"),s=parseFloat(i),r=parseFloat(n);return s||r?(i=i.split(",")[0],n=n.split(",")[0],1e3*(parseFloat(i)+parseFloat(n))):0},reflow:function(t){return t.offsetHeight},triggerTransitionEnd:function(t){e(t).trigger(a)},supportsTransitionEnd:function(){return Boolean(a)},isElement:function(t){return(t[0]||t).nodeType},typeCheckConfig:function(t,e,i){for(var n in i)if(Object.prototype.hasOwnProperty.call(i,n)){var s=i[n],r=e[n],o=r&&u.isElement(r)?"element":(a=r,{}.toString.call(a).match(/\s([a-z]+)/i)[1].toLowerCase());if(!new RegExp(s).test(o))throw new Error(t.toUpperCase()+': Option "'+n+'" provided type "'+o+'" but expected type "'+s+'".')}var a},findShadowRoot:function(t){if(!document.documentElement.attachShadow)return null;if("function"==typeof t.getRootNode){var e=t.getRootNode();return e instanceof ShadowRoot?e:null}return t instanceof ShadowRoot?t:t.parentNode?u.findShadowRoot(t.parentNode):null}};e.fn.emulateTransitionEnd=l,e.event.special[u.TRANSITION_END]={bindType:a,delegateType:a,handle:function(t){if(e(t.target).is(this))return t.handleObj.handler.apply(this,arguments)}};var c=e.fn.alert,h={CLOSE:"close.bs.alert",CLOSED:"closed.bs.alert",CLICK_DATA_API:"click.bs.alert.data-api"},d="alert",p="fade",f="show",m=function(){function t(t){this._element=t}var i=t.prototype;return i.close=function(t){var e=this._element;t&&(e=this._getRootElement(t)),this._triggerCloseEvent(e).isDefaultPrevented()||this._removeElement(e)},i.dispose=function(){e.removeData(this._element,"bs.alert"),this._element=null},i._getRootElement=function(t){var i=u.getSelectorFromElement(t),n=!1;return i&&(n=document.querySelector(i)),n||(n=e(t).closest("."+d)[0]),n},i._triggerCloseEvent=function(t){var i=e.Event(h.CLOSE);return e(t).trigger(i),i},i._removeElement=function(t){var i=this;if(e(t).removeClass(f),e(t).hasClass(p)){var n=u.getTransitionDurationFromElement(t);e(t).one(u.TRANSITION_END,function(e){return i._destroyElement(t,e)}).emulateTransitionEnd(n)}else this._destroyElement(t)},i._destroyElement=function(t){e(t).detach().trigger(h.CLOSED).remove()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),s=n.data("bs.alert");s||(s=new t(this),n.data("bs.alert",s)),"close"===i&&s[i](this)})},t._handleDismiss=function(t){return function(e){e&&e.preventDefault(),t.close(this)}},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(h.CLICK_DATA_API,'[data-dismiss="alert"]',m._handleDismiss(new m)),e.fn.alert=m._jQueryInterface,e.fn.alert.Constructor=m,e.fn.alert.noConflict=function(){return e.fn.alert=c,m._jQueryInterface};var g=e.fn.button,v="active",y="btn",_="focus",b='[data-toggle^="button"]',w='[data-toggle="buttons"]',T='input:not([type="hidden"])',k=".active",S=".btn",C={CLICK_DATA_API:"click.bs.button.data-api",FOCUS_BLUR_DATA_API:"focus.bs.button.data-api blur.bs.button.data-api"},x=function(){function t(t){this._element=t}var i=t.prototype;return i.toggle=function(){var t=!0,i=!0,n=e(this._element).closest(w)[0];if(n){var s=this._element.querySelector(T);if(s){if("radio"===s.type)if(s.checked&&this._element.classList.contains(v))t=!1;else{var r=n.querySelector(k);r&&e(r).removeClass(v)}if(t){if(s.hasAttribute("disabled")||n.hasAttribute("disabled")||s.classList.contains("disabled")||n.classList.contains("disabled"))return;s.checked=!this._element.classList.contains(v),e(s).trigger("change")}s.focus(),i=!1}}i&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(v)),t&&e(this._element).toggleClass(v)},i.dispose=function(){e.removeData(this._element,"bs.button"),this._element=null},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.button");n||(n=new t(this),e(this).data("bs.button",n)),"toggle"===i&&n[i]()})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(C.CLICK_DATA_API,b,function(t){t.preventDefault();var i=t.target;e(i).hasClass(y)||(i=e(i).closest(S)),x._jQueryInterface.call(e(i),"toggle")}).on(C.FOCUS_BLUR_DATA_API,b,function(t){var i=e(t.target).closest(S)[0];e(i).toggleClass(_,/^focus(in)?$/.test(t.type))}),e.fn.button=x._jQueryInterface,e.fn.button.Constructor=x,e.fn.button.noConflict=function(){return e.fn.button=g,x._jQueryInterface};var E="carousel",D=".bs.carousel",A=e.fn[E],P={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},I={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},O="next",M="prev",L="left",N="right",R={SLIDE:"slide.bs.carousel",SLID:"slid.bs.carousel",KEYDOWN:"keydown.bs.carousel",MOUSEENTER:"mouseenter.bs.carousel",MOUSELEAVE:"mouseleave.bs.carousel",TOUCHSTART:"touchstart.bs.carousel",TOUCHMOVE:"touchmove.bs.carousel",TOUCHEND:"touchend.bs.carousel",POINTERDOWN:"pointerdown.bs.carousel",POINTERUP:"pointerup.bs.carousel",DRAG_START:"dragstart.bs.carousel",LOAD_DATA_API:"load.bs.carousel.data-api",CLICK_DATA_API:"click.bs.carousel.data-api"},U="carousel",F="active",j="slide",H="carousel-item-right",z="carousel-item-left",B="carousel-item-next",W="carousel-item-prev",Y="pointer-event",V={ACTIVE:".active",ACTIVE_ITEM:".active.carousel-item",ITEM:".carousel-item",ITEM_IMG:".carousel-item img",NEXT_PREV:".carousel-item-next, .carousel-item-prev",INDICATORS:".carousel-indicators",DATA_SLIDE:"[data-slide], [data-slide-to]",DATA_RIDE:'[data-ride="carousel"]'},q={TOUCH:"touch",PEN:"pen"},$=function(){function t(t,e){this._items=null,this._interval=null,this._activeElement=null,this._isPaused=!1,this._isSliding=!1,this.touchTimeout=null,this.touchStartX=0,this.touchDeltaX=0,this._config=this._getConfig(e),this._element=t,this._indicatorsElement=this._element.querySelector(V.INDICATORS),this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0,this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent),this._addEventListeners()}var i=t.prototype;return i.next=function(){this._isSliding||this._slide(O)},i.nextWhenVisible=function(){!document.hidden&&e(this._element).is(":visible")&&"hidden"!==e(this._element).css("visibility")&&this.next()},i.prev=function(){this._isSliding||this._slide(M)},i.pause=function(t){t||(this._isPaused=!0),this._element.querySelector(V.NEXT_PREV)&&(u.triggerTransitionEnd(this._element),this.cycle(!0)),clearInterval(this._interval),this._interval=null},i.cycle=function(t){t||(this._isPaused=!1),this._interval&&(clearInterval(this._interval),this._interval=null),this._config.interval&&!this._isPaused&&(this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},i.to=function(t){var i=this;this._activeElement=this._element.querySelector(V.ACTIVE_ITEM);var n=this._getItemIndex(this._activeElement);if(!(t>this._items.length-1||t<0))if(this._isSliding)e(this._element).one(R.SLID,function(){return i.to(t)});else{if(n===t)return this.pause(),void this.cycle();var s=t>n?O:M;this._slide(s,this._items[t])}},i.dispose=function(){e(this._element).off(D),e.removeData(this._element,"bs.carousel"),this._items=null,this._config=null,this._element=null,this._interval=null,this._isPaused=null,this._isSliding=null,this._activeElement=null,this._indicatorsElement=null},i._getConfig=function(t){return t=o({},P,t),u.typeCheckConfig(E,t,I),t},i._handleSwipe=function(){var t=Math.abs(this.touchDeltaX);if(!(t<=40)){var e=t/this.touchDeltaX;e>0&&this.prev(),e<0&&this.next()}},i._addEventListeners=function(){var t=this;this._config.keyboard&&e(this._element).on(R.KEYDOWN,function(e){return t._keydown(e)}),"hover"===this._config.pause&&e(this._element).on(R.MOUSEENTER,function(e){return t.pause(e)}).on(R.MOUSELEAVE,function(e){return t.cycle(e)}),this._config.touch&&this._addTouchEventListeners()},i._addTouchEventListeners=function(){var t=this;if(this._touchSupported){var i=function(e){t._pointerEvent&&q[e.originalEvent.pointerType.toUpperCase()]?t.touchStartX=e.originalEvent.clientX:t._pointerEvent||(t.touchStartX=e.originalEvent.touches[0].clientX)},n=function(e){t._pointerEvent&&q[e.originalEvent.pointerType.toUpperCase()]&&(t.touchDeltaX=e.originalEvent.clientX-t.touchStartX),t._handleSwipe(),"hover"===t._config.pause&&(t.pause(),t.touchTimeout&&clearTimeout(t.touchTimeout),t.touchTimeout=setTimeout(function(e){return t.cycle(e)},500+t._config.interval))};e(this._element.querySelectorAll(V.ITEM_IMG)).on(R.DRAG_START,function(t){return t.preventDefault()}),this._pointerEvent?(e(this._element).on(R.POINTERDOWN,function(t){return i(t)}),e(this._element).on(R.POINTERUP,function(t){return n(t)}),this._element.classList.add(Y)):(e(this._element).on(R.TOUCHSTART,function(t){return i(t)}),e(this._element).on(R.TOUCHMOVE,function(e){return function(e){e.originalEvent.touches&&e.originalEvent.touches.length>1?t.touchDeltaX=0:t.touchDeltaX=e.originalEvent.touches[0].clientX-t.touchStartX}(e)}),e(this._element).on(R.TOUCHEND,function(t){return n(t)}))}},i._keydown=function(t){if(!/input|textarea/i.test(t.target.tagName))switch(t.which){case 37:t.preventDefault(),this.prev();break;case 39:t.preventDefault(),this.next()}},i._getItemIndex=function(t){return this._items=t&&t.parentNode?[].slice.call(t.parentNode.querySelectorAll(V.ITEM)):[],this._items.indexOf(t)},i._getItemByDirection=function(t,e){var i=t===O,n=t===M,s=this._getItemIndex(e),r=this._items.length-1;if((n&&0===s||i&&s===r)&&!this._config.wrap)return e;var o=(s+(t===M?-1:1))%this._items.length;return-1===o?this._items[this._items.length-1]:this._items[o]},i._triggerSlideEvent=function(t,i){var n=this._getItemIndex(t),s=this._getItemIndex(this._element.querySelector(V.ACTIVE_ITEM)),r=e.Event(R.SLIDE,{relatedTarget:t,direction:i,from:s,to:n});return e(this._element).trigger(r),r},i._setActiveIndicatorElement=function(t){if(this._indicatorsElement){var i=[].slice.call(this._indicatorsElement.querySelectorAll(V.ACTIVE));e(i).removeClass(F);var n=this._indicatorsElement.children[this._getItemIndex(t)];n&&e(n).addClass(F)}},i._slide=function(t,i){var n,s,r,o=this,a=this._element.querySelector(V.ACTIVE_ITEM),l=this._getItemIndex(a),c=i||a&&this._getItemByDirection(t,a),h=this._getItemIndex(c),d=Boolean(this._interval);if(t===O?(n=z,s=B,r=L):(n=H,s=W,r=N),c&&e(c).hasClass(F))this._isSliding=!1;else if(!this._triggerSlideEvent(c,r).isDefaultPrevented()&&a&&c){this._isSliding=!0,d&&this.pause(),this._setActiveIndicatorElement(c);var p=e.Event(R.SLID,{relatedTarget:c,direction:r,from:l,to:h});if(e(this._element).hasClass(j)){e(c).addClass(s),u.reflow(c),e(a).addClass(n),e(c).addClass(n);var f=parseInt(c.getAttribute("data-interval"),10);f?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=f):this._config.interval=this._config.defaultInterval||this._config.interval;var m=u.getTransitionDurationFromElement(a);e(a).one(u.TRANSITION_END,function(){e(c).removeClass(n+" "+s).addClass(F),e(a).removeClass(F+" "+s+" "+n),o._isSliding=!1,setTimeout(function(){return e(o._element).trigger(p)},0)}).emulateTransitionEnd(m)}else e(a).removeClass(F),e(c).addClass(F),this._isSliding=!1,e(this._element).trigger(p);d&&this.cycle()}},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.carousel"),s=o({},P,e(this).data());"object"==typeof i&&(s=o({},s,i));var r="string"==typeof i?i:s.slide;if(n||(n=new t(this,s),e(this).data("bs.carousel",n)),"number"==typeof i)n.to(i);else if("string"==typeof r){if(void 0===n[r])throw new TypeError('No method named "'+r+'"');n[r]()}else s.interval&&s.ride&&(n.pause(),n.cycle())})},t._dataApiClickHandler=function(i){var n=u.getSelectorFromElement(this);if(n){var s=e(n)[0];if(s&&e(s).hasClass(U)){var r=o({},e(s).data(),e(this).data()),a=this.getAttribute("data-slide-to");a&&(r.interval=!1),t._jQueryInterface.call(e(s),r),a&&e(s).data("bs.carousel").to(a),i.preventDefault()}}},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return P}}]),t}();e(document).on(R.CLICK_DATA_API,V.DATA_SLIDE,$._dataApiClickHandler),e(window).on(R.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(V.DATA_RIDE)),i=0,n=t.length;i<n;i++){var s=e(t[i]);$._jQueryInterface.call(s,s.data())}}),e.fn[E]=$._jQueryInterface,e.fn[E].Constructor=$,e.fn[E].noConflict=function(){return e.fn[E]=A,$._jQueryInterface};var G="collapse",X=e.fn[G],K={toggle:!0,parent:""},Z={toggle:"boolean",parent:"(string|element)"},Q={SHOW:"show.bs.collapse",SHOWN:"shown.bs.collapse",HIDE:"hide.bs.collapse",HIDDEN:"hidden.bs.collapse",CLICK_DATA_API:"click.bs.collapse.data-api"},J="show",tt="collapse",et="collapsing",it="collapsed",nt="width",st="height",rt={ACTIVES:".show, .collapsing",DATA_TOGGLE:'[data-toggle="collapse"]'},ot=function(){function t(t,e){this._isTransitioning=!1,this._element=t,this._config=this._getConfig(e),this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+t.id+'"],[data-toggle="collapse"][data-target="#'+t.id+'"]'));for(var i=[].slice.call(document.querySelectorAll(rt.DATA_TOGGLE)),n=0,s=i.length;n<s;n++){var r=i[n],o=u.getSelectorFromElement(r),a=[].slice.call(document.querySelectorAll(o)).filter(function(e){return e===t});null!==o&&a.length>0&&(this._selector=o,this._triggerArray.push(r))}this._parent=this._config.parent?this._getParent():null,this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray),this._config.toggle&&this.toggle()}var i=t.prototype;return i.toggle=function(){e(this._element).hasClass(J)?this.hide():this.show()},i.show=function(){var i,n,s=this;if(!this._isTransitioning&&!e(this._element).hasClass(J)&&(this._parent&&0===(i=[].slice.call(this._parent.querySelectorAll(rt.ACTIVES)).filter(function(t){return"string"==typeof s._config.parent?t.getAttribute("data-parent")===s._config.parent:t.classList.contains(tt)})).length&&(i=null),!(i&&(n=e(i).not(this._selector).data("bs.collapse"))&&n._isTransitioning))){var r=e.Event(Q.SHOW);if(e(this._element).trigger(r),!r.isDefaultPrevented()){i&&(t._jQueryInterface.call(e(i).not(this._selector),"hide"),n||e(i).data("bs.collapse",null));var o=this._getDimension();e(this._element).removeClass(tt).addClass(et),this._element.style[o]=0,this._triggerArray.length&&e(this._triggerArray).removeClass(it).attr("aria-expanded",!0),this.setTransitioning(!0);var a="scroll"+(o[0].toUpperCase()+o.slice(1)),l=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(){e(s._element).removeClass(et).addClass(tt).addClass(J),s._element.style[o]="",s.setTransitioning(!1),e(s._element).trigger(Q.SHOWN)}).emulateTransitionEnd(l),this._element.style[o]=this._element[a]+"px"}}},i.hide=function(){var t=this;if(!this._isTransitioning&&e(this._element).hasClass(J)){var i=e.Event(Q.HIDE);if(e(this._element).trigger(i),!i.isDefaultPrevented()){var n=this._getDimension();this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",u.reflow(this._element),e(this._element).addClass(et).removeClass(tt).removeClass(J);var s=this._triggerArray.length;if(s>0)for(var r=0;r<s;r++){var o=this._triggerArray[r],a=u.getSelectorFromElement(o);if(null!==a)e([].slice.call(document.querySelectorAll(a))).hasClass(J)||e(o).addClass(it).attr("aria-expanded",!1)}this.setTransitioning(!0);this._element.style[n]="";var l=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(){t.setTransitioning(!1),e(t._element).removeClass(et).addClass(tt).trigger(Q.HIDDEN)}).emulateTransitionEnd(l)}}},i.setTransitioning=function(t){this._isTransitioning=t},i.dispose=function(){e.removeData(this._element,"bs.collapse"),this._config=null,this._parent=null,this._element=null,this._triggerArray=null,this._isTransitioning=null},i._getConfig=function(t){return(t=o({},K,t)).toggle=Boolean(t.toggle),u.typeCheckConfig(G,t,Z),t},i._getDimension=function(){return e(this._element).hasClass(nt)?nt:st},i._getParent=function(){var i,n=this;u.isElement(this._config.parent)?(i=this._config.parent,void 0!==this._config.parent.jquery&&(i=this._config.parent[0])):i=document.querySelector(this._config.parent);var s='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',r=[].slice.call(i.querySelectorAll(s));return e(r).each(function(e,i){n._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])}),i},i._addAriaAndCollapsedClass=function(t,i){var n=e(t).hasClass(J);i.length&&e(i).toggleClass(it,!n).attr("aria-expanded",n)},t._getTargetFromElement=function(t){var e=u.getSelectorFromElement(t);return e?document.querySelector(e):null},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),s=n.data("bs.collapse"),r=o({},K,n.data(),"object"==typeof i&&i?i:{});if(!s&&r.toggle&&/show|hide/.test(i)&&(r.toggle=!1),s||(s=new t(this,r),n.data("bs.collapse",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i]()}})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return K}}]),t}();e(document).on(Q.CLICK_DATA_API,rt.DATA_TOGGLE,function(t){"A"===t.currentTarget.tagName&&t.preventDefault();var i=e(this),n=u.getSelectorFromElement(this),s=[].slice.call(document.querySelectorAll(n));e(s).each(function(){var t=e(this),n=t.data("bs.collapse")?"toggle":i.data();ot._jQueryInterface.call(t,n)})}),e.fn[G]=ot._jQueryInterface,e.fn[G].Constructor=ot,e.fn[G].noConflict=function(){return e.fn[G]=X,ot._jQueryInterface};var at="dropdown",lt=e.fn[at],ut=new RegExp("38|40|27"),ct={HIDE:"hide.bs.dropdown",HIDDEN:"hidden.bs.dropdown",SHOW:"show.bs.dropdown",SHOWN:"shown.bs.dropdown",CLICK:"click.bs.dropdown",CLICK_DATA_API:"click.bs.dropdown.data-api",KEYDOWN_DATA_API:"keydown.bs.dropdown.data-api",KEYUP_DATA_API:"keyup.bs.dropdown.data-api"},ht="disabled",dt="show",pt="dropup",ft="dropright",mt="dropleft",gt="dropdown-menu-right",vt="position-static",yt='[data-toggle="dropdown"]',_t=".dropdown form",bt=".dropdown-menu",wt=".navbar-nav",Tt=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",kt="top-start",St="top-end",Ct="bottom-start",xt="bottom-end",Et="right-start",Dt="left-start",At={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic"},Pt={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string"},It=function(){function t(t,e){this._element=t,this._popper=null,this._config=this._getConfig(e),this._menu=this._getMenuElement(),this._inNavbar=this._detectNavbar(),this._addEventListeners()}var n=t.prototype;return n.toggle=function(){if(!this._element.disabled&&!e(this._element).hasClass(ht)){var n=t._getParentFromElement(this._element),s=e(this._menu).hasClass(dt);if(t._clearMenus(),!s){var r={relatedTarget:this._element},o=e.Event(ct.SHOW,r);if(e(n).trigger(o),!o.isDefaultPrevented()){if(!this._inNavbar){if(void 0===i)throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)");var a=this._element;"parent"===this._config.reference?a=n:u.isElement(this._config.reference)&&(a=this._config.reference,void 0!==this._config.reference.jquery&&(a=this._config.reference[0])),"scrollParent"!==this._config.boundary&&e(n).addClass(vt),this._popper=new i(a,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===e(n).closest(wt).length&&e(document.body).children().on("mouseover",null,e.noop),this._element.focus(),this._element.setAttribute("aria-expanded",!0),e(this._menu).toggleClass(dt),e(n).toggleClass(dt).trigger(e.Event(ct.SHOWN,r))}}}},n.show=function(){if(!(this._element.disabled||e(this._element).hasClass(ht)||e(this._menu).hasClass(dt))){var i={relatedTarget:this._element},n=e.Event(ct.SHOW,i),s=t._getParentFromElement(this._element);e(s).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(dt),e(s).toggleClass(dt).trigger(e.Event(ct.SHOWN,i)))}},n.hide=function(){if(!this._element.disabled&&!e(this._element).hasClass(ht)&&e(this._menu).hasClass(dt)){var i={relatedTarget:this._element},n=e.Event(ct.HIDE,i),s=t._getParentFromElement(this._element);e(s).trigger(n),n.isDefaultPrevented()||(e(this._menu).toggleClass(dt),e(s).toggleClass(dt).trigger(e.Event(ct.HIDDEN,i)))}},n.dispose=function(){e.removeData(this._element,"bs.dropdown"),e(this._element).off(".bs.dropdown"),this._element=null,this._menu=null,null!==this._popper&&(this._popper.destroy(),this._popper=null)},n.update=function(){this._inNavbar=this._detectNavbar(),null!==this._popper&&this._popper.scheduleUpdate()},n._addEventListeners=function(){var t=this;e(this._element).on(ct.CLICK,function(e){e.preventDefault(),e.stopPropagation(),t.toggle()})},n._getConfig=function(t){return t=o({},this.constructor.Default,e(this._element).data(),t),u.typeCheckConfig(at,t,this.constructor.DefaultType),t},n._getMenuElement=function(){if(!this._menu){var e=t._getParentFromElement(this._element);e&&(this._menu=e.querySelector(bt))}return this._menu},n._getPlacement=function(){var t=e(this._element.parentNode),i=Ct;return t.hasClass(pt)?(i=kt,e(this._menu).hasClass(gt)&&(i=St)):t.hasClass(ft)?i=Et:t.hasClass(mt)?i=Dt:e(this._menu).hasClass(gt)&&(i=xt),i},n._detectNavbar=function(){return e(this._element).closest(".navbar").length>0},n._getOffset=function(){var t=this,e={};return"function"==typeof this._config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t._config.offset(e.offsets,t._element)||{}),e}:e.offset=this._config.offset,e},n._getPopperConfig=function(){var t={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(t.modifiers.applyStyle={enabled:!1}),t},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.dropdown");if(n||(n=new t(this,"object"==typeof i?i:null),e(this).data("bs.dropdown",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},t._clearMenus=function(i){if(!i||3!==i.which&&("keyup"!==i.type||9===i.which))for(var n=[].slice.call(document.querySelectorAll(yt)),s=0,r=n.length;s<r;s++){var o=t._getParentFromElement(n[s]),a=e(n[s]).data("bs.dropdown"),l={relatedTarget:n[s]};if(i&&"click"===i.type&&(l.clickEvent=i),a){var u=a._menu;if(e(o).hasClass(dt)&&!(i&&("click"===i.type&&/input|textarea/i.test(i.target.tagName)||"keyup"===i.type&&9===i.which)&&e.contains(o,i.target))){var c=e.Event(ct.HIDE,l);e(o).trigger(c),c.isDefaultPrevented()||("ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),n[s].setAttribute("aria-expanded","false"),e(u).removeClass(dt),e(o).removeClass(dt).trigger(e.Event(ct.HIDDEN,l)))}}}},t._getParentFromElement=function(t){var e,i=u.getSelectorFromElement(t);return i&&(e=document.querySelector(i)),e||t.parentNode},t._dataApiKeydownHandler=function(i){if((/input|textarea/i.test(i.target.tagName)?!(32===i.which||27!==i.which&&(40!==i.which&&38!==i.which||e(i.target).closest(bt).length)):ut.test(i.which))&&(i.preventDefault(),i.stopPropagation(),!this.disabled&&!e(this).hasClass(ht))){var n=t._getParentFromElement(this),s=e(n).hasClass(dt);if(s&&(!s||27!==i.which&&32!==i.which)){var r=[].slice.call(n.querySelectorAll(Tt));if(0!==r.length){var o=r.indexOf(i.target);38===i.which&&o>0&&o--,40===i.which&&o<r.length-1&&o++,o<0&&(o=0),r[o].focus()}}else{if(27===i.which){var a=n.querySelector(yt);e(a).trigger("focus")}e(this).trigger("click")}}},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return At}},{key:"DefaultType",get:function(){return Pt}}]),t}();e(document).on(ct.KEYDOWN_DATA_API,yt,It._dataApiKeydownHandler).on(ct.KEYDOWN_DATA_API,bt,It._dataApiKeydownHandler).on(ct.CLICK_DATA_API+" "+ct.KEYUP_DATA_API,It._clearMenus).on(ct.CLICK_DATA_API,yt,function(t){t.preventDefault(),t.stopPropagation(),It._jQueryInterface.call(e(this),"toggle")}).on(ct.CLICK_DATA_API,_t,function(t){t.stopPropagation()}),e.fn[at]=It._jQueryInterface,e.fn[at].Constructor=It,e.fn[at].noConflict=function(){return e.fn[at]=lt,It._jQueryInterface};var Ot=e.fn.modal,Mt={backdrop:!0,keyboard:!0,focus:!0,show:!0},Lt={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},Nt={HIDE:"hide.bs.modal",HIDDEN:"hidden.bs.modal",SHOW:"show.bs.modal",SHOWN:"shown.bs.modal",FOCUSIN:"focusin.bs.modal",RESIZE:"resize.bs.modal",CLICK_DISMISS:"click.dismiss.bs.modal",KEYDOWN_DISMISS:"keydown.dismiss.bs.modal",MOUSEUP_DISMISS:"mouseup.dismiss.bs.modal",MOUSEDOWN_DISMISS:"mousedown.dismiss.bs.modal",CLICK_DATA_API:"click.bs.modal.data-api"},Rt="modal-dialog-scrollable",Ut="modal-scrollbar-measure",Ft="modal-backdrop",jt="modal-open",Ht="fade",zt="show",Bt={DIALOG:".modal-dialog",MODAL_BODY:".modal-body",DATA_TOGGLE:'[data-toggle="modal"]',DATA_DISMISS:'[data-dismiss="modal"]',FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top"},Wt=function(){function t(t,e){this._config=this._getConfig(e),this._element=t,this._dialog=t.querySelector(Bt.DIALOG),this._backdrop=null,this._isShown=!1,this._isBodyOverflowing=!1,this._ignoreBackdropClick=!1,this._isTransitioning=!1,this._scrollbarWidth=0}var i=t.prototype;return i.toggle=function(t){return this._isShown?this.hide():this.show(t)},i.show=function(t){var i=this;if(!this._isShown&&!this._isTransitioning){e(this._element).hasClass(Ht)&&(this._isTransitioning=!0);var n=e.Event(Nt.SHOW,{relatedTarget:t});e(this._element).trigger(n),this._isShown||n.isDefaultPrevented()||(this._isShown=!0,this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),e(this._element).on(Nt.CLICK_DISMISS,Bt.DATA_DISMISS,function(t){return i.hide(t)}),e(this._dialog).on(Nt.MOUSEDOWN_DISMISS,function(){e(i._element).one(Nt.MOUSEUP_DISMISS,function(t){e(t.target).is(i._element)&&(i._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return i._showElement(t)}))}},i.hide=function(t){var i=this;if(t&&t.preventDefault(),this._isShown&&!this._isTransitioning){var n=e.Event(Nt.HIDE);if(e(this._element).trigger(n),this._isShown&&!n.isDefaultPrevented()){this._isShown=!1;var s=e(this._element).hasClass(Ht);if(s&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),e(document).off(Nt.FOCUSIN),e(this._element).removeClass(zt),e(this._element).off(Nt.CLICK_DISMISS),e(this._dialog).off(Nt.MOUSEDOWN_DISMISS),s){var r=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,function(t){return i._hideModal(t)}).emulateTransitionEnd(r)}else this._hideModal()}}},i.dispose=function(){[window,this._element,this._dialog].forEach(function(t){return e(t).off(".bs.modal")}),e(document).off(Nt.FOCUSIN),e.removeData(this._element,"bs.modal"),this._config=null,this._element=null,this._dialog=null,this._backdrop=null,this._isShown=null,this._isBodyOverflowing=null,this._ignoreBackdropClick=null,this._isTransitioning=null,this._scrollbarWidth=null},i.handleUpdate=function(){this._adjustDialog()},i._getConfig=function(t){return t=o({},Mt,t),u.typeCheckConfig("modal",t,Lt),t},i._showElement=function(t){var i=this,n=e(this._element).hasClass(Ht);this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),e(this._dialog).hasClass(Rt)?this._dialog.querySelector(Bt.MODAL_BODY).scrollTop=0:this._element.scrollTop=0,n&&u.reflow(this._element),e(this._element).addClass(zt),this._config.focus&&this._enforceFocus();var s=e.Event(Nt.SHOWN,{relatedTarget:t}),r=function(){i._config.focus&&i._element.focus(),i._isTransitioning=!1,e(i._element).trigger(s)};if(n){var o=u.getTransitionDurationFromElement(this._dialog);e(this._dialog).one(u.TRANSITION_END,r).emulateTransitionEnd(o)}else r()},i._enforceFocus=function(){var t=this;e(document).off(Nt.FOCUSIN).on(Nt.FOCUSIN,function(i){document!==i.target&&t._element!==i.target&&0===e(t._element).has(i.target).length&&t._element.focus()})},i._setEscapeEvent=function(){var t=this;this._isShown&&this._config.keyboard?e(this._element).on(Nt.KEYDOWN_DISMISS,function(e){27===e.which&&(e.preventDefault(),t.hide())}):this._isShown||e(this._element).off(Nt.KEYDOWN_DISMISS)},i._setResizeEvent=function(){var t=this;this._isShown?e(window).on(Nt.RESIZE,function(e){return t.handleUpdate(e)}):e(window).off(Nt.RESIZE)},i._hideModal=function(){var t=this;this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._isTransitioning=!1,this._showBackdrop(function(){e(document.body).removeClass(jt),t._resetAdjustments(),t._resetScrollbar(),e(t._element).trigger(Nt.HIDDEN)})},i._removeBackdrop=function(){this._backdrop&&(e(this._backdrop).remove(),this._backdrop=null)},i._showBackdrop=function(t){var i=this,n=e(this._element).hasClass(Ht)?Ht:"";if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className=Ft,n&&this._backdrop.classList.add(n),e(this._backdrop).appendTo(document.body),e(this._element).on(Nt.CLICK_DISMISS,function(t){i._ignoreBackdropClick?i._ignoreBackdropClick=!1:t.target===t.currentTarget&&("static"===i._config.backdrop?i._element.focus():i.hide())}),n&&u.reflow(this._backdrop),e(this._backdrop).addClass(zt),!t)return;if(!n)return void t();var s=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,t).emulateTransitionEnd(s)}else if(!this._isShown&&this._backdrop){e(this._backdrop).removeClass(zt);var r=function(){i._removeBackdrop(),t&&t()};if(e(this._element).hasClass(Ht)){var o=u.getTransitionDurationFromElement(this._backdrop);e(this._backdrop).one(u.TRANSITION_END,r).emulateTransitionEnd(o)}else r()}else t&&t()},i._adjustDialog=function(){var t=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&t&&(this._element.style.paddingLeft=this._scrollbarWidth+"px"),this._isBodyOverflowing&&!t&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},i._resetAdjustments=function(){this._element.style.paddingLeft="",this._element.style.paddingRight=""},i._checkScrollbar=function(){var t=document.body.getBoundingClientRect();this._isBodyOverflowing=t.left+t.right<window.innerWidth,this._scrollbarWidth=this._getScrollbarWidth()},i._setScrollbar=function(){var t=this;if(this._isBodyOverflowing){var i=[].slice.call(document.querySelectorAll(Bt.FIXED_CONTENT)),n=[].slice.call(document.querySelectorAll(Bt.STICKY_CONTENT));e(i).each(function(i,n){var s=n.style.paddingRight,r=e(n).css("padding-right");e(n).data("padding-right",s).css("padding-right",parseFloat(r)+t._scrollbarWidth+"px")}),e(n).each(function(i,n){var s=n.style.marginRight,r=e(n).css("margin-right");e(n).data("margin-right",s).css("margin-right",parseFloat(r)-t._scrollbarWidth+"px")});var s=document.body.style.paddingRight,r=e(document.body).css("padding-right");e(document.body).data("padding-right",s).css("padding-right",parseFloat(r)+this._scrollbarWidth+"px")}e(document.body).addClass(jt)},i._resetScrollbar=function(){var t=[].slice.call(document.querySelectorAll(Bt.FIXED_CONTENT));e(t).each(function(t,i){var n=e(i).data("padding-right");e(i).removeData("padding-right"),i.style.paddingRight=n||""});var i=[].slice.call(document.querySelectorAll(""+Bt.STICKY_CONTENT));e(i).each(function(t,i){var n=e(i).data("margin-right");void 0!==n&&e(i).css("margin-right",n).removeData("margin-right")});var n=e(document.body).data("padding-right");e(document.body).removeData("padding-right"),document.body.style.paddingRight=n||""},i._getScrollbarWidth=function(){var t=document.createElement("div");t.className=Ut,document.body.appendChild(t);var e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e},t._jQueryInterface=function(i,n){return this.each(function(){var s=e(this).data("bs.modal"),r=o({},Mt,e(this).data(),"object"==typeof i&&i?i:{});if(s||(s=new t(this,r),e(this).data("bs.modal",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i](n)}else r.show&&s.show(n)})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Mt}}]),t}();e(document).on(Nt.CLICK_DATA_API,Bt.DATA_TOGGLE,function(t){var i,n=this,s=u.getSelectorFromElement(this);s&&(i=document.querySelector(s));var r=e(i).data("bs.modal")?"toggle":o({},e(i).data(),e(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||t.preventDefault();var a=e(i).one(Nt.SHOW,function(t){t.isDefaultPrevented()||a.one(Nt.HIDDEN,function(){e(n).is(":visible")&&n.focus()})});Wt._jQueryInterface.call(e(i),r,this)}),e.fn.modal=Wt._jQueryInterface,e.fn.modal.Constructor=Wt,e.fn.modal.noConflict=function(){return e.fn.modal=Ot,Wt._jQueryInterface};var Yt=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],Vt={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},qt=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi,$t=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Gt(t,e,i){if(0===t.length)return t;if(i&&"function"==typeof i)return i(t);for(var n=(new window.DOMParser).parseFromString(t,"text/html"),s=Object.keys(e),r=[].slice.call(n.body.querySelectorAll("*")),o=function(t,i){var n=r[t],o=n.nodeName.toLowerCase();if(-1===s.indexOf(n.nodeName.toLowerCase()))return n.parentNode.removeChild(n),"continue";var a=[].slice.call(n.attributes),l=[].concat(e["*"]||[],e[o]||[]);a.forEach(function(t){(function(t,e){var i=t.nodeName.toLowerCase();if(-1!==e.indexOf(i))return-1===Yt.indexOf(i)||Boolean(t.nodeValue.match(qt)||t.nodeValue.match($t));for(var n=e.filter(function(t){return t instanceof RegExp}),s=0,r=n.length;s<r;s++)if(i.match(n[s]))return!0;return!1})(t,l)||n.removeAttribute(t.nodeName)})},a=0,l=r.length;a<l;a++)o(a);return n.body.innerHTML}var Xt="tooltip",Kt=e.fn.tooltip,Zt=new RegExp("(^|\\s)bs-tooltip\\S+","g"),Qt=["sanitize","whiteList","sanitizeFn"],Jt={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object"},te={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ee={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",sanitize:!0,sanitizeFn:null,whiteList:Vt},ie="show",ne="out",se={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},re="fade",oe="show",ae=".tooltip-inner",le=".arrow",ue="hover",ce="focus",he="click",de="manual",pe=function(){function t(t,e){if(void 0===i)throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)");this._isEnabled=!0,this._timeout=0,this._hoverState="",this._activeTrigger={},this._popper=null,this.element=t,this.config=this._getConfig(e),this.tip=null,this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(t){if(this._isEnabled)if(t){var i=this.constructor.DATA_KEY,n=e(t.currentTarget).data(i);n||(n=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(i,n)),n._activeTrigger.click=!n._activeTrigger.click,n._isWithActiveTrigger()?n._enter(null,n):n._leave(null,n)}else{if(e(this.getTipElement()).hasClass(oe))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout),e.removeData(this.element,this.constructor.DATA_KEY),e(this.element).off(this.constructor.EVENT_KEY),e(this.element).closest(".modal").off("hide.bs.modal"),this.tip&&e(this.tip).remove(),this._isEnabled=null,this._timeout=null,this._hoverState=null,this._activeTrigger=null,null!==this._popper&&this._popper.destroy(),this._popper=null,this.element=null,this.config=null,this.tip=null},n.show=function(){var t=this;if("none"===e(this.element).css("display"))throw new Error("Please use show on visible elements");var n=e.Event(this.constructor.Event.SHOW);if(this.isWithContent()&&this._isEnabled){e(this.element).trigger(n);var s=u.findShadowRoot(this.element),r=e.contains(null!==s?s:this.element.ownerDocument.documentElement,this.element);if(n.isDefaultPrevented()||!r)return;var o=this.getTipElement(),a=u.getUID(this.constructor.NAME);o.setAttribute("id",a),this.element.setAttribute("aria-describedby",a),this.setContent(),this.config.animation&&e(o).addClass(re);var l="function"==typeof this.config.placement?this.config.placement.call(this,o,this.element):this.config.placement,c=this._getAttachment(l);this.addAttachmentClass(c);var h=this._getContainer();e(o).data(this.constructor.DATA_KEY,this),e.contains(this.element.ownerDocument.documentElement,this.tip)||e(o).appendTo(h),e(this.element).trigger(this.constructor.Event.INSERTED),this._popper=new i(this.element,o,{placement:c,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:le},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(e){e.originalPlacement!==e.placement&&t._handlePopperPlacementChange(e)},onUpdate:function(e){return t._handlePopperPlacementChange(e)}}),e(o).addClass(oe),"ontouchstart"in document.documentElement&&e(document.body).children().on("mouseover",null,e.noop);var d=function(){t.config.animation&&t._fixTransition();var i=t._hoverState;t._hoverState=null,e(t.element).trigger(t.constructor.Event.SHOWN),i===ne&&t._leave(null,t)};if(e(this.tip).hasClass(re)){var p=u.getTransitionDurationFromElement(this.tip);e(this.tip).one(u.TRANSITION_END,d).emulateTransitionEnd(p)}else d()}},n.hide=function(t){var i=this,n=this.getTipElement(),s=e.Event(this.constructor.Event.HIDE),r=function(){i._hoverState!==ie&&n.parentNode&&n.parentNode.removeChild(n),i._cleanTipClass(),i.element.removeAttribute("aria-describedby"),e(i.element).trigger(i.constructor.Event.HIDDEN),null!==i._popper&&i._popper.destroy(),t&&t()};if(e(this.element).trigger(s),!s.isDefaultPrevented()){if(e(n).removeClass(oe),"ontouchstart"in document.documentElement&&e(document.body).children().off("mouseover",null,e.noop),this._activeTrigger[he]=!1,this._activeTrigger[ce]=!1,this._activeTrigger[ue]=!1,e(this.tip).hasClass(re)){var o=u.getTransitionDurationFromElement(n);e(n).one(u.TRANSITION_END,r).emulateTransitionEnd(o)}else r();this._hoverState=""}},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-tooltip-"+t)},n.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},n.setContent=function(){var t=this.getTipElement();this.setElementContent(e(t.querySelectorAll(ae)),this.getTitle()),e(t).removeClass(re+" "+oe)},n.setElementContent=function(t,i){"object"!=typeof i||!i.nodeType&&!i.jquery?this.config.html?(this.config.sanitize&&(i=Gt(i,this.config.whiteList,this.config.sanitizeFn)),t.html(i)):t.text(i):this.config.html?e(i).parent().is(t)||t.empty().append(i):t.text(e(i).text())},n.getTitle=function(){var t=this.element.getAttribute("data-original-title");return t||(t="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),t},n._getOffset=function(){var t=this,e={};return"function"==typeof this.config.offset?e.fn=function(e){return e.offsets=o({},e.offsets,t.config.offset(e.offsets,t.element)||{}),e}:e.offset=this.config.offset,e},n._getContainer=function(){return!1===this.config.container?document.body:u.isElement(this.config.container)?e(this.config.container):e(document).find(this.config.container)},n._getAttachment=function(t){return te[t.toUpperCase()]},n._setListeners=function(){var t=this;this.config.trigger.split(" ").forEach(function(i){if("click"===i)e(t.element).on(t.constructor.Event.CLICK,t.config.selector,function(e){return t.toggle(e)});else if(i!==de){var n=i===ue?t.constructor.Event.MOUSEENTER:t.constructor.Event.FOCUSIN,s=i===ue?t.constructor.Event.MOUSELEAVE:t.constructor.Event.FOCUSOUT;e(t.element).on(n,t.config.selector,function(e){return t._enter(e)}).on(s,t.config.selector,function(e){return t._leave(e)})}}),e(this.element).closest(".modal").on("hide.bs.modal",function(){t.element&&t.hide()}),this.config.selector?this.config=o({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var t=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==t)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(t,i){var n=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(n))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusin"===t.type?ce:ue]=!0),e(i.getTipElement()).hasClass(oe)||i._hoverState===ie?i._hoverState=ie:(clearTimeout(i._timeout),i._hoverState=ie,i.config.delay&&i.config.delay.show?i._timeout=setTimeout(function(){i._hoverState===ie&&i.show()},i.config.delay.show):i.show())},n._leave=function(t,i){var n=this.constructor.DATA_KEY;(i=i||e(t.currentTarget).data(n))||(i=new this.constructor(t.currentTarget,this._getDelegateConfig()),e(t.currentTarget).data(n,i)),t&&(i._activeTrigger["focusout"===t.type?ce:ue]=!1),i._isWithActiveTrigger()||(clearTimeout(i._timeout),i._hoverState=ne,i.config.delay&&i.config.delay.hide?i._timeout=setTimeout(function(){i._hoverState===ne&&i.hide()},i.config.delay.hide):i.hide())},n._isWithActiveTrigger=function(){for(var t in this._activeTrigger)if(this._activeTrigger[t])return!0;return!1},n._getConfig=function(t){var i=e(this.element).data();return Object.keys(i).forEach(function(t){-1!==Qt.indexOf(t)&&delete i[t]}),"number"==typeof(t=o({},this.constructor.Default,i,"object"==typeof t&&t?t:{})).delay&&(t.delay={show:t.delay,hide:t.delay}),"number"==typeof t.title&&(t.title=t.title.toString()),"number"==typeof t.content&&(t.content=t.content.toString()),u.typeCheckConfig(Xt,t,this.constructor.DefaultType),t.sanitize&&(t.template=Gt(t.template,t.whiteList,t.sanitizeFn)),t},n._getDelegateConfig=function(){var t={};if(this.config)for(var e in this.config)this.constructor.Default[e]!==this.config[e]&&(t[e]=this.config[e]);return t},n._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(Zt);null!==i&&i.length&&t.removeClass(i.join(""))},n._handlePopperPlacementChange=function(t){var e=t.instance;this.tip=e.popper,this._cleanTipClass(),this.addAttachmentClass(this._getAttachment(t.placement))},n._fixTransition=function(){var t=this.getTipElement(),i=this.config.animation;null===t.getAttribute("x-placement")&&(e(t).removeClass(re),this.config.animation=!1,this.hide(),this.show(),this.config.animation=i)},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.tooltip"),s="object"==typeof i&&i;if((n||!/dispose|hide/.test(i))&&(n||(n=new t(this,s),e(this).data("bs.tooltip",n)),"string"==typeof i)){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ee}},{key:"NAME",get:function(){return Xt}},{key:"DATA_KEY",get:function(){return"bs.tooltip"}},{key:"Event",get:function(){return se}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return Jt}}]),t}();e.fn.tooltip=pe._jQueryInterface,e.fn.tooltip.Constructor=pe,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=Kt,pe._jQueryInterface};var fe="popover",me=e.fn.popover,ge=new RegExp("(^|\\s)bs-popover\\S+","g"),ve=o({},pe.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>'}),ye=o({},pe.DefaultType,{content:"(string|element|function)"}),_e="fade",be="show",we=".popover-header",Te=".popover-body",ke={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},Se=function(t){var i,n;function r(){return t.apply(this,arguments)||this}n=t,(i=r).prototype=Object.create(n.prototype),i.prototype.constructor=i,i.__proto__=n;var o=r.prototype;return o.isWithContent=function(){return this.getTitle()||this._getContent()},o.addAttachmentClass=function(t){e(this.getTipElement()).addClass("bs-popover-"+t)},o.getTipElement=function(){return this.tip=this.tip||e(this.config.template)[0],this.tip},o.setContent=function(){var t=e(this.getTipElement());this.setElementContent(t.find(we),this.getTitle());var i=this._getContent();"function"==typeof i&&(i=i.call(this.element)),this.setElementContent(t.find(Te),i),t.removeClass(_e+" "+be)},o._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},o._cleanTipClass=function(){var t=e(this.getTipElement()),i=t.attr("class").match(ge);null!==i&&i.length>0&&t.removeClass(i.join(""))},r._jQueryInterface=function(t){return this.each(function(){var i=e(this).data("bs.popover"),n="object"==typeof t?t:null;if((i||!/dispose|hide/.test(t))&&(i||(i=new r(this,n),e(this).data("bs.popover",i)),"string"==typeof t)){if(void 0===i[t])throw new TypeError('No method named "'+t+'"');i[t]()}})},s(r,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return ve}},{key:"NAME",get:function(){return fe}},{key:"DATA_KEY",get:function(){return"bs.popover"}},{key:"Event",get:function(){return ke}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ye}}]),r}(pe);e.fn.popover=Se._jQueryInterface,e.fn.popover.Constructor=Se,e.fn.popover.noConflict=function(){return e.fn.popover=me,Se._jQueryInterface};var Ce="scrollspy",xe=e.fn[Ce],Ee={offset:10,method:"auto",target:""},De={offset:"number",method:"string",target:"(string|element)"},Ae={ACTIVATE:"activate.bs.scrollspy",SCROLL:"scroll.bs.scrollspy",LOAD_DATA_API:"load.bs.scrollspy.data-api"},Pe="dropdown-item",Ie="active",Oe={DATA_SPY:'[data-spy="scroll"]',ACTIVE:".active",NAV_LIST_GROUP:".nav, .list-group",NAV_LINKS:".nav-link",NAV_ITEMS:".nav-item",LIST_ITEMS:".list-group-item",DROPDOWN:".dropdown",DROPDOWN_ITEMS:".dropdown-item",DROPDOWN_TOGGLE:".dropdown-toggle"},Me="offset",Le="position",Ne=function(){function t(t,i){var n=this;this._element=t,this._scrollElement="BODY"===t.tagName?window:t,this._config=this._getConfig(i),this._selector=this._config.target+" "+Oe.NAV_LINKS+","+this._config.target+" "+Oe.LIST_ITEMS+","+this._config.target+" "+Oe.DROPDOWN_ITEMS,this._offsets=[],this._targets=[],this._activeTarget=null,this._scrollHeight=0,e(this._scrollElement).on(Ae.SCROLL,function(t){return n._process(t)}),this.refresh(),this._process()}var i=t.prototype;return i.refresh=function(){var t=this,i=this._scrollElement===this._scrollElement.window?Me:Le,n="auto"===this._config.method?i:this._config.method,s=n===Le?this._getScrollTop():0;this._offsets=[],this._targets=[],this._scrollHeight=this._getScrollHeight(),[].slice.call(document.querySelectorAll(this._selector)).map(function(t){var i,r=u.getSelectorFromElement(t);if(r&&(i=document.querySelector(r)),i){var o=i.getBoundingClientRect();if(o.width||o.height)return[e(i)[n]().top+s,r]}return null}).filter(function(t){return t}).sort(function(t,e){return t[0]-e[0]}).forEach(function(e){t._offsets.push(e[0]),t._targets.push(e[1])})},i.dispose=function(){e.removeData(this._element,"bs.scrollspy"),e(this._scrollElement).off(".bs.scrollspy"),this._element=null,this._scrollElement=null,this._config=null,this._selector=null,this._offsets=null,this._targets=null,this._activeTarget=null,this._scrollHeight=null},i._getConfig=function(t){if("string"!=typeof(t=o({},Ee,"object"==typeof t&&t?t:{})).target){var i=e(t.target).attr("id");i||(i=u.getUID(Ce),e(t.target).attr("id",i)),t.target="#"+i}return u.typeCheckConfig(Ce,t,De),t},i._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},i._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},i._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},i._process=function(){var t=this._getScrollTop()+this._config.offset,e=this._getScrollHeight(),i=this._config.offset+e-this._getOffsetHeight();if(this._scrollHeight!==e&&this.refresh(),t>=i){var n=this._targets[this._targets.length-1];this._activeTarget!==n&&this._activate(n)}else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(var s=this._offsets.length;s--;){this._activeTarget!==this._targets[s]&&t>=this._offsets[s]&&(void 0===this._offsets[s+1]||t<this._offsets[s+1])&&this._activate(this._targets[s])}}},i._activate=function(t){this._activeTarget=t,this._clear();var i=this._selector.split(",").map(function(e){return e+'[data-target="'+t+'"],'+e+'[href="'+t+'"]'}),n=e([].slice.call(document.querySelectorAll(i.join(","))));n.hasClass(Pe)?(n.closest(Oe.DROPDOWN).find(Oe.DROPDOWN_TOGGLE).addClass(Ie),n.addClass(Ie)):(n.addClass(Ie),n.parents(Oe.NAV_LIST_GROUP).prev(Oe.NAV_LINKS+", "+Oe.LIST_ITEMS).addClass(Ie),n.parents(Oe.NAV_LIST_GROUP).prev(Oe.NAV_ITEMS).children(Oe.NAV_LINKS).addClass(Ie)),e(this._scrollElement).trigger(Ae.ACTIVATE,{relatedTarget:t})},i._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(t){return t.classList.contains(Ie)}).forEach(function(t){return t.classList.remove(Ie)})},t._jQueryInterface=function(i){return this.each(function(){var n=e(this).data("bs.scrollspy");if(n||(n=new t(this,"object"==typeof i&&i),e(this).data("bs.scrollspy",n)),"string"==typeof i){if(void 0===n[i])throw new TypeError('No method named "'+i+'"');n[i]()}})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"Default",get:function(){return Ee}}]),t}();e(window).on(Ae.LOAD_DATA_API,function(){for(var t=[].slice.call(document.querySelectorAll(Oe.DATA_SPY)),i=t.length;i--;){var n=e(t[i]);Ne._jQueryInterface.call(n,n.data())}}),e.fn[Ce]=Ne._jQueryInterface,e.fn[Ce].Constructor=Ne,e.fn[Ce].noConflict=function(){return e.fn[Ce]=xe,Ne._jQueryInterface};var Re=e.fn.tab,Ue={HIDE:"hide.bs.tab",HIDDEN:"hidden.bs.tab",SHOW:"show.bs.tab",SHOWN:"shown.bs.tab",CLICK_DATA_API:"click.bs.tab.data-api"},Fe="dropdown-menu",je="active",He="disabled",ze="fade",Be="show",We=".dropdown",Ye=".nav, .list-group",Ve=".active",qe="> li > .active",$e='[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',Ge=".dropdown-toggle",Xe="> .dropdown-menu .active",Ke=function(){function t(t){this._element=t}var i=t.prototype;return i.show=function(){var t=this;if(!(this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&e(this._element).hasClass(je)||e(this._element).hasClass(He))){var i,n,s=e(this._element).closest(Ye)[0],r=u.getSelectorFromElement(this._element);if(s){var o="UL"===s.nodeName||"OL"===s.nodeName?qe:Ve;n=(n=e.makeArray(e(s).find(o)))[n.length-1]}var a=e.Event(Ue.HIDE,{relatedTarget:this._element}),l=e.Event(Ue.SHOW,{relatedTarget:n});if(n&&e(n).trigger(a),e(this._element).trigger(l),!l.isDefaultPrevented()&&!a.isDefaultPrevented()){r&&(i=document.querySelector(r)),this._activate(this._element,s);var c=function(){var i=e.Event(Ue.HIDDEN,{relatedTarget:t._element}),s=e.Event(Ue.SHOWN,{relatedTarget:n});e(n).trigger(i),e(t._element).trigger(s)};i?this._activate(i,i.parentNode,c):c()}}},i.dispose=function(){e.removeData(this._element,"bs.tab"),this._element=null},i._activate=function(t,i,n){var s=this,r=(!i||"UL"!==i.nodeName&&"OL"!==i.nodeName?e(i).children(Ve):e(i).find(qe))[0],o=n&&r&&e(r).hasClass(ze),a=function(){return s._transitionComplete(t,r,n)};if(r&&o){var l=u.getTransitionDurationFromElement(r);e(r).removeClass(Be).one(u.TRANSITION_END,a).emulateTransitionEnd(l)}else a()},i._transitionComplete=function(t,i,n){if(i){e(i).removeClass(je);var s=e(i.parentNode).find(Xe)[0];s&&e(s).removeClass(je),"tab"===i.getAttribute("role")&&i.setAttribute("aria-selected",!1)}if(e(t).addClass(je),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!0),u.reflow(t),t.classList.contains(ze)&&t.classList.add(Be),t.parentNode&&e(t.parentNode).hasClass(Fe)){var r=e(t).closest(We)[0];if(r){var o=[].slice.call(r.querySelectorAll(Ge));e(o).addClass(je)}t.setAttribute("aria-expanded",!0)}n&&n()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),s=n.data("bs.tab");if(s||(s=new t(this),n.data("bs.tab",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i]()}})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}}]),t}();e(document).on(Ue.CLICK_DATA_API,$e,function(t){t.preventDefault(),Ke._jQueryInterface.call(e(this),"show")}),e.fn.tab=Ke._jQueryInterface,e.fn.tab.Constructor=Ke,e.fn.tab.noConflict=function(){return e.fn.tab=Re,Ke._jQueryInterface};var Ze=e.fn.toast,Qe={CLICK_DISMISS:"click.dismiss.bs.toast",HIDE:"hide.bs.toast",HIDDEN:"hidden.bs.toast",SHOW:"show.bs.toast",SHOWN:"shown.bs.toast"},Je="fade",ti="hide",ei="show",ii="showing",ni={animation:"boolean",autohide:"boolean",delay:"number"},si={animation:!0,autohide:!0,delay:500},ri='[data-dismiss="toast"]',oi=function(){function t(t,e){this._element=t,this._config=this._getConfig(e),this._timeout=null,this._setListeners()}var i=t.prototype;return i.show=function(){var t=this;e(this._element).trigger(Qe.SHOW),this._config.animation&&this._element.classList.add(Je);var i=function(){t._element.classList.remove(ii),t._element.classList.add(ei),e(t._element).trigger(Qe.SHOWN),t._config.autohide&&t.hide()};if(this._element.classList.remove(ti),this._element.classList.add(ii),this._config.animation){var n=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},i.hide=function(t){var i=this;this._element.classList.contains(ei)&&(e(this._element).trigger(Qe.HIDE),t?this._close():this._timeout=setTimeout(function(){i._close()},this._config.delay))},i.dispose=function(){clearTimeout(this._timeout),this._timeout=null,this._element.classList.contains(ei)&&this._element.classList.remove(ei),e(this._element).off(Qe.CLICK_DISMISS),e.removeData(this._element,"bs.toast"),this._element=null,this._config=null},i._getConfig=function(t){return t=o({},si,e(this._element).data(),"object"==typeof t&&t?t:{}),u.typeCheckConfig("toast",t,this.constructor.DefaultType),t},i._setListeners=function(){var t=this;e(this._element).on(Qe.CLICK_DISMISS,ri,function(){return t.hide(!0)})},i._close=function(){var t=this,i=function(){t._element.classList.add(ti),e(t._element).trigger(Qe.HIDDEN)};if(this._element.classList.remove(ei),this._config.animation){var n=u.getTransitionDurationFromElement(this._element);e(this._element).one(u.TRANSITION_END,i).emulateTransitionEnd(n)}else i()},t._jQueryInterface=function(i){return this.each(function(){var n=e(this),s=n.data("bs.toast");if(s||(s=new t(this,"object"==typeof i&&i),n.data("bs.toast",s)),"string"==typeof i){if(void 0===s[i])throw new TypeError('No method named "'+i+'"');s[i](this)}})},s(t,null,[{key:"VERSION",get:function(){return"4.3.1"}},{key:"DefaultType",get:function(){return ni}},{key:"Default",get:function(){return si}}]),t}();e.fn.toast=oi._jQueryInterface,e.fn.toast.Constructor=oi,e.fn.toast.noConflict=function(){return e.fn.toast=Ze,oi._jQueryInterface},function(){if(void 0===e)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var t=e.fn.jquery.split(" ")[0].split(".");if(t[0]<2&&t[1]<9||1===t[0]&&9===t[1]&&t[2]<1||t[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0")}(),t.Util=u,t.Alert=m,t.Button=x,t.Carousel=$,t.Collapse=ot,t.Dropdown=It,t.Modal=Wt,t.Popover=Se,t.Scrollspy=Ne,t.Tab=Ke,t.Toast=oi,t.Tooltip=pe,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){var e=0;t.fn.fixit=function(i){var n=t(window),s=t(this),r=0,o=s.css("position"),a=t.extend({topMargin:0,addClassAfter:null,sameDimension:!0,zIndex:0},i);return t(window).scroll(function(){var i=s.offset().top,l=n.scrollTop()+a.topMargin,u=document.getElementById(s.attr("id")),c=window.getComputedStyle(u,null).getPropertyValue("width"),h=window.getComputedStyle(u,null).getPropertyValue("height");"fixed"!=s.css("position")&&l>i?(o=s.css("position"),s.css("position","fixed"),s.css("top",a.topMargin+"px"),s.css("z-index",""+a.zIndex),a.sameDimension&&(s.css("width",c),s.css("height",h)),t("<div id = 'remove_"+e+"' class='"+s.attr("class")+"' style = 'width:"+c+";height:"+h+";opacity:0;'></div>").insertAfter(s),null!=a.addClassAfter&&s.addClass(a.addClassAfter),r=i,e++,s.trigger("fixed")):"fixed"==s.css("position")&&l<r&&(t("#remove_"+--e).remove(),s.css("position",o),s.removeAttr("style"),null!=a.addClassAfter&&s.removeClass(a.addClassAfter),s.trigger("unfixed"))}),s}}(jQuery),function(t,e){"use strict";var i=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();var n,s=!1,r=void 0!==t;r&&t.getComputedStyle?(n=e.createElement("div"),["","-webkit-","-moz-","-ms-"].some(function(t){try{n.style.position=t+"sticky"}catch(t){}return""!=n.style.position})&&(s=!0)):s=!0;var o=!1,a="undefined"!=typeof ShadowRoot,l={top:null,left:null},u=[];function c(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])}function h(t){return parseFloat(t)||0}function d(t){for(var e=0;t;)e+=t.offsetTop,t=t.offsetParent;return e}var p=function(){function n(t){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),!(t instanceof HTMLElement))throw new Error("First argument must be HTMLElement");if(u.some(function(e){return e._node===t}))throw new Error("Stickyfill is already applied to this node");this._node=t,this._stickyMode=null,this._active=!1,u.push(this),this.refresh()}return i(n,[{key:"refresh",value:function(){if(!s&&!this._removed){this._active&&this._deactivate();var i=this._node,n=getComputedStyle(i),r={position:n.position,top:n.top,display:n.display,marginTop:n.marginTop,marginBottom:n.marginBottom,marginLeft:n.marginLeft,marginRight:n.marginRight,cssFloat:n.cssFloat};if(!isNaN(parseFloat(r.top))&&"table-cell"!=r.display&&"none"!=r.display){this._active=!0;var o=i.style.position;"sticky"!=n.position&&"-webkit-sticky"!=n.position||(i.style.position="static");var l=i.parentNode,u=a&&l instanceof ShadowRoot?l.host:l,p=i.getBoundingClientRect(),f=u.getBoundingClientRect(),m=getComputedStyle(u);this._parent={node:u,styles:{position:u.style.position},offsetHeight:u.offsetHeight},this._offsetToWindow={left:p.left,right:e.documentElement.clientWidth-p.right},this._offsetToParent={top:p.top-f.top-h(m.borderTopWidth),left:p.left-f.left-h(m.borderLeftWidth),right:-p.right+f.right-h(m.borderRightWidth)},this._styles={position:o,top:i.style.top,bottom:i.style.bottom,left:i.style.left,right:i.style.right,width:i.style.width,marginTop:i.style.marginTop,marginLeft:i.style.marginLeft,marginRight:i.style.marginRight};var g=h(r.top);this._limits={start:p.top+t.pageYOffset-g,end:f.top+t.pageYOffset+u.offsetHeight-h(m.borderBottomWidth)-i.offsetHeight-g-h(r.marginBottom)};var v=m.position;"absolute"!=v&&"relative"!=v&&(u.style.position="relative"),this._recalcPosition();var y=this._clone={};y.node=e.createElement("div"),c(y.node.style,{width:p.right-p.left+"px",height:p.bottom-p.top+"px",marginTop:r.marginTop,marginBottom:r.marginBottom,marginLeft:r.marginLeft,marginRight:r.marginRight,cssFloat:r.cssFloat,padding:0,border:0,borderSpacing:0,fontSize:"1em",position:"static"}),l.insertBefore(y.node,i),y.docOffsetTop=d(y.node)}}}},{key:"_recalcPosition",value:function(){if(this._active&&!this._removed){var t=l.top<=this._limits.start?"start":l.top>=this._limits.end?"end":"middle";if(this._stickyMode!=t){switch(t){case"start":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:this._offsetToParent.top+"px",bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"middle":c(this._node.style,{position:"fixed",left:this._offsetToWindow.left+"px",right:this._offsetToWindow.right+"px",top:this._styles.top,bottom:"auto",width:"auto",marginLeft:0,marginRight:0,marginTop:0});break;case"end":c(this._node.style,{position:"absolute",left:this._offsetToParent.left+"px",right:this._offsetToParent.right+"px",top:"auto",bottom:0,width:"auto",marginLeft:0,marginRight:0})}this._stickyMode=t}}}},{key:"_fastCheck",value:function(){this._active&&!this._removed&&(Math.abs(d(this._clone.node)-this._clone.docOffsetTop)>1||Math.abs(this._parent.node.offsetHeight-this._parent.offsetHeight)>1)&&this.refresh()}},{key:"_deactivate",value:function(){var t=this;this._active&&!this._removed&&(this._clone.node.parentNode.removeChild(this._clone.node),delete this._clone,c(this._node.style,this._styles),delete this._styles,u.some(function(e){return e!==t&&e._parent&&e._parent.node===t._parent.node})||c(this._parent.node.style,this._parent.styles),delete this._parent,this._stickyMode=null,this._active=!1,delete this._offsetToWindow,delete this._offsetToParent,delete this._limits)}},{key:"remove",value:function(){var t=this;this._deactivate(),u.some(function(e,i){if(e._node===t._node)return u.splice(i,1),!0}),this._removed=!0}}]),n}(),f={stickies:u,Sticky:p,forceSticky:function(){s=!1,m(),this.refreshAll()},addOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}for(var e=0;e<u.length;e++)if(u[e]._node===t)return u[e];return new p(t)},add:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length){for(var e=[],i=function(i){var n=t[i];return n instanceof HTMLElement?u.some(function(t){if(t._node===n)return e.push(t),!0})?"continue":void e.push(new p(n)):(e.push(void 0),"continue")},n=0;n<t.length;n++)i(n);return e}},refreshAll:function(){u.forEach(function(t){return t.refresh()})},removeOne:function(t){if(!(t instanceof HTMLElement)){if(!t.length||!t[0])return;t=t[0]}u.some(function(e){if(e._node===t)return e.remove(),!0})},remove:function(t){if(t instanceof HTMLElement&&(t=[t]),t.length)for(var e=function(e){var i=t[e];u.some(function(t){if(t._node===i)return t.remove(),!0})},i=0;i<t.length;i++)e(i)},removeAll:function(){for(;u.length;)u[0].remove()}};function m(){if(!o){o=!0,r(),t.addEventListener("scroll",r),t.addEventListener("resize",f.refreshAll),t.addEventListener("orientationchange",f.refreshAll);var i=void 0,n=void 0,s=void 0;"hidden"in e?(n="hidden",s="visibilitychange"):"webkitHidden"in e&&(n="webkitHidden",s="webkitvisibilitychange"),s?(e[n]||a(),e.addEventListener(s,function(){e[n]?clearInterval(i):a()})):a()}function r(){t.pageXOffset!=l.left?(l.top=t.pageYOffset,l.left=t.pageXOffset,f.refreshAll()):t.pageYOffset!=l.top&&(l.top=t.pageYOffset,l.left=t.pageXOffset,u.forEach(function(t){return t._recalcPosition()}))}function a(){i=setInterval(function(){u.forEach(function(t){return t._fastCheck()})},500)}}s||m(),"undefined"!=typeof module&&module.exports?module.exports=f:r&&(t.Stickyfill=f)}(window,document),function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):"undefined"!=typeof exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=window.Slick||{};(e=function(){var e=0;return function(i,n){var s,r=this;r.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:t(i),appendDots:t(i),arrows:!0,asNavFor:null,prevArrow:'<button class="slick-prev" aria-label="Previous" type="button">Previous</button>',nextArrow:'<button class="slick-next" aria-label="Next" type="button">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,i){return t('<button type="button" />').text(i+1)},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",edgeFriction:.35,fade:!1,focusOnSelect:!1,focusOnChange:!1,infinite:!0,initialSlide:0,lazyLoad:"ondemand",mobileFirst:!1,pauseOnHover:!0,pauseOnFocus:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:null,rows:1,rtl:!1,slide:"",slidesPerRow:1,slidesToShow:1,slidesToScroll:1,speed:500,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,useTransform:!0,variableWidth:!1,vertical:!1,verticalSwiping:!1,waitForAnimate:!0,zIndex:1e3},r.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentDirection:0,currentLeft:null,currentSlide:0,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,scrolling:!1,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,swiping:!1,$list:null,touchObject:{},transformsEnabled:!1,unslicked:!1},t.extend(r,r.initials),r.activeBreakpoint=null,r.animType=null,r.animProp=null,r.breakpoints=[],r.breakpointSettings=[],r.cssTransitions=!1,r.focussed=!1,r.interrupted=!1,r.hidden="hidden",r.paused=!0,r.positionProp=null,r.respondTo=null,r.rowCount=1,r.shouldClick=!0,r.$slider=t(i),r.$slidesCache=null,r.transformType=null,r.transitionType=null,r.visibilityChange="visibilitychange",r.windowWidth=0,r.windowTimer=null,s=t(i).data("slick")||{},r.options=t.extend({},r.defaults,n,s),r.currentSlide=r.options.initialSlide,r.originalSettings=r.options,void 0!==document.mozHidden?(r.hidden="mozHidden",r.visibilityChange="mozvisibilitychange"):void 0!==document.webkitHidden&&(r.hidden="webkitHidden",r.visibilityChange="webkitvisibilitychange"),r.autoPlay=t.proxy(r.autoPlay,r),r.autoPlayClear=t.proxy(r.autoPlayClear,r),r.autoPlayIterator=t.proxy(r.autoPlayIterator,r),r.changeSlide=t.proxy(r.changeSlide,r),r.clickHandler=t.proxy(r.clickHandler,r),r.selectHandler=t.proxy(r.selectHandler,r),r.setPosition=t.proxy(r.setPosition,r),r.swipeHandler=t.proxy(r.swipeHandler,r),r.dragHandler=t.proxy(r.dragHandler,r),r.keyHandler=t.proxy(r.keyHandler,r),r.instanceUid=e++,r.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,r.registerBreakpoints(),r.init(!0)}}()).prototype.activateADA=function(){this.$slideTrack.find(".slick-active").attr({"aria-hidden":"false"}).find("a, input, button, select").attr({tabindex:"0"})},e.prototype.addSlide=e.prototype.slickAdd=function(e,i,n){var s=this;if("boolean"==typeof i)n=i,i=null;else if(i<0||i>=s.slideCount)return!1;s.unload(),"number"==typeof i?0===i&&0===s.$slides.length?t(e).appendTo(s.$slideTrack):n?t(e).insertBefore(s.$slides.eq(i)):t(e).insertAfter(s.$slides.eq(i)):!0===n?t(e).prependTo(s.$slideTrack):t(e).appendTo(s.$slideTrack),s.$slides=s.$slideTrack.children(this.options.slide),s.$slideTrack.children(this.options.slide).detach(),s.$slideTrack.append(s.$slides),s.$slides.each(function(e,i){t(i).attr("data-slick-index",e)}),s.$slidesCache=s.$slides,s.reinit()},e.prototype.animateHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.animate({height:e},t.options.speed)}},e.prototype.animateSlide=function(e,i){var n={},s=this;s.animateHeight(),!0===s.options.rtl&&!1===s.options.vertical&&(e=-e),!1===s.transformsEnabled?!1===s.options.vertical?s.$slideTrack.animate({left:e},s.options.speed,s.options.easing,i):s.$slideTrack.animate({top:e},s.options.speed,s.options.easing,i):!1===s.cssTransitions?(!0===s.options.rtl&&(s.currentLeft=-s.currentLeft),t({animStart:s.currentLeft}).animate({animStart:e},{duration:s.options.speed,easing:s.options.easing,step:function(t){t=Math.ceil(t),!1===s.options.vertical?(n[s.animType]="translate("+t+"px, 0px)",s.$slideTrack.css(n)):(n[s.animType]="translate(0px,"+t+"px)",s.$slideTrack.css(n))},complete:function(){i&&i.call()}})):(s.applyTransition(),e=Math.ceil(e),!1===s.options.vertical?n[s.animType]="translate3d("+e+"px, 0px, 0px)":n[s.animType]="translate3d(0px,"+e+"px, 0px)",s.$slideTrack.css(n),i&&setTimeout(function(){s.disableTransition(),i.call()},s.options.speed))},e.prototype.getNavTarget=function(){var e=this.options.asNavFor;return e&&null!==e&&(e=t(e).not(this.$slider)),e},e.prototype.asNavFor=function(e){var i=this.getNavTarget();null!==i&&"object"==typeof i&&i.each(function(){var i=t(this).slick("getSlick");i.unslicked||i.slideHandler(e,!0)})},e.prototype.applyTransition=function(t){var e=this,i={};!1===e.options.fade?i[e.transitionType]=e.transformType+" "+e.options.speed+"ms "+e.options.cssEase:i[e.transitionType]="opacity "+e.options.speed+"ms "+e.options.cssEase,!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.autoPlay=function(){var t=this;t.autoPlayClear(),t.slideCount>t.options.slidesToShow&&(t.autoPlayTimer=setInterval(t.autoPlayIterator,t.options.autoplaySpeed))},e.prototype.autoPlayClear=function(){this.autoPlayTimer&&clearInterval(this.autoPlayTimer)},e.prototype.autoPlayIterator=function(){var t=this,e=t.currentSlide+t.options.slidesToScroll;t.paused||t.interrupted||t.focussed||(!1===t.options.infinite&&(1===t.direction&&t.currentSlide+1===t.slideCount-1?t.direction=0:0===t.direction&&(e=t.currentSlide-t.options.slidesToScroll,t.currentSlide-1==0&&(t.direction=1))),t.slideHandler(e))},e.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&(e.$prevArrow=t(e.options.prevArrow).addClass("slick-arrow"),e.$nextArrow=t(e.options.nextArrow).addClass("slick-arrow"),e.slideCount>e.options.slidesToShow?(e.$prevArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.$nextArrow.removeClass("slick-hidden").removeAttr("aria-hidden tabindex"),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.prependTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true")):e.$prevArrow.add(e.$nextArrow).addClass("slick-hidden").attr({"aria-disabled":"true",tabindex:"-1"}))},e.prototype.buildDots=function(){var e,i,n=this;if(!0===n.options.dots&&n.slideCount>n.options.slidesToShow){for(n.$slider.addClass("slick-dotted"),i=t("<ul />").addClass(n.options.dotsClass),e=0;e<=n.getDotCount();e+=1)i.append(t("<li />").append(n.options.customPaging.call(this,n,e)));n.$dots=i.appendTo(n.options.appendDots),n.$dots.find("li").first().addClass("slick-active")}},e.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,i){t(i).attr("data-slick-index",e).data("originalStyling",t(i).attr("style")||"")}),e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?t('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0!==e.options.centerMode&&!0!==e.options.swipeToSlide||(e.options.slidesToScroll=1),t("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},e.prototype.buildRows=function(){var t,e,i,n,s,r,o,a=this;if(n=document.createDocumentFragment(),r=a.$slider.children(),a.options.rows>0){for(o=a.options.slidesPerRow*a.options.rows,s=Math.ceil(r.length/o),t=0;t<s;t++){var l=document.createElement("div");for(e=0;e<a.options.rows;e++){var u=document.createElement("div");for(i=0;i<a.options.slidesPerRow;i++){var c=t*o+(e*a.options.slidesPerRow+i);r.get(c)&&u.appendChild(r.get(c))}l.appendChild(u)}n.appendChild(l)}a.$slider.empty().append(n),a.$slider.children().children().children().css({width:100/a.options.slidesPerRow+"%",display:"inline-block"})}},e.prototype.checkResponsive=function(e,i){var n,s,r,o=this,a=!1,l=o.$slider.width(),u=window.innerWidth||t(window).width();if("window"===o.respondTo?r=u:"slider"===o.respondTo?r=l:"min"===o.respondTo&&(r=Math.min(u,l)),o.options.responsive&&o.options.responsive.length&&null!==o.options.responsive){for(n in s=null,o.breakpoints)o.breakpoints.hasOwnProperty(n)&&(!1===o.originalSettings.mobileFirst?r<o.breakpoints[n]&&(s=o.breakpoints[n]):r>o.breakpoints[n]&&(s=o.breakpoints[n]));null!==s?null!==o.activeBreakpoint?(s!==o.activeBreakpoint||i)&&(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[s]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=s):(o.activeBreakpoint=s,"unslick"===o.breakpointSettings[s]?o.unslick(s):(o.options=t.extend({},o.originalSettings,o.breakpointSettings[s]),!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e)),a=s):null!==o.activeBreakpoint&&(o.activeBreakpoint=null,o.options=o.originalSettings,!0===e&&(o.currentSlide=o.options.initialSlide),o.refresh(e),a=s),e||!1===a||o.$slider.trigger("breakpoint",[o,a])}},e.prototype.changeSlide=function(e,i){var n,s,r=this,o=t(e.currentTarget);switch(o.is("a")&&e.preventDefault(),o.is("li")||(o=o.closest("li")),n=r.slideCount%r.options.slidesToScroll!=0?0:(r.slideCount-r.currentSlide)%r.options.slidesToScroll,e.data.message){case"previous":s=0===n?r.options.slidesToScroll:r.options.slidesToShow-n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide-s,!1,i);break;case"next":s=0===n?r.options.slidesToScroll:n,r.slideCount>r.options.slidesToShow&&r.slideHandler(r.currentSlide+s,!1,i);break;case"index":var a=0===e.data.index?0:e.data.index||o.index()*r.options.slidesToScroll;r.slideHandler(r.checkNavigable(a),!1,i),o.children().trigger("focus");break;default:return}},e.prototype.checkNavigable=function(t){var e,i;if(i=0,t>(e=this.getNavigableIndexes())[e.length-1])t=e[e.length-1];else for(var n in e){if(t<e[n]){t=i;break}i=e[n]}return t},e.prototype.cleanUpEvents=function(){var e=this;e.options.dots&&null!==e.$dots&&(t("li",e.$dots).off("click.slick",e.changeSlide).off("mouseenter.slick",t.proxy(e.interrupt,e,!0)).off("mouseleave.slick",t.proxy(e.interrupt,e,!1)),!0===e.options.accessibility&&e.$dots.off("keydown.slick",e.keyHandler)),e.$slider.off("focus.slick blur.slick"),!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow&&e.$prevArrow.off("click.slick",e.changeSlide),e.$nextArrow&&e.$nextArrow.off("click.slick",e.changeSlide),!0===e.options.accessibility&&(e.$prevArrow&&e.$prevArrow.off("keydown.slick",e.keyHandler),e.$nextArrow&&e.$nextArrow.off("keydown.slick",e.keyHandler))),e.$list.off("touchstart.slick mousedown.slick",e.swipeHandler),e.$list.off("touchmove.slick mousemove.slick",e.swipeHandler),e.$list.off("touchend.slick mouseup.slick",e.swipeHandler),e.$list.off("touchcancel.slick mouseleave.slick",e.swipeHandler),e.$list.off("click.slick",e.clickHandler),t(document).off(e.visibilityChange,e.visibility),e.cleanUpSlideEvents(),!0===e.options.accessibility&&e.$list.off("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().off("click.slick",e.selectHandler),t(window).off("orientationchange.slick.slick-"+e.instanceUid,e.orientationChange),t(window).off("resize.slick.slick-"+e.instanceUid,e.resize),t("[draggable!=true]",e.$slideTrack).off("dragstart",e.preventDefault),t(window).off("load.slick.slick-"+e.instanceUid,e.setPosition)},e.prototype.cleanUpSlideEvents=function(){var e=this;e.$list.off("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.off("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.cleanUpRows=function(){var t,e=this;e.options.rows>0&&((t=e.$slides.children().children()).removeAttr("style"),e.$slider.empty().append(t))},e.prototype.clickHandler=function(t){!1===this.shouldClick&&(t.stopImmediatePropagation(),t.stopPropagation(),t.preventDefault())},e.prototype.destroy=function(e){var i=this;i.autoPlayClear(),i.touchObject={},i.cleanUpEvents(),t(".slick-cloned",i.$slider).detach(),i.$dots&&i.$dots.remove(),i.$prevArrow&&i.$prevArrow.length&&(i.$prevArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.prevArrow)&&i.$prevArrow.remove()),i.$nextArrow&&i.$nextArrow.length&&(i.$nextArrow.removeClass("slick-disabled slick-arrow slick-hidden").removeAttr("aria-hidden aria-disabled tabindex").css("display",""),i.htmlExpr.test(i.options.nextArrow)&&i.$nextArrow.remove()),i.$slides&&(i.$slides.removeClass("slick-slide slick-active slick-center slick-visible slick-current").removeAttr("aria-hidden").removeAttr("data-slick-index").each(function(){t(this).attr("style",t(this).data("originalStyling"))}),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.detach(),i.$list.detach(),i.$slider.append(i.$slides)),i.cleanUpRows(),i.$slider.removeClass("slick-slider"),i.$slider.removeClass("slick-initialized"),i.$slider.removeClass("slick-dotted"),i.unslicked=!0,e||i.$slider.trigger("destroy",[i])},e.prototype.disableTransition=function(t){var e=this,i={};i[e.transitionType]="",!1===e.options.fade?e.$slideTrack.css(i):e.$slides.eq(t).css(i)},e.prototype.fadeSlide=function(t,e){var i=this;!1===i.cssTransitions?(i.$slides.eq(t).css({zIndex:i.options.zIndex}),i.$slides.eq(t).animate({opacity:1},i.options.speed,i.options.easing,e)):(i.applyTransition(t),i.$slides.eq(t).css({opacity:1,zIndex:i.options.zIndex}),e&&setTimeout(function(){i.disableTransition(t),e.call()},i.options.speed))},e.prototype.fadeSlideOut=function(t){var e=this;!1===e.cssTransitions?e.$slides.eq(t).animate({opacity:0,zIndex:e.options.zIndex-2},e.options.speed,e.options.easing):(e.applyTransition(t),e.$slides.eq(t).css({opacity:0,zIndex:e.options.zIndex-2}))},e.prototype.filterSlides=e.prototype.slickFilter=function(t){var e=this;null!==t&&(e.$slidesCache=e.$slides,e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.filter(t).appendTo(e.$slideTrack),e.reinit())},e.prototype.focusHandler=function(){var e=this;e.$slider.off("focus.slick blur.slick").on("focus.slick blur.slick","*",function(i){i.stopImmediatePropagation();var n=t(this);setTimeout(function(){e.options.pauseOnFocus&&(e.focussed=n.is(":focus"),e.autoPlay())},0)})},e.prototype.getCurrent=e.prototype.slickCurrentSlide=function(){return this.currentSlide},e.prototype.getDotCount=function(){var t=this,e=0,i=0,n=0;if(!0===t.options.infinite)if(t.slideCount<=t.options.slidesToShow)++n;else for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else if(!0===t.options.centerMode)n=t.slideCount;else if(t.options.asNavFor)for(;e<t.slideCount;)++n,e=i+t.options.slidesToScroll,i+=t.options.slidesToScroll<=t.options.slidesToShow?t.options.slidesToScroll:t.options.slidesToShow;else n=1+Math.ceil((t.slideCount-t.options.slidesToShow)/t.options.slidesToScroll);return n-1},e.prototype.getLeft=function(t){var e,i,n,s,r=this,o=0;return r.slideOffset=0,i=r.$slides.first().outerHeight(!0),!0===r.options.infinite?(r.slideCount>r.options.slidesToShow&&(r.slideOffset=r.slideWidth*r.options.slidesToShow*-1,s=-1,!0===r.options.vertical&&!0===r.options.centerMode&&(2===r.options.slidesToShow?s=-1.5:1===r.options.slidesToShow&&(s=-2)),o=i*r.options.slidesToShow*s),r.slideCount%r.options.slidesToScroll!=0&&t+r.options.slidesToScroll>r.slideCount&&r.slideCount>r.options.slidesToShow&&(t>r.slideCount?(r.slideOffset=(r.options.slidesToShow-(t-r.slideCount))*r.slideWidth*-1,o=(r.options.slidesToShow-(t-r.slideCount))*i*-1):(r.slideOffset=r.slideCount%r.options.slidesToScroll*r.slideWidth*-1,o=r.slideCount%r.options.slidesToScroll*i*-1))):t+r.options.slidesToShow>r.slideCount&&(r.slideOffset=(t+r.options.slidesToShow-r.slideCount)*r.slideWidth,o=(t+r.options.slidesToShow-r.slideCount)*i),r.slideCount<=r.options.slidesToShow&&(r.slideOffset=0,o=0),!0===r.options.centerMode&&r.slideCount<=r.options.slidesToShow?r.slideOffset=r.slideWidth*Math.floor(r.options.slidesToShow)/2-r.slideWidth*r.slideCount/2:!0===r.options.centerMode&&!0===r.options.infinite?r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)-r.slideWidth:!0===r.options.centerMode&&(r.slideOffset=0,r.slideOffset+=r.slideWidth*Math.floor(r.options.slidesToShow/2)),e=!1===r.options.vertical?t*r.slideWidth*-1+r.slideOffset:t*i*-1+o,!0===r.options.variableWidth&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow),e=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,!0===r.options.centerMode&&(n=r.slideCount<=r.options.slidesToShow||!1===r.options.infinite?r.$slideTrack.children(".slick-slide").eq(t):r.$slideTrack.children(".slick-slide").eq(t+r.options.slidesToShow+1),e=!0===r.options.rtl?n[0]?-1*(r.$slideTrack.width()-n[0].offsetLeft-n.width()):0:n[0]?-1*n[0].offsetLeft:0,e+=(r.$list.width()-n.outerWidth())/2)),e},e.prototype.getOption=e.prototype.slickGetOption=function(t){return this.options[t]},e.prototype.getNavigableIndexes=function(){var t,e=this,i=0,n=0,s=[];for(!1===e.options.infinite?t=e.slideCount:(i=-1*e.options.slidesToScroll,n=-1*e.options.slidesToScroll,t=2*e.slideCount);i<t;)s.push(i),i=n+e.options.slidesToScroll,n+=e.options.slidesToScroll<=e.options.slidesToShow?e.options.slidesToScroll:e.options.slidesToShow;return s},e.prototype.getSlick=function(){return this},e.prototype.getSlideCount=function(){var e,i,n=this;return i=!0===n.options.centerMode?n.slideWidth*Math.floor(n.options.slidesToShow/2):0,!0===n.options.swipeToSlide?(n.$slideTrack.find(".slick-slide").each(function(s,r){if(r.offsetLeft-i+t(r).outerWidth()/2>-1*n.swipeLeft)return e=r,!1}),Math.abs(t(e).attr("data-slick-index")-n.currentSlide)||1):n.options.slidesToScroll},e.prototype.goTo=e.prototype.slickGoTo=function(t,e){this.changeSlide({data:{message:"index",index:parseInt(t)}},e)},e.prototype.init=function(e){var i=this;t(i.$slider).hasClass("slick-initialized")||(t(i.$slider).addClass("slick-initialized"),i.buildRows(),i.buildOut(),i.setProps(),i.startLoad(),i.loadSlider(),i.initializeEvents(),i.updateArrows(),i.updateDots(),i.checkResponsive(!0),i.focusHandler()),e&&i.$slider.trigger("init",[i]),!0===i.options.accessibility&&i.initADA(),i.options.autoplay&&(i.paused=!1,i.autoPlay())},e.prototype.initADA=function(){var e=this,i=Math.ceil(e.slideCount/e.options.slidesToShow),n=e.getNavigableIndexes().filter(function(t){return t>=0&&t<e.slideCount});e.$slides.add(e.$slideTrack.find(".slick-cloned")).attr({"aria-hidden":"true",tabindex:"-1"}).find("a, input, button, select").attr({tabindex:"-1"}),null!==e.$dots&&(e.$slides.not(e.$slideTrack.find(".slick-cloned")).each(function(i){var s=n.indexOf(i);if(t(this).attr({role:"tabpanel",id:"slick-slide"+e.instanceUid+i,tabindex:-1}),-1!==s){var r="slick-slide-control"+e.instanceUid+s;t("#"+r).length&&t(this).attr({"aria-describedby":r})}}),e.$dots.attr("role","tablist").find("li").each(function(s){var r=n[s];t(this).attr({role:"presentation"}),t(this).find("button").first().attr({role:"tab",id:"slick-slide-control"+e.instanceUid+s,"aria-controls":"slick-slide"+e.instanceUid+r,"aria-label":s+1+" of "+i,"aria-selected":null,tabindex:"-1"})}).eq(e.currentSlide).find("button").attr({"aria-selected":"true",tabindex:"0"}).end());for(var s=e.currentSlide,r=s+e.options.slidesToShow;s<r;s++)e.options.focusOnChange?e.$slides.eq(s).attr({tabindex:"0"}):e.$slides.eq(s).removeAttr("tabindex");e.activateADA()},e.prototype.initArrowEvents=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.off("click.slick").on("click.slick",{message:"previous"},t.changeSlide),t.$nextArrow.off("click.slick").on("click.slick",{message:"next"},t.changeSlide),!0===t.options.accessibility&&(t.$prevArrow.on("keydown.slick",t.keyHandler),t.$nextArrow.on("keydown.slick",t.keyHandler)))},e.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&(t("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.accessibility&&e.$dots.on("keydown.slick",e.keyHandler)),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&e.slideCount>e.options.slidesToShow&&t("li",e.$dots).on("mouseenter.slick",t.proxy(e.interrupt,e,!0)).on("mouseleave.slick",t.proxy(e.interrupt,e,!1))},e.prototype.initSlideEvents=function(){var e=this;e.options.pauseOnHover&&(e.$list.on("mouseenter.slick",t.proxy(e.interrupt,e,!0)),e.$list.on("mouseleave.slick",t.proxy(e.interrupt,e,!1)))},e.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.initSlideEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),e.$list.on("click.slick",e.clickHandler),t(document).on(e.visibilityChange,t.proxy(e.visibility,e)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),t(window).on("orientationchange.slick.slick-"+e.instanceUid,t.proxy(e.orientationChange,e)),t(window).on("resize.slick.slick-"+e.instanceUid,t.proxy(e.resize,e)),t("[draggable!=true]",e.$slideTrack).on("dragstart",e.preventDefault),t(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),t(e.setPosition)},e.prototype.initUI=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.show(),t.$nextArrow.show()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.show()},e.prototype.keyHandler=function(t){var e=this;t.target.tagName.match("TEXTAREA|INPUT|SELECT")||(37===t.keyCode&&!0===e.options.accessibility?e.changeSlide({data:{message:!0===e.options.rtl?"next":"previous"}}):39===t.keyCode&&!0===e.options.accessibility&&e.changeSlide({data:{message:!0===e.options.rtl?"previous":"next"}}))},e.prototype.lazyLoad=function(){var e,i,n,s=this;function r(e){t("img[data-lazy]",e).each(function(){var e=t(this),i=t(this).attr("data-lazy"),n=t(this).attr("data-srcset"),r=t(this).attr("data-sizes")||s.$slider.attr("data-sizes"),o=document.createElement("img");o.onload=function(){e.animate({opacity:0},100,function(){n&&(e.attr("srcset",n),r&&e.attr("sizes",r)),e.attr("src",i).animate({opacity:1},200,function(){e.removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading")}),s.$slider.trigger("lazyLoaded",[s,e,i])})},o.onerror=function(){e.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),s.$slider.trigger("lazyLoadError",[s,e,i])},o.src=i})}if(!0===s.options.centerMode?!0===s.options.infinite?n=(i=s.currentSlide+(s.options.slidesToShow/2+1))+s.options.slidesToShow+2:(i=Math.max(0,s.currentSlide-(s.options.slidesToShow/2+1)),n=s.options.slidesToShow/2+1+2+s.currentSlide):(i=s.options.infinite?s.options.slidesToShow+s.currentSlide:s.currentSlide,n=Math.ceil(i+s.options.slidesToShow),!0===s.options.fade&&(i>0&&i--,n<=s.slideCount&&n++)),e=s.$slider.find(".slick-slide").slice(i,n),"anticipated"===s.options.lazyLoad)for(var o=i-1,a=n,l=s.$slider.find(".slick-slide"),u=0;u<s.options.slidesToScroll;u++)o<0&&(o=s.slideCount-1),e=(e=e.add(l.eq(o))).add(l.eq(a)),o--,a++;r(e),s.slideCount<=s.options.slidesToShow?r(s.$slider.find(".slick-slide")):s.currentSlide>=s.slideCount-s.options.slidesToShow?r(s.$slider.find(".slick-cloned").slice(0,s.options.slidesToShow)):0===s.currentSlide&&r(s.$slider.find(".slick-cloned").slice(-1*s.options.slidesToShow))},e.prototype.loadSlider=function(){var t=this;t.setPosition(),t.$slideTrack.css({opacity:1}),t.$slider.removeClass("slick-loading"),t.initUI(),"progressive"===t.options.lazyLoad&&t.progressiveLazyLoad()},e.prototype.next=e.prototype.slickNext=function(){this.changeSlide({data:{message:"next"}})},e.prototype.orientationChange=function(){this.checkResponsive(),this.setPosition()},e.prototype.pause=e.prototype.slickPause=function(){this.autoPlayClear(),this.paused=!0},e.prototype.play=e.prototype.slickPlay=function(){var t=this;t.autoPlay(),t.options.autoplay=!0,t.paused=!1,t.focussed=!1,t.interrupted=!1},e.prototype.postSlide=function(e){var i=this;i.unslicked||(i.$slider.trigger("afterChange",[i,e]),i.animating=!1,i.slideCount>i.options.slidesToShow&&i.setPosition(),i.swipeLeft=null,i.options.autoplay&&i.autoPlay(),!0===i.options.accessibility&&(i.initADA(),i.options.focusOnChange&&t(i.$slides.get(i.currentSlide)).attr("tabindex",0).focus()))},e.prototype.prev=e.prototype.slickPrev=function(){this.changeSlide({data:{message:"previous"}})},e.prototype.preventDefault=function(t){t.preventDefault()},e.prototype.progressiveLazyLoad=function(e){e=e||1;var i,n,s,r,o,a=this,l=t("img[data-lazy]",a.$slider);l.length?(i=l.first(),n=i.attr("data-lazy"),s=i.attr("data-srcset"),r=i.attr("data-sizes")||a.$slider.attr("data-sizes"),(o=document.createElement("img")).onload=function(){s&&(i.attr("srcset",s),r&&i.attr("sizes",r)),i.attr("src",n).removeAttr("data-lazy data-srcset data-sizes").removeClass("slick-loading"),!0===a.options.adaptiveHeight&&a.setPosition(),a.$slider.trigger("lazyLoaded",[a,i,n]),a.progressiveLazyLoad()},o.onerror=function(){e<3?setTimeout(function(){a.progressiveLazyLoad(e+1)},500):(i.removeAttr("data-lazy").removeClass("slick-loading").addClass("slick-lazyload-error"),a.$slider.trigger("lazyLoadError",[a,i,n]),a.progressiveLazyLoad())},o.src=n):a.$slider.trigger("allImagesLoaded",[a])},e.prototype.refresh=function(e){var i,n,s=this;n=s.slideCount-s.options.slidesToShow,!s.options.infinite&&s.currentSlide>n&&(s.currentSlide=n),s.slideCount<=s.options.slidesToShow&&(s.currentSlide=0),i=s.currentSlide,s.destroy(!0),t.extend(s,s.initials,{currentSlide:i}),s.init(),e||s.changeSlide({data:{message:"index",index:i}},!1)},e.prototype.registerBreakpoints=function(){var e,i,n,s=this,r=s.options.responsive||null;if("array"===t.type(r)&&r.length){for(e in s.respondTo=s.options.respondTo||"window",r)if(n=s.breakpoints.length-1,r.hasOwnProperty(e)){for(i=r[e].breakpoint;n>=0;)s.breakpoints[n]&&s.breakpoints[n]===i&&s.breakpoints.splice(n,1),n--;s.breakpoints.push(i),s.breakpointSettings[i]=r[e].settings}s.breakpoints.sort(function(t,e){return s.options.mobileFirst?t-e:e-t})}},e.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.slideCount<=e.options.slidesToShow&&(e.currentSlide=0),e.registerBreakpoints(),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),e.cleanUpSlideEvents(),e.initSlideEvents(),e.checkResponsive(!1,!0),!0===e.options.focusOnSelect&&t(e.$slideTrack).children().on("click.slick",e.selectHandler),e.setSlideClasses("number"==typeof e.currentSlide?e.currentSlide:0),e.setPosition(),e.focusHandler(),e.paused=!e.options.autoplay,e.autoPlay(),e.$slider.trigger("reInit",[e])},e.prototype.resize=function(){var e=this;t(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=t(window).width(),e.checkResponsive(),e.unslicked||e.setPosition()},50))},e.prototype.removeSlide=e.prototype.slickRemove=function(t,e,i){var n=this;if(t="boolean"==typeof t?!0===(e=t)?0:n.slideCount-1:!0===e?--t:t,n.slideCount<1||t<0||t>n.slideCount-1)return!1;n.unload(),!0===i?n.$slideTrack.children().remove():n.$slideTrack.children(this.options.slide).eq(t).remove(),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slidesCache=n.$slides,n.reinit()},e.prototype.setCSS=function(t){var e,i,n=this,s={};!0===n.options.rtl&&(t=-t),e="left"==n.positionProp?Math.ceil(t)+"px":"0px",i="top"==n.positionProp?Math.ceil(t)+"px":"0px",s[n.positionProp]=t,!1===n.transformsEnabled?n.$slideTrack.css(s):(s={},!1===n.cssTransitions?(s[n.animType]="translate("+e+", "+i+")",n.$slideTrack.css(s)):(s[n.animType]="translate3d("+e+", "+i+", 0px)",n.$slideTrack.css(s)))},e.prototype.setDimensions=function(){var t=this;!1===t.options.vertical?!0===t.options.centerMode&&t.$list.css({padding:"0px "+t.options.centerPadding}):(t.$list.height(t.$slides.first().outerHeight(!0)*t.options.slidesToShow),!0===t.options.centerMode&&t.$list.css({padding:t.options.centerPadding+" 0px"})),t.listWidth=t.$list.width(),t.listHeight=t.$list.height(),!1===t.options.vertical&&!1===t.options.variableWidth?(t.slideWidth=Math.ceil(t.listWidth/t.options.slidesToShow),t.$slideTrack.width(Math.ceil(t.slideWidth*t.$slideTrack.children(".slick-slide").length))):!0===t.options.variableWidth?t.$slideTrack.width(5e3*t.slideCount):(t.slideWidth=Math.ceil(t.listWidth),t.$slideTrack.height(Math.ceil(t.$slides.first().outerHeight(!0)*t.$slideTrack.children(".slick-slide").length)));var e=t.$slides.first().outerWidth(!0)-t.$slides.first().width();!1===t.options.variableWidth&&t.$slideTrack.children(".slick-slide").width(t.slideWidth-e)},e.prototype.setFade=function(){var e,i=this;i.$slides.each(function(n,s){e=i.slideWidth*n*-1,!0===i.options.rtl?t(s).css({position:"relative",right:e,top:0,zIndex:i.options.zIndex-2,opacity:0}):t(s).css({position:"relative",left:e,top:0,zIndex:i.options.zIndex-2,opacity:0})}),i.$slides.eq(i.currentSlide).css({zIndex:i.options.zIndex-1,opacity:1})},e.prototype.setHeight=function(){var t=this;if(1===t.options.slidesToShow&&!0===t.options.adaptiveHeight&&!1===t.options.vertical){var e=t.$slides.eq(t.currentSlide).outerHeight(!0);t.$list.css("height",e)}},e.prototype.setOption=e.prototype.slickSetOption=function(){var e,i,n,s,r,o=this,a=!1;if("object"===t.type(arguments[0])?(n=arguments[0],a=arguments[1],r="multiple"):"string"===t.type(arguments[0])&&(n=arguments[0],s=arguments[1],a=arguments[2],"responsive"===arguments[0]&&"array"===t.type(arguments[1])?r="responsive":void 0!==arguments[1]&&(r="single")),"single"===r)o.options[n]=s;else if("multiple"===r)t.each(n,function(t,e){o.options[t]=e});else if("responsive"===r)for(i in s)if("array"!==t.type(o.options.responsive))o.options.responsive=[s[i]];else{for(e=o.options.responsive.length-1;e>=0;)o.options.responsive[e].breakpoint===s[i].breakpoint&&o.options.responsive.splice(e,1),e--;o.options.responsive.push(s[i])}a&&(o.unload(),o.reinit())},e.prototype.setPosition=function(){var t=this;t.setDimensions(),t.setHeight(),!1===t.options.fade?t.setCSS(t.getLeft(t.currentSlide)):t.setFade(),t.$slider.trigger("setPosition",[t])},e.prototype.setProps=function(){var t=this,e=document.body.style;t.positionProp=!0===t.options.vertical?"top":"left","top"===t.positionProp?t.$slider.addClass("slick-vertical"):t.$slider.removeClass("slick-vertical"),void 0===e.WebkitTransition&&void 0===e.MozTransition&&void 0===e.msTransition||!0===t.options.useCSS&&(t.cssTransitions=!0),t.options.fade&&("number"==typeof t.options.zIndex?t.options.zIndex<3&&(t.options.zIndex=3):t.options.zIndex=t.defaults.zIndex),void 0!==e.OTransform&&(t.animType="OTransform",t.transformType="-o-transform",t.transitionType="OTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.MozTransform&&(t.animType="MozTransform",t.transformType="-moz-transform",t.transitionType="MozTransition",void 0===e.perspectiveProperty&&void 0===e.MozPerspective&&(t.animType=!1)),void 0!==e.webkitTransform&&(t.animType="webkitTransform",t.transformType="-webkit-transform",t.transitionType="webkitTransition",void 0===e.perspectiveProperty&&void 0===e.webkitPerspective&&(t.animType=!1)),void 0!==e.msTransform&&(t.animType="msTransform",t.transformType="-ms-transform",t.transitionType="msTransition",void 0===e.msTransform&&(t.animType=!1)),void 0!==e.transform&&!1!==t.animType&&(t.animType="transform",t.transformType="transform",t.transitionType="transition"),t.transformsEnabled=t.options.useTransform&&null!==t.animType&&!1!==t.animType},e.prototype.setSlideClasses=function(t){var e,i,n,s,r=this;if(i=r.$slider.find(".slick-slide").removeClass("slick-active slick-center slick-current").attr("aria-hidden","true"),r.$slides.eq(t).addClass("slick-current"),!0===r.options.centerMode){var o=r.options.slidesToShow%2==0?1:0;e=Math.floor(r.options.slidesToShow/2),!0===r.options.infinite&&(t>=e&&t<=r.slideCount-1-e?r.$slides.slice(t-e+o,t+e+1).addClass("slick-active").attr("aria-hidden","false"):(n=r.options.slidesToShow+t,i.slice(n-e+1+o,n+e+2).addClass("slick-active").attr("aria-hidden","false")),0===t?i.eq(i.length-1-r.options.slidesToShow).addClass("slick-center"):t===r.slideCount-1&&i.eq(r.options.slidesToShow).addClass("slick-center")),r.$slides.eq(t).addClass("slick-center")}else t>=0&&t<=r.slideCount-r.options.slidesToShow?r.$slides.slice(t,t+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"):i.length<=r.options.slidesToShow?i.addClass("slick-active").attr("aria-hidden","false"):(s=r.slideCount%r.options.slidesToShow,n=!0===r.options.infinite?r.options.slidesToShow+t:t,r.options.slidesToShow==r.options.slidesToScroll&&r.slideCount-t<r.options.slidesToShow?i.slice(n-(r.options.slidesToShow-s),n+s).addClass("slick-active").attr("aria-hidden","false"):i.slice(n,n+r.options.slidesToShow).addClass("slick-active").attr("aria-hidden","false"));"ondemand"!==r.options.lazyLoad&&"anticipated"!==r.options.lazyLoad||r.lazyLoad()},e.prototype.setupInfinite=function(){var e,i,n,s=this;if(!0===s.options.fade&&(s.options.centerMode=!1),!0===s.options.infinite&&!1===s.options.fade&&(i=null,s.slideCount>s.options.slidesToShow)){for(n=!0===s.options.centerMode?s.options.slidesToShow+1:s.options.slidesToShow,e=s.slideCount;e>s.slideCount-n;e-=1)i=e-1,t(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i-s.slideCount).prependTo(s.$slideTrack).addClass("slick-cloned");for(e=0;e<n+s.slideCount;e+=1)i=e,t(s.$slides[i]).clone(!0).attr("id","").attr("data-slick-index",i+s.slideCount).appendTo(s.$slideTrack).addClass("slick-cloned");s.$slideTrack.find(".slick-cloned").find("[id]").each(function(){t(this).attr("id","")})}},e.prototype.interrupt=function(t){t||this.autoPlay(),this.interrupted=t},e.prototype.selectHandler=function(e){var i=this,n=t(e.target).is(".slick-slide")?t(e.target):t(e.target).parents(".slick-slide"),s=parseInt(n.attr("data-slick-index"));s||(s=0),i.slideCount<=i.options.slidesToShow?i.slideHandler(s,!1,!0):i.slideHandler(s)},e.prototype.slideHandler=function(t,e,i){var n,s,r,o,a,l,u=this;if(e=e||!1,!(!0===u.animating&&!0===u.options.waitForAnimate||!0===u.options.fade&&u.currentSlide===t))if(!1===e&&u.asNavFor(t),n=t,a=u.getLeft(n),o=u.getLeft(u.currentSlide),u.currentLeft=null===u.swipeLeft?o:u.swipeLeft,!1===u.options.infinite&&!1===u.options.centerMode&&(t<0||t>u.getDotCount()*u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(o,function(){u.postSlide(n)}):u.postSlide(n));else if(!1===u.options.infinite&&!0===u.options.centerMode&&(t<0||t>u.slideCount-u.options.slidesToScroll))!1===u.options.fade&&(n=u.currentSlide,!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(o,function(){u.postSlide(n)}):u.postSlide(n));else{if(u.options.autoplay&&clearInterval(u.autoPlayTimer),s=n<0?u.slideCount%u.options.slidesToScroll!=0?u.slideCount-u.slideCount%u.options.slidesToScroll:u.slideCount+n:n>=u.slideCount?u.slideCount%u.options.slidesToScroll!=0?0:n-u.slideCount:n,u.animating=!0,u.$slider.trigger("beforeChange",[u,u.currentSlide,s]),r=u.currentSlide,u.currentSlide=s,u.setSlideClasses(u.currentSlide),u.options.asNavFor&&(l=(l=u.getNavTarget()).slick("getSlick")).slideCount<=l.options.slidesToShow&&l.setSlideClasses(u.currentSlide),u.updateDots(),u.updateArrows(),!0===u.options.fade)return!0!==i?(u.fadeSlideOut(r),u.fadeSlide(s,function(){u.postSlide(s)})):u.postSlide(s),void u.animateHeight();!0!==i&&u.slideCount>u.options.slidesToShow?u.animateSlide(a,function(){u.postSlide(s)}):u.postSlide(s)}},e.prototype.startLoad=function(){var t=this;!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&(t.$prevArrow.hide(),t.$nextArrow.hide()),!0===t.options.dots&&t.slideCount>t.options.slidesToShow&&t.$dots.hide(),t.$slider.addClass("slick-loading")},e.prototype.swipeDirection=function(){var t,e,i,n,s=this;return t=s.touchObject.startX-s.touchObject.curX,e=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(e,t),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&n>=0?!1===s.options.rtl?"left":"right":n<=360&&n>=315?!1===s.options.rtl?"left":"right":n>=135&&n<=225?!1===s.options.rtl?"right":"left":!0===s.options.verticalSwiping?n>=35&&n<=135?"down":"up":"vertical"},e.prototype.swipeEnd=function(t){var e,i,n=this;if(n.dragging=!1,n.swiping=!1,n.scrolling)return n.scrolling=!1,!1;if(n.interrupted=!1,n.shouldClick=!(n.touchObject.swipeLength>10),void 0===n.touchObject.curX)return!1;if(!0===n.touchObject.edgeHit&&n.$slider.trigger("edge",[n,n.swipeDirection()]),n.touchObject.swipeLength>=n.touchObject.minSwipe){switch(i=n.swipeDirection()){case"left":case"down":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide+n.getSlideCount()):n.currentSlide+n.getSlideCount(),n.currentDirection=0;break;case"right":case"up":e=n.options.swipeToSlide?n.checkNavigable(n.currentSlide-n.getSlideCount()):n.currentSlide-n.getSlideCount(),n.currentDirection=1}"vertical"!=i&&(n.slideHandler(e),n.touchObject={},n.$slider.trigger("swipe",[n,i]))}else n.touchObject.startX!==n.touchObject.curX&&(n.slideHandler(n.currentSlide),n.touchObject={})},e.prototype.swipeHandler=function(t){var e=this;if(!(!1===e.options.swipe||"ontouchend"in document&&!1===e.options.swipe||!1===e.options.draggable&&-1!==t.type.indexOf("mouse")))switch(e.touchObject.fingerCount=t.originalEvent&&void 0!==t.originalEvent.touches?t.originalEvent.touches.length:1,e.touchObject.minSwipe=e.listWidth/e.options.touchThreshold,!0===e.options.verticalSwiping&&(e.touchObject.minSwipe=e.listHeight/e.options.touchThreshold),t.data.action){case"start":e.swipeStart(t);break;case"move":e.swipeMove(t);break;case"end":e.swipeEnd(t)}},e.prototype.swipeMove=function(t){var e,i,n,s,r,o,a=this;return r=void 0!==t.originalEvent?t.originalEvent.touches:null,!(!a.dragging||a.scrolling||r&&1!==r.length)&&(e=a.getLeft(a.currentSlide),a.touchObject.curX=void 0!==r?r[0].pageX:t.clientX,a.touchObject.curY=void 0!==r?r[0].pageY:t.clientY,a.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(a.touchObject.curX-a.touchObject.startX,2))),o=Math.round(Math.sqrt(Math.pow(a.touchObject.curY-a.touchObject.startY,2))),!a.options.verticalSwiping&&!a.swiping&&o>4?(a.scrolling=!0,!1):(!0===a.options.verticalSwiping&&(a.touchObject.swipeLength=o),i=a.swipeDirection(),void 0!==t.originalEvent&&a.touchObject.swipeLength>4&&(a.swiping=!0,t.preventDefault()),s=(!1===a.options.rtl?1:-1)*(a.touchObject.curX>a.touchObject.startX?1:-1),!0===a.options.verticalSwiping&&(s=a.touchObject.curY>a.touchObject.startY?1:-1),n=a.touchObject.swipeLength,a.touchObject.edgeHit=!1,!1===a.options.infinite&&(0===a.currentSlide&&"right"===i||a.currentSlide>=a.getDotCount()&&"left"===i)&&(n=a.touchObject.swipeLength*a.options.edgeFriction,a.touchObject.edgeHit=!0),!1===a.options.vertical?a.swipeLeft=e+n*s:a.swipeLeft=e+n*(a.$list.height()/a.listWidth)*s,!0===a.options.verticalSwiping&&(a.swipeLeft=e+n*s),!0!==a.options.fade&&!1!==a.options.touchMove&&(!0===a.animating?(a.swipeLeft=null,!1):void a.setCSS(a.swipeLeft))))},e.prototype.swipeStart=function(t){var e,i=this;if(i.interrupted=!0,1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow)return i.touchObject={},!1;void 0!==t.originalEvent&&void 0!==t.originalEvent.touches&&(e=t.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==e?e.pageX:t.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==e?e.pageY:t.clientY,i.dragging=!0},e.prototype.unfilterSlides=e.prototype.slickUnfilter=function(){var t=this;null!==t.$slidesCache&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.appendTo(t.$slideTrack),t.reinit())},e.prototype.unload=function(){var e=this;t(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.remove(),e.$nextArrow&&e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.remove(),e.$slides.removeClass("slick-slide slick-active slick-visible slick-current").attr("aria-hidden","true").css("width","")},e.prototype.unslick=function(t){var e=this;e.$slider.trigger("unslick",[e,t]),e.destroy()},e.prototype.updateArrows=function(){var t=this;Math.floor(t.options.slidesToShow/2),!0===t.options.arrows&&t.slideCount>t.options.slidesToShow&&!t.options.infinite&&(t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false"),0===t.currentSlide?(t.$prevArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$nextArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-t.options.slidesToShow&&!1===t.options.centerMode?(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")):t.currentSlide>=t.slideCount-1&&!0===t.options.centerMode&&(t.$nextArrow.addClass("slick-disabled").attr("aria-disabled","true"),t.$prevArrow.removeClass("slick-disabled").attr("aria-disabled","false")))},e.prototype.updateDots=function(){var t=this;null!==t.$dots&&(t.$dots.find("li").removeClass("slick-active").end(),t.$dots.find("li").eq(Math.floor(t.currentSlide/t.options.slidesToScroll)).addClass("slick-active"))},e.prototype.visibility=function(){var t=this;t.options.autoplay&&(document[t.hidden]?t.interrupted=!0:t.interrupted=!1)},t.fn.slick=function(){var t,i,n=this,s=arguments[0],r=Array.prototype.slice.call(arguments,1),o=n.length;for(t=0;t<o;t++)if("object"==typeof s||void 0===s?n[t].slick=new e(n[t],s):i=n[t].slick[s].apply(n[t].slick,r),void 0!==i)return i;return n}}),function(t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){t.extend(t.fn,{validate:function(e){if(this.length){var i=t.data(this[0],"validator");return i||(this.attr("novalidate","novalidate"),i=new t.validator(e,this[0]),t.data(this[0],"validator",i),i.settings.onsubmit&&(this.on("click.validate",":submit",function(e){i.submitButton=e.currentTarget,t(this).hasClass("cancel")&&(i.cancelSubmit=!0),void 0!==t(this).attr("formnovalidate")&&(i.cancelSubmit=!0)}),this.on("submit.validate",function(e){function n(){var n,s;return i.submitButton&&(i.settings.submitHandler||i.formSubmitted)&&(n=t("<input type='hidden'/>").attr("name",i.submitButton.name).val(t(i.submitButton).val()).appendTo(i.currentForm)),!i.settings.submitHandler||(s=i.settings.submitHandler.call(i,i.currentForm,e),n&&n.remove(),void 0!==s&&s)}return i.settings.debug&&e.preventDefault(),i.cancelSubmit?(i.cancelSubmit=!1,n()):i.form()?i.pendingRequest?(i.formSubmitted=!0,!1):n():(i.focusInvalid(),!1)})),i)}e&&e.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var e,i,n;return t(this[0]).is("form")?e=this.validate().form():(n=[],e=!0,i=t(this[0].form).validate(),this.each(function(){(e=i.element(this)&&e)||(n=n.concat(i.errorList))}),i.errorList=n),e},rules:function(e,i){var n,s,r,o,a,l,u=this[0];if(null!=u&&(!u.form&&u.hasAttribute("contenteditable")&&(u.form=this.closest("form")[0],u.name=this.attr("name")),null!=u.form)){if(e)switch(s=(n=t.data(u.form,"validator").settings).rules,r=t.validator.staticRules(u),e){case"add":t.extend(r,t.validator.normalizeRule(i)),delete r.messages,s[u.name]=r,i.messages&&(n.messages[u.name]=t.extend(n.messages[u.name],i.messages));break;case"remove":return i?(l={},t.each(i.split(/\s/),function(t,e){l[e]=r[e],delete r[e]}),l):(delete s[u.name],r)}return(o=t.validator.normalizeRules(t.extend({},t.validator.classRules(u),t.validator.attributeRules(u),t.validator.dataRules(u),t.validator.staticRules(u)),u)).required&&(a=o.required,delete o.required,o=t.extend({required:a},o)),o.remote&&(a=o.remote,delete o.remote,o=t.extend(o,{remote:a})),o}}}),t.extend(t.expr.pseudos||t.expr[":"],{blank:function(e){return!t.trim(""+t(e).val())},filled:function(e){var i=t(e).val();return null!==i&&!!t.trim(""+i)},unchecked:function(e){return!t(e).prop("checked")}}),t.validator=function(e,i){this.settings=t.extend(!0,{},t.validator.defaults,e),this.currentForm=i,this.init()},t.validator.format=function(e,i){return 1===arguments.length?function(){var i=t.makeArray(arguments);return i.unshift(e),t.validator.format.apply(this,i)}:void 0===i?e:(arguments.length>2&&i.constructor!==Array&&(i=t.makeArray(arguments).slice(1)),i.constructor!==Array&&(i=[i]),t.each(i,function(t,i){e=e.replace(new RegExp("\\{"+t+"\\}","g"),function(){return i})}),e)},t.extend(t.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:t([]),errorLabelContainer:t([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(t){this.lastActive=t,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,t,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(t)))},onfocusout:function(t){this.checkable(t)||!(t.name in this.submitted)&&this.optional(t)||this.element(t)},onkeyup:function(e,i){9===i.which&&""===this.elementValue(e)||-1!==t.inArray(i.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(e.name in this.submitted||e.name in this.invalid)&&this.element(e)},onclick:function(t){t.name in this.submitted?this.element(t):t.parentNode.name in this.submitted&&this.element(t.parentNode)},highlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).addClass(i).removeClass(n):t(e).addClass(i).removeClass(n)},unhighlight:function(e,i,n){"radio"===e.type?this.findByName(e.name).removeClass(i).addClass(n):t(e).removeClass(i).addClass(n)}},setDefaults:function(e){t.extend(t.validator.defaults,e)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:t.validator.format("Please enter no more than {0} characters."),minlength:t.validator.format("Please enter at least {0} characters."),rangelength:t.validator.format("Please enter a value between {0} and {1} characters long."),range:t.validator.format("Please enter a value between {0} and {1}."),max:t.validator.format("Please enter a value less than or equal to {0}."),min:t.validator.format("Please enter a value greater than or equal to {0}."),step:t.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=t(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||t(this.currentForm),this.containers=t(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var e,i=this.groups={};function n(e){!this.form&&this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=t(this).attr("name"));var i=t.data(this.form,"validator"),n="on"+e.type.replace(/^validate/,""),s=i.settings;s[n]&&!t(this).is(s.ignore)&&s[n].call(i,this,e)}t.each(this.settings.groups,function(e,n){"string"==typeof n&&(n=n.split(/\s/)),t.each(n,function(t,n){i[n]=e})}),e=this.settings.rules,t.each(e,function(i,n){e[i]=t.validator.normalizeRule(n)}),t(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",n).on("click.validate","select, option, [type='radio'], [type='checkbox']",n),this.settings.invalidHandler&&t(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),t.extend(this.submitted,this.errorMap),this.invalid=t.extend({},this.errorMap),this.valid()||t(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var t=0,e=this.currentElements=this.elements();e[t];t++)this.check(e[t]);return this.valid()},element:function(e){var i,n,s=this.clean(e),r=this.validationTargetFor(s),o=this,a=!0;return void 0===r?delete this.invalid[s.name]:(this.prepareElement(r),this.currentElements=t(r),(n=this.groups[r.name])&&t.each(this.groups,function(t,e){e===n&&t!==r.name&&(s=o.validationTargetFor(o.clean(o.findByName(t))))&&s.name in o.invalid&&(o.currentElements.push(s),a=o.check(s)&&a)}),i=!1!==this.check(r),a=a&&i,this.invalid[r.name]=!i,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),t(e).attr("aria-invalid",!i)),a},showErrors:function(e){if(e){var i=this;t.extend(this.errorMap,e),this.errorList=t.map(this.errorMap,function(t,e){return{message:t,element:i.findByName(e)[0]}}),this.successList=t.grep(this.successList,function(t){return!(t.name in e)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){t.fn.resetForm&&t(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var e=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(e)},resetElements:function(t){var e;if(this.settings.unhighlight)for(e=0;t[e];e++)this.settings.unhighlight.call(this,t[e],this.settings.errorClass,""),this.findByName(t[e].name).removeClass(this.settings.validClass);else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(t){var e,i=0;for(e in t)void 0!==t[e]&&null!==t[e]&&!1!==t[e]&&i++;return i},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(t){t.not(this.containers).text(""),this.addWrapper(t).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{t(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch(t){}},findLastActive:function(){var e=this.lastActive;return e&&1===t.grep(this.errorList,function(t){return t.element.name===e.name}).length&&e},elements:function(){var e=this,i={};return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var n=this.name||t(this).attr("name");return!n&&e.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=t(this).closest("form")[0],this.name=n),!(n in i||!e.objectLength(t(this).rules()))&&(i[n]=!0,!0)})},clean:function(e){return t(e)[0]},errors:function(){var e=this.settings.errorClass.split(" ").join(".");return t(this.settings.errorElement+"."+e,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=t([]),this.toHide=t([])},reset:function(){this.resetInternals(),this.currentElements=t([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(t){this.reset(),this.toHide=this.errorsFor(t)},elementValue:function(e){var i,n,s=t(e),r=e.type;return"radio"===r||"checkbox"===r?this.findByName(e.name).filter(":checked").val():"number"===r&&void 0!==e.validity?e.validity.badInput?"NaN":s.val():(i=e.hasAttribute("contenteditable")?s.text():s.val(),"file"===r?"C:\\fakepath\\"===i.substr(0,12)?i.substr(12):(n=i.lastIndexOf("/"))>=0?i.substr(n+1):(n=i.lastIndexOf("\\"))>=0?i.substr(n+1):i:"string"==typeof i?i.replace(/\r/g,""):i)},check:function(e){e=this.validationTargetFor(this.clean(e));var i,n,s,r,o=t(e).rules(),a=t.map(o,function(t,e){return e}).length,l=!1,u=this.elementValue(e);if("function"==typeof o.normalizer?r=o.normalizer:"function"==typeof this.settings.normalizer&&(r=this.settings.normalizer),r){if("string"!=typeof(u=r.call(e,u)))throw new TypeError("The normalizer should return a string value.");delete o.normalizer}for(n in o){s={method:n,parameters:o[n]};try{if("dependency-mismatch"===(i=t.validator.methods[n].call(this,u,e,s.parameters))&&1===a){l=!0;continue}if(l=!1,"pending"===i)return void(this.toHide=this.toHide.not(this.errorsFor(e)));if(!i)return this.formatAndAdd(e,s),!1}catch(t){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+e.id+", check the '"+s.method+"' method.",t),t instanceof TypeError&&(t.message+=".  Exception occurred when checking element "+e.id+", check the '"+s.method+"' method."),t}}if(!l)return this.objectLength(o)&&this.successList.push(e),!0},customDataMessage:function(e,i){return t(e).data("msg"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase())||t(e).data("msg")},customMessage:function(t,e){var i=this.settings.messages[t];return i&&(i.constructor===String?i:i[e])},findDefined:function(){for(var t=0;t<arguments.length;t++)if(void 0!==arguments[t])return arguments[t]},defaultMessage:function(e,i){"string"==typeof i&&(i={method:i});var n=this.findDefined(this.customMessage(e.name,i.method),this.customDataMessage(e,i.method),!this.settings.ignoreTitle&&e.title||void 0,t.validator.messages[i.method],"<strong>Warning: No message defined for "+e.name+"</strong>"),s=/\$?\{(\d+)\}/g;return"function"==typeof n?n=n.call(this,i.parameters,e):s.test(n)&&(n=t.validator.format(n.replace(s,"{$1}"),i.parameters)),n},formatAndAdd:function(t,e){var i=this.defaultMessage(t,e);this.errorList.push({message:i,element:t,method:e.method}),this.errorMap[t.name]=i,this.submitted[t.name]=i},addWrapper:function(t){return this.settings.wrapper&&(t=t.add(t.parent(this.settings.wrapper))),t},defaultShowErrors:function(){var t,e,i;for(t=0;this.errorList[t];t++)i=this.errorList[t],this.settings.highlight&&this.settings.highlight.call(this,i.element,this.settings.errorClass,this.settings.validClass),this.showLabel(i.element,i.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(t=0;this.successList[t];t++)this.showLabel(this.successList[t]);if(this.settings.unhighlight)for(t=0,e=this.validElements();e[t];t++)this.settings.unhighlight.call(this,e[t],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return t(this.errorList).map(function(){return this.element})},showLabel:function(e,i){var n,s,r,o,a=this.errorsFor(e),l=this.idOrName(e),u=t(e).attr("aria-describedby");a.length?(a.removeClass(this.settings.validClass).addClass(this.settings.errorClass),a.html(i)):(n=a=t("<"+this.settings.errorElement+">").attr("id",l+"-error").addClass(this.settings.errorClass).html(i||""),this.settings.wrapper&&(n=a.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(n):this.settings.errorPlacement?this.settings.errorPlacement.call(this,n,t(e)):n.insertAfter(e),a.is("label")?a.attr("for",l):0===a.parents("label[for='"+this.escapeCssMeta(l)+"']").length&&(r=a.attr("id"),u?u.match(new RegExp("\\b"+this.escapeCssMeta(r)+"\\b"))||(u+=" "+r):u=r,t(e).attr("aria-describedby",u),(s=this.groups[e.name])&&(o=this,t.each(o.groups,function(e,i){i===s&&t("[name='"+o.escapeCssMeta(e)+"']",o.currentForm).attr("aria-describedby",a.attr("id"))})))),!i&&this.settings.success&&(a.text(""),"string"==typeof this.settings.success?a.addClass(this.settings.success):this.settings.success(a,e)),this.toShow=this.toShow.add(a)},errorsFor:function(e){var i=this.escapeCssMeta(this.idOrName(e)),n=t(e).attr("aria-describedby"),s="label[for='"+i+"'], label[for='"+i+"'] *";return n&&(s=s+", #"+this.escapeCssMeta(n).replace(/\s+/g,", #")),this.errors().filter(s)},escapeCssMeta:function(t){return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(t){return this.groups[t.name]||(this.checkable(t)?t.name:t.id||t.name)},validationTargetFor:function(e){return this.checkable(e)&&(e=this.findByName(e.name)),t(e).not(this.settings.ignore)[0]},checkable:function(t){return/radio|checkbox/i.test(t.type)},findByName:function(e){return t(this.currentForm).find("[name='"+this.escapeCssMeta(e)+"']")},getLength:function(e,i){switch(i.nodeName.toLowerCase()){case"select":return t("option:selected",i).length;case"input":if(this.checkable(i))return this.findByName(i.name).filter(":checked").length}return e.length},depend:function(t,e){return!this.dependTypes[typeof t]||this.dependTypes[typeof t](t,e)},dependTypes:{boolean:function(t){return t},string:function(e,i){return!!t(e,i.form).length},function:function(t,e){return t(e)}},optional:function(e){var i=this.elementValue(e);return!t.validator.methods.required.call(this,i,e)&&"dependency-mismatch"},startRequest:function(e){this.pending[e.name]||(this.pendingRequest++,t(e).addClass(this.settings.pendingClass),this.pending[e.name]=!0)},stopRequest:function(e,i){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[e.name],t(e).removeClass(this.settings.pendingClass),i&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(t(this.currentForm).submit(),this.submitButton&&t("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!i&&0===this.pendingRequest&&this.formSubmitted&&(t(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(e,i){return i="string"==typeof i&&i||"remote",t.data(e,"previousValue")||t.data(e,"previousValue",{old:null,valid:!0,message:this.defaultMessage(e,{method:i})})},destroy:function(){this.resetForm(),t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(e,i){e.constructor===String?this.classRuleSettings[e]=i:t.extend(this.classRuleSettings,e)},classRules:function(e){var i={},n=t(e).attr("class");return n&&t.each(n.split(" "),function(){this in t.validator.classRuleSettings&&t.extend(i,t.validator.classRuleSettings[this])}),i},normalizeAttributeRule:function(t,e,i,n){/min|max|step/.test(i)&&(null===e||/number|range|text/.test(e))&&(n=Number(n),isNaN(n)&&(n=void 0)),n||0===n?t[i]=n:e===i&&"range"!==e&&(t[i]=!0)},attributeRules:function(e){var i,n,s={},r=t(e),o=e.getAttribute("type");for(i in t.validator.methods)"required"===i?(""===(n=e.getAttribute(i))&&(n=!0),n=!!n):n=r.attr(i),this.normalizeAttributeRule(s,o,i,n);return s.maxlength&&/-1|2147483647|524288/.test(s.maxlength)&&delete s.maxlength,s},dataRules:function(e){var i,n,s={},r=t(e),o=e.getAttribute("type");for(i in t.validator.methods)n=r.data("rule"+i.charAt(0).toUpperCase()+i.substring(1).toLowerCase()),this.normalizeAttributeRule(s,o,i,n);return s},staticRules:function(e){var i={},n=t.data(e.form,"validator");return n.settings.rules&&(i=t.validator.normalizeRule(n.settings.rules[e.name])||{}),i},normalizeRules:function(e,i){return t.each(e,function(n,s){if(!1!==s){if(s.param||s.depends){var r=!0;switch(typeof s.depends){case"string":r=!!t(s.depends,i.form).length;break;case"function":r=s.depends.call(i,i)}r?e[n]=void 0===s.param||s.param:(t.data(i.form,"validator").resetElements(t(i)),delete e[n])}}else delete e[n]}),t.each(e,function(n,s){e[n]=t.isFunction(s)&&"normalizer"!==n?s(i):s}),t.each(["minlength","maxlength"],function(){e[this]&&(e[this]=Number(e[this]))}),t.each(["rangelength","range"],function(){var i;e[this]&&(t.isArray(e[this])?e[this]=[Number(e[this][0]),Number(e[this][1])]:"string"==typeof e[this]&&(i=e[this].replace(/[\[\]]/g,"").split(/[\s,]+/),e[this]=[Number(i[0]),Number(i[1])]))}),t.validator.autoCreateRanges&&(null!=e.min&&null!=e.max&&(e.range=[e.min,e.max],delete e.min,delete e.max),null!=e.minlength&&null!=e.maxlength&&(e.rangelength=[e.minlength,e.maxlength],delete e.minlength,delete e.maxlength)),e},normalizeRule:function(e){if("string"==typeof e){var i={};t.each(e.split(/\s/),function(){i[this]=!0}),e=i}return e},addMethod:function(e,i,n){t.validator.methods[e]=i,t.validator.messages[e]=void 0!==n?n:t.validator.messages[e],i.length<3&&t.validator.addClassRules(e,t.validator.normalizeRule(e))},methods:{required:function(e,i,n){if(!this.depend(n,i))return"dependency-mismatch";if("select"===i.nodeName.toLowerCase()){var s=t(i).val();return s&&s.length>0}return this.checkable(i)?this.getLength(e,i)>0:e.length>0},email:function(t,e){return this.optional(e)||/^(?:[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+\/=?^_`{|}~-]+)*|"(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21\x23-\x5b\x5d-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])*")@(?:(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?|\[(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?|[a-z0-9-]*[a-z0-9]:(?:[\x01-\x08\x0b\x0c\x0e-\x1f\x21-\x5a\x53-\x7f]|\\[\x01-\x09\x0b\x0c\x0e-\x7f])+)\])$/.test(t)},url:function(t,e){return this.optional(e)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t)},date:function(t,e){return this.optional(e)||!/Invalid|NaN/.test(new Date(t).toString())},dateISO:function(t,e){return this.optional(e)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)},number:function(t,e){return this.optional(e)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)},digits:function(t,e){return this.optional(e)||/^\d+$/.test(t)},minlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n},maxlength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s<=n},rangelength:function(e,i,n){var s=t.isArray(e)?e.length:this.getLength(e,i);return this.optional(i)||s>=n[0]&&s<=n[1]},min:function(t,e,i){return this.optional(e)||t>=i},max:function(t,e,i){return this.optional(e)||t<=i},range:function(t,e,i){return this.optional(e)||t>=i[0]&&t<=i[1]},step:function(e,i,n){var s,r=t(i).attr("type"),o="Step attribute on input type "+r+" is not supported.",a=new RegExp("\\b"+r+"\\b"),l=function(t){var e=(""+t).match(/(?:\.(\d+))?$/);return e&&e[1]?e[1].length:0},u=function(t){return Math.round(t*Math.pow(10,s))},c=!0;if(r&&!a.test(["text","number","range"].join()))throw new Error(o);return s=l(n),(l(e)>s||u(e)%u(n)!=0)&&(c=!1),this.optional(i)||c},equalTo:function(e,i,n){var s=t(n);return this.settings.onfocusout&&s.not(".validate-equalTo-blur").length&&s.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){t(i).valid()}),e===s.val()},remote:function(e,i,n,s){if(this.optional(i))return"dependency-mismatch";s="string"==typeof s&&s||"remote";var r,o,a,l=this.previousValue(i,s);return this.settings.messages[i.name]||(this.settings.messages[i.name]={}),l.originalMessage=l.originalMessage||this.settings.messages[i.name][s],this.settings.messages[i.name][s]=l.message,n="string"==typeof n&&{url:n}||n,a=t.param(t.extend({data:e},n.data)),l.old===a?l.valid:(l.old=a,r=this,this.startRequest(i),(o={})[i.name]=e,t.ajax(t.extend(!0,{mode:"abort",port:"validate"+i.name,dataType:"json",data:o,context:r.currentForm,success:function(t){var n,o,a,u=!0===t||"true"===t;r.settings.messages[i.name][s]=l.originalMessage,u?(a=r.formSubmitted,r.resetInternals(),r.toHide=r.errorsFor(i),r.formSubmitted=a,r.successList.push(i),r.invalid[i.name]=!1,r.showErrors()):(n={},o=t||r.defaultMessage(i,{method:s,parameters:e}),n[i.name]=l.message=o,r.invalid[i.name]=!0,r.showErrors(n)),l.valid=u,r.stopRequest(i,u)}},n)),"pending")}}});var e,i={};return t.ajaxPrefilter?t.ajaxPrefilter(function(t,e,n){var s=t.port;"abort"===t.mode&&(i[s]&&i[s].abort(),i[s]=n)}):(e=t.ajax,t.ajax=function(n){var s=("mode"in n?n:t.ajaxSettings).mode,r=("port"in n?n:t.ajaxSettings).port;return"abort"===s?(i[r]&&i[r].abort(),i[r]=e.apply(this,arguments),i[r]):e.apply(this,arguments)}),t}),function(t){t.isScrollToFixed=function(e){return!!t(e).data("ScrollToFixed")},t.ScrollToFixed=function(e,i){var n=this;n.$el=t(e),n.el=e,n.$el.data("ScrollToFixed",n);var s,r,o,a,l=!1,u=n.$el,c=0,h=0,d=-1,p=-1,f=null;function m(){var t=n.options.limit;return t?"function"==typeof t?t.apply(u):t:0}function g(){return"fixed"===s}function v(){return"absolute"===s}function y(){return!(g()||v())}function _(){if(!g()){var t=u[0].getBoundingClientRect();f.css({display:u.css("display"),width:t.width,height:t.height,float:u.css("float")}),cssOptions={"z-index":n.options.zIndex,position:"fixed",top:-1==n.options.bottom?k():"",bottom:-1==n.options.bottom?"":n.options.bottom,"margin-left":"0px"},n.options.dontSetWidth||(cssOptions.width=u.css("width")),u.css(cssOptions),u.addClass(n.options.baseClassName),n.options.className&&u.addClass(n.options.className),s="fixed"}}function b(){var t=m(),e=h;n.options.removeOffsets&&(e="",t-=c),cssOptions={position:"absolute",top:t,left:e,"margin-left":"0px",bottom:""},n.options.dontSetWidth||(cssOptions.width=u.css("width")),u.css(cssOptions),s="absolute"}function w(){y()||(p=-1,f.css("display","none"),u.css({"z-index":a,width:"",position:r,left:"",top:o,"margin-left":""}),u.removeClass("scroll-to-fixed-fixed"),n.options.className&&u.removeClass(n.options.className),s=null)}function T(t){t!=p&&(u.css("left",h-t),p=t)}function k(){var t=n.options.marginTop;return t?"function"==typeof t?t.apply(u):t:0}function S(){if(t.isScrollToFixed(u)&&!u.is(":hidden")){var e=l,i=y();l?y()&&(c=u.offset().top,h=u.offset().left):(u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed"),p=-1,c=u.offset().top,h=u.offset().left,n.options.offsets&&(h+=u.offset().left-u.position().left),-1==d&&(d=h),s=u.css("position"),l=!0,-1!=n.options.bottom&&(u.trigger("preFixed.ScrollToFixed"),_(),u.trigger("fixed.ScrollToFixed")));var o=t(window).scrollLeft(),a=t(window).scrollTop(),f=m();n.options.minWidth&&t(window).width()<n.options.minWidth?y()&&e||(C(),u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed")):n.options.maxWidth&&t(window).width()>n.options.maxWidth?y()&&e||(C(),u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed")):-1==n.options.bottom?f>0&&a>=f-k()?i||v()&&e||(C(),u.trigger("preAbsolute.ScrollToFixed"),b(),u.trigger("unfixed.ScrollToFixed")):a>=c-k()?(g()&&e||(C(),u.trigger("preFixed.ScrollToFixed"),_(),p=-1,u.trigger("fixed.ScrollToFixed")),T(o)):y()&&e||(C(),u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed")):f>0?a+t(window).height()-u.outerHeight(!0)>=f-(k()||-function(){if(!n.options.bottom)return 0;return n.options.bottom}())?g()&&(C(),u.trigger("preUnfixed.ScrollToFixed"),"absolute"===r?b():w(),u.trigger("unfixed.ScrollToFixed")):(g()||(C(),u.trigger("preFixed.ScrollToFixed"),_()),T(o),u.trigger("fixed.ScrollToFixed")):T(o)}}function C(){var t=u.css("position");"absolute"==t?u.trigger("postAbsolute.ScrollToFixed"):"fixed"==t?u.trigger("postFixed.ScrollToFixed"):u.trigger("postUnfixed.ScrollToFixed")}var x=function(t){u.is(":visible")?(l=!1,S()):w()},E=function(t){window.requestAnimationFrame?requestAnimationFrame(S):S()};n.init=function(){n.options=t.extend({},t.ScrollToFixed.defaultOptions,i),a=u.css("z-index"),n.$el.css("z-index",n.options.zIndex),f=t("<div />"),s=u.css("position"),r=u.css("position"),u.css("float"),o=u.css("top"),y()&&n.$el.after(f),t(window).bind("resize.ScrollToFixed",x),t(window).bind("scroll.ScrollToFixed",E),"ontouchmove"in window&&t(window).bind("touchmove.ScrollToFixed",S),n.options.preFixed&&u.bind("preFixed.ScrollToFixed",n.options.preFixed),n.options.postFixed&&u.bind("postFixed.ScrollToFixed",n.options.postFixed),n.options.preUnfixed&&u.bind("preUnfixed.ScrollToFixed",n.options.preUnfixed),n.options.postUnfixed&&u.bind("postUnfixed.ScrollToFixed",n.options.postUnfixed),n.options.preAbsolute&&u.bind("preAbsolute.ScrollToFixed",n.options.preAbsolute),n.options.postAbsolute&&u.bind("postAbsolute.ScrollToFixed",n.options.postAbsolute),n.options.fixed&&u.bind("fixed.ScrollToFixed",n.options.fixed),n.options.unfixed&&u.bind("unfixed.ScrollToFixed",n.options.unfixed),n.options.spacerClass&&f.addClass(n.options.spacerClass),u.bind("resize.ScrollToFixed",function(){f.height(u.height())}),u.bind("scroll.ScrollToFixed",function(){u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed"),S()}),u.bind("detach.ScrollToFixed",function(e){!function(t){(t=t||window.event).preventDefault&&t.preventDefault(),t.returnValue=!1}(e),u.trigger("preUnfixed.ScrollToFixed"),w(),u.trigger("unfixed.ScrollToFixed"),t(window).unbind("resize.ScrollToFixed",x),t(window).unbind("scroll.ScrollToFixed",E),u.unbind(".ScrollToFixed"),f.remove(),n.$el.removeData("ScrollToFixed")}),x()},n.init()},t.ScrollToFixed.defaultOptions={marginTop:0,limit:0,bottom:-1,zIndex:1e3,baseClassName:"scroll-to-fixed-fixed"},t.fn.scrollToFixed=function(e){return this.each(function(){new t.ScrollToFixed(this,e)})}}(jQuery),function(t){var e={};function i(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return t[n].call(s.exports,s,s.exports,i),s.l=!0,s.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)i.d(n,s,function(e){return t[e]}.bind(null,s));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=0)}([function(t,e,i){"use strict";i(1),i(6),i(7);var n=o(i(2)),s=o(i(3)),r=o(i(4));function o(t){return t&&t.__esModule?t:{default:t}}s.default===r.default&&i(8),window.Inputmask=n.default},function(t,e,i){"use strict";var n,s,r;"function"==typeof Symbol&&Symbol.iterator;s=[i(2)],void 0===(r="function"==typeof(n=function(t){return t.extendDefinitions({A:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"&":{validator:"[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",casing:"upper"},"#":{validator:"[0-9A-Fa-f]",casing:"upper"}}),t.extendAliases({cssunit:{regex:"[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)"},url:{regex:"(https?|ftp)//.*",autoUnmask:!1},ip:{mask:"i[i[i]].i[i[i]].i[i[i]].i[i[i]]",definitions:{i:{validator:function(t,e,i,n,s){return i-1>-1&&"."!==e.buffer[i-1]?(t=e.buffer[i-1]+t,t=i-2>-1&&"."!==e.buffer[i-2]?e.buffer[i-2]+t:"0"+t):t="00"+t,new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t)}}},onUnMask:function(t,e,i){return t},inputmode:"numeric"},email:{mask:"*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]",greedy:!1,casing:"lower",onBeforePaste:function(t,e){return(t=t.toLowerCase()).replace("mailto:","")},definitions:{"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]"},"-":{validator:"[0-9A-Za-z-]"}},onUnMask:function(t,e,i){return t},inputmode:"email"},mac:{mask:"##:##:##:##:##:##"},vin:{mask:"V{13}9{4}",definitions:{V:{validator:"[A-HJ-NPR-Za-hj-npr-z\\d]",casing:"upper"}},clearIncomplete:!0,autoUnmask:!0}}),t})?n.apply(e,s):n)||(t.exports=r)},function(t,e,i){"use strict";var n,s,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=[i(3),i(5)],void 0===(r="function"==typeof(n=function(t,e,i){var n=e.document,s=navigator.userAgent,r=s.indexOf("MSIE ")>0||s.indexOf("Trident/")>0,a=p("touchstart"),l=/iemobile/i.test(s),u=/iphone/i.test(s)&&!l;function c(e,n,s){if(!(this instanceof c))return new c(e,n,s);this.el=i,this.events={},this.maskset=i,this.refreshValue=!1,!0!==s&&(t.isPlainObject(e)?n=e:(n=n||{},e&&(n.alias=e)),this.opts=t.extend(!0,{},this.defaults,n),this.noMasksCache=n&&n.definitions!==i,this.userOptions=n||{},this.isRTL=this.opts.numericInput,h(this.opts.alias,n,this.opts))}function h(e,n,s){var r=c.prototype.aliases[e];return r?(r.alias&&h(r.alias,i,s),t.extend(!0,s,r),t.extend(!0,s,n),!0):(null===s.mask&&(s.mask=e),!1)}function d(e,n){function s(e,s,r){var o=!1;if(null!==e&&""!==e||((o=null!==r.regex)?e=(e=r.regex).replace(/^(\^)(.*)(\$)$/,"$2"):(o=!0,e=".*")),1===e.length&&!1===r.greedy&&0!==r.repeat&&(r.placeholder=""),r.repeat>0||"*"===r.repeat||"+"===r.repeat){var a="*"===r.repeat?0:"+"===r.repeat?1:r.repeat;e=r.groupmarker[0]+e+r.groupmarker[1]+r.quantifiermarker[0]+a+","+r.repeat+r.quantifiermarker[1]}var l,u=o?"regex_"+r.regex:r.numericInput?e.split("").reverse().join(""):e;return c.prototype.masksCache[u]===i||!0===n?(l={mask:e,maskToken:c.prototype.analyseMask(e,o,r),validPositions:{},_buffer:i,buffer:i,tests:{},excludes:{},metadata:s,maskLength:i,jitOffset:{}},!0!==n&&(c.prototype.masksCache[u]=l,l=t.extend(!0,{},c.prototype.masksCache[u]))):l=t.extend(!0,{},c.prototype.masksCache[u]),l}if(t.isFunction(e.mask)&&(e.mask=e.mask(e)),t.isArray(e.mask)){if(e.mask.length>1){if(null===e.keepStatic){e.keepStatic="auto";for(var r=0;r<e.mask.length;r++)if(e.mask[r].charAt(0)!==e.mask[0].charAt(0)){e.keepStatic=!0;break}}var o=e.groupmarker[0];return t.each(e.isRTL?e.mask.reverse():e.mask,function(n,s){o.length>1&&(o+=e.groupmarker[1]+e.alternatormarker+e.groupmarker[0]),s.mask===i||t.isFunction(s.mask)?o+=s:o+=s.mask}),s(o+=e.groupmarker[1],e.mask,e)}e.mask=e.mask.pop()}return e.mask&&e.mask.mask!==i&&!t.isFunction(e.mask.mask)?s(e.mask.mask,e.mask,e):s(e.mask,e.mask,e)}function p(t){var e=n.createElement("input"),i="on"+t,s=i in e;return s||(e.setAttribute(i,"return;"),s="function"==typeof e[i]),e=null,s}function f(s,h,d){h=h||this.maskset,d=d||this.opts;var m,g,v,y,_,b=this,w=this.el,T=this.isRTL,k=!1,S=!1,C=!1,x=!1;function E(t,e,n,s,r){var o=d.greedy;r&&(d.greedy=!1),e=e||0;var a,l,u,c=[],h=0;P();do{if(!0===t&&D().validPositions[h])u=r&&!0===D().validPositions[h].match.optionality&&D().validPositions[h+1]===i&&(!0===D().validPositions[h].generatedInput||D().validPositions[h].input==d.skipOptionalPartCharacter&&h>0)?M(h,U(h,a,h-1)):D().validPositions[h],l=u.match,a=u.locator.slice(),c.push(!0===n?u.input:!1===n?l.nativeDef:Z(h,l));else{u=L(h,a,h-1),l=u.match,a=u.locator.slice();var p=!0!==s&&(!1!==d.jitMasking?d.jitMasking:l.jit);(!1===p||p===i||"number"==typeof p&&isFinite(p)&&p>h)&&c.push(!1===n?l.nativeDef:Z(h,l))}"auto"===d.keepStatic&&l.newBlockMarker&&null!==l.fn&&(d.keepStatic=h-1),h++}while((v===i||h<v)&&(null!==l.fn||""!==l.def)||e>h);return""===c[c.length-1]&&c.pop(),!1===n&&D().maskLength!==i||(D().maskLength=h-1),d.greedy=o,c}function D(){return h}function A(t){var e=D();e.buffer=i,!0!==t&&(e.validPositions={},e.p=0)}function P(t,e,n){var s=-1,r=-1,o=n||D().validPositions;for(var a in t===i&&(t=-1),o){var l=parseInt(a);o[l]&&(e||!0!==o[l].generatedInput)&&(l<=t&&(s=l),l>=t&&(r=l))}return-1===s||s==t?r:-1==r?s:t-s<r-t?s:r}function I(t){var e=t.locator[t.alternation];return"string"==typeof e&&e.length>0&&(e=e.split(",")[0]),e!==i?e.toString():""}function O(t,e){var n=(t.alternation!=i?t.mloc[I(t)]:t.locator).join("");if(""!==n)for(;n.length<e;)n+="0";return n}function M(t,e){for(var n,s,r,o=N(t=t>0?t-1:0),a=O(o),l=0;l<e.length;l++){var u=e[l];n=O(u,a.length);var c=Math.abs(n-a);(s===i||""!==n&&c<s||r&&!d.greedy&&r.match.optionality&&"master"===r.match.newBlockMarker&&(!u.match.optionality||!u.match.newBlockMarker)||r&&r.match.optionalQuantifier&&!u.match.optionalQuantifier)&&(s=c,r=u)}return r}function L(t,e,i){return D().validPositions[t]||M(t,U(t,e?e.slice():e,i))}function N(t,e){return D().validPositions[t]?D().validPositions[t]:(e||U(t))[0]}function R(t,e){for(var i=!1,n=U(t),s=0;s<n.length;s++)if(n[s].match&&n[s].match.def===e){i=!0;break}return i}function U(e,n,s){var r,o=D().maskToken,a=n?s:0,l=n?n.slice():[0],u=[],c=!1,h=n?n.join(""):"";function p(n,s,o,l){function f(o,l,m){function g(e,i){var n=0===t.inArray(e,i.matches);return n||t.each(i.matches,function(t,s){if(!0===s.isQuantifier?n=g(e,i.matches[t-1]):s.hasOwnProperty("matches")&&(n=g(e,s)),n)return!1}),n}function v(e,n,s){var r,o;if((D().tests[e]||D().validPositions[e])&&t.each(D().tests[e]||[D().validPositions[e]],function(t,e){if(e.mloc[n])return r=e,!1;var a=s!==i?s:e.alternation,l=e.locator[a]!==i?e.locator[a].toString().indexOf(n):-1;(o===i||l<o)&&-1!==l&&(r=e,o=l)}),r){var a=r.locator[r.alternation],l=r.mloc[n]||r.mloc[a]||r.locator;return l.slice((s!==i?s:r.alternation)+1)}return s!==i?v(e,n):i}function y(t,e){function i(t){for(var e,i,n=[],s=0,r=t.length;s<r;s++)if("-"===t.charAt(s))for(i=t.charCodeAt(s+1);++e<i;)n.push(String.fromCharCode(e));else e=t.charCodeAt(s),n.push(t.charAt(s));return n.join("")}return d.regex&&null!==t.match.fn&&null!==e.match.fn?-1!==i(e.match.def.replace(/[\[\]]/g,"")).indexOf(i(t.match.def.replace(/[\[\]]/g,""))):t.match.def===e.match.nativeDef}function _(t,e){if(e===i||t.alternation===e.alternation&&-1===t.locator[t.alternation].toString().indexOf(e.locator[e.alternation])){t.mloc=t.mloc||{};var n=t.locator[t.alternation];if(n!==i){if("string"==typeof n&&(n=n.split(",")[0]),t.mloc[n]===i&&(t.mloc[n]=t.locator.slice()),e!==i){for(var s in e.mloc)"string"==typeof s&&(s=s.split(",")[0]),t.mloc[s]===i&&(t.mloc[s]=e.mloc[s]);t.locator[t.alternation]=Object.keys(t.mloc).join(",")}return!0}t.alternation=i}return!1}if(a>500&&m!==i)throw"Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. "+D().mask;if(a===e&&o.matches===i)return u.push({match:o,locator:l.reverse(),cd:h,mloc:{}}),!0;if(o.matches!==i){if(o.isGroup&&m!==o){if(o=f(n.matches[t.inArray(o,n.matches)+1],l,m))return!0}else if(o.isOptional){var b=o;if(o=p(o,s,l,m)){if(t.each(u,function(t,e){e.match.optionality=!0}),r=u[u.length-1].match,m!==i||!g(r,b))return!0;c=!0,a=e}}else if(o.isAlternator){var w,T=o,k=[],S=u.slice(),C=l.length,x=s.length>0?s.shift():-1;if(-1===x||"string"==typeof x){var E,A=a,P=s.slice(),I=[];if("string"==typeof x)I=x.split(",");else for(E=0;E<T.matches.length;E++)I.push(E.toString());if(D().excludes[e]){for(var O=I.slice(),M=0,L=D().excludes[e].length;M<L;M++)I.splice(I.indexOf(D().excludes[e][M].toString()),1);0===I.length&&(D().excludes[e]=i,I=O)}(!0===d.keepStatic||isFinite(parseInt(d.keepStatic))&&A>=d.keepStatic)&&(I=I.slice(0,1));for(var N=!1,R=0;R<I.length;R++){E=parseInt(I[R]),u=[],s="string"==typeof x&&v(a,E,C)||P.slice(),T.matches[E]&&f(T.matches[E],[E].concat(l),m)?o=!0:0===R&&(N=!0),w=u.slice(),a=A,u=[];for(var U=0;U<w.length;U++){var F=w[U],j=!1;F.match.jit=F.match.jit||N,F.alternation=F.alternation||C,_(F);for(var H=0;H<k.length;H++){var z=k[H];if("string"!=typeof x||F.alternation!==i&&-1!==t.inArray(F.locator[F.alternation].toString(),I)){if(F.match.nativeDef===z.match.nativeDef){j=!0,_(z,F);break}if(y(F,z)){_(F,z)&&(j=!0,k.splice(k.indexOf(z),0,F));break}if(y(z,F)){_(z,F);break}if(V=F,q=z,void 0,!(!((V=F).locator.slice(V.alternation).join("")==q.locator.slice(q.alternation).join(""))||null!==V.match.fn||null===q.match.fn)&&q.match.fn.test(V.match.def,D(),e,!1,d,!1)){_(F,z)&&(j=!0,k.splice(k.indexOf(z),0,F));break}}}j||k.push(F)}}u=S.concat(k),a=e,c=u.length>0,o=k.length>0,s=P.slice()}else o=f(T.matches[x]||n.matches[x],[x].concat(l),m);if(o)return!0}else if(o.isQuantifier&&m!==n.matches[t.inArray(o,n.matches)-1])for(var B=o,W=s.length>0?s.shift():0;W<(isNaN(B.quantifier.max)?W+1:B.quantifier.max)&&a<=e;W++){var Y=n.matches[t.inArray(B,n.matches)-1];if(o=f(Y,[W].concat(l),Y)){if((r=u[u.length-1].match).optionalQuantifier=W>=B.quantifier.min,r.jit=(W||1)*Y.matches.indexOf(r)>=B.quantifier.jit,r.optionalQuantifier&&g(r,Y)){c=!0,a=e;break}return r.jit&&(D().jitOffset[e]=Y.matches.indexOf(r)),!0}}else if(o=p(o,s,l,m))return!0}else a++;var V,q}for(var m=s.length>0?s.shift():0;m<n.matches.length;m++)if(!0!==n.matches[m].isQuantifier){var g=f(n.matches[m],[m].concat(o),l);if(g&&a===e)return g;if(a>e)break}}if(e>-1){if(n===i){for(var f,m=e-1;(f=D().validPositions[m]||D().tests[m])===i&&m>-1;)m--;f!==i&&m>-1&&(l=function(e,n){var s=[];return t.isArray(n)||(n=[n]),n.length>0&&(n[0].alternation===i?0===(s=M(e,n.slice()).locator.slice()).length&&(s=n[0].locator.slice()):t.each(n,function(t,e){if(""!==e.def)if(0===s.length)s=e.locator.slice();else for(var i=0;i<s.length;i++)e.locator[i]&&-1===s[i].toString().indexOf(e.locator[i])&&(s[i]+=","+e.locator[i])})),s}(m,f),h=l.join(""),a=m)}if(D().tests[e]&&D().tests[e][0].cd===h)return D().tests[e];for(var g=l.shift();g<o.length;g++){var v=p(o[g],l,[g]);if(v&&a===e||a>e)break}}return(0===u.length||c)&&u.push({match:{fn:null,optionality:!1,casing:null,def:"",placeholder:""},locator:[],mloc:{},cd:h}),n!==i&&D().tests[e]?t.extend(!0,[],u):(D().tests[e]=t.extend(!0,[],u),D().tests[e])}function F(){return D()._buffer===i&&(D()._buffer=E(!1,1),D().buffer===i&&(D().buffer=D()._buffer.slice())),D()._buffer}function j(t){return D().buffer!==i&&!0!==t||(D().buffer=E(!0,P(),!0),D()._buffer===i&&(D()._buffer=D().buffer.slice())),D().buffer}function H(t,e,n){var s,r;if(!0===t)A(),t=0,e=n.length;else for(s=t;s<e;s++)delete D().validPositions[s];for(r=t,s=t;s<e;s++)if(A(!0),n[s]!==d.skipOptionalPartCharacter){var o=Y(r,n[s],!0,!0);!1!==o&&(A(!0),r=o.caret!==i?o.caret:o.pos+1)}}function z(e,i,n){switch(d.casing||i.casing){case"upper":e=e.toUpperCase();break;case"lower":e=e.toLowerCase();break;case"title":var s=D().validPositions[n-1];e=0===n||s&&s.input===String.fromCharCode(c.keyCode.SPACE)?e.toUpperCase():e.toLowerCase();break;default:if(t.isFunction(d.casing)){var r=Array.prototype.slice.call(arguments);r.push(D().validPositions),e=d.casing.apply(this,r)}}return e}function B(e,n,s){for(var r,o=d.greedy?n:n.slice(0,1),a=!1,l=s!==i?s.split(","):[],u=0;u<l.length;u++)-1!==(r=e.indexOf(l[u]))&&e.splice(r,1);for(var c=0;c<e.length;c++)if(-1!==t.inArray(e[c],o)){a=!0;break}return a}function W(e,n,s,r,o){var a,l,u,c,h,d,p,f=t.extend(!0,{},D().validPositions),m=!1,g=o!==i?o:P();if(-1===g&&o===i)c=N(a=0),l=c.alternation;else for(;g>=0;g--)if((u=D().validPositions[g])&&u.alternation!==i){if(c&&c.locator[u.alternation]!==u.locator[u.alternation])break;a=g,l=D().validPositions[a].alternation,c=u}if(l!==i){p=parseInt(a),D().excludes[p]=D().excludes[p]||[],!0!==e&&D().excludes[p].push(I(c));var v=[],y=0;for(h=p;h<P(i,!0)+1;h++)(d=D().validPositions[h])&&!0!==d.generatedInput?v.push(d.input):h<e&&y++,delete D().validPositions[h];for(;D().excludes[p]&&D().excludes[p].length<10;){var _=-1*y,b=v.slice();for(D().tests[p]=i,A(!0),m=!0;b.length>0;){var w=b.shift();if(!(m=Y(P(i,!0)+1,w,!1,r,!0)))break}if(m&&n!==i){var T=P(e)+1;for(h=p;h<P()+1;h++)((d=D().validPositions[h])===i||null==d.match.fn)&&h<e+_&&_++;m=Y((e+=_)>T?T:e,n,s,r,!0)}if(m)break;if(A(),c=N(p),D().validPositions=t.extend(!0,{},f),!D().excludes[p]){m=W(e,n,s,r,p-1);break}var k=I(c);if(-1!==D().excludes[p].indexOf(k)){m=W(e,n,s,r,p-1);break}for(D().excludes[p].push(k),h=p;h<P(i,!0)+1;h++)delete D().validPositions[h]}}return D().excludes[p]=i,m}function Y(e,n,s,r,o,a){function l(t){return T?t.begin-t.end>1||t.begin-t.end==1:t.end-t.begin>1||t.end-t.begin==1}s=!0===s;var u=e;function c(n,s,o){var a=!1;return t.each(U(n),function(u,c){var h=c.match;if(j(!0),!1!==(a=null!=h.fn?h.fn.test(s,D(),n,o,d,l(e)):(s===h.def||s===d.skipOptionalPartCharacter)&&""!==h.def&&{c:Z(n,h,!0)||h.def,pos:n})){var p=a.c!==i?a.c:s,f=n;return p=p===d.skipOptionalPartCharacter&&null===h.fn?Z(n,h,!0)||h.def:p,a.remove!==i&&(t.isArray(a.remove)||(a.remove=[a.remove]),t.each(a.remove.sort(function(t,e){return e-t}),function(t,e){q({begin:e,end:e+1})})),a.insert!==i&&(t.isArray(a.insert)||(a.insert=[a.insert]),t.each(a.insert.sort(function(t,e){return t-e}),function(t,e){Y(e.pos,e.c,!0,r)})),!0!==a&&a.pos!==i&&a.pos!==n&&(f=a.pos),(!0===a||a.pos!==i||a.c!==i)&&(q(e,t.extend({},c,{input:z(p,h,f)}),r,f)||(a=!1),!1)}}),a}e.begin!==i&&(u=T?e.end:e.begin);var h=!0,p=t.extend(!0,{},D().validPositions);if(t.isFunction(d.preValidation)&&!s&&!0!==r&&!0!==a&&(h=d.preValidation(j(),u,n,l(e),d,D())),!0===h){if(V(i,u,!0),(v===i||u<v)&&(h=c(u,n,s),(!s||!0===r)&&!1===h&&!0!==a)){var f=D().validPositions[u];if(!f||null!==f.match.fn||f.match.def!==n&&n!==d.skipOptionalPartCharacter){if((d.insertMode||D().validPositions[G(u)]===i)&&(!$(u,!0)||D().jitOffset[u]))if(D().jitOffset[u]&&D().validPositions[G(u)]===i)!1!==(h=Y(u+D().jitOffset[u],n,s))&&(h.caret=u);else for(var m=u+1,g=G(u);m<=g;m++)if(!1!==(h=c(m,n,s))){h=V(u,h.pos!==i?h.pos:m)||h,u=m;break}}else h={caret:G(u)}}!1!==h||!1===d.keepStatic||null!=d.regex&&!at(j())||s||!0===o||(h=W(u,n,s,r)),!0===h&&(h={pos:u})}if(t.isFunction(d.postValidation)&&!1!==h&&!s&&!0!==r&&!0!==a){var y=d.postValidation(j(!0),e.begin!==i?T?e.end:e.begin:e,h,d);if(y!==i){if(y.refreshFromBuffer&&y.buffer){var _=y.refreshFromBuffer;H(!0===_?_:_.start,_.end,y.buffer)}h=!0===y?h:y}}return h&&h.pos===i&&(h.pos=u),!1!==h&&!0!==a||(A(!0),D().validPositions=t.extend(!0,{},p)),h}function V(e,n,s){var r;if(e===i)for(e=n-1;e>0&&!D().validPositions[e];e--);for(var o=e;o<n;o++)if(D().validPositions[o]===i&&!$(o,!0)){var a=0==o?N(o):D().validPositions[o-1];if(a){var l=U(o).slice();""===l[l.length-1].match.def&&l.pop();var u=M(o,l);if((u=t.extend({},u,{input:Z(o,u.match,!0)||u.match.def})).generatedInput=!0,q(o,u,!0),!0!==s){var c=D().validPositions[n].input;D().validPositions[n]=i,r=Y(n,c,!0,!0)}}}return r}function q(e,n,s,r){function o(t,e,n){var s=e[t];if(s!==i&&(null===s.match.fn&&!0!==s.match.optionality||s.input===d.radixPoint)){var r=n.begin<=t-1?e[t-1]&&null===e[t-1].match.fn&&e[t-1]:e[t-1],o=n.end>t+1?e[t+1]&&null===e[t+1].match.fn&&e[t+1]:e[t+1];return r&&o}return!1}var a=e.begin!==i?e.begin:e,l=e.end!==i?e.end:e;if(e.begin>e.end&&(a=e.end,l=e.begin),r=r!==i?r:a,a!==l||d.insertMode&&D().validPositions[r]!==i&&s===i){var u=t.extend(!0,{},D().validPositions),c=P(i,!0);for(D().p=a,g=c;g>=a;g--)D().validPositions[g]&&"+"===D().validPositions[g].match.nativeDef&&(d.isNegative=!1),delete D().validPositions[g];var h=!0,p=r,f=(D().validPositions,!1),m=p,g=p;for(n&&(D().validPositions[r]=t.extend(!0,{},n),m++,p++,a<l&&g++);g<=c;g++){var v=u[g];if(v!==i&&(g>=l||g>=a&&!0!==v.generatedInput&&o(g,u,{begin:a,end:l}))){for(;""!==N(m).match.def;){if(!1===f&&u[m]&&u[m].match.nativeDef===v.match.nativeDef)D().validPositions[m]=t.extend(!0,{},u[m]),D().validPositions[m].input=v.input,V(i,m,!0),p=m+1,h=!0;else if(d.shiftPositions&&R(m,v.match.def)){var y=Y(m,v.input,!0,!0);h=!1!==y,p=y.caret||y.insert?P():m+1,f=!0}else h=!0===v.generatedInput||v.input===d.radixPoint&&!0===d.numericInput;if(h)break;if(!h&&m>l&&$(m,!0)&&(null!==v.match.fn||m>D().maskLength))break;m++}""==N(m).match.def&&(h=!1),m=p}if(!h)break}if(!h)return D().validPositions=t.extend(!0,{},u),A(!0),!1}else n&&(D().validPositions[r]=t.extend(!0,{},n));return A(!0),!0}function $(t,e){var i=L(t).match;if(""===i.def&&(i=N(t).match),null!=i.fn)return i.fn;if(!0!==e&&t>-1){var n=U(t);return n.length>1+(""===n[n.length-1].match.def?1:0)}return!1}function G(t,e){for(var i=t+1;""!==N(i).match.def&&(!0===e&&(!0!==N(i).match.newBlockMarker||!$(i))||!0!==e&&!$(i));)i++;return i}function X(t,e){var i,n=t;if(n<=0)return 0;for(;--n>0&&(!0===e&&!0!==N(n).match.newBlockMarker||!0!==e&&!$(n)&&((i=U(n)).length<2||2===i.length&&""===i[1].match.def)););return n}function K(e,n,s,r,o){if(r&&t.isFunction(d.onBeforeWrite)){var a=d.onBeforeWrite.call(b,r,n,s,d);if(a){if(a.refreshFromBuffer){var l=a.refreshFromBuffer;H(!0===l?l:l.start,l.end,a.buffer||n),n=j(!0)}s!==i&&(s=a.caret!==i?a.caret:s)}}if(e!==i&&(e.inputmask._valueSet(n.join("")),s===i||r!==i&&"blur"===r.type?ct(e,s,0===n.length):st(e,s),!0===o)){var u=t(e),c=e.inputmask._valueGet();S=!0,u.trigger("input"),setTimeout(function(){c===F().join("")?u.trigger("cleared"):!0===at(n)&&u.trigger("complete")},0)}}function Z(e,n,s){if((n=n||N(e).match).placeholder!==i||!0===s)return t.isFunction(n.placeholder)?n.placeholder(d):n.placeholder;if(null===n.fn){if(e>-1&&D().validPositions[e]===i){var r,o=U(e),a=[];if(o.length>1+(""===o[o.length-1].match.def?1:0))for(var l=0;l<o.length;l++)if(!0!==o[l].match.optionality&&!0!==o[l].match.optionalQuantifier&&(null===o[l].match.fn||r===i||!1!==o[l].match.fn.test(r.match.def,D(),e,!0,d))&&(a.push(o[l]),null===o[l].match.fn&&(r=o[l]),a.length>1&&/[0-9a-bA-Z]/.test(a[0].match.def)))return d.placeholder.charAt(e%d.placeholder.length)}return n.def}return d.placeholder.charAt(e%d.placeholder.length)}function Q(t,e){if(r){if(t.inputmask._valueGet()!==e){var i=j().slice(),n=t.inputmask._valueGet();if(n!==e){var s=P();-1===s&&n===F().join("")?i=[]:-1!==s&&ot(i),K(t,i)}}}else t.placeholder!==e&&(t.placeholder=e,""===t.placeholder&&t.removeAttribute("placeholder"))}var J,tt={on:function(e,n,s){var r=function(e){var n=this;if(n.inputmask===i&&"FORM"!==this.nodeName){var r=t.data(n,"_inputmask_opts");r?new c(r).mask(n):tt.off(n)}else{if("setvalue"===e.type||"FORM"===this.nodeName||!(n.disabled||n.readOnly&&!("keydown"===e.type&&e.ctrlKey&&67===e.keyCode||!1===d.tabThrough&&e.keyCode===c.keyCode.TAB))){switch(e.type){case"input":if(!0===S)return S=!1,e.preventDefault();if(a){var o=arguments;return setTimeout(function(){s.apply(n,o),st(n,n.inputmask.caretPos,i,!0)},0),!1}break;case"keydown":k=!1,S=!1;break;case"keypress":if(!0===k)return e.preventDefault();k=!0;break;case"click":if(l||u){var o=arguments;return setTimeout(function(){s.apply(n,o)},0),!1}}var h=s.apply(n,arguments);return!1===h&&(e.preventDefault(),e.stopPropagation()),h}e.preventDefault()}};e.inputmask.events[n]=e.inputmask.events[n]||[],e.inputmask.events[n].push(r),-1!==t.inArray(n,["submit","reset"])?null!==e.form&&t(e.form).on(n,r):t(e).on(n,r)},off:function(e,i){var n;e.inputmask&&e.inputmask.events&&(i?(n=[])[i]=e.inputmask.events[i]:n=e.inputmask.events,t.each(n,function(i,n){for(;n.length>0;){var s=n.pop();-1!==t.inArray(i,["submit","reset"])?null!==e.form&&t(e.form).off(i,s):t(e).off(i,s)}delete e.inputmask.events[i]}))}},et={keydownEvent:function(e){var i=t(this),n=e.keyCode,s=st(this);if(n===c.keyCode.BACKSPACE||n===c.keyCode.DELETE||u&&n===c.keyCode.BACKSPACE_SAFARI||e.ctrlKey&&n===c.keyCode.X&&!p("cut"))e.preventDefault(),lt(0,n,s),K(this,j(!0),D().p,e,this.inputmask._valueGet()!==j().join(""));else if(n===c.keyCode.END||n===c.keyCode.PAGE_DOWN){e.preventDefault();var r=G(P());st(this,e.shiftKey?s.begin:r,r,!0)}else n===c.keyCode.HOME&&!e.shiftKey||n===c.keyCode.PAGE_UP?(e.preventDefault(),st(this,0,e.shiftKey?s.begin:0,!0)):(d.undoOnEscape&&n===c.keyCode.ESCAPE||90===n&&e.ctrlKey)&&!0!==e.altKey?(it(this,!0,!1,m.split("")),i.trigger("click")):n!==c.keyCode.INSERT||e.shiftKey||e.ctrlKey?!0===d.tabThrough&&n===c.keyCode.TAB&&(!0===e.shiftKey?(null===N(s.begin).match.fn&&(s.begin=G(s.begin)),s.end=X(s.begin,!0),s.begin=X(s.end,!0)):(s.begin=G(s.begin,!0),s.end=G(s.begin,!0),s.end<D().maskLength&&s.end--),s.begin<D().maskLength&&(e.preventDefault(),st(this,s.begin,s.end))):(d.insertMode=!d.insertMode,this.setAttribute("im-insert",d.insertMode));d.onKeyDown.call(this,e,j(),st(this).begin,d),C=-1!==t.inArray(n,d.ignorables)},keypressEvent:function(e,n,s,r,o){var a=this,l=t(a),u=e.which||e.charCode||e.keyCode;if(!(!0===n||e.ctrlKey&&e.altKey)&&(e.ctrlKey||e.metaKey||C))return u===c.keyCode.ENTER&&m!==j().join("")&&(m=j().join(""),setTimeout(function(){l.trigger("change")},0)),!0;if(u){46===u&&!1===e.shiftKey&&""!==d.radixPoint&&(u=d.radixPoint.charCodeAt(0));var h,p=n?{begin:o,end:o}:st(a),f=String.fromCharCode(u),g=0;if(d._radixDance&&d.numericInput){var v=j().indexOf(d.radixPoint.charAt(0))+1;p.begin<=v&&(u===d.radixPoint.charCodeAt(0)&&(g=1),p.begin-=1,p.end-=1)}D().writeOutBuffer=!0;var y=Y(p,f,r);if(!1!==y&&(A(!0),h=y.caret!==i?y.caret:G(y.pos.begin?y.pos.begin:y.pos),D().p=h),h=(d.numericInput&&y.caret===i?X(h):h)+g,!1!==s&&(setTimeout(function(){d.onKeyValidation.call(a,u,y,d)},0),D().writeOutBuffer&&!1!==y)){var _=j();K(a,_,h,e,!0!==n)}if(e.preventDefault(),n)return!1!==y&&(y.forwardPosition=h),y}},pasteEvent:function(i){var n,s=i.originalEvent||i,r=(t(this),this.inputmask._valueGet(!0)),o=st(this);T&&(n=o.end,o.end=o.begin,o.begin=n);var a=r.substr(0,o.begin),l=r.substr(o.end,r.length);if(a===(T?F().reverse():F()).slice(0,o.begin).join("")&&(a=""),l===(T?F().reverse():F()).slice(o.end).join("")&&(l=""),e.clipboardData&&e.clipboardData.getData)r=a+e.clipboardData.getData("Text")+l;else{if(!s.clipboardData||!s.clipboardData.getData)return!0;r=a+s.clipboardData.getData("text/plain")+l}var u=r;if(t.isFunction(d.onBeforePaste)){if(!1===(u=d.onBeforePaste.call(b,r,d)))return i.preventDefault();u||(u=r)}return it(this,!1,!1,u.toString().split("")),K(this,j(),G(P()),i,m!==j().join("")),i.preventDefault()},inputFallBackEvent:function(e){var i=this,n=i.inputmask._valueGet();if(j().join("")!==n){var s=st(i);if(n=function(t,e,i){if(l){var n=e.replace(j().join(""),"");if(1===n.length){var s=e.split("");s.splice(i.begin,0,n),e=s.join("")}}return e}(0,n=function(t,e,i){return"."===e.charAt(i.begin-1)&&""!==d.radixPoint&&((e=e.split(""))[i.begin-1]=d.radixPoint.charAt(0),e=e.join("")),e}(0,n,s),s),j().join("")!==n){var r=j().join(""),o=!d.numericInput&&n.length>r.length?-1:0,a=n.substr(0,s.begin),u=n.substr(s.begin),h=r.substr(0,s.begin+o),p=r.substr(s.begin+o),f=s,m="",g=!1;if(a!==h){var v,y=(g=a.length>=h.length)?a.length:h.length;for(v=0;a.charAt(v)===h.charAt(v)&&v<y;v++);g&&(f.begin=v-o,m+=a.slice(v,f.end))}if(u!==p&&(u.length>p.length?m+=u.slice(0,1):u.length<p.length&&(f.end+=p.length-u.length,g||""===d.radixPoint||""!==u||a.charAt(f.begin+o-1)!==d.radixPoint||(f.begin--,m=d.radixPoint))),K(i,j(),{begin:f.begin+o,end:f.end+o}),m.length>0)t.each(m.split(""),function(e,n){var s=new t.Event("keypress");s.which=n.charCodeAt(0),C=!1,et.keypressEvent.call(i,s)});else{f.begin===f.end-1&&(f.begin=X(f.begin+1),f.begin===f.end-1?st(i,f.begin):st(i,f.begin,f.end));var _=new t.Event("keydown");_.keyCode=d.numericInput?c.keyCode.BACKSPACE:c.keyCode.DELETE,et.keydownEvent.call(i,_)}e.preventDefault()}}},beforeInputEvent:function(e){if(e.cancelable){var i=this;switch(e.inputType){case"insertText":return t.each(e.data.split(""),function(e,n){var s=new t.Event("keypress");s.which=n.charCodeAt(0),C=!1,et.keypressEvent.call(i,s)}),e.preventDefault();case"deleteContentBackward":var n=new t.Event("keydown");return n.keyCode=c.keyCode.BACKSPACE,et.keydownEvent.call(i,n),e.preventDefault();case"deleteContentForward":var n=new t.Event("keydown");return n.keyCode=c.keyCode.DELETE,et.keydownEvent.call(i,n),e.preventDefault()}}},setValueEvent:function(e){this.inputmask.refreshValue=!1;var i=e&&e.detail?e.detail[0]:arguments[1],i=i||this.inputmask._valueGet(!0);t.isFunction(d.onBeforeMask)&&(i=d.onBeforeMask.call(b,i,d)||i),it(this,!0,!1,i=i.split("")),m=j().join(""),(d.clearMaskOnLostFocus||d.clearIncomplete)&&this.inputmask._valueGet()===F().join("")&&this.inputmask._valueSet("")},focusEvent:function(t){var e=this.inputmask._valueGet();d.showMaskOnFocus&&(e!==j().join("")?K(this,j(),G(P())):!1===x&&st(this,G(P()))),!0===d.positionCaretOnTab&&!1===x&&et.clickEvent.apply(this,[t,!0]),m=j().join("")},mouseleaveEvent:function(t){x=!1,d.clearMaskOnLostFocus&&n.activeElement!==this&&Q(this,_)},clickEvent:function(e,s){var r=this;setTimeout(function(){if(n.activeElement===r){var e=st(r);if(s&&(T?e.end=e.begin:e.begin=e.end),e.begin===e.end)switch(d.positionCaretOnClick){case"none":break;case"select":st(r,0,j().length);break;case"ignore":st(r,G(P()));break;case"radixFocus":if(function(e){if(""!==d.radixPoint){var n=D().validPositions;if(n[e]===i||n[e].input===Z(e)){if(e<G(-1))return!0;var s=t.inArray(d.radixPoint,j());if(-1!==s){for(var r in n)if(s<r&&n[r].input!==Z(r))return!1;return!0}}}return!1}(e.begin)){var o=j().join("").indexOf(d.radixPoint);st(r,d.numericInput?G(o):o);break}default:var a=e.begin,l=P(a,!0),u=G(l);if(a<u)st(r,$(a,!0)||$(a-1,!0)?a:G(a));else{var c=D().validPositions[l],h=L(u,c?c.match.locator:i,c),p=Z(u,h.match);if(""!==p&&j()[u]!==p&&!0!==h.match.optionalQuantifier&&!0!==h.match.newBlockMarker||!$(u,d.keepStatic)&&h.match.def===p){var f=G(u);(a>=f||a===u)&&(u=f)}st(r,u)}}}},0)},cutEvent:function(i){t(this);var s=st(this),r=i.originalEvent||i,o=e.clipboardData||r.clipboardData,a=T?j().slice(s.end,s.begin):j().slice(s.begin,s.end);o.setData("text",T?a.reverse().join(""):a.join("")),n.execCommand&&n.execCommand("copy"),lt(0,c.keyCode.DELETE,s),K(this,j(),D().p,i,m!==j().join(""))},blurEvent:function(e){var n=t(this);if(this.inputmask){Q(this,_);var s=this.inputmask._valueGet(),r=j().slice();""===s&&y===i||(d.clearMaskOnLostFocus&&(-1===P()&&s===F().join("")?r=[]:ot(r)),!1===at(r)&&(setTimeout(function(){n.trigger("incomplete")},0),d.clearIncomplete&&(A(),r=d.clearMaskOnLostFocus?[]:F().slice())),K(this,r,i,e)),m!==j().join("")&&(m=r.join(""),n.trigger("change"))}},mouseenterEvent:function(t){x=!0,n.activeElement!==this&&d.showMaskOnHover&&Q(this,(T?j().slice().reverse():j()).join(""))},submitEvent:function(t){m!==j().join("")&&g.trigger("change"),d.clearMaskOnLostFocus&&-1===P()&&w.inputmask._valueGet&&w.inputmask._valueGet()===F().join("")&&w.inputmask._valueSet(""),d.clearIncomplete&&!1===at(j())&&w.inputmask._valueSet(""),d.removeMaskOnSubmit&&(w.inputmask._valueSet(w.inputmask.unmaskedvalue(),!0),setTimeout(function(){K(w,j())},0))},resetEvent:function(t){w.inputmask.refreshValue=!0,setTimeout(function(){g.trigger("setvalue")},0)}};function it(e,n,s,r,o){var a=this||e.inputmask,l=r.slice(),u="",h=-1,p=i;if(A(),s||!0===d.autoUnmask)h=G(h);else{var f=F().slice(0,G(-1)).join(""),m=l.join("").match(new RegExp("^"+c.escapeRegex(f),"g"));m&&m.length>0&&(l.splice(0,m.length*f.length),h=G(h))}-1===h?(D().p=G(h),h=0):D().p=h,a.caretPos={begin:h},t.each(l,function(n,r){if(r!==i)if(D().validPositions[n]===i&&l[n]===Z(n)&&$(n,!0)&&!1===Y(n,l[n],!0,i,i,!0))D().p++;else{var o=new t.Event("_checkval");o.which=r.charCodeAt(0),u+=r;var c=P(i,!0);!function(t,e){return-1!==E(!0,0,!1).slice(t,G(t)).join("").replace(/'/g,"").indexOf(e)&&!$(t)&&(N(t).match.nativeDef===e.charAt(0)||null===N(t).match.fn&&N(t).match.nativeDef==="'"+e.charAt(0)||" "===N(t).match.nativeDef&&(N(t+1).match.nativeDef===e.charAt(0)||null===N(t+1).match.fn&&N(t+1).match.nativeDef==="'"+e.charAt(0)))}(h,u)?(p=et.keypressEvent.call(e,o,!0,!1,s,a.caretPos.begin))&&(h=a.caretPos.begin+1,u=""):p=et.keypressEvent.call(e,o,!0,!1,s,c+1),p&&(K(i,j(),p.forwardPosition,o,!1),a.caretPos={begin:p.forwardPosition,end:p.forwardPosition})}}),n&&K(e,j(),p?p.forwardPosition:i,o||new t.Event("checkval"),o&&"input"===o.type)}function nt(e){if(e){if(e.inputmask===i)return e.value;e.inputmask&&e.inputmask.refreshValue&&et.setValueEvent.call(e)}var n=[],s=D().validPositions;for(var r in s)s[r].match&&null!=s[r].match.fn&&n.push(s[r].input);var o=0===n.length?"":(T?n.reverse():n).join("");if(t.isFunction(d.onUnMask)){var a=(T?j().slice().reverse():j()).join("");o=d.onUnMask.call(b,a,o,d)}return o}function st(s,r,o,a){function l(t){return!T||"number"!=typeof t||d.greedy&&""===d.placeholder||!w||(t=w.inputmask._valueGet().length-t),t}var u;if(r===i)return"selectionStart"in s?(r=s.selectionStart,o=s.selectionEnd):e.getSelection?(u=e.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode!==s&&u.commonAncestorContainer!==s||(r=u.startOffset,o=u.endOffset):n.selection&&n.selection.createRange&&(u=n.selection.createRange(),r=0-u.duplicate().moveStart("character",-s.inputmask._valueGet().length),o=r+u.text.length),{begin:a?r:l(r),end:a?o:l(o)};if(t.isArray(r)&&(o=T?r[0]:r[1],r=T?r[1]:r[0]),r.begin!==i&&(o=T?r.begin:r.end,r=T?r.end:r.begin),"number"==typeof r){r=a?r:l(r),o="number"==typeof(o=a?o:l(o))?o:r;var c=parseInt(((s.ownerDocument.defaultView||e).getComputedStyle?(s.ownerDocument.defaultView||e).getComputedStyle(s,null):s.currentStyle).fontSize)*o;if(s.scrollLeft=c>s.scrollWidth?c:0,s.inputmask.caretPos={begin:r,end:o},s===n.activeElement){if("selectionStart"in s)s.selectionStart=r,s.selectionEnd=o;else if(e.getSelection){if(u=n.createRange(),s.firstChild===i||null===s.firstChild){var h=n.createTextNode("");s.appendChild(h)}u.setStart(s.firstChild,r<s.inputmask._valueGet().length?r:s.inputmask._valueGet().length),u.setEnd(s.firstChild,o<s.inputmask._valueGet().length?o:s.inputmask._valueGet().length),u.collapse(!0);var p=e.getSelection();p.removeAllRanges(),p.addRange(u)}else s.createTextRange&&((u=s.createTextRange()).collapse(!0),u.moveEnd("character",o),u.moveStart("character",r),u.select());ct(s,{begin:r,end:o})}}}function rt(e){var n,s,r=E(!0,P(),!0,!0),o=r.length,a=P(),l={},u=D().validPositions[a],c=u!==i?u.locator.slice():i;for(n=a+1;n<r.length;n++)s=L(n,c,n-1),c=s.locator.slice(),l[n]=t.extend(!0,{},s);var h=u&&u.alternation!==i?u.locator[u.alternation]:i;for(n=o-1;n>a&&((s=l[n]).match.optionality||s.match.optionalQuantifier&&s.match.newBlockMarker||h&&(h!==l[n].locator[u.alternation]&&null!=s.match.fn||null===s.match.fn&&s.locator[u.alternation]&&B(s.locator[u.alternation].toString().split(","),h.toString().split(","))&&""!==U(n)[0].def))&&r[n]===Z(n,s.match);n--)o--;return e?{l:o,def:l[o]?l[o].match:i}:o}function ot(t){t.length=0;for(var e,n=E(!0,0,!0,i,!0);(e=n.shift())!==i;)t.push(e);return t}function at(e){if(t.isFunction(d.isComplete))return d.isComplete(e,d);if("*"===d.repeat)return i;var n=!1,s=rt(!0),r=X(s.l);if(s.def===i||s.def.newBlockMarker||s.def.optionality||s.def.optionalQuantifier){n=!0;for(var o=0;o<=r;o++){var a=L(o).match;if(null!==a.fn&&D().validPositions[o]===i&&!0!==a.optionality&&!0!==a.optionalQuantifier||null===a.fn&&e[o]!==Z(o,a)){n=!1;break}}}return n}function lt(t,e,n,s,r){if((d.numericInput||T)&&(e===c.keyCode.BACKSPACE?e=c.keyCode.DELETE:e===c.keyCode.DELETE&&(e=c.keyCode.BACKSPACE),T)){var o=n.end;n.end=n.begin,n.begin=o}if(e===c.keyCode.BACKSPACE&&n.end-n.begin<1?(n.begin=X(n.begin),D().validPositions[n.begin]!==i&&D().validPositions[n.begin].input===d.groupSeparator&&n.begin--):e===c.keyCode.DELETE&&n.begin===n.end&&(n.end=$(n.end,!0)&&D().validPositions[n.end]&&D().validPositions[n.end].input!==d.radixPoint?n.end+1:G(n.end)+1,D().validPositions[n.begin]!==i&&D().validPositions[n.begin].input===d.groupSeparator&&n.end++),q(n),!0!==s&&!1!==d.keepStatic||null!==d.regex){var a=W(!0);if(a){var l=a.caret!==i?a.caret:a.pos?G(a.pos.begin?a.pos.begin:a.pos):P(-1,!0);(e!==c.keyCode.DELETE||n.begin>l)&&n.begin}}var u=P(n.begin,!0);if(u<n.begin||-1===n.begin)D().p=G(u);else if(!0!==s&&(D().p=n.begin,!0!==r))for(;D().p<u&&D().validPositions[D().p]===i;)D().p++}function ut(i){var s=(i.ownerDocument.defaultView||e).getComputedStyle(i,null),r=n.createElement("div");r.style.width=s.width,r.style.textAlign=s.textAlign,y=n.createElement("div"),i.inputmask.colorMask=y,y.className="im-colormask",i.parentNode.insertBefore(y,i),i.parentNode.removeChild(i),y.appendChild(i),y.appendChild(r),i.style.left=r.offsetLeft+"px",t(y).on("mouseleave",function(t){return et.mouseleaveEvent.call(i,[t])}),t(y).on("mouseenter",function(t){return et.mouseenterEvent.call(i,[t])}),t(y).on("click",function(t){return st(i,function(t){var e,r=n.createElement("span");for(var o in s)isNaN(o)&&-1!==o.indexOf("font")&&(r.style[o]=s[o]);r.style.textTransform=s.textTransform,r.style.letterSpacing=s.letterSpacing,r.style.position="absolute",r.style.height="auto",r.style.width="auto",r.style.visibility="hidden",r.style.whiteSpace="nowrap",n.body.appendChild(r);var a,l=i.inputmask._valueGet(),u=0;for(e=0,a=l.length;e<=a;e++){if(r.innerHTML+=l.charAt(e)||"_",r.offsetWidth>=t){var c=t-u,h=r.offsetWidth-t;r.innerHTML=l.charAt(e),c-=r.offsetWidth/3,e=c<h?e-1:e;break}u=r.offsetWidth}return n.body.removeChild(r),e}(t.clientX)),et.clickEvent.call(i,[t])})}function ct(t,e,s){var r,o,a,l=[],u=!1,c=0;function h(t){if(t===i&&(t=""),u||null!==r.fn&&o.input!==i)if(u&&(null!==r.fn&&o.input!==i||""===r.def)){u=!1;var e=l.length;l[e-1]=l[e-1]+"</span>",l.push(t)}else l.push(t);else u=!0,l.push("<span class='im-static'>"+t)}if(y!==i){var p=j();if(e===i?e=st(t):e.begin===i&&(e={begin:e,end:e}),!0!==s){var f=P();do{D().validPositions[c]?(o=D().validPositions[c],r=o.match,a=o.locator.slice(),h(p[c])):(o=L(c,a,c-1),r=o.match,a=o.locator.slice(),!1===d.jitMasking||c<f||"number"==typeof d.jitMasking&&isFinite(d.jitMasking)&&d.jitMasking>c?h(Z(c,r)):u=!1),c++}while((v===i||c<v)&&(null!==r.fn||""!==r.def)||f>c||u);u&&h(),n.activeElement===t&&(l.splice(e.begin,0,e.begin===e.end||e.end>D().maskLength?'<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">':'<mark class="im-caret-select">'),l.splice(e.end+1,0,"</mark>"))}var m=y.getElementsByTagName("div")[0];m.innerHTML=l.join(""),t.inputmask.positionColorMask(t,m)}}if(c.prototype.positionColorMask=function(t,e){t.style.left=e.offsetLeft+"px"},s!==i)switch(s.action){case"isComplete":return w=s.el,at(j());case"unmaskedvalue":return w!==i&&s.value===i||(J=s.value,J=(t.isFunction(d.onBeforeMask)&&d.onBeforeMask.call(b,J,d)||J).split(""),it.call(this,i,!1,!1,J),t.isFunction(d.onBeforeWrite)&&d.onBeforeWrite.call(b,i,j(),0,d)),nt(w);case"mask":!function(e){tt.off(e);var s=function(e,s){var r=e.getAttribute("type"),a="INPUT"===e.tagName&&-1!==t.inArray(r,s.supportsInputType)||e.isContentEditable||"TEXTAREA"===e.tagName;if(!a)if("INPUT"===e.tagName){var l=n.createElement("input");l.setAttribute("type",r),a="text"===l.type,l=null}else a="partial";return!1!==a?function(e){var r,a;function l(){return this.inputmask?this.inputmask.opts.autoUnmask?this.inputmask.unmaskedvalue():-1!==P()||!0!==s.nullable?n.activeElement===this&&s.clearMaskOnLostFocus?(T?ot(j().slice()).reverse():ot(j().slice())).join(""):r.call(this):"":r.call(this)}function u(e){a.call(this,e),this.inputmask&&t(this).trigger("setvalue",[e])}if(!e.inputmask.__valueGet){if(!0!==s.noValuePatching){if(Object.getOwnPropertyDescriptor){"function"!=typeof Object.getPrototypeOf&&(Object.getPrototypeOf="object"===o("test".__proto__)?function(t){return t.__proto__}:function(t){return t.constructor.prototype});var c=Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e),"value"):i;c&&c.get&&c.set?(r=c.get,a=c.set,Object.defineProperty(e,"value",{get:l,set:u,configurable:!0})):"INPUT"!==e.tagName&&(r=function(){return this.textContent},a=function(t){this.textContent=t},Object.defineProperty(e,"value",{get:l,set:u,configurable:!0}))}else n.__lookupGetter__&&e.__lookupGetter__("value")&&(r=e.__lookupGetter__("value"),a=e.__lookupSetter__("value"),e.__defineGetter__("value",l),e.__defineSetter__("value",u));e.inputmask.__valueGet=r,e.inputmask.__valueSet=a}e.inputmask._valueGet=function(t){return T&&!0!==t?r.call(this.el).split("").reverse().join(""):r.call(this.el)},e.inputmask._valueSet=function(t,e){a.call(this.el,null===t||t===i?"":!0!==e&&T?t.split("").reverse().join(""):t)},r===i&&(r=function(){return this.value},a=function(t){this.value=t},function(e){if(t.valHooks&&(t.valHooks[e]===i||!0!==t.valHooks[e].inputmaskpatch)){var n=t.valHooks[e]&&t.valHooks[e].get?t.valHooks[e].get:function(t){return t.value},r=t.valHooks[e]&&t.valHooks[e].set?t.valHooks[e].set:function(t,e){return t.value=e,t};t.valHooks[e]={get:function(t){if(t.inputmask){if(t.inputmask.opts.autoUnmask)return t.inputmask.unmaskedvalue();var e=n(t);return-1!==P(i,i,t.inputmask.maskset.validPositions)||!0!==s.nullable?e:""}return n(t)},set:function(e,i){var n,s=t(e);return n=r(e,i),e.inputmask&&s.trigger("setvalue",[i]),n},inputmaskpatch:!0}}}(e.type),function(e){tt.on(e,"mouseenter",function(e){var i=t(this),n=this.inputmask._valueGet();n!==j().join("")&&i.trigger("setvalue")})}(e))}}(e):e.inputmask=i,a}(e,d);if(!1!==s&&(g=t(w=e),_=w.placeholder,-1===(v=w!==i?w.maxLength:i)&&(v=i),!0===d.colorMask&&ut(w),a&&("inputmode"in w&&(w.inputmode=d.inputmode,w.setAttribute("inputmode",d.inputmode)),!0===d.disablePredictiveText&&("autocorrect"in w?w.autocorrect=!1:(!0!==d.colorMask&&ut(w),w.type="password"))),!0===s&&(w.setAttribute("im-insert",d.insertMode),tt.on(w,"submit",et.submitEvent),tt.on(w,"reset",et.resetEvent),tt.on(w,"blur",et.blurEvent),tt.on(w,"focus",et.focusEvent),!0!==d.colorMask&&(tt.on(w,"click",et.clickEvent),tt.on(w,"mouseleave",et.mouseleaveEvent),tt.on(w,"mouseenter",et.mouseenterEvent)),tt.on(w,"paste",et.pasteEvent),tt.on(w,"cut",et.cutEvent),tt.on(w,"complete",d.oncomplete),tt.on(w,"incomplete",d.onincomplete),tt.on(w,"cleared",d.oncleared),a||!0===d.inputEventOnly?w.removeAttribute("maxLength"):(tt.on(w,"keydown",et.keydownEvent),tt.on(w,"keypress",et.keypressEvent)),tt.on(w,"input",et.inputFallBackEvent),tt.on(w,"beforeinput",et.beforeInputEvent)),tt.on(w,"setvalue",et.setValueEvent),m=F().join(""),""!==w.inputmask._valueGet(!0)||!1===d.clearMaskOnLostFocus||n.activeElement===w)){var r=t.isFunction(d.onBeforeMask)&&d.onBeforeMask.call(b,w.inputmask._valueGet(!0),d)||w.inputmask._valueGet(!0);""!==r&&it(w,!0,!1,r.split(""));var l=j().slice();m=l.join(""),!1===at(l)&&d.clearIncomplete&&A(),d.clearMaskOnLostFocus&&n.activeElement!==w&&(-1===P()?l=[]:ot(l)),(!1===d.clearMaskOnLostFocus||d.showMaskOnFocus&&n.activeElement===w||""!==w.inputmask._valueGet(!0))&&K(w,l),n.activeElement===w&&st(w,G(P()))}}(w);break;case"format":return J=(t.isFunction(d.onBeforeMask)&&d.onBeforeMask.call(b,s.value,d)||s.value).split(""),it.call(this,i,!0,!1,J),s.metadata?{value:T?j().slice().reverse().join(""):j().join(""),metadata:f.call(this,{action:"getmetadata"},h,d)}:T?j().slice().reverse().join(""):j().join("");case"isValid":s.value?(J=s.value.split(""),it.call(this,i,!0,!0,J)):s.value=j().join("");for(var ht=j(),dt=rt(),pt=ht.length-1;pt>dt&&!$(pt);pt--);return ht.splice(dt,pt+1-dt),at(ht)&&s.value===j().join("");case"getemptymask":return F().join("");case"remove":return w&&w.inputmask&&(t.data(w,"_inputmask_opts",null),g=t(w),w.inputmask._valueSet(d.autoUnmask?nt(w):w.inputmask._valueGet(!0)),tt.off(w),w.inputmask.colorMask&&((y=w.inputmask.colorMask).removeChild(w),y.parentNode.insertBefore(w,y),y.parentNode.removeChild(y)),Object.getOwnPropertyDescriptor&&Object.getPrototypeOf?Object.getOwnPropertyDescriptor(Object.getPrototypeOf(w),"value")&&w.inputmask.__valueGet&&Object.defineProperty(w,"value",{get:w.inputmask.__valueGet,set:w.inputmask.__valueSet,configurable:!0}):n.__lookupGetter__&&w.__lookupGetter__("value")&&w.inputmask.__valueGet&&(w.__defineGetter__("value",w.inputmask.__valueGet),w.__defineSetter__("value",w.inputmask.__valueSet)),w.inputmask=i),w;case"getmetadata":if(t.isArray(h.metadata)){var ft=E(!0,0,!1).join("");return t.each(h.metadata,function(t,e){if(e.mask===ft)return ft=e,!1}),ft}return h.metadata}}return c.prototype={dataAttribute:"data-inputmask",defaults:{placeholder:"_",optionalmarker:["[","]"],quantifiermarker:["{","}"],groupmarker:["(",")"],alternatormarker:"|",escapeChar:"\\",mask:null,regex:null,oncomplete:t.noop,onincomplete:t.noop,oncleared:t.noop,repeat:0,greedy:!1,autoUnmask:!1,removeMaskOnSubmit:!1,clearMaskOnLostFocus:!0,insertMode:!0,clearIncomplete:!1,alias:null,onKeyDown:t.noop,onBeforeMask:null,onBeforePaste:function(e,i){return t.isFunction(i.onBeforeMask)?i.onBeforeMask.call(this,e,i):e},onBeforeWrite:null,onUnMask:null,showMaskOnFocus:!0,showMaskOnHover:!0,onKeyValidation:t.noop,skipOptionalPartCharacter:" ",numericInput:!1,rightAlign:!1,undoOnEscape:!0,radixPoint:"",_radixDance:!1,groupSeparator:"",keepStatic:null,positionCaretOnTab:!0,tabThrough:!1,supportsInputType:["text","tel","url","password","search"],ignorables:[8,9,13,19,27,33,34,35,36,37,38,39,40,45,46,93,112,113,114,115,116,117,118,119,120,121,122,123,0,229],isComplete:null,preValidation:null,postValidation:null,staticDefinitionSymbol:i,jitMasking:!1,nullable:!0,inputEventOnly:!1,noValuePatching:!1,positionCaretOnClick:"lvp",casing:null,inputmode:"verbatim",colorMask:!1,disablePredictiveText:!1,importDataAttributes:!0,shiftPositions:!0},definitions:{9:{validator:"[0-9ï¼-ï¼]",definitionSymbol:"*"},a:{validator:"[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]",definitionSymbol:"*"},"*":{validator:"[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]"}},aliases:{},masksCache:{},mask:function(s){var r=this;return"string"==typeof s&&(s=n.getElementById(s)||n.querySelectorAll(s)),s=s.nodeName?[s]:s,t.each(s,function(n,s){var o=t.extend(!0,{},r.opts);if(function(n,s,r,o){if(!0===s.importDataAttributes){var a,l,u,c,d=function(t,s){null!==(s=s!==i?s:n.getAttribute(o+"-"+t))&&("string"==typeof s&&(0===t.indexOf("on")?s=e[s]:"false"===s?s=!1:"true"===s&&(s=!0)),r[t]=s)},p=n.getAttribute(o);if(p&&""!==p&&(p=p.replace(/'/g,'"'),l=JSON.parse("{"+p+"}")),l)for(c in u=i,l)if("alias"===c.toLowerCase()){u=l[c];break}for(a in d("alias",u),r.alias&&h(r.alias,r,s),s){if(l)for(c in u=i,l)if(c.toLowerCase()===a.toLowerCase()){u=l[c];break}d(a,u)}}return t.extend(!0,s,r),("rtl"===n.dir||s.rightAlign)&&(n.style.textAlign="right"),("rtl"===n.dir||s.numericInput)&&(n.dir="ltr",n.removeAttribute("dir"),s.isRTL=!0),Object.keys(r).length}(s,o,t.extend(!0,{},r.userOptions),r.dataAttribute)){var a=d(o,r.noMasksCache);a!==i&&(s.inputmask!==i&&(s.inputmask.opts.autoUnmask=!0,s.inputmask.remove()),s.inputmask=new c(i,i,!0),s.inputmask.opts=o,s.inputmask.noMasksCache=r.noMasksCache,s.inputmask.userOptions=t.extend(!0,{},r.userOptions),s.inputmask.isRTL=o.isRTL||o.numericInput,s.inputmask.el=s,s.inputmask.maskset=a,t.data(s,"_inputmask_opts",o),f.call(s.inputmask,{action:"mask"}))}}),s&&s[0]&&s[0].inputmask||this},option:function(e,i){return"string"==typeof e?this.opts[e]:"object"===(void 0===e?"undefined":o(e))?(t.extend(this.userOptions,e),this.el&&!0!==i&&this.mask(this.el),this):void 0},unmaskedvalue:function(t){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"unmaskedvalue",value:t})},remove:function(){return f.call(this,{action:"remove"})},getemptymask:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"getemptymask"})},hasMaskedValue:function(){return!this.opts.autoUnmask},isComplete:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"isComplete"})},getmetadata:function(){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"getmetadata"})},isValid:function(t){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"isValid",value:t})},format:function(t,e){return this.maskset=this.maskset||d(this.opts,this.noMasksCache),f.call(this,{action:"format",value:t,metadata:e})},setValue:function(e){this.el&&t(this.el).trigger("setvalue",[e])},analyseMask:function(e,n,s){var r,o,a,l,u,h,d=/(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g,p=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,f=!1,m=new y,g=[],v=[];function y(t,e,i,n){this.matches=[],this.openGroup=t||!1,this.alternatorGroup=!1,this.isGroup=t||!1,this.isOptional=e||!1,this.isQuantifier=i||!1,this.isAlternator=n||!1,this.quantifier={min:1,max:1}}function _(e,r,o){o=o!==i?o:e.matches.length;var a=e.matches[o-1];if(n)0===r.indexOf("[")||f&&/\\d|\\s|\\w]/i.test(r)||"."===r?e.matches.splice(o++,0,{fn:new RegExp(r,s.casing?"i":""),optionality:!1,newBlockMarker:a===i?"master":a.def!==r,casing:null,def:r,placeholder:i,nativeDef:r}):(f&&(r=r[r.length-1]),t.each(r.split(""),function(t,n){a=e.matches[o-1],e.matches.splice(o++,0,{fn:null,optionality:!1,newBlockMarker:a===i?"master":a.def!==n&&null!==a.fn,casing:null,def:s.staticDefinitionSymbol||n,placeholder:s.staticDefinitionSymbol!==i?n:i,nativeDef:(f?"'":"")+n})})),f=!1;else{var l=(s.definitions?s.definitions[r]:i)||c.prototype.definitions[r];l&&!f?e.matches.splice(o++,0,{fn:l.validator?"string"==typeof l.validator?new RegExp(l.validator,s.casing?"i":""):new function(){this.test=l.validator}:new RegExp("."),optionality:!1,newBlockMarker:a===i?"master":a.def!==(l.definitionSymbol||r),casing:l.casing,def:l.definitionSymbol||r,placeholder:l.placeholder,nativeDef:r}):(e.matches.splice(o++,0,{fn:null,optionality:!1,newBlockMarker:a===i?"master":a.def!==r&&null!==a.fn,casing:null,def:s.staticDefinitionSymbol||r,placeholder:s.staticDefinitionSymbol!==i?r:i,nativeDef:(f?"'":"")+r}),f=!1)}}function b(){if(g.length>0){if(_(l=g[g.length-1],o),l.isAlternator){u=g.pop();for(var t=0;t<u.matches.length;t++)u.matches[t].isGroup&&(u.matches[t].isGroup=!1);g.length>0?(l=g[g.length-1]).matches.push(u):m.matches.push(u)}}else _(m,o)}function w(t){var e=new y(!0);return e.openGroup=!1,e.matches=t,e}for(n&&(s.optionalmarker[0]=i,s.optionalmarker[1]=i);r=n?p.exec(e):d.exec(e);){if(o=r[0],n)switch(o.charAt(0)){case"?":o="{0,1}";break;case"+":case"*":o="{"+o+"}"}if(f)b();else switch(o.charAt(0)){case"(?=":case"(?!":case"(?<=":case"(?<!":break;case s.escapeChar:f=!0,n&&b();break;case s.optionalmarker[1]:case s.groupmarker[1]:if((a=g.pop()).openGroup=!1,a!==i)if(g.length>0){if((l=g[g.length-1]).matches.push(a),l.isAlternator){u=g.pop();for(var T=0;T<u.matches.length;T++)u.matches[T].isGroup=!1,u.matches[T].alternatorGroup=!1;g.length>0?(l=g[g.length-1]).matches.push(u):m.matches.push(u)}}else m.matches.push(a);else b();break;case s.optionalmarker[0]:g.push(new y(!1,!0));break;case s.groupmarker[0]:g.push(new y(!0));break;case s.quantifiermarker[0]:var k=new y(!1,!1,!0),S=(o=o.replace(/[{}]/g,"")).split("|"),C=S[0].split(","),x=isNaN(C[0])?C[0]:parseInt(C[0]),E=1===C.length?x:isNaN(C[1])?C[1]:parseInt(C[1]);"*"!==x&&"+"!==x||(x="*"===E?0:1),k.quantifier={min:x,max:E,jit:S[1]};var D=g.length>0?g[g.length-1].matches:m.matches;if((r=D.pop()).isAlternator){D.push(r),D=r.matches;var A=new y(!0),P=D.pop();D.push(A),D=A.matches,r=P}r.isGroup||(r=w([r])),D.push(r),D.push(k);break;case s.alternatormarker:var I=function(t){var e=t.pop();return e.isQuantifier&&(e=w([t.pop(),e])),e};if(g.length>0){var O=(l=g[g.length-1]).matches[l.matches.length-1];h=l.openGroup&&(O.matches===i||!1===O.isGroup&&!1===O.isAlternator)?g.pop():I(l.matches)}else h=I(m.matches);if(h.isAlternator)g.push(h);else if(h.alternatorGroup?(u=g.pop(),h.alternatorGroup=!1):u=new y(!1,!1,!1,!0),u.matches.push(h),g.push(u),h.openGroup){h.openGroup=!1;var M=new y(!0);M.alternatorGroup=!0,g.push(M)}break;default:b()}}for(;g.length>0;)a=g.pop(),m.matches.push(a);return m.matches.length>0&&(function e(r){r&&r.matches&&t.each(r.matches,function(t,o){var a=r.matches[t+1];(a===i||a.matches===i||!1===a.isQuantifier)&&o&&o.isGroup&&(o.isGroup=!1,n||(_(o,s.groupmarker[0],0),!0!==o.openGroup&&_(o,s.groupmarker[1]))),e(o)})}(m),v.push(m)),(s.numericInput||s.isRTL)&&function t(e){for(var n in e.matches=e.matches.reverse(),e.matches)if(e.matches.hasOwnProperty(n)){var r=parseInt(n);if(e.matches[n].isQuantifier&&e.matches[r+1]&&e.matches[r+1].isGroup){var o=e.matches[n];e.matches.splice(n,1),e.matches.splice(r+1,0,o)}e.matches[n].matches!==i?e.matches[n]=t(e.matches[n]):e.matches[n]=((a=e.matches[n])===s.optionalmarker[0]?a=s.optionalmarker[1]:a===s.optionalmarker[1]?a=s.optionalmarker[0]:a===s.groupmarker[0]?a=s.groupmarker[1]:a===s.groupmarker[1]&&(a=s.groupmarker[0]),a)}var a;return e}(v[0]),v}},c.extendDefaults=function(e){t.extend(!0,c.prototype.defaults,e)},c.extendDefinitions=function(e){t.extend(!0,c.prototype.definitions,e)},c.extendAliases=function(e){t.extend(!0,c.prototype.aliases,e)},c.format=function(t,e,i){return c(e).format(t,i)},c.unmask=function(t,e){return c(e).unmaskedvalue(t)},c.isValid=function(t,e){return c(e).isValid(t)},c.remove=function(e){"string"==typeof e&&(e=n.getElementById(e)||n.querySelectorAll(e)),e=e.nodeName?[e]:e,t.each(e,function(t,e){e.inputmask&&e.inputmask.remove()})},c.setValue=function(e,i){"string"==typeof e&&(e=n.getElementById(e)||n.querySelectorAll(e)),e=e.nodeName?[e]:e,t.each(e,function(e,n){n.inputmask?n.inputmask.setValue(i):t(n).trigger("setvalue",[i])})},c.escapeRegex=function(t){return t.replace(new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\","$","^"].join("|\\")+")","gim"),"\\$1")},c.keyCode={BACKSPACE:8,BACKSPACE_SAFARI:127,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,RIGHT:39,SPACE:32,TAB:9,UP:38,X:88,CONTROL:17},c.dependencyLib=t,c})?n.apply(e,s):n)||(t.exports=r)},function(t,e,i){"use strict";var n,s,r;"function"==typeof Symbol&&Symbol.iterator;s=[i(4)],void 0===(r="function"==typeof(n=function(t){return t})?n.apply(e,s):n)||(t.exports=r)},function(t,e){t.exports=jQuery},function(module,exports,__webpack_require__){"use strict";var __WEBPACK_AMD_DEFINE_RESULT__,_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};__WEBPACK_AMD_DEFINE_RESULT__=function(){return"undefined"!=typeof window?window:new(eval("require('jsdom').JSDOM"))("").window}.call(exports,__webpack_require__,exports,module),void 0===__WEBPACK_AMD_DEFINE_RESULT__||(module.exports=__WEBPACK_AMD_DEFINE_RESULT__)},function(t,e,i){"use strict";var n,s,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=[i(2)],void 0===(r="function"==typeof(n=function(t){var e=t.dependencyLib,i={d:["[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",Date.prototype.getDate],dd:["0[1-9]|[12][0-9]|3[01]",Date.prototype.setDate,"day",function(){return a(Date.prototype.getDate.call(this),2)}],ddd:[""],dddd:[""],m:["[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return Date.prototype.getMonth.call(this)+1}],mm:["0[1-9]|1[012]",Date.prototype.setMonth,"month",function(){return a(Date.prototype.getMonth.call(this)+1,2)}],mmm:[""],mmmm:[""],yy:["[0-9]{2}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),2)}],yyyy:["[0-9]{4}",Date.prototype.setFullYear,"year",function(){return a(Date.prototype.getFullYear.call(this),4)}],h:["[1-9]|1[0-2]",Date.prototype.setHours,"hours",Date.prototype.getHours],hh:["0[1-9]|1[0-2]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],hhh:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],H:["1?[0-9]|2[0-3]",Date.prototype.setHours,"hours",Date.prototype.getHours],HH:["0[0-9]|1[0-9]|2[0-3]",Date.prototype.setHours,"hours",function(){return a(Date.prototype.getHours.call(this),2)}],HHH:["[0-9]+",Date.prototype.setHours,"hours",Date.prototype.getHours],M:["[1-5]?[0-9]",Date.prototype.setMinutes,"minutes",Date.prototype.getMinutes],MM:["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]",Date.prototype.setMinutes,"minutes",function(){return a(Date.prototype.getMinutes.call(this),2)}],ss:["[0-5][0-9]",Date.prototype.setSeconds,"seconds",function(){return a(Date.prototype.getSeconds.call(this),2)}],l:["[0-9]{3}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),3)}],L:["[0-9]{2}",Date.prototype.setMilliseconds,"milliseconds",function(){return a(Date.prototype.getMilliseconds.call(this),2)}],t:["[ap]"],tt:["[ap]m"],T:["[AP]"],TT:["[AP]M"],Z:[""],o:[""],S:[""]},n={isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"};function s(t){if(!t.tokenizer){var e=[];for(var n in i)-1===e.indexOf(n[0])&&e.push(n[0]);t.tokenizer="("+e.join("+|")+")+?|.",t.tokenizer=new RegExp(t.tokenizer,"g")}return t.tokenizer}function r(e,n,r,o){for(var a,l="";a=s(r).exec(e);)if(void 0===n)if(i[a[0]])l+="("+i[a[0]][0]+")";else switch(a[0]){case"[":l+="(";break;case"]":l+=")?";break;default:l+=t.escapeRegex(a[0])}else if(i[a[0]])if(!0!==o&&i[a[0]][3]){var u=i[a[0]][3];l+=u.call(n.date)}else i[a[0]][2]?l+=n["raw"+i[a[0]][2]]:l+=a[0];else l+=a[0];return l}function a(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t}function l(t,e,n){var r,a,l,u={date:new Date(1,0,1)},c=t;function h(t){var e=t.replace(/[^0-9]/g,"0");if(e!=t){var i=t.replace(/[^0-9]/g,""),s=(n.min&&n.min[r]||t).toString(),o=(n.max&&n.max[r]||t).toString();e=i+(i<s.slice(0,i.length)?s.slice(i.length):i>o.slice(0,i.length)?o.slice(i.length):e.toString().slice(i.length))}return e}function d(t,e,i){t[r]=h(e),t["raw"+r]=e,void 0!==l&&l.call(t.date,"month"==r?parseInt(t[r])-1:t[r])}if("string"==typeof c){for(;a=s(n).exec(e);){var p=c.slice(0,a[0].length);i.hasOwnProperty(a[0])&&(i[a[0]][0],r=i[a[0]][2],l=i[a[0]][1],d(u,p)),c=c.slice(p.length)}return u}if(c&&"object"===(void 0===c?"undefined":o(c))&&c.hasOwnProperty("date"))return c}return t.extendAliases({datetime:{mask:function(t){return i.S=t.i18n.ordinalSuffix.join("|"),t.inputFormat=n[t.inputFormat]||t.inputFormat,t.displayFormat=n[t.displayFormat]||t.displayFormat||t.inputFormat,t.outputFormat=n[t.outputFormat]||t.outputFormat||t.inputFormat,t.placeholder=""!==t.placeholder?t.placeholder:t.inputFormat.replace(/[\[\]]/,""),t.regex=r(t.inputFormat,void 0,t),null},placeholder:"",inputFormat:"isoDateTime",displayFormat:void 0,outputFormat:void 0,min:null,max:null,i18n:{dayNames:["Mon","Tue","Wed","Thu","Fri","Sat","Sun","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],ordinalSuffix:["st","nd","rd","th"]},postValidation:function(t,e,i,n){n.min=l(n.min,n.inputFormat,n),n.max=l(n.max,n.inputFormat,n);var s=i,o=l(t.join(""),n.inputFormat,n);return s&&o.date.getTime()==o.date.getTime()&&(s=(s=function(t,e){return(!isFinite(t.rawday)||"29"==t.day&&!isFinite(t.rawyear)||new Date(t.date.getFullYear(),isFinite(t.rawmonth)?t.month:t.date.getMonth()+1,0).getDate()>=t.day)&&e}(o,s))&&function(t,e){var i=!0;if(e.min){if(t.rawyear){var n=t.rawyear.replace(/[^0-9]/g,""),s=e.min.year.substr(0,n.length);i=s<=n}t.year===t.rawyear&&e.min.date.getTime()==e.min.date.getTime()&&(i=e.min.date.getTime()<=t.date.getTime())}return i&&e.max&&e.max.date.getTime()==e.max.date.getTime()&&(i=e.max.date.getTime()>=t.date.getTime()),i}(o,n)),e&&s&&i.pos!==e?{buffer:r(n.inputFormat,o,n),refreshFromBuffer:{start:e,end:i.pos}}:s},onKeyDown:function(i,n,r,o){if(i.ctrlKey&&i.keyCode===t.keyCode.RIGHT){for(var l,u=new Date,c="";l=s(o).exec(o.inputFormat);)"d"===l[0].charAt(0)?c+=a(u.getDate(),l[0].length):"m"===l[0].charAt(0)?c+=a(u.getMonth()+1,l[0].length):"yyyy"===l[0]?c+=u.getFullYear().toString():"y"===l[0].charAt(0)&&(c+=a(u.getYear(),l[0].length));this.inputmask._valueSet(c),e(this).trigger("setvalue")}},onUnMask:function(t,e,i){return r(i.outputFormat,l(t,i.inputFormat,i),i,!0)},casing:function(t,e,i,n){return 0==e.nativeDef.indexOf("[ap]")?t.toLowerCase():0==e.nativeDef.indexOf("[AP]")?t.toUpperCase():t},insertMode:!1,shiftPositions:!1}}),t})?n.apply(e,s):n)||(t.exports=r)},function(t,e,i){"use strict";var n,s,r;"function"==typeof Symbol&&Symbol.iterator;s=[i(2)],void 0===(r="function"==typeof(n=function(t){var e=t.dependencyLib;function i(e,i){for(var n="",s=0;s<e.length;s++)t.prototype.definitions[e.charAt(s)]||i.definitions[e.charAt(s)]||i.optionalmarker.start===e.charAt(s)||i.optionalmarker.end===e.charAt(s)||i.quantifiermarker.start===e.charAt(s)||i.quantifiermarker.end===e.charAt(s)||i.groupmarker.start===e.charAt(s)||i.groupmarker.end===e.charAt(s)||i.alternatormarker===e.charAt(s)?n+="\\"+e.charAt(s):n+=e.charAt(s);return n}return t.extendAliases({numeric:{mask:function(t){if(0!==t.repeat&&isNaN(t.integerDigits)&&(t.integerDigits=t.repeat),t.repeat=0,t.groupSeparator===t.radixPoint&&t.digits&&"0"!==t.digits&&("."===t.radixPoint?t.groupSeparator=",":","===t.radixPoint?t.groupSeparator=".":t.groupSeparator="")," "===t.groupSeparator&&(t.skipOptionalPartCharacter=void 0),t.autoGroup=t.autoGroup&&""!==t.groupSeparator,t.autoGroup&&("string"==typeof t.groupSize&&isFinite(t.groupSize)&&(t.groupSize=parseInt(t.groupSize)),isFinite(t.integerDigits))){var e=Math.floor(t.integerDigits/t.groupSize),n=t.integerDigits%t.groupSize;t.integerDigits=parseInt(t.integerDigits)+(0===n?e-1:e),t.integerDigits<1&&(t.integerDigits="*")}t.placeholder.length>1&&(t.placeholder=t.placeholder.charAt(0)),"radixFocus"===t.positionCaretOnClick&&""===t.placeholder&&!1===t.integerOptional&&(t.positionCaretOnClick="lvp"),t.definitions[";"]=t.definitions["~"],t.definitions[";"].definitionSymbol="~",!0===t.numericInput&&(t.positionCaretOnClick="radixFocus"===t.positionCaretOnClick?"lvp":t.positionCaretOnClick,t.digitsOptional=!1,isNaN(t.digits)&&(t.digits=2),t.decimalProtect=!1);var s="[+]";if(s+=i(t.prefix,t),!0===t.integerOptional?s+="~{1,"+t.integerDigits+"}":s+="~{"+t.integerDigits+"}",void 0!==t.digits){var r=t.decimalProtect?":":t.radixPoint,o=t.digits.toString().split(",");isFinite(o[0])&&o[1]&&isFinite(o[1])?s+=r+";{"+t.digits+"}":(isNaN(t.digits)||parseInt(t.digits)>0)&&(t.digitsOptional?s+="["+r+";{1,"+t.digits+"}]":s+=r+";{"+t.digits+"}")}return s+=i(t.suffix,t),s+="[-]",t.greedy=!1,s},placeholder:"",greedy:!1,digits:"*",digitsOptional:!0,enforceDigitsOnBlur:!1,radixPoint:".",positionCaretOnClick:"radixFocus",groupSize:3,groupSeparator:"",autoGroup:!1,allowMinus:!0,negationSymbol:{front:"-",back:""},integerDigits:"+",integerOptional:!0,prefix:"",suffix:"",rightAlign:!0,decimalProtect:!0,min:null,max:null,step:1,insertMode:!0,autoUnmask:!1,unmaskAsNumber:!1,inputType:"text",inputmode:"numeric",preValidation:function(t,i,n,s,r,o){if("-"===n||n===r.negationSymbol.front)return!0===r.allowMinus&&(r.isNegative=void 0===r.isNegative||!r.isNegative,""===t.join("")||{caret:o.validPositions[i]?i:void 0,dopost:!0});if(!1===s&&n===r.radixPoint&&void 0!==r.digits&&(isNaN(r.digits)||parseInt(r.digits)>0)){var a=e.inArray(r.radixPoint,t);if(-1!==a&&void 0!==o.validPositions[a])return!0===r.numericInput?i===a:{caret:a+1}}return!0},postValidation:function(i,n,s,r){var o=r.suffix.split(""),a=r.prefix.split("");if(void 0===s.pos&&void 0!==s.caret&&!0!==s.dopost)return s;var l=void 0!==s.caret?s.caret:s.pos,u=i.slice();r.numericInput&&(l=u.length-l-1,u=u.reverse());var c=u[l];if(c===r.groupSeparator&&(c=u[l+=1]),l===u.length-r.suffix.length-1&&c===r.radixPoint)return s;void 0!==c&&c!==r.radixPoint&&c!==r.negationSymbol.front&&c!==r.negationSymbol.back&&(u[l]="?",r.prefix.length>0&&l>=(!1===r.isNegative?1:0)&&l<r.prefix.length-1+(!1===r.isNegative?1:0)?a[l-(!1===r.isNegative?1:0)]="?":r.suffix.length>0&&l>=u.length-r.suffix.length-(!1===r.isNegative?1:0)&&(o[l-(u.length-r.suffix.length-(!1===r.isNegative?1:0))]="?")),a=a.join(""),o=o.join("");var h=u.join("").replace(a,"");if(h=(h=(h=(h=h.replace(o,"")).replace(new RegExp(t.escapeRegex(r.groupSeparator),"g"),"")).replace(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),""),isNaN(r.placeholder)&&(h=h.replace(new RegExp(t.escapeRegex(r.placeholder),"g"),"")),h.length>1&&1!==h.indexOf(r.radixPoint)&&("0"===c&&(h=h.replace(/^\?/g,"")),h=h.replace(/^0/g,"")),h.charAt(0)===r.radixPoint&&""!==r.radixPoint&&!0!==r.numericInput&&(h="0"+h),""!==h){if(h=h.split(""),(!r.digitsOptional||r.enforceDigitsOnBlur&&"blur"===s.event)&&isFinite(r.digits)){var d=e.inArray(r.radixPoint,h),p=e.inArray(r.radixPoint,u);-1===d&&(h.push(r.radixPoint),d=h.length-1);for(var f=1;f<=r.digits;f++)r.digitsOptional&&(!r.enforceDigitsOnBlur||"blur"!==s.event)||void 0!==h[d+f]&&h[d+f]!==r.placeholder.charAt(0)?-1!==p&&void 0!==u[p+f]&&(h[d+f]=h[d+f]||u[p+f]):h[d+f]=s.placeholder||r.placeholder.charAt(0)}if(!0!==r.autoGroup||""===r.groupSeparator||c===r.radixPoint&&void 0===s.pos&&!s.dopost)h=h.join("");else{var m=h[h.length-1]===r.radixPoint&&s.c===r.radixPoint;h=t(function(t,e){var i="";if(i+="("+e.groupSeparator+"*{"+e.groupSize+"}){*}",""!==e.radixPoint){var n=t.join("").split(e.radixPoint);n[1]&&(i+=e.radixPoint+"*{"+n[1].match(/^\d*\??\d*/)[0].length+"}")}return i}(h,r),{numericInput:!0,jitMasking:!0,definitions:{"*":{validator:"[0-9?]",cardinality:1}}}).format(h.join("")),m&&(h+=r.radixPoint),h.charAt(0)===r.groupSeparator&&h.substr(1)}}if(r.isNegative&&"blur"===s.event&&(r.isNegative="0"!==h),h=a+h,h+=o,r.isNegative&&(h=r.negationSymbol.front+h,h+=r.negationSymbol.back),h=h.split(""),void 0!==c)if(c!==r.radixPoint&&c!==r.negationSymbol.front&&c!==r.negationSymbol.back)(l=e.inArray("?",h))>-1?h[l]=c:l=s.caret||0;else if(c===r.radixPoint||c===r.negationSymbol.front||c===r.negationSymbol.back){var g=e.inArray(c,h);-1!==g&&(l=g)}r.numericInput&&(l=h.length-l-1,h=h.reverse());var v={caret:void 0!==c&&void 0===s.pos||void 0===l?l:l+(r.numericInput?-1:1),buffer:h,refreshFromBuffer:s.dopost||i.join("")!==h.join("")};return v.refreshFromBuffer?v:s},onBeforeWrite:function(i,n,s,r){if(i)switch(i.type){case"keydown":return r.postValidation(n,s,{caret:s,dopost:!0},r);case"blur":case"checkval":var o;if(function(e){void 0===e.parseMinMaxOptions&&(null!==e.min&&(e.min=e.min.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.min=e.min.replace(e.radixPoint,".")),e.min=isFinite(e.min)?parseFloat(e.min):NaN,isNaN(e.min)&&(e.min=Number.MIN_VALUE)),null!==e.max&&(e.max=e.max.toString().replace(new RegExp(t.escapeRegex(e.groupSeparator),"g"),""),","===e.radixPoint&&(e.max=e.max.replace(e.radixPoint,".")),e.max=isFinite(e.max)?parseFloat(e.max):NaN,isNaN(e.max)&&(e.max=Number.MAX_VALUE)),e.parseMinMaxOptions="done")}(r),null!==r.min||null!==r.max){if(o=r.onUnMask(n.join(""),void 0,e.extend({},r,{unmaskAsNumber:!0})),null!==r.min&&o<r.min)return r.isNegative=r.min<0,r.postValidation(r.min.toString().replace(".",r.radixPoint).split(""),s,{caret:s,dopost:!0,placeholder:"0"},r);if(null!==r.max&&o>r.max)return r.isNegative=r.max<0,r.postValidation(r.max.toString().replace(".",r.radixPoint).split(""),s,{caret:s,dopost:!0,placeholder:"0"},r)}return r.postValidation(n,s,{caret:s,placeholder:"0",event:"blur"},r);case"_checkval":return{caret:s}}},regex:{integerPart:function(e,i){return i?new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?"):new RegExp("["+t.escapeRegex(e.negationSymbol.front)+"+]?\\d+")},integerNPart:function(e){return new RegExp("[\\d"+t.escapeRegex(e.groupSeparator)+t.escapeRegex(e.placeholder.charAt(0))+"]+")}},definitions:{"~":{validator:function(e,i,n,s,r,o){var a;if("k"===e||"m"===e){a={insert:[],c:0};for(var l=0,u="k"===e?2:5;l<u;l++)a.insert.push({pos:n+l,c:0});return a.pos=n+u,a}if(!0===(a=s?new RegExp("[0-9"+t.escapeRegex(r.groupSeparator)+"]").test(e):new RegExp("[0-9]").test(e))){if(!0!==r.numericInput&&void 0!==i.validPositions[n]&&"~"===i.validPositions[n].match.def&&!o){var c=i.buffer.join(""),h=(c=(c=c.replace(new RegExp("[-"+t.escapeRegex(r.negationSymbol.front)+"]","g"),"")).replace(new RegExp(t.escapeRegex(r.negationSymbol.back)+"$"),"")).split(r.radixPoint);h.length>1&&(h[1]=h[1].replace(/0/g,r.placeholder.charAt(0))),"0"===h[0]&&(h[0]=h[0].replace(/0/g,r.placeholder.charAt(0))),c=h[0]+r.radixPoint+h[1]||"";var d=i._buffer.join("");for(c===r.radixPoint&&(c=d);null===c.match(t.escapeRegex(d)+"$");)d=d.slice(1);a=void 0===(c=(c=c.replace(d,"")).split(""))[n]?{pos:n,remove:n}:{pos:n}}}else s||e!==r.radixPoint||void 0!==i.validPositions[n-1]||(a={insert:{pos:n,c:0},pos:n+1});return a},cardinality:1},"+":{validator:function(t,e,i,n,s){return s.allowMinus&&("-"===t||t===s.negationSymbol.front)},cardinality:1,placeholder:""},"-":{validator:function(t,e,i,n,s){return s.allowMinus&&t===s.negationSymbol.back},cardinality:1,placeholder:""},":":{validator:function(e,i,n,s,r){var o="["+t.escapeRegex(r.radixPoint)+"]",a=new RegExp(o).test(e);return a&&i.validPositions[n]&&i.validPositions[n].match.placeholder===r.radixPoint&&(a={caret:n+1}),a},cardinality:1,placeholder:function(t){return t.radixPoint}}},onUnMask:function(e,i,n){if(""===i&&!0===n.nullable)return i;var s=e.replace(n.prefix,"");return s=(s=s.replace(n.suffix,"")).replace(new RegExp(t.escapeRegex(n.groupSeparator),"g"),""),""!==n.placeholder.charAt(0)&&(s=s.replace(new RegExp(n.placeholder.charAt(0),"g"),"0")),n.unmaskAsNumber?(""!==n.radixPoint&&-1!==s.indexOf(n.radixPoint)&&(s=s.replace(t.escapeRegex.call(this,n.radixPoint),".")),s=(s=s.replace(new RegExp("^"+t.escapeRegex(n.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(n.negationSymbol.back)+"$"),""),Number(s)):s},isComplete:function(e,i){var n=(i.numericInput?e.slice().reverse():e).join("");return n=(n=(n=(n=(n=n.replace(new RegExp("^"+t.escapeRegex(i.negationSymbol.front)),"-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back)+"$"),"")).replace(i.prefix,"")).replace(i.suffix,"")).replace(new RegExp(t.escapeRegex(i.groupSeparator)+"([0-9]{3})","g"),"$1"),","===i.radixPoint&&(n=n.replace(t.escapeRegex(i.radixPoint),".")),isFinite(n)},onBeforeMask:function(i,n){n.isNegative=void 0;var s=n.radixPoint||",";"number"!=typeof i&&"number"!==n.inputType||""===s||(i=i.toString().replace(".",s));var r=i.split(s),o=r[0].replace(/[^\-0-9]/g,""),a=r.length>1?r[1].replace(/[^0-9]/g,""):"";i=o+(""!==a?s+a:a);var l=0;if(""!==s&&(l=a.length,""!==a)){var u=Math.pow(10,l||1);isFinite(n.digits)&&(l=parseInt(n.digits),u=Math.pow(10,l)),i=i.replace(t.escapeRegex(s),"."),isFinite(i)&&(i=Math.round(parseFloat(i)*u)/u),i=i.toString().replace(".",s)}return 0===n.digits&&-1!==i.indexOf(t.escapeRegex(s))&&(i=i.substring(0,i.indexOf(t.escapeRegex(s)))),function(t,i,n){if(i>0){var s=e.inArray(n.radixPoint,t);-1===s&&(t.push(n.radixPoint),s=t.length-1);for(var r=1;r<=i;r++)t[s+r]=t[s+r]||"0"}return t}(i.toString().split(""),l,n).join("")},onKeyDown:function(i,n,s,r){var o=e(this);if(i.ctrlKey)switch(i.keyCode){case t.keyCode.UP:o.val(parseFloat(this.inputmask.unmaskedvalue())+parseInt(r.step)),o.trigger("setvalue");break;case t.keyCode.DOWN:o.val(parseFloat(this.inputmask.unmaskedvalue())-parseInt(r.step)),o.trigger("setvalue")}}},currency:{prefix:"$ ",groupSeparator:",",alias:"numeric",placeholder:"0",autoGroup:!0,digits:2,digitsOptional:!1,clearMaskOnLostFocus:!1},decimal:{alias:"numeric"},integer:{alias:"numeric",digits:0,radixPoint:""},percentage:{alias:"numeric",digits:2,digitsOptional:!0,radixPoint:".",placeholder:"0",autoGroup:!1,min:0,max:100,suffix:" %",allowMinus:!1}}),t})?n.apply(e,s):n)||(t.exports=r)},function(t,e,i){"use strict";var n,s,r,o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};s=[i(4),i(2)],void 0===(r="function"==typeof(n=function(t,e){return void 0===t.fn.inputmask&&(t.fn.inputmask=function(i,n){var s,r=this[0];if(void 0===n&&(n={}),"string"==typeof i)switch(i){case"unmaskedvalue":return r&&r.inputmask?r.inputmask.unmaskedvalue():t(r).val();case"remove":return this.each(function(){this.inputmask&&this.inputmask.remove()});case"getemptymask":return r&&r.inputmask?r.inputmask.getemptymask():"";case"hasMaskedValue":return!(!r||!r.inputmask)&&r.inputmask.hasMaskedValue();case"isComplete":return!r||!r.inputmask||r.inputmask.isComplete();case"getmetadata":return r&&r.inputmask?r.inputmask.getmetadata():void 0;case"setvalue":e.setValue(r,n);break;case"option":if("string"!=typeof n)return this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(n)});if(r&&void 0!==r.inputmask)return r.inputmask.option(n);break;default:return n.alias=i,s=new e(n),this.each(function(){s.mask(this)})}else{if(Array.isArray(i))return n.alias=i,s=new e(n),this.each(function(){s.mask(this)});if("object"==(void 0===i?"undefined":o(i)))return s=new e(i),void 0===i.mask&&void 0===i.alias?this.each(function(){if(void 0!==this.inputmask)return this.inputmask.option(i);s.mask(this)}):this.each(function(){s.mask(this)});if(void 0===i)return this.each(function(){(s=new e(n)).mask(this)})}}),t.fn.inputmask})?n.apply(e,s):n)||(t.exports=r)}]),function(t){"function"==typeof define&&define.amd?define(["jquery","./jquery.validate"],t):"object"==typeof module&&module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){return function(){function e(t){return t.replace(/<.[^<>]*?>/g," ").replace(/&nbsp;|&#160;/gi," ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g,"")}t.validator.addMethod("maxWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length<=n},t.validator.format("Please enter {0} words or less.")),t.validator.addMethod("minWords",function(t,i,n){return this.optional(i)||e(t).match(/\b\w+\b/g).length>=n},t.validator.format("Please enter at least {0} words.")),t.validator.addMethod("rangeWords",function(t,i,n){var s=e(t),r=/\b\w+\b/g;return this.optional(i)||s.match(r).length>=n[0]&&s.match(r).length<=n[1]},t.validator.format("Please enter between {0} and {1} words."))}(),t.validator.addMethod("accept",function(e,i,n){var s,r,o="string"==typeof n?n.replace(/\s/g,""):"image/*",a=this.optional(i);if(a)return a;if("file"===t(i).attr("type")&&(o=o.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g,"\\$&").replace(/,/g,"|").replace(/\/\*/g,"/.*"),i.files&&i.files.length))for(r=new RegExp(".?("+o+")$","i"),s=0;s<i.files.length;s++)if(!i.files[s].type.match(r))return!1;return!0},t.validator.format("Please enter a value with a valid mimetype.")),t.validator.addMethod("alphanumeric",function(t,e){return this.optional(e)||/^\w+$/i.test(t)},"Letters, numbers, and underscores only please"),t.validator.addMethod("bankaccountNL",function(t,e){if(this.optional(e))return!0;if(!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t))return!1;var i,n=t.replace(/ /g,""),s=0,r=n.length;for(i=0;i<r;i++)s+=(r-i)*n.substring(i,i+1);return s%11==0},"Please specify a valid bank account number"),t.validator.addMethod("bankorgiroaccountNL",function(e,i){return this.optional(i)||t.validator.methods.bankaccountNL.call(this,e,i)||t.validator.methods.giroaccountNL.call(this,e,i)},"Please specify a valid bank or giro account number"),t.validator.addMethod("bic",function(t,e){return this.optional(e)||/^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase())},"Please specify a valid BIC code"),t.validator.addMethod("cifES",function(t,e){"use strict";if(this.optional(e))return!0;var i,n,s,r,o=new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi),a=t.substring(0,1),l=t.substring(1,8),u=t.substring(8,9),c=0,h=0;function d(t){return t%2==0}if(9!==t.length||!o.test(t))return!1;for(i=0;i<l.length;i++)n=parseInt(l[i],10),d(i)?h+=(n*=2)<10?n:n-9:c+=n;return s=(10-(c+h).toString().substr(-1)).toString(),s=parseInt(s,10)>9?"0":s,r="JABCDEFGHI".substr(s,1).toString(),a.match(/[ABEH]/)?u===s:a.match(/[KPQS]/)?u===r:u===s||u===r},"Please specify a valid CIF number."),t.validator.addMethod("cpfBR",function(t){if(11!==(t=t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g,"")).length)return!1;var e,i,n,s,r=0;if(e=parseInt(t.substring(9,10),10),i=parseInt(t.substring(10,11),10),n=function(t,e){var i=10*t%11;return 10!==i&&11!==i||(i=0),i===e},""===t||"00000000000"===t||"11111111111"===t||"22222222222"===t||"33333333333"===t||"44444444444"===t||"55555555555"===t||"66666666666"===t||"77777777777"===t||"88888888888"===t||"99999999999"===t)return!1;for(s=1;s<=9;s++)r+=parseInt(t.substring(s-1,s),10)*(11-s);if(n(r,e)){for(r=0,s=1;s<=10;s++)r+=parseInt(t.substring(s-1,s),10)*(12-s);return n(r,i)}return!1},"Please specify a valid CPF number"),t.validator.addMethod("creditcard",function(t,e){if(this.optional(e))return"dependency-mismatch";if(/[^0-9 \-]+/.test(t))return!1;var i,n,s=0,r=0,o=!1;if((t=t.replace(/\D/g,"")).length<13||t.length>19)return!1;for(i=t.length-1;i>=0;i--)n=t.charAt(i),r=parseInt(n,10),o&&(r*=2)>9&&(r-=9),s+=r,o=!o;return s%10==0},"Please enter a valid credit card number."),t.validator.addMethod("creditcardtypes",function(t,e,i){if(/[^0-9\-]+/.test(t))return!1;t=t.replace(/\D/g,"");var n=0;return i.mastercard&&(n|=1),i.visa&&(n|=2),i.amex&&(n|=4),i.dinersclub&&(n|=8),i.enroute&&(n|=16),i.discover&&(n|=32),i.jcb&&(n|=64),i.unknown&&(n|=128),i.all&&(n=255),1&n&&/^(5[12345])/.test(t)?16===t.length:2&n&&/^(4)/.test(t)?16===t.length:4&n&&/^(3[47])/.test(t)?15===t.length:8&n&&/^(3(0[012345]|[68]))/.test(t)?14===t.length:16&n&&/^(2(014|149))/.test(t)?15===t.length:32&n&&/^(6011)/.test(t)?16===t.length:64&n&&/^(3)/.test(t)?16===t.length:64&n&&/^(2131|1800)/.test(t)?15===t.length:!!(128&n)},"Please enter a valid credit card number."),t.validator.addMethod("currency",function(t,e,i){var n,s="string"==typeof i,r=s?i:i[0],o=!!s||i[1];return r=r.replace(/,/g,""),n="^["+(r=o?r+"]":r+"]?")+"([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$",n=new RegExp(n),this.optional(e)||n.test(t)},"Please specify a valid currency"),t.validator.addMethod("dateFA",function(t,e){return this.optional(e)||/^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t)},t.validator.messages.date),t.validator.addMethod("dateITA",function(t,e){var i,n,s,r,o,a=!1;return/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t)?(i=t.split("/"),n=parseInt(i[0],10),s=parseInt(i[1],10),r=parseInt(i[2],10),a=(o=new Date(Date.UTC(r,s-1,n,12,0,0,0))).getUTCFullYear()===r&&o.getUTCMonth()===s-1&&o.getUTCDate()===n):a=!1,this.optional(e)||a},t.validator.messages.date),t.validator.addMethod("dateNL",function(t,e){return this.optional(e)||/^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t)},t.validator.messages.date),t.validator.addMethod("extension",function(t,e,i){return i="string"==typeof i?i.replace(/,/g,"|"):"png|jpe?g|gif",this.optional(e)||t.match(new RegExp("\\.("+i+")$","i"))},t.validator.format("Please enter a value with a valid extension.")),t.validator.addMethod("giroaccountNL",function(t,e){return this.optional(e)||/^[0-9]{1,7}$/.test(t)},"Please specify a valid giro account number"),t.validator.addMethod("iban",function(t,e){if(this.optional(e))return!0;var i,n,s,r,o,a=t.replace(/ /g,"").toUpperCase(),l="",u=!0,c="";if(a.length<5)return!1;if(void 0!==(s={AL:"\\d{8}[\\dA-Z]{16}",AD:"\\d{8}[\\dA-Z]{12}",AT:"\\d{16}",AZ:"[\\dA-Z]{4}\\d{20}",BE:"\\d{12}",BH:"[A-Z]{4}[\\dA-Z]{14}",BA:"\\d{16}",BR:"\\d{23}[A-Z][\\dA-Z]",BG:"[A-Z]{4}\\d{6}[\\dA-Z]{8}",CR:"\\d{17}",HR:"\\d{17}",CY:"\\d{8}[\\dA-Z]{16}",CZ:"\\d{20}",DK:"\\d{14}",DO:"[A-Z]{4}\\d{20}",EE:"\\d{16}",FO:"\\d{14}",FI:"\\d{14}",FR:"\\d{10}[\\dA-Z]{11}\\d{2}",GE:"[\\dA-Z]{2}\\d{16}",DE:"\\d{18}",GI:"[A-Z]{4}[\\dA-Z]{15}",GR:"\\d{7}[\\dA-Z]{16}",GL:"\\d{14}",GT:"[\\dA-Z]{4}[\\dA-Z]{20}",HU:"\\d{24}",IS:"\\d{22}",IE:"[\\dA-Z]{4}\\d{14}",IL:"\\d{19}",IT:"[A-Z]\\d{10}[\\dA-Z]{12}",KZ:"\\d{3}[\\dA-Z]{13}",KW:"[A-Z]{4}[\\dA-Z]{22}",LV:"[A-Z]{4}[\\dA-Z]{13}",LB:"\\d{4}[\\dA-Z]{20}",LI:"\\d{5}[\\dA-Z]{12}",LT:"\\d{16}",LU:"\\d{3}[\\dA-Z]{13}",MK:"\\d{3}[\\dA-Z]{10}\\d{2}",MT:"[A-Z]{4}\\d{5}[\\dA-Z]{18}",MR:"\\d{23}",MU:"[A-Z]{4}\\d{19}[A-Z]{3}",MC:"\\d{10}[\\dA-Z]{11}\\d{2}",MD:"[\\dA-Z]{2}\\d{18}",ME:"\\d{18}",NL:"[A-Z]{4}\\d{10}",NO:"\\d{11}",PK:"[\\dA-Z]{4}\\d{16}",PS:"[\\dA-Z]{4}\\d{21}",PL:"\\d{24}",PT:"\\d{21}",RO:"[A-Z]{4}[\\dA-Z]{16}",SM:"[A-Z]\\d{10}[\\dA-Z]{12}",SA:"\\d{2}[\\dA-Z]{18}",RS:"\\d{18}",SK:"\\d{20}",SI:"\\d{15}",ES:"\\d{20}",SE:"\\d{20}",CH:"\\d{5}[\\dA-Z]{12}",TN:"\\d{20}",TR:"\\d{5}[\\dA-Z]{17}",AE:"\\d{3}\\d{16}",GB:"[A-Z]{4}\\d{14}",VG:"[\\dA-Z]{4}\\d{16}"}[a.substring(0,2)])&&!new RegExp("^[A-Z]{2}\\d{2}"+s+"$","").test(a))return!1;for(i=a.substring(4,a.length)+a.substring(0,4),r=0;r<i.length;r++)"0"!==(n=i.charAt(r))&&(u=!1),u||(l+="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(n));for(o=0;o<l.length;o++)c=(""+c+l.charAt(o))%97;return 1===c},"Please specify a valid IBAN"),t.validator.addMethod("integer",function(t,e){return this.optional(e)||/^-?\d+$/.test(t)},"A positive or negative non-decimal number please"),t.validator.addMethod("ipv4",function(t,e){return this.optional(e)||/^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t)},"Please enter a valid IP v4 address."),t.validator.addMethod("ipv6",function(t,e){return this.optional(e)||/^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t)},"Please enter a valid IP v6 address."),t.validator.addMethod("lettersonly",function(t,e){return this.optional(e)||/^[a-z]+$/i.test(t)},"Letters only please"),t.validator.addMethod("letterswithbasicpunc",function(t,e){return this.optional(e)||/^[a-z\-.,()'"\s]+$/i.test(t)},"Letters or punctuation only please"),t.validator.addMethod("mobileNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid mobile number"),t.validator.addMethod("mobileUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/)},"Please specify a valid mobile number"),t.validator.addMethod("netmask",function(t,e){return this.optional(e)||/^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t)},"Please enter a valid netmask."),t.validator.addMethod("nieES",function(t,e){"use strict";if(this.optional(e))return!0;var i,n=new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi),s=t.substr(t.length-1).toUpperCase();return!((t=t.toString().toUpperCase()).length>10||t.length<9||!n.test(t))&&(i=9===(t=t.replace(/^[X]/,"0").replace(/^[Y]/,"1").replace(/^[Z]/,"2")).length?t.substr(0,8):t.substr(0,9),"TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(i,10)%23)===s)},"Please specify a valid NIE number."),t.validator.addMethod("nifES",function(t,e){"use strict";return!!this.optional(e)||!!(t=t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)")&&(/^[0-9]{8}[A-Z]{1}$/.test(t)?"TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,0)%23)===t.charAt(8):!!/^[KLM]{1}/.test(t)&&t[8]==="TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8,1)%23))},"Please specify a valid NIF number."),t.validator.addMethod("nipPL",function(t){"use strict";if(10!==(t=t.replace(/[^0-9]/g,"")).length)return!1;for(var e=[6,5,7,2,3,4,5,6,7],i=0,n=0;n<9;n++)i+=e[n]*t[n];var s=i%11;return(10===s?0:s)===parseInt(t[9],10)},"Please specify a valid NIP number."),t.validator.addMethod("notEqualTo",function(e,i,n){return this.optional(i)||!t.validator.methods.equalTo.call(this,e,i,n)},"Please enter a different value, values must not be the same."),t.validator.addMethod("nowhitespace",function(t,e){return this.optional(e)||/^\S+$/i.test(t)},"No white space please"),t.validator.addMethod("pattern",function(t,e,i){return!!this.optional(e)||("string"==typeof i&&(i=new RegExp("^(?:"+i+")$")),i.test(t))},"Invalid format."),t.validator.addMethod("phoneNL",function(t,e){return this.optional(e)||/^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t)},"Please specify a valid phone number."),t.validator.addMethod("phonesUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/)},"Please specify a valid uk phone number"),t.validator.addMethod("phoneUK",function(t,e){return t=t.replace(/\(|\)|\s+|-/g,""),this.optional(e)||t.length>9&&t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/)},"Please specify a valid phone number"),t.validator.addMethod("phoneUS",function(t,e){return t=t.replace(/\s+/g,""),this.optional(e)||t.length>9&&t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]([02-9]\d|1[02-9])-?\d{4}$/)},"Please specify a valid phone number"),t.validator.addMethod("postalcodeBR",function(t,e){return this.optional(e)||/^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t)},"Informe um CEP vÃ¡lido."),t.validator.addMethod("postalCodeCA",function(t,e){return this.optional(e)||/^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeIT",function(t,e){return this.optional(e)||/^\d{5}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postalcodeNL",function(t,e){return this.optional(e)||/^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t)},"Please specify a valid postal code"),t.validator.addMethod("postcodeUK",function(t,e){return this.optional(e)||/^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t)},"Please specify a valid UK postcode"),t.validator.addMethod("require_from_group",function(e,i,n){var s=t(n[1],i.form),r=s.eq(0),o=r.data("valid_req_grp")?r.data("valid_req_grp"):t.extend({},this),a=s.filter(function(){return o.elementValue(this)}).length>=n[0];return r.data("valid_req_grp",o),t(i).data("being_validated")||(s.data("being_validated",!0),s.each(function(){o.element(this)}),s.data("being_validated",!1)),a},t.validator.format("Please fill at least {0} of these fields.")),t.validator.addMethod("skip_or_fill_minimum",function(e,i,n){var s=t(n[1],i.form),r=s.eq(0),o=r.data("valid_skip")?r.data("valid_skip"):t.extend({},this),a=s.filter(function(){return o.elementValue(this)}).length,l=0===a||a>=n[0];return r.data("valid_skip",o),t(i).data("being_validated")||(s.data("being_validated",!0),s.each(function(){o.element(this)}),s.data("being_validated",!1)),l},t.validator.format("Please either skip these fields or fill at least {0} of them.")),t.validator.addMethod("stateUS",function(t,e,i){var n,s=void 0===i,r=!s&&void 0!==i.caseSensitive&&i.caseSensitive,o=!s&&void 0!==i.includeTerritories&&i.includeTerritories,a=!s&&void 0!==i.includeMilitary&&i.includeMilitary;return n=o||a?o&&a?"^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":o?"^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$":"^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$":"^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$",n=r?new RegExp(n):new RegExp(n,"i"),this.optional(e)||n.test(t)},"Please specify a valid state"),t.validator.addMethod("strippedminlength",function(e,i,n){return t(e).text().length>=n},t.validator.format("Please enter at least {0} characters")),t.validator.addMethod("time",function(t,e){return this.optional(e)||/^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t)},"Please enter a valid time, between 00:00 and 23:59"),t.validator.addMethod("time12h",function(t,e){return this.optional(e)||/^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t)},"Please enter a valid time in 12-hour am/pm format"),t.validator.addMethod("url2",function(t,e){return this.optional(e)||/^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)},t.validator.messages.url),t.validator.addMethod("vinUS",function(t){if(17!==t.length)return!1;var e,i,n,s,r,o,a=["A","B","C","D","E","F","G","H","J","K","L","M","N","P","R","S","T","U","V","W","X","Y","Z"],l=[1,2,3,4,5,6,7,8,1,2,3,4,5,7,9,2,3,4,5,6,7,8,9],u=[8,7,6,5,4,3,2,10,0,9,8,7,6,5,4,3,2],c=0;for(e=0;e<17;e++){if(s=u[e],n=t.slice(e,e+1),8===e&&(o=n),isNaN(n)){for(i=0;i<a.length;i++)if(n.toUpperCase()===a[i]){n=l[i],n*=s,isNaN(o)&&8===i&&(o=a[i]);break}}else n*=s;c+=n}return 10===(r=c%11)&&(r="X"),r===o},"The specified vehicle identification number (VIN) is invalid."),t.validator.addMethod("zipcodeUS",function(t,e){return this.optional(e)||/^\d{5}(-\d{4})?$/.test(t)},"The specified US ZIP Code is invalid"),t.validator.addMethod("ziprange",function(t,e){return this.optional(e)||/^90[2-5]\d\{2\}-\d{4}$/.test(t)},"Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"),t.validator.addMethod("prescrIssueDate",function(e,i,n){var s=parseInt(t("#month-valid-config").val())||12;if(this.optional(i))return!0;if(!n||isNaN(parseInt(t(n.sel_YYYY).val()))||isNaN(parseInt(t(n.sel_MM).val())))return!0;var r=new Date(parseInt(t(n.sel_YYYY).val()),parseInt(t(n.sel_MM).val())-1,parseInt(t(n.sel_dd).val())||1,parseInt(t(n.sel_HH).val())||0,parseInt(t(n.sel_mm).val())||0,parseInt(t(n.sel_ss).val())||0);r.setMonth(r.getMonth()+s);var o=new Date;return(o=new Date(o.getFullYear(),o.getMonth(),o.getDate()+1)).setMilliseconds(o.getMilliseconds()-1),r>o},"Please enter a valid prescription date."),t}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.SpriteSpin={})}(this,function(t){"use strict";var e=function(){return function(t){this.data=t}}();function i(t){var i=e.prototype;for(var n in t)if(t.hasOwnProperty(n)){if(i[n])throw new Error("API method is already defined: "+n);i[n]=t[n]}return i}var n,s,r,o=window.jQuery||window.$;function a(t){var e=t.touches,i=t;return void 0===t.touches&&void 0!==t.originalEvent&&(e=t.originalEvent.touches),void 0!==e&&e.length>0&&(i=e[0]),{x:i.clientX||0,y:i.clientY||0}}function l(t,e,i){if(!(s||(n||(n=document.createElement("canvas")),n&&n.getContext&&(s=n.getContext("2d")))))return!1;if(e*i<=1048576)return!1;n.width=n.height=1,s.fillStyle="#FF00FF",s.fillRect(0,0,1,1),s.drawImage(t,1-e,0);try{var r=s.getImageData(0,0,1,1).data;return 255===r[0]&&0===r[1]&&255===r[2]}catch(t){return!1}}function u(t){var e=Math.floor(t.width||t.frameWidth||t.target.innerWidth()),i=Math.floor(t.height||t.frameHeight||t.target.innerHeight());return{aspect:e/i,height:i,width:e}}function c(t){var e=u(t);if("function"!=typeof window.getComputedStyle)return e;var i=window.getComputedStyle(t.target[0]);return i.width?(e.width=Math.floor(Number(i.width.replace("px",""))),e.height=Math.floor(e.width/e.aspect),e):e}function h(t){var e=Math.floor(t.frameWidth||t.width||t.target.innerWidth()),i=Math.floor(t.frameHeight||t.height||t.target.innerHeight());return{aspect:e/i,height:i,width:e}}function d(t,e,i){var n="fit"===t,s="fill"===t,r={width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute",overflow:"hidden"};if(!t||"stretch"===t)return r;var o=e.aspect>=i.aspect,a=e.width,l=e.height;return(n&&o||s&&!o)&&(a=i.width,l=i.width/e.aspect),(s&&o||n&&!o)&&(l=i.height,a=i.height*e.aspect),a=Math.floor(a),l=Math.floor(l),r.width=a,r.height=l,r.top=Math.floor((i.height-l)/2),r.left=Math.floor((i.width-a)/2),r.right=r.left,r.bottom=r.top,r}function p(t){return t.naturalWidth?{height:t.naturalHeight,width:t.naturalWidth}:((r=r||new Image).crossOrigin=t.crossOrigin,r.src=t.src,{height:r.height,width:r.width})}function f(t,e){return 1===t.length?[m(t[0],e)]:e.framesX&&e.framesY?function(t,e){for(var i=[],n=0;n<t.length;n++){var s=m(t[n],{frames:void 0,framesX:e.framesX,framesY:e.framesY,detectSubsampling:e.detectSubsampling});s.id=n,i.push(s)}return i}(t,e):function(t,e){for(var i=[],n=0;n<t.length;n++){var s=m(t[n],{frames:1,framesX:1,detectSubsampling:e.detectSubsampling});s.id=n,i.push(s)}return i}(t,e)}function m(t,e){var i={id:0,sprites:[]};!function(t,e,i){var n=p(t);i.isSubsampled=e.detectSubsampling&&l(t,n.width,n.height),i.width=n.width,i.height=n.height,i.sampledWidth=n.width/(i.isSubsampled?2:1),i.sampledHeight=n.height/(i.isSubsampled?2:1)}(t,e,i);for(var n=e.frames,s=Number(e.framesX)||n,r=Math.ceil(n/s),o=Math.floor(i.width/s),a=Math.floor(i.height/r),u=i.isSubsampled?2:1,c=0;c<n;c++){var h=c%s*o,d=Math.floor(c/s)*a;i.sprites.push({id:c,x:h,y:d,width:o,height:a,sampledX:h/u,sampledY:d/u,sampledWidth:o/u,sampledHeight:a/u})}return i}function g(t,e,i,n){for(var s=n*e+i,r=0,o=null,a=null;a=t[r];){if(!(s>=a.sprites.length)){o=a.sprites[s];break}s-=a.sprites.length,r++}return{sprite:o,sheet:a}}function v(t,e){for(var i=0;i<e.length;i++)if(e[i]===t)return i}function y(){}function _(t){var e,i=t.source;e="string"==typeof i?[i]:i;for(var n=[],s=t.preloadCount||e.length,r=t.initiated||y,o=t.progress||y,a=t.complete||y,l=0,u=!1,c=!1,h=function(){l+=1,o({index:v(this,n),loaded:l,total:e.length,percent:Math.round(l/e.length*100)}),(c=c||this===n[0])&&!u&&l>=s&&(u=!0,a(n))},d=0,p=e;d<p.length;d++){var f=p[d],m=new Image;n.push(m),m.crossOrigin=t.crossOrigin,m.onload=m.onabort=m.onerror=h,m.src=f}r(n)}function b(t,e,i){for(var n=String(t);n.length<e;)n=String(i)+n;return n}function w(t,e){var i=e.digits||2,n=e.lanePlacer||"{lane}",s=e.framePlacer||"{frame}",r=0,o=0;e.frame&&(r=e.frame[0],o=e.frame[1]);var a=0,l=0;e.lane&&(a=e.lane[0],l=e.lane[1]);for(var u=[],c=a;c<=l;c+=1)for(var h=r;h<=o;h+=1)u.push(t.replace(n,b(c,i,"0")).replace(s,b(h,i,"0")));return u}var T="spritespin",k=["mousedown","mousemove","mouseup","mouseenter","mouseover","mouseleave","mousewheel","wheel","click","dblclick","touchstart","touchmove","touchend","touchcancel","selectstart","gesturestart","gesturechange","gestureend"],S=["onInit","onProgress","onLoad","onFrameChanged","onFrame","onDraw","onComplete","onDestroy"],C=["dragstart"],x={source:void 0,width:void 0,height:void 0,frames:void 0,framesX:void 0,lanes:1,sizeMode:void 0,renderer:"canvas",lane:0,frame:0,frameTime:40,animate:!0,retainAnimate:!1,reverse:!1,loop:!0,stopFrame:0,wrap:!0,wrapLane:!1,sense:1,senseLane:void 0,orientation:"horizontal",detectSubsampling:!0,preloadCount:void 0,touchScrollTimer:[200,1500],responsive:void 0,plugins:void 0};function E(){}function D(t){return console&&console[t]?function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return console.log.apply(console,t)}:E}var A=D("log"),P=D("warn"),I=D("error");function O(t){return Array.isArray(t)?t:[t]}function M(t,e,i){return t>i?i:t<e?e:t}function L(t,e,i,n){for(;t>i;)t-=n;for(;t<e;)t+=n;return t}function N(t){return t.preventDefault(),!1}function R(t,e,i){i&&t.bind(e+"."+T,function(e){i.apply(t,[e,t.spritespin("data")])})}function U(t){t.unbind("."+T)}function F(t){return(window.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}function j(t){t.target.attr("unselectable","on").css({width:"",height:"","-ms-user-select":"none","-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","user-select":"none"});var e=t.responsive?c(t):u(t),i=d(t.sizeMode,h(t),e);t.target.css({width:e.width,height:e.height,position:"relative",overflow:"hidden"}),t.stage.css(i).hide(),t.canvas&&(t.canvas.css(i).hide(),t.canvasRatio=t.canvasRatio||F(t.context),"number"==typeof i.width&&"number"==typeof i.height?(t.canvas[0].width=i.width*t.canvasRatio||e.width,t.canvas[0].height=i.height*t.canvasRatio||e.height):(t.canvas[0].width=e.width*t.canvasRatio,t.canvas[0].height=e.height*t.canvasRatio),t.context.scale(t.canvasRatio,t.canvasRatio))}function H(t,e){return t.state=t.state||{},t.state[e]=t.state[e]||{},t.state[e]}function z(t,e){var i=H(t,"plugin");return i[e]=i[e]||{},i[e]}function B(t,e){return!!H(t,"flags")[e]}function W(t,e,i){H(t,"flags")[e]=!!i}function Y(t){return H(t,"playback")}function V(t){Y(t).handler&&(q(t),function(t){t.frame+=t.reverse?-1:1,t.frame=L(t.frame,0,t.frames-1,t.frames),t.loop||t.frame!==t.stopFrame||K(t)}(t),G(t))}function q(t){var e=Y(t);e.lastFrame=t.frame,e.lastLane=t.lane}function G(t){var e=Y(t);e.lastFrame===t.frame&&e.lastLane===t.lane||t.target.trigger("onFrameChanged."+T,t),t.target.trigger("onFrame."+T,t),t.target.trigger("onDraw."+T,t)}function X(t,e,i){q(t),null!=e&&function(t,e){t.frame=Number(e),t.frame=t.wrap?L(t.frame,0,t.frames-1,t.frames):M(t.frame,0,t.frames-1)}(t,e),null!=i&&function(t,e){t.lane=t.wrapLane?L(e,0,t.lanes-1,t.lanes):M(e,0,t.lanes-1)}(t,i),G(t)}function K(t){t.animate=!1;var e=Y(t);null!=e.handler&&(window.clearInterval(e.handler),e.handler=null)}function Z(t){var e=Y(t);!e.handler||t.animate&&e.frameTime===t.frameTime||K(t),t.animate&&!e.handler&&(e.frameTime=t.frameTime,e.handler=window.setInterval(function(){return V(t)},e.frameTime))}function Q(t){t.animate=!0,Z(t)}var J={};function tt(t,e){if(!J[t])return e=e||{},J[t]=e,e;I('Plugin name "'+t+'" is already taken')}function et(t){return J[t]}function it(t){!function(t){t.mods&&(P('"mods" option is deprecated, use "plugins" instead'),t.plugins=t.mods,delete t.mods);t.behavior&&(P('"behavior" option is deprecated, use "plugins" instead'),t.plugins.push(t.behavior),delete t.behavior);t.module&&(P('"module" option is deprecated, use "plugins" instead'),t.plugins.push(t.module),delete t.module)}(t);for(var e=0;e<t.plugins.length;e+=1){var i=t.plugins[e];if("string"==typeof i){var n=et(i);n?t.plugins[e]=n:I("No plugin found with name "+i)}}}var nt=o,st=0,rt={};function ot(t){for(var e in rt)rt.hasOwnProperty(e)&&t(rt[e])}var at=function(){function t(){ot(function(t){t.responsive&&ut(t)})}at=function(){};for(var e=function(t){nt(window.document).bind(t+"."+T,function(e){!function(t,e){ot(function(i){for(var n=0,s=i.plugins;n<s.length;n++){var r=s[n];"function"==typeof r[t]&&r[t].apply(i.target,[e,i])}})}("document"+t,e)})},i=0,n=k;i<n.length;i++){e(n[i])}var s=null;nt(window).on("resize",function(){window.clearTimeout(s),s=window.setTimeout(t,100)})};function lt(t){var e=t.target;U(e);for(var i=0,n=C;i<n.length;i++){R(e,p=n[i],N)}for(var s=0,r=t.plugins;s<r.length;s++){for(var o=r[s],a=0,l=k;a<l.length;a++){R(e,p=l[a],o[p])}for(var u=0,c=S;u<c.length;u++){R(e,p=c[u],o[p])}}R(e,"onLoad",function(t,e){Z(e)});for(var h=0,d=S;h<d.length;h++){var p;R(e,p=d[h],t[p])}}function ut(t){it(t),lt(t),j(t),t.source=O(t.source),t.loading=!0,t.target.addClass("loading").trigger("onInit."+T,t),_({source:t.source,crossOrigin:t.crossOrigin,preloadCount:t.preloadCount,progress:function(e){t.progress=e,t.target.trigger("onProgress."+T,t)},complete:function(e){t.images=e,t.loading=!1,t.frames=t.frames||e.length,function(t){t.images||(t.metrics=[]),t.metrics=f(t.images,t);var e=g(t.metrics,t.frames,0,0);e.sprite&&(t.frameWidth=e.sprite.width,t.frameHeight=e.sprite.height)}(t),j(t),t.stage.show(),t.target.removeClass("loading").trigger("onLoad."+T,t).trigger("onFrame."+T,t).trigger("onDraw."+T,t).trigger("onComplete."+T,t)}})}function ct(t){var e=this,i=t.target,n=nt.extend(!0,{},x,t);if(n.source=n.source||[],n.plugins=n.plugins||["360","drag"],i.find("img").each(function(){Array.isArray(n.source)||(n.source=[]),n.source.push(nt(e).attr("src"))}),i.empty().addClass("spritespin-instance").append("<div class='spritespin-stage'></div>"),"canvas"===n.renderer){var s=document.createElement("canvas");s.getContext&&s.getContext("2d")?(n.canvas=nt(s).addClass("spritespin-canvas"),n.context=s.getContext("2d"),i.append(n.canvas),i.addClass("with-canvas")):n.renderer="image"}return n.target=i,n.stage=i.find(".spritespin-stage"),i.data(T,n),function(t){st+=1,t.id=String(st),rt[t.id]=t}(n),n}function ht(t){at();var e=t.target.data(T);return e?nt.extend(e,t):e=ct(t),ut(e),e}function dt(t){!function(t){delete rt[t.id]}(t),K(t),t.target.trigger("onDestroy",t).html(null).attr("style",null).attr("unselectable",null).removeClass(["spritespin-instance","with-canvas"]),U(t.target),t.target.removeData(T)}function pt(t){return H(t,"input")}function ft(t,e){var i=a(t),n=pt(e);n.oldX=n.currentX,n.oldY=n.currentY,n.currentX=i.x,n.currentY=i.y,void 0!==n.oldX&&void 0!==n.oldY||(n.oldX=n.currentX,n.oldY=n.currentY),void 0!==n.startX&&void 0!==n.startY||(n.startX=n.currentX,n.startY=n.currentY,n.clickframe=e.frame,n.clicklane=e.lane),n.dX=n.currentX-n.startX,n.dY=n.currentY-n.startY,n.ddX=n.currentX-n.oldX,n.ddY=n.currentY-n.oldY,n.ndX=n.dX/e.target.innerWidth(),n.ndY=n.dY/e.target.innerHeight(),n.nddX=n.ddX/e.target.innerWidth(),n.nddY=n.ddY/e.target.innerHeight()}function mt(t){var e=pt(t);e.startX=e.startY=void 0,e.currentX=e.currentY=void 0,e.oldX=e.oldY=void 0,e.dX=e.dY=0,e.ddX=e.ddY=0,e.ndX=e.ndY=0,e.nddX=e.nddY=0}function gt(t,e){for(var i=0,n=e;i<n.length;i++){var s=n[i];if(t[s]||s in t)return s}return e[0]}o.fn[T]=function(t,i){var n,s=o(this);if("data"===t)return s.data(T);if("api"===t){var r=s.data(T);return r.api=r.api||new e(r),r.api}if("destroy"===t)return s.each(function(){var t=s.data(T);t&&dt(t)});if(2===arguments.length&&"string"==typeof t&&((n={})[t]=i,t=n),"object"==typeof t)return ht(o.extend(!0,{target:s},t)).target;throw new Error("Invalid call to spritespin")},i({isPlaying:function(){return null!=Y(this.data).handler},isLooping:function(){return this.data.loop},toggleAnimation:function(){this.isPlaying()?this.stopAnimation():this.startAnimation()},stopAnimation:function(){this.data.animate=!1,K(this.data)},startAnimation:function(){this.data.animate=!0,Z(this.data)},loop:function(t){return this.data.loop=t,Z(this.data),this},currentFrame:function(){return this.data.frame},updateFrame:function(t){return X(this.data,t),this},skipFrames:function(t){var e=this.data;return X(e,e.frame+(e.reverse?-t:+t)),this},nextFrame:function(){return this.skipFrames(1)},prevFrame:function(){return this.skipFrames(-1)},playTo:function(t,e){var i=this.data;if((e=e||{}).force||i.frame!==t){if(e.nearest){var n=t-i.frame,s=t>i.frame?n-i.frames:n+i.frames,r=Math.abs(n)<Math.abs(s)?n:s;i.reverse=r<0}return i.animate=!0,i.loop=!1,i.stopFrame=t,Z(i),this}}});var vt={requestFullscreen:gt(document.documentElement,["requestFullscreen","webkitRequestFullScreen","mozRequestFullScreen","msRequestFullscreen"]),exitFullscreen:gt(document,["exitFullscreen","webkitExitFullscreen","webkitCancelFullScreen","mozCancelFullScreen","msExitFullscreen"]),fullscreenElement:gt(document,["fullscreenElement","webkitFullscreenElement","webkitCurrentFullScreenElement","mozFullScreenElement","msFullscreenElement"]),fullscreenEnabled:gt(document,["fullscreenEnabled","webkitFullscreenEnabled","mozFullScreenEnabled","msFullscreenEnabled"]),fullscreenchange:gt(document,["onfullscreenchange","onwebkitfullscreenchange","onmozfullscreenchange","onMSFullscreenChange"]).replace(/^on/,""),fullscreenerror:gt(document,["onfullscreenerror","onwebkitfullscreenerror","onmozfullscreenerror","onMSFullscreenError"]).replace(/^on/,"")},yt=vt.fullscreenchange+"."+T+"-fullscreen";function _t(){o(document).unbind(yt)}var bt="orientationchange."+T+"-fullscreen";function wt(){o(window).unbind(bt)}function Tt(){return document[vt.fullscreenElement]}function kt(){return!!Tt()}function St(t,e){e=e||{};var i,n=t.width,s=t.height,r=t.source,a=t.sizeMode,l=t.responsive,u=function(){t.width=window.screen.width,t.height=window.screen.height,t.source=e.source||r,t.sizeMode=e.sizeMode||"fit",t.responsive=!1,ut(t)};i=function(){var e;kt()?(u(),e=u,wt(),o(window).bind(bt,e)):(_t(),wt(),t.width=n,t.height=s,t.source=r,t.sizeMode=a,t.responsive=l,ut(t))},_t(),o(document).bind(yt,i),(t.target[0]||document.documentElement)[vt.requestFullscreen]()}i({fullscreenEnabled:function(){return document[vt.fullscreenEnabled]},fullscreenElement:Tt,exitFullscreen:function(){return document[vt.exitFullscreen]()},toggleFullscreen:function(t){!function(t,e){kt()?this.apiRequestFullscreen(e):this.exitFullscreen()}(this.data,t)},requestFullscreen:function(t){St(this.data,t)}}),function(){function t(t,e){if(!e.loading&&e.stage.is(":visible")){ft(t,e);var i,n,s=pt(e),r=e.target,o=r.offset();"horizontal"===e.orientation?(i=r.innerWidth()/2,n=s.currentX-o.left):(i=r.innerHeight()/2,n=s.currentY-o.top),X(e,e.frame+(n>i?1:-1))}}tt("click",{name:"click",mouseup:t,touchend:t})}(),function(){var t="drag";function e(e){return z(e,t)}function i(t,i){var n=e(i),s=[200,1500],r=i.touchScrollTimer||s;n.minTime=r[0]||s[0],n.maxTime=r[1]||s[1]}function n(t,i){var n=e(i);if(!(i.loading||B(i,"dragging")||i.zoomPinFrame&&!i.stage.is(":visible"))){var s=(new Date).getTime();n.endAt&&s-n.endAt>n.maxTime&&(n.startAt=null,n.endAt=null),n.startAt&&s-n.startAt>n.minTime&&t.preventDefault(),n.startAt=s,n.wasPlaying=!!Y(i).handler,n.frame=i.frame||0,n.lane=i.lane||0,W(i,"dragging",!0),ft(t,i)}}function s(t,i){B(i,"dragging")&&(e(i).endAt=(new Date).getTime(),W(i,"dragging",!1),mt(i),i.retainAnimate&&e(i).wasPlaying&&Q(i))}function r(t,i){var n=e(i),s=pt(i);if(B(i,"dragging")){ft(t,i);var r=function(t){return"number"==typeof t.orientation?t.orientation*Math.PI/180:"horizontal"===t.orientation?0:Math.PI/2}(i),o=Math.sin(r),a=Math.cos(r),l=(s.nddX*a-s.nddY*o)*i.sense||0,u=(s.nddX*o+s.nddY*a)*(i.senseLane||i.sense)||0;n.frame+=i.frames*l,n.lane+=i.lanes*u;i.frame,i.lane;X(i,Math.floor(n.frame),Math.floor(n.lane)),K(i)}}tt("drag",{name:"drag",onInit:i,mousedown:n,mousemove:r,mouseup:s,documentmousemove:r,documentmouseup:s,touchstart:n,touchmove:r,touchend:s,touchcancel:s}),tt("move",{name:"move",onInit:i,mousemove:function(t,e){n(t,e),r(t,e)},mouseleave:s,touchstart:n,touchmove:r,touchend:s,touchcancel:s})}(),function(){var t="hold";function e(e){return z(e,t)}function i(t,i){B(i,"loading")||B(i,"dragging")||!i.stage.is(":visible")||(!function(t){var i=e(t);i.frameTime=t.frameTime,i.animate=t.animate,i.reverse=t.reverse}(i),ft(t,i),W(i,"dragging",!0),i.animate=!0,Z(i))}function n(t,i){W(i,"dragging",!1),mt(i),K(i),function(t){var i=e(t);t.frameTime=i.frameTime,t.animate=i.animate,t.reverse=i.reverse}(i),Z(i)}function s(t,e){if(B(e,"dragging")){ft(t,e);var i,n,s=pt(e),r=e.target,o=r.offset();"horizontal"===e.orientation?(i=r.innerWidth()/2,n=(s.currentX-o.left-i)/i):(i=e.height/2,n=(s.currentY-o.top-i)/i),e.reverse=n<0,n=n<0?-n:n,e.frameTime=80*(1-n)+20,("horizontal"===e.orientation&&s.dX<s.dY||"vertical"===e.orientation&&s.dX<s.dY)&&t.preventDefault()}}tt(t,{name:t,mousedown:i,mousemove:s,mouseup:n,mouseleave:n,touchstart:i,touchmove:s,touchend:n,touchcancel:n,onFrame:function(t,e){e.animate=!0,Z(e)}})}(),function(){var t="swipe";function e(e){return z(e,t)}function i(t,e,i){return t[e]||i}function n(t,e){e.loading||B(e,"dragging")||(ft(t,e),W(e,"dragging",!0))}function s(t,e){B(e,"dragging")&&(ft(t,e),X(e,e.frame,e.lane))}function r(t,i){if(B(i,"dragging")){W(i,"dragging",!1);var n,s,r=e(i),o=pt(i),a=i.frame,l=i.lane,u=r.snap,c=r.fling;"horizontal"===i.orientation?(n=o.ndX,s=o.ddX):(n=o.ndY,s=o.ddY),n>=u||s>=c?a=i.frame-1:(n<=-u||s<=-c)&&(a=i.frame+1),mt(i),X(i,a,l),K(i)}}tt(t,{name:t,onLoad:function(t,n){var s=e(n);s.fling=i(n,"swipeFling",10),s.snap=i(n,"swipeSnap",.5)},mousedown:n,mousemove:s,mouseup:r,mouseleave:r,touchstart:n,touchmove:s,touchend:r,touchcancel:r})}(),function(){tt("wheel",{name:"wheel",wheel:function(t,e){if(!e.loading&&e.stage.is(":visible")){t.preventDefault();var i=t.originalEvent,n=0===i.deltaX?0:i.deltaX>0?1:-1,s=0===i.deltaY?0:i.deltaY>0?1:-1;X(e,e.frame+s,e.lane+n)}}})}(),function(){var t="\n<div class='spritespin-progress'>\n  <div class='spritespin-progress-label'></div>\n  <div class='spritespin-progress-bar'></div>\n</div>\n";function e(t){return z(t,i)}var i="progress";tt(i,{name:i,onInit:function(i,n){var s=e(n);s.stage||(s.stage=o(t),s.stage.appendTo(n.target)),s.stage.find(".spritespin-progress-label").text("0%").css({"text-align":"center"}),s.stage.find(".spritespin-progress-bar").css({width:"0%"}),s.stage.hide().fadeIn()},onProgress:function(t,i){var n=e(i);n.stage.find(".spritespin-progress-label").text(i.progress.percent+"%").css({"text-align":"center"}),n.stage.find(".spritespin-progress-bar").css({width:i.progress.percent+"%"})},onLoad:function(t,i){o(e(i).stage).fadeOut()},onDestroy:function(t,i){o(e(i).stage).remove()}})}(),function(){tt("360",{name:"360",onLoad:function(t,e){e.stage.find(".spritespin-frames").detach(),"image"===e.renderer&&$(e.images).addClass("spritespin-frames").appendTo(e.stage)},onDraw:function(t,e){var i=g(e.metrics,e.frames,e.frame,e.lane),n=i.sheet,s=i.sprite;if(n&&s){var r=e.source[n.id],o=e.images[n.id];if("canvas"===e.renderer){e.canvas.show();var a=e.canvas[0].width/e.canvasRatio,l=e.canvas[0].height/e.canvasRatio;return e.context.clearRect(0,0,a,l),void e.context.drawImage(o,s.sampledX,s.sampledY,s.sampledWidth,s.sampledHeight,0,0,a,l)}var u=e.stage.innerWidth()/s.sampledWidth,c=e.stage.innerHeight()/s.sampledHeight,h=Math.floor(-s.sampledY*c),d=Math.floor(-s.sampledX*u),p=Math.floor(n.sampledWidth*u),f=Math.floor(n.sampledHeight*c);"background"!==e.renderer?($(e.images).hide(),$(o).show().css({position:"absolute",top:h,left:d,"max-width":"initial",width:p,height:f})):e.stage.css({"background-image":"url('"+r+"')","background-position":d+"px "+h+"px","background-repeat":"no-repeat","-webkit-background-size":p+"px "+f+"px","-moz-background-size":p+"px "+f+"px","-o-background-size":p+"px "+f+"px","background-size":p+"px "+f+"px"})}}})}(),function(){var t="blur";function e(e){return z(e,t)}function i(t,e,i){return t[e]||i}var n=[];function s(t){var i=e(t);i.timeout=window.setTimeout(function(){!function(t){var i=e(t);if(function(t){var i=e(t);window.clearTimeout(i.timeout),i.timeout=null}(t),!i.context)return;var o=0;(function(t,e){e.canvas.show();e.canvas[0].width,t.canvasRatio,e.canvas[0].height,t.canvasRatio})(t,i),i.context.clearRect(0,0,t.width,t.height);for(var a=0,l=i.steps;a<l.length;a++){var u=l[a];u.live=Math.max(u.live-u.step,0),u.alpha=Math.max(u.live-.25,0),r(t,i,u),o+=u.alpha+u.d}i.cssBlur&&function(t,e){var i="blur("+Math.min(Math.max(e/2-4,0),2.5)+"px)";t.css({"-webkit-filter":i,filter:i})}(i.canvas,o);(function(t){n.length=0;for(var e=0;e<t.length;e+=1)t[e].alpha<=0&&n.push(e);for(var i=0,s=n;i<s.length;i++){var r=s[i];t.splice(r,1)}})(i.steps),i.steps.length&&s(t)}(t)},i.frameTime)}function r(t,e,i){if(!(i.alpha<=0)){var n=g(t.metrics,t.frames,i.frame,i.lane),s=n.sheet,r=n.sprite;if(s&&r){t.source[s.id];var o=t.images[s.id];if(!1!==o.complete){e.canvas.show();var a=e.canvas[0].width/t.canvasRatio,l=e.canvas[0].height/t.canvasRatio;e.context.globalAlpha=i.alpha,e.context.drawImage(o,r.sampledX,r.sampledY,r.sampledWidth,r.sampledHeight,0,0,a,l)}}}}tt(t,{name:t,onLoad:function(t,n){var s=e(n);s.canvas=s.canvas||o("<canvas class='blur-layer'></canvas>"),s.context=s.context||s.canvas[0].getContext("2d"),s.steps=s.steps||[],s.fadeTime=Math.max(i(n,"blurFadeTime",200),1),s.frameTime=Math.max(i(n,"blurFrameTime",n.frameTime),16),s.trackTime=null,s.cssBlur=!!i(n,"blurCss",!1);var r=h(n),a=n.responsive?c(n):u(n),l=d(n.sizeMode,r,a);s.canvas[0].width=n.width*n.canvasRatio,s.canvas[0].height=n.height*n.canvasRatio,s.canvas.css(l).show(),s.context.scale(n.canvasRatio,n.canvasRatio),n.target.append(s.canvas)},onFrameChanged:function(t,i){var n=e(i);!function(t){var i=e(t),n=Y(t),s=Math.abs(t.frame-n.lastFrame);s=s>=t.frames/2?t.frames-s:s,i.steps.unshift({frame:t.frame,lane:t.lane,live:1,step:i.frameTime/i.fadeTime,d:s,alpha:0})}(i),null==n.timeout&&s(i)}})}(),function(){var t=Math.max,e=Math.min,i="ease";function n(t){return z(t,i)}function s(t,e,i){return t[e]||i}function r(t,e){B(e,"dragging")&&(a(e),function(t){var e=n(t);e.samples.push({time:(new Date).getTime(),frame:t.frame,lane:t.lane});for(;e.samples.length>e.maxSamples;)e.samples.shift()}(e))}function o(t,e){for(var i,s=n(e),r=s.samples,o=0,u=0,c=0,h=0,d=r;h<d.length;h++){var p=d[h];if(i){var f=p.time-i.time;if(f>s.abortTime)return o=u=c=0,a(e);u+=p.frame-i.frame,o+=p.lane-i.lane,c+=f,i=p}else i=p}r.length=0,c&&(s.lane=e.lane,s.lanes=0,s.laneStep=o/c*s.updateTime,s.frame=e.frame,s.frames=0,s.frameStep=u/c*s.updateTime,l(e))}function a(t){var e=n(t);null!=e.handler&&(window.clearTimeout(e.handler),e.handler=null)}function l(t){var e=n(t);e.handler=window.setTimeout(function(){!function(t){var e=n(t);e.lanes+=e.laneStep,e.frames+=e.frameStep,e.laneStep*=e.damping,e.frameStep*=e.damping;var i=Math.floor(e.frame+e.frames),s=Math.floor(e.lane+e.lanes);X(t,i,s),B(t,"dragging")?a(t):Math.abs(e.frameStep)>.005||Math.abs(e.laneStep)>.005?l(t):a(t)}(t)},e.updateTime)}tt(i,{name:i,onLoad:function(i,r){var o=n(r);o.maxSamples=t(s(r,"easeMaxSamples",5),0),o.damping=t(e(s(r,"easeDamping",.9),.999),0),o.abortTime=t(s(r,"easeAbortTime",250),16),o.updateTime=t(s(r,"easeUpdateTime",r.frameTime),16),o.samples=[],o.steps=[]},mousemove:r,mouseup:o,mouseleave:o,touchmove:r,touchend:o,touchcancel:o})}(),function(){var t="gallery";function e(e){return z(e,t)}function i(t,e,i){return t[e]||i}tt(t,{name:t,onLoad:function(t,n){var s=e(n);s.images=[],s.offsets=[],s.frame=n.frame,s.speed=i(n,"gallerySpeed",500),s.opacity=i(n,"galleryOpacity",.25),s.stage=i(n,"galleryStage",o("<div></div>")),s.stage.empty().addClass("gallery-stage").prependTo(n.stage);for(var r=0,a=0,l=n.images;a<l.length;a++){var f=l[a],m=p(f),g=n.height/m.height,v=o(f);s.stage.append(v),s.images.push(v),s.offsets.push(-r+(n.width-f.width*g)/2),r+=n.width,v.css({"max-width":"initial",opacity:s.opacity,width:n.width,height:n.height})}var y=h(n),_=n.responsive?c(n):u(n),b=d(n.sizeMode,y,_);s.stage.css(b).css({width:r,left:s.offsets[s.frame]}),s.images[s.frame].animate({opacity:1},{duration:s.speed})},onDraw:function(t,i){var n=e(i),s=pt(i),r=B(i,"dragging");n.frame===i.frame||r?(r||n.dX!==s.dX)&&(n.dX=s.dX,n.ddX=s.ddX,n.stage.stop(!0,!0).css({left:n.offsets[n.frame]+n.dX})):(n.stage.stop(!0,!1).animate({left:n.offsets[i.frame]},{duration:n.speed}),n.images[n.frame].animate({opacity:n.opacity},{duration:n.speed}),n.frame=i.frame,n.images[n.frame].animate({opacity:1},{duration:n.speed}),n.stage.animate({left:n.offsets[n.frame]}))}})}(),function(){var t="panorama";function e(e){return z(e,t)}tt(t,{name:t,onLoad:function(t,i){var n=e(i),s=i.metrics[0];if(s){"horizontal"===i.orientation?(n.scale=i.target.innerHeight()/s.sampledHeight,i.frames=s.sampledWidth):(n.scale=i.target.innerWidth()/s.sampledWidth,i.frames=s.sampledHeight);var r=Math.floor(s.sampledWidth*n.scale),o=Math.floor(s.sampledHeight*n.scale);i.stage.css({"background-image":"url("+i.source[s.id]+")","background-repeat":"repeat-both","-webkit-background-size":r+"px "+o+"px","-moz-background-size":r+"px "+o+"px","-o-background-size":r+"px "+o+"px","background-size":r+"px "+o+"px"})}},onDraw:function(t,i){var n=e(i),s="horizontal"===i.orientation?1:0,r=s?0:1,o=i.frame%i.frames,a=Math.round(s*o*n.scale),l=Math.round(r*o*n.scale);i.stage.css({"background-position":a+"px "+l+"px"})}})}(),function(){var t="zoom";function e(e){return z(e,t)}function n(t,e,i){return e in t?t[e]:i}function s(t,i){var n=e(i);if(n.stage.is(":visible")){t.preventDefault(),n.pinFrame&&W(i,"dragging",!1);var s=a(t),r=s.x/i.width,o=s.y/i.height;null==n.oldX&&(n.oldX=r,n.oldY=o),null==n.currentX&&(n.currentX=r,n.currentY=o);var l=r-n.oldX,u=o-n.oldY;n.oldX=r,n.oldY=o,t.type.match(/touch/)&&(l=-l,u=-u),n.currentX=M(n.currentX+l,0,1),n.currentY=M(n.currentY+u,0,1),X(i,i.frame,i.lane)}}function r(t,i){var n=e(i);if(n.useClick){t.preventDefault();var r=(new Date).getTime();if(n.clickTime)r-n.clickTime>n.doubleClickTime?n.clickTime=r:(n.clickTime=void 0,u(i)&&s(t,i));else n.clickTime=r}}function l(t,i){e(i).stage.is(":visible")&&s(t,i)}function u(t){var i=e(t);if(!i.stage)throw new Error("zoom module is not initialized or is not available.");return i.stage.is(":visible")?(c(t),!1):(h(t),!0)}function c(t){e(t).stage.fadeOut(),t.stage.fadeIn()}function h(t){e(t).stage.fadeIn(),t.stage.fadeOut()}tt(t,{name:t,mousedown:r,touchstart:r,mousemove:l,touchmove:l,wheel:function(t,i){var n=e(i);if(!i.loading&&n.useWheel){var s=t.originalEvent,r=0===s.deltaY?0:s.deltaY>0?1:-1;"number"==typeof n.useWheel&&(r*=n.useWheel),n.stage.is(":visible")&&r>0&&(t.preventDefault(),c(i)),!n.stage.is(":visible")&&r<0&&(t.preventDefault(),h(i))}},onInit:function(t,i){var s=e(i);s.source=n(i,"zoomSource",i.source),s.useWheel=n(i,"zoomUseWheel",!1),s.useClick=n(i,"zoomUseClick",!0),s.pinFrame=n(i,"zoomPinFrame",!0),s.doubleClickTime=n(i,"zoomDoubleClickTime",500),s.stage=s.stage||o("<div class='zoom-stage'></div>"),s.stage.css({width:"100%",height:"100%",top:0,left:0,bottom:0,right:0,position:"absolute"}).appendTo(i.target).hide()},onDestroy:function(t,i){var n=e(i);n.stage&&(n.stage.remove(),delete n.stage)},onDraw:function(t,i){var n=e(i),s=i.lane*i.frames+i.frame,r=n.source[s],o=g(i.metrics,i.frames,i.frame,i.lane),a=n.currentX,l=n.currentY;if(null==a&&(a=n.currentX=.5,l=n.currentY=.5),r)a=Math.floor(100*a),l=Math.floor(100*l),n.stage.css({"background-repeat":"no-repeat","background-image":"url('"+r+"')","background-position":a+"% "+l+"%"});else if(o.sheet&&o.sprite){var u=o.sprite,c=o.sheet,h=i.source[c.id],d=-Math.floor(u.sampledX+a*(u.sampledWidth-i.width)),p=-Math.floor(u.sampledY+l*(u.sampledHeight-i.height)),f=c.sampledWidth,m=c.sampledHeight;n.stage.css({"background-image":"url('"+h+"')","background-position":d+"px "+p+"px","background-repeat":"no-repeat","-webkit-background-size":f+"px "+m+"px","-moz-background-size":f+"px "+m+"px","-o-background-size":f+"px "+m+"px","background-size":f+"px "+m+"px"})}}}),i({toggleZoom:function(){u(this.data)}})}();var Ct={$:o,bind:R,clamp:M,detectSubsampling:l,error:I,findSpecs:g,getComputedSize:c,getCursorPosition:a,getInnerLayout:d,getInnerSize:h,getOuterSize:u,isFunction:function(t){return"function"==typeof t},log:A,measure:f,naturalSize:p,noop:E,pixelRatio:F,preload:_,prevent:N,sourceArray:w,toArray:O,unbind:U,warn:P,wrap:L};t.Utils=Ct,t.sourceArray=w,t.Api=e,t.extendApi=i,t.instances=rt,t.applyEvents=lt,t.boot=ut,t.create=ct,t.createOrUpdate=ht,t.destroy=dt,t.namespace=T,t.eventNames=k,t.callbackNames=S,t.eventsToPrevent=C,t.defaults=x,t.getInputState=pt,t.updateInput=ft,t.resetInput=mt,t.applyLayout=j,t.getPlaybackState=Y,t.updateFrame=X,t.stopAnimation=K,t.applyAnimation=Z,t.startAnimation=Q,t.registerPlugin=tt,t.registerModule=function(t,e){P('"registerModule" is deprecated, use "registerPlugin" instead'),tt(t,e)},t.getPlugin=et,t.applyPlugins=it,t.getState=H,t.getPluginState=z,t.is=B,t.flag=W,Object.defineProperty(t,"__esModule",{value:!0})}),function(t){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(jQuery)}(function(t){"use strict";var e=!1,i=function(){e=!1},n=function(t,e){return t.css({"background-position":"center "+-e+"px"})},s=function(t,e){return t.css({"background-position":-e+"px center"})},r=function(t,e,i){return"none"!==i||(i=""),t.css({"-webkit-transform":"translateY("+e+"px)"+i,"-moz-transform":"translateY("+e+"px)"+i,transform:"translateY("+e+"px)"+i,transition:"transform linear","will-change":"transform"})},o=function(t,e,i){return"none"!==i||(i=""),t.css({"-webkit-transform":"translateX("+e+"px)"+i,"-moz-transform":"translateX("+e+"px)"+i,transform:"translateX("+e+"px)"+i,transition:"transform linear","will-change":"transform"})},a=function(t,e,i){var n=t.data("paroller-factor"),s=n||i.factor;if(e<576){var r=t.data("paroller-factor-xs"),o=r||i.factorXs;return o||s}if(e<=768){var a=t.data("paroller-factor-sm"),l=a||i.factorSm;return l||s}if(e<=1024){var u=t.data("paroller-factor-md"),c=u||i.factorMd;return c||s}if(e<=1200){var h=t.data("paroller-factor-lg"),d=h||i.factorLg;return d||s}if(e<=1920){var p=t.data("paroller-factor-xl"),f=p||i.factorXl;return f||s}return s},l=function(t,e){return Math.round(t*e)},u=function(t,e,i,n){return Math.round((t-i/2+n)*e)},c=function(t){return t.css({"background-position":"unset"})},h=function(t){return t.css({transform:"unset",transition:"unset"})};t.fn.paroller=function(d){var p=t(window).height(),f=t(document).height();d=t.extend({factor:0,factorXs:0,factorSm:0,factorMd:0,factorLg:0,factorXl:0,type:"background",direction:"vertical"},d);return this.each(function(){var m=t(this),g=t(window).width(),v=m.offset().top,y=m.outerHeight(),_=m.data("paroller-type"),b=m.data("paroller-direction"),w=m.css("transform"),T=_||d.type,k=b||d.direction,S=a(m,g,d),C=l(v,S),x=u(v,S,p,y);"background"===T?"vertical"===k?n(m,C):"horizontal"===k&&s(m,C):"foreground"===T&&("vertical"===k?r(m,x,w):"horizontal"===k&&o(m,x,w)),t(window).on("resize",function(){var l=t(this).scrollTop();g=t(window).width(),v=m.offset().top,y=m.outerHeight(),S=a(m,g,d),C=Math.round(v*S),x=Math.round((v-p/2+y)*S),e||(window.requestAnimationFrame(i),e=!0),"background"===T?(c(m),"vertical"===k?n(m,C):"horizontal"===k&&s(m,C)):"foreground"===T&&l<=f&&(h(m),"vertical"===k?r(m,x):"horizontal"===k&&o(m,x))}),t(window).on("scroll",function(){var a=t(this).scrollTop();f=t(document).height(),C=Math.round((v-a)*S),x=Math.round((v-p/2+y-a)*S),e||(window.requestAnimationFrame(i),e=!0),"background"===T?"vertical"===k?n(m,C):"horizontal"===k&&s(m,C):"foreground"===T&&a<=f&&("vertical"===k?r(m,x,w):"horizontal"===k&&o(m,x,w))})})}}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.moment=e()}(this,function(){"use strict";var t,e;function i(){return t.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function s(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function r(t){return void 0===t}function o(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function a(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function l(t,e){var i,n=[];for(i=0;i<t.length;++i)n.push(e(t[i],i));return n}function u(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function c(t,e){for(var i in e)u(e,i)&&(t[i]=e[i]);return u(e,"toString")&&(t.toString=e.toString),u(e,"valueOf")&&(t.valueOf=e.valueOf),t}function h(t,e,i,n){return Ee(t,e,i,n,!0).utc()}function d(t){return null==t._pf&&(t._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),t._pf}function p(t){if(null==t._isValid){var i=d(t),n=e.call(i.parsedDateParts,function(t){return null!=t}),s=!isNaN(t._d.getTime())&&i.overflow<0&&!i.empty&&!i.invalidMonth&&!i.invalidWeekday&&!i.weekdayMismatch&&!i.nullInput&&!i.invalidFormat&&!i.userInvalidated&&(!i.meridiem||i.meridiem&&n);if(t._strict&&(s=s&&0===i.charsLeftOver&&0===i.unusedTokens.length&&void 0===i.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return s;t._isValid=s}return t._isValid}function f(t){var e=h(NaN);return null!=t?c(d(e),t):d(e).userInvalidated=!0,e}e=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),i=e.length>>>0,n=0;n<i;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};var m=i.momentProperties=[];function g(t,e){var i,n,s;if(r(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),r(e._i)||(t._i=e._i),r(e._f)||(t._f=e._f),r(e._l)||(t._l=e._l),r(e._strict)||(t._strict=e._strict),r(e._tzm)||(t._tzm=e._tzm),r(e._isUTC)||(t._isUTC=e._isUTC),r(e._offset)||(t._offset=e._offset),r(e._pf)||(t._pf=d(e)),r(e._locale)||(t._locale=e._locale),m.length>0)for(i=0;i<m.length;i++)r(s=e[n=m[i]])||(t[n]=s);return t}var v=!1;function y(t){g(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===v&&(v=!0,i.updateOffset(this),v=!1)}function _(t){return t instanceof y||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function w(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=b(e)),i}function T(t,e,i){var n,s=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),o=0;for(n=0;n<s;n++)(i&&t[n]!==e[n]||!i&&w(t[n])!==w(e[n]))&&o++;return o+r}function k(t){!1===i.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,e){var n=!0;return c(function(){if(null!=i.deprecationHandler&&i.deprecationHandler(null,t),n){for(var s,r=[],o=0;o<arguments.length;o++){if(s="","object"==typeof arguments[o]){for(var a in s+="\n["+o+"] ",arguments[0])s+=a+": "+arguments[0][a]+", ";s=s.slice(0,-2)}else s=arguments[o];r.push(s)}k(t+"\nArguments: "+Array.prototype.slice.call(r).join("")+"\n"+(new Error).stack),n=!1}return e.apply(this,arguments)},e)}var C,x={};function E(t,e){null!=i.deprecationHandler&&i.deprecationHandler(t,e),x[t]||(k(e),x[t]=!0)}function D(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function A(t,e){var i,n=c({},t);for(i in e)u(e,i)&&(s(t[i])&&s(e[i])?(n[i]={},c(n[i],t[i]),c(n[i],e[i])):null!=e[i]?n[i]=e[i]:delete n[i]);for(i in t)u(t,i)&&!u(e,i)&&s(t[i])&&(n[i]=c({},n[i]));return n}function P(t){null!=t&&this.set(t)}i.suppressDeprecationWarnings=!1,i.deprecationHandler=null,C=Object.keys?Object.keys:function(t){var e,i=[];for(e in t)u(t,e)&&i.push(e);return i};var I={};function O(t,e){var i=t.toLowerCase();I[i]=I[i+"s"]=I[e]=t}function M(t){return"string"==typeof t?I[t]||I[t.toLowerCase()]:void 0}function L(t){var e,i,n={};for(i in t)u(t,i)&&(e=M(i))&&(n[e]=t[i]);return n}var N={};function R(t,e){N[t]=e}function U(t,e,i){var n=""+Math.abs(t),s=e-n.length;return(t>=0?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}var F=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,j=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,H={},z={};function B(t,e,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),t&&(z[t]=s),e&&(z[e[0]]=function(){return U(s.apply(this,arguments),e[1],e[2])}),i&&(z[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),t)})}function W(t,e){return t.isValid()?(e=Y(e,t.localeData()),H[e]=H[e]||function(t){var e,i,n,s=t.match(F);for(e=0,i=s.length;e<i;e++)z[s[e]]?s[e]=z[s[e]]:s[e]=(n=s[e]).match(/\[[\s\S]/)?n.replace(/^\[|\]$/g,""):n.replace(/\\/g,"");return function(e){var n,r="";for(n=0;n<i;n++)r+=D(s[n])?s[n].call(e,t):s[n];return r}}(e),H[e](t)):t.localeData().invalidDate()}function Y(t,e){var i=5;function n(t){return e.longDateFormat(t)||t}for(j.lastIndex=0;i>=0&&j.test(t);)t=t.replace(j,n),j.lastIndex=0,i-=1;return t}var V=/\d/,q=/\d\d/,$=/\d{3}/,G=/\d{4}/,X=/[+-]?\d{6}/,K=/\d\d?/,Z=/\d\d\d\d?/,Q=/\d\d\d\d\d\d?/,J=/\d{1,3}/,tt=/\d{1,4}/,et=/[+-]?\d{1,6}/,it=/\d+/,nt=/[+-]?\d+/,st=/Z|[+-]\d\d:?\d\d/gi,rt=/Z|[+-]\d\d(?::?\d\d)?/gi,ot=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,at={};function lt(t,e,i){at[t]=D(e)?e:function(t,n){return t&&i?i:e}}function ut(t,e){return u(at,t)?at[t](e._strict,e._locale):new RegExp(ct(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})))}function ct(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ht={};function dt(t,e){var i,n=e;for("string"==typeof t&&(t=[t]),o(e)&&(n=function(t,i){i[e]=w(t)}),i=0;i<t.length;i++)ht[t[i]]=n}function pt(t,e){dt(t,function(t,i,n,s){n._w=n._w||{},e(t,n._w,n,s)})}function ft(t,e,i){null!=e&&u(ht,t)&&ht[t](e,i._a,i,t)}var mt=0,gt=1,vt=2,yt=3,_t=4,bt=5,wt=6,Tt=7,kt=8;function St(t){return Ct(t)?366:365}function Ct(t){return t%4==0&&t%100!=0||t%400==0}B("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),B(0,["YY",2],0,function(){return this.year()%100}),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),O("year","y"),R("year",1),lt("Y",nt),lt("YY",K,q),lt("YYYY",tt,G),lt("YYYYY",et,X),lt("YYYYYY",et,X),dt(["YYYYY","YYYYYY"],mt),dt("YYYY",function(t,e){e[mt]=2===t.length?i.parseTwoDigitYear(t):w(t)}),dt("YY",function(t,e){e[mt]=i.parseTwoDigitYear(t)}),dt("Y",function(t,e){e[mt]=parseInt(t,10)}),i.parseTwoDigitYear=function(t){return w(t)+(w(t)>68?1900:2e3)};var xt,Et=Dt("FullYear",!0);function Dt(t,e){return function(n){return null!=n?(Pt(this,t,n),i.updateOffset(this,e),this):At(this,t)}}function At(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Pt(t,e,i){t.isValid()&&!isNaN(i)&&("FullYear"===e&&Ct(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](i,t.month(),It(i,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](i))}function It(t,e){if(isNaN(t)||isNaN(e))return NaN;var i,n=(e%(i=12)+i)%i;return t+=(e-n)/12,1===n?Ct(t)?29:28:31-n%7%2}xt=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},B("M",["MM",2],"Mo",function(){return this.month()+1}),B("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),B("MMMM",0,0,function(t){return this.localeData().months(this,t)}),O("month","M"),R("month",8),lt("M",K),lt("MM",K,q),lt("MMM",function(t,e){return e.monthsShortRegex(t)}),lt("MMMM",function(t,e){return e.monthsRegex(t)}),dt(["M","MM"],function(t,e){e[gt]=w(t)-1}),dt(["MMM","MMMM"],function(t,e,i,n){var s=i._locale.monthsParse(t,n,i._strict);null!=s?e[gt]=s:d(i).invalidMonth=t});var Ot=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Mt="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var Lt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function Nt(t,e){var i;if(!t.isValid())return t;if("string"==typeof e)if(/^\d+$/.test(e))e=w(e);else if(!o(e=t.localeData().monthsParse(e)))return t;return i=Math.min(t.date(),It(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,i),t}function Rt(t){return null!=t?(Nt(this,t),i.updateOffset(this,!0),this):At(this,"Month")}var Ut=ot;var Ft=ot;function jt(){function t(t,e){return e.length-t.length}var e,i,n=[],s=[],r=[];for(e=0;e<12;e++)i=h([2e3,e]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),r.push(this.months(i,"")),r.push(this.monthsShort(i,""));for(n.sort(t),s.sort(t),r.sort(t),e=0;e<12;e++)n[e]=ct(n[e]),s[e]=ct(s[e]);for(e=0;e<24;e++)r[e]=ct(r[e]);this._monthsRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function Ht(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function zt(t,e,i){var n=7+e-i;return-((7+Ht(t,0,n).getUTCDay()-e)%7)+n-1}function Bt(t,e,i,n,s){var r,o,a=1+7*(e-1)+(7+i-n)%7+zt(t,n,s);return a<=0?o=St(r=t-1)+a:a>St(t)?(r=t+1,o=a-St(t)):(r=t,o=a),{year:r,dayOfYear:o}}function Wt(t,e,i){var n,s,r=zt(t.year(),e,i),o=Math.floor((t.dayOfYear()-r-1)/7)+1;return o<1?n=o+Yt(s=t.year()-1,e,i):o>Yt(t.year(),e,i)?(n=o-Yt(t.year(),e,i),s=t.year()+1):(s=t.year(),n=o),{week:n,year:s}}function Yt(t,e,i){var n=zt(t,e,i),s=zt(t+1,e,i);return(St(t)-n+s)/7}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),R("week",5),R("isoWeek",5),lt("w",K),lt("ww",K,q),lt("W",K),lt("WW",K,q),pt(["w","ww","W","WW"],function(t,e,i,n){e[n.substr(0,1)]=w(t)});B("d",0,"do","day"),B("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),B("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),B("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),R("day",11),R("weekday",11),R("isoWeekday",11),lt("d",K),lt("e",K),lt("E",K),lt("dd",function(t,e){return e.weekdaysMinRegex(t)}),lt("ddd",function(t,e){return e.weekdaysShortRegex(t)}),lt("dddd",function(t,e){return e.weekdaysRegex(t)}),pt(["dd","ddd","dddd"],function(t,e,i,n){var s=i._locale.weekdaysParse(t,n,i._strict);null!=s?e.d=s:d(i).invalidWeekday=t}),pt(["d","e","E"],function(t,e,i,n){e[n]=w(t)});var Vt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var qt="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var $t="Su_Mo_Tu_We_Th_Fr_Sa".split("_");var Gt=ot;var Xt=ot;var Kt=ot;function Zt(){function t(t,e){return e.length-t.length}var e,i,n,s,r,o=[],a=[],l=[],u=[];for(e=0;e<7;e++)i=h([2e3,1]).day(e),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),r=this.weekdays(i,""),o.push(n),a.push(s),l.push(r),u.push(n),u.push(s),u.push(r);for(o.sort(t),a.sort(t),l.sort(t),u.sort(t),e=0;e<7;e++)a[e]=ct(a[e]),l[e]=ct(l[e]),u[e]=ct(u[e]);this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Qt(){return this.hours()%12||12}function Jt(t,e){B(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function te(t,e){return e._meridiemParse}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Qt),B("k",["kk",2],0,function(){return this.hours()||24}),B("hmm",0,0,function(){return""+Qt.apply(this)+U(this.minutes(),2)}),B("hmmss",0,0,function(){return""+Qt.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),B("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),B("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Jt("a",!0),Jt("A",!1),O("hour","h"),R("hour",13),lt("a",te),lt("A",te),lt("H",K),lt("h",K),lt("k",K),lt("HH",K,q),lt("hh",K,q),lt("kk",K,q),lt("hmm",Z),lt("hmmss",Q),lt("Hmm",Z),lt("Hmmss",Q),dt(["H","HH"],yt),dt(["k","kk"],function(t,e,i){var n=w(t);e[yt]=24===n?0:n}),dt(["a","A"],function(t,e,i){i._isPm=i._locale.isPM(t),i._meridiem=t}),dt(["h","hh"],function(t,e,i){e[yt]=w(t),d(i).bigHour=!0}),dt("hmm",function(t,e,i){var n=t.length-2;e[yt]=w(t.substr(0,n)),e[_t]=w(t.substr(n)),d(i).bigHour=!0}),dt("hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[yt]=w(t.substr(0,n)),e[_t]=w(t.substr(n,2)),e[bt]=w(t.substr(s)),d(i).bigHour=!0}),dt("Hmm",function(t,e,i){var n=t.length-2;e[yt]=w(t.substr(0,n)),e[_t]=w(t.substr(n))}),dt("Hmmss",function(t,e,i){var n=t.length-4,s=t.length-2;e[yt]=w(t.substr(0,n)),e[_t]=w(t.substr(n,2)),e[bt]=w(t.substr(s))});var ee,ie=Dt("Hours",!0),ne={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Mt,monthsShort:Lt,week:{dow:0,doy:6},weekdays:Vt,weekdaysMin:$t,weekdaysShort:qt,meridiemParse:/[ap]\.?m?\.?/i},se={},re={};function oe(t){return t?t.toLowerCase().replace("_","-"):t}function ae(t){var e=null;if(!se[t]&&"undefined"!=typeof module&&module&&module.exports)try{e=ee._abbr,require("./locale/"+t),le(e)}catch(t){}return se[t]}function le(t,e){var i;return t&&((i=r(e)?ce(t):ue(t,e))?ee=i:"undefined"!=typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),ee._abbr}function ue(t,e){if(null!==e){var i,n=ne;if(e.abbr=t,null!=se[t])E("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=se[t]._config;else if(null!=e.parentLocale)if(null!=se[e.parentLocale])n=se[e.parentLocale]._config;else{if(null==(i=ae(e.parentLocale)))return re[e.parentLocale]||(re[e.parentLocale]=[]),re[e.parentLocale].push({name:t,config:e}),null;n=i._config}return se[t]=new P(A(n,e)),re[t]&&re[t].forEach(function(t){ue(t.name,t.config)}),le(t),se[t]}return delete se[t],null}function ce(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return ee;if(!n(t)){if(e=ae(t))return e;t=[t]}return function(t){for(var e,i,n,s,r=0;r<t.length;){for(e=(s=oe(t[r]).split("-")).length,i=(i=oe(t[r+1]))?i.split("-"):null;e>0;){if(n=ae(s.slice(0,e).join("-")))return n;if(i&&i.length>=e&&T(s,i,!0)>=e-1)break;e--}r++}return ee}(t)}function he(t){var e,i=t._a;return i&&-2===d(t).overflow&&(e=i[gt]<0||i[gt]>11?gt:i[vt]<1||i[vt]>It(i[mt],i[gt])?vt:i[yt]<0||i[yt]>24||24===i[yt]&&(0!==i[_t]||0!==i[bt]||0!==i[wt])?yt:i[_t]<0||i[_t]>59?_t:i[bt]<0||i[bt]>59?bt:i[wt]<0||i[wt]>999?wt:-1,d(t)._overflowDayOfYear&&(e<mt||e>vt)&&(e=vt),d(t)._overflowWeeks&&-1===e&&(e=Tt),d(t)._overflowWeekday&&-1===e&&(e=kt),d(t).overflow=e),t}function de(t,e,i){return null!=t?t:null!=e?e:i}function pe(t){var e,n,s,r,o,a=[];if(!t._d){for(s=function(t){var e=new Date(i.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}(t),t._w&&null==t._a[vt]&&null==t._a[gt]&&function(t){var e,i,n,s,r,o,a,l;if(null!=(e=t._w).GG||null!=e.W||null!=e.E)r=1,o=4,i=de(e.GG,t._a[mt],Wt(De(),1,4).year),n=de(e.W,1),((s=de(e.E,1))<1||s>7)&&(l=!0);else{r=t._locale._week.dow,o=t._locale._week.doy;var u=Wt(De(),r,o);i=de(e.gg,t._a[mt],u.year),n=de(e.w,u.week),null!=e.d?((s=e.d)<0||s>6)&&(l=!0):null!=e.e?(s=e.e+r,(e.e<0||e.e>6)&&(l=!0)):s=r}n<1||n>Yt(i,r,o)?d(t)._overflowWeeks=!0:null!=l?d(t)._overflowWeekday=!0:(a=Bt(i,n,s,r,o),t._a[mt]=a.year,t._dayOfYear=a.dayOfYear)}(t),null!=t._dayOfYear&&(o=de(t._a[mt],s[mt]),(t._dayOfYear>St(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=Ht(o,0,t._dayOfYear),t._a[gt]=n.getUTCMonth(),t._a[vt]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=s[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[yt]&&0===t._a[_t]&&0===t._a[bt]&&0===t._a[wt]&&(t._nextDay=!0,t._a[yt]=0),t._d=(t._useUTC?Ht:function(t,e,i,n,s,r,o){var a=new Date(t,e,i,n,s,r,o);return t<100&&t>=0&&isFinite(a.getFullYear())&&a.setFullYear(t),a}).apply(null,a),r=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[yt]=24),t._w&&void 0!==t._w.d&&t._w.d!==r&&(d(t).weekdayMismatch=!0)}}var fe=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,me=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ge=/Z|[+-]\d\d(?::?\d\d)?/,ve=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ye=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],_e=/^\/?Date\((\-?\d+)/i;function be(t){var e,i,n,s,r,o,a=t._i,l=fe.exec(a)||me.exec(a);if(l){for(d(t).iso=!0,e=0,i=ve.length;e<i;e++)if(ve[e][1].exec(l[1])){s=ve[e][0],n=!1!==ve[e][2];break}if(null==s)return void(t._isValid=!1);if(l[3]){for(e=0,i=ye.length;e<i;e++)if(ye[e][1].exec(l[3])){r=(l[2]||" ")+ye[e][0];break}if(null==r)return void(t._isValid=!1)}if(!n&&null!=r)return void(t._isValid=!1);if(l[4]){if(!ge.exec(l[4]))return void(t._isValid=!1);o="Z"}t._f=s+(r||"")+(o||""),Ce(t)}else t._isValid=!1}var we=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function Te(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}var ke={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Se(t){var e,i,n,s,r,o,a,l=we.exec(t._i.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""));if(l){var u=(e=l[4],i=l[3],n=l[2],s=l[5],r=l[6],o=l[7],a=[Te(e),Lt.indexOf(i),parseInt(n,10),parseInt(s,10),parseInt(r,10)],o&&a.push(parseInt(o,10)),a);if(!function(t,e,i){return!t||qt.indexOf(t)===new Date(e[0],e[1],e[2]).getDay()||(d(i).weekdayMismatch=!0,i._isValid=!1,!1)}(l[1],u,t))return;t._a=u,t._tzm=function(t,e,i){if(t)return ke[t];if(e)return 0;var n=parseInt(i,10),s=n%100;return(n-s)/100*60+s}(l[8],l[9],l[10]),t._d=Ht.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function Ce(t){if(t._f!==i.ISO_8601)if(t._f!==i.RFC_2822){t._a=[],d(t).empty=!0;var e,n,s,r,o,a=""+t._i,l=a.length,u=0;for(s=Y(t._f,t._locale).match(F)||[],e=0;e<s.length;e++)r=s[e],(n=(a.match(ut(r,t))||[])[0])&&((o=a.substr(0,a.indexOf(n))).length>0&&d(t).unusedInput.push(o),a=a.slice(a.indexOf(n)+n.length),u+=n.length),z[r]?(n?d(t).empty=!1:d(t).unusedTokens.push(r),ft(r,n,t)):t._strict&&!n&&d(t).unusedTokens.push(r);d(t).charsLeftOver=l-u,a.length>0&&d(t).unusedInput.push(a),t._a[yt]<=12&&!0===d(t).bigHour&&t._a[yt]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[yt]=function(t,e,i){var n;if(null==i)return e;return null!=t.meridiemHour?t.meridiemHour(e,i):null!=t.isPM?((n=t.isPM(i))&&e<12&&(e+=12),n||12!==e||(e=0),e):e}(t._locale,t._a[yt],t._meridiem),pe(t),he(t)}else Se(t);else be(t)}function xe(t){var e=t._i,u=t._f;return t._locale=t._locale||ce(t._l),null===e||void 0===u&&""===e?f({nullInput:!0}):("string"==typeof e&&(t._i=e=t._locale.preparse(e)),_(e)?new y(he(e)):(a(e)?t._d=e:n(u)?function(t){var e,i,n,s,r;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(s=0;s<t._f.length;s++)r=0,e=g({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[s],Ce(e),p(e)&&(r+=d(e).charsLeftOver,r+=10*d(e).unusedTokens.length,d(e).score=r,(null==n||r<n)&&(n=r,i=e));c(t,i||e)}(t):u?Ce(t):function(t){var e=t._i;r(e)?t._d=new Date(i.now()):a(e)?t._d=new Date(e.valueOf()):"string"==typeof e?function(t){var e=_e.exec(t._i);null===e?(be(t),!1===t._isValid&&(delete t._isValid,Se(t),!1===t._isValid&&(delete t._isValid,i.createFromInputFallback(t)))):t._d=new Date(+e[1])}(t):n(e)?(t._a=l(e.slice(0),function(t){return parseInt(t,10)}),pe(t)):s(e)?function(t){if(!t._d){var e=L(t._i);t._a=l([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),pe(t)}}(t):o(e)?t._d=new Date(e):i.createFromInputFallback(t)}(t),p(t)||(t._d=null),t))}function Ee(t,e,i,r,o){var a,l={};return!0!==i&&!1!==i||(r=i,i=void 0),(s(t)&&function(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}(t)||n(t)&&0===t.length)&&(t=void 0),l._isAMomentObject=!0,l._useUTC=l._isUTC=o,l._l=i,l._i=t,l._f=e,l._strict=r,(a=new y(he(xe(l))))._nextDay&&(a.add(1,"d"),a._nextDay=void 0),a}function De(t,e,i,n){return Ee(t,e,i,n,!1)}i.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),i.ISO_8601=function(){},i.RFC_2822=function(){};var Ae=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:f()}),Pe=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=De.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:f()});function Ie(t,e){var i,s;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return De();for(i=e[0],s=1;s<e.length;++s)e[s].isValid()&&!e[s][t](i)||(i=e[s]);return i}var Oe=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Me(t){var e=L(t),i=e.year||0,n=e.quarter||0,s=e.month||0,r=e.week||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=function(t){for(var e in t)if(-1===xt.call(Oe,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var i=!1,n=0;n<Oe.length;++n)if(t[Oe[n]]){if(i)return!1;parseFloat(t[Oe[n]])!==w(t[Oe[n]])&&(i=!0)}return!0}(e),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+o+7*r,this._months=+s+3*n+12*i,this._data={},this._locale=ce(),this._bubble()}function Le(t){return t instanceof Me}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Re(t,e){B(t,0,0,function(){var t=this.utcOffset(),i="+";return t<0&&(t=-t,i="-"),i+U(~~(t/60),2)+e+U(~~t%60,2)})}Re("Z",":"),Re("ZZ",""),lt("Z",rt),lt("ZZ",rt),dt(["Z","ZZ"],function(t,e,i){i._useUTC=!0,i._tzm=Fe(rt,t)});var Ue=/([\+\-]|\d\d)/gi;function Fe(t,e){var i=(e||"").match(t);if(null===i)return null;var n=((i[i.length-1]||[])+"").match(Ue)||["-",0,0],s=60*n[1]+w(n[2]);return 0===s?0:"+"===n[0]?s:-s}function je(t,e){var n,s;return e._isUTC?(n=e.clone(),s=(_(t)||a(t)?t.valueOf():De(t).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+s),i.updateOffset(n,!1),n):De(t).local()}function He(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function ze(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}i.updateOffset=function(){};var Be=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,We=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Ye(t,e){var i,n,s,r=t,a=null;return Le(t)?r={ms:t._milliseconds,d:t._days,M:t._months}:o(t)?(r={},e?r[e]=t:r.milliseconds=t):(a=Be.exec(t))?(i="-"===a[1]?-1:1,r={y:0,d:w(a[vt])*i,h:w(a[yt])*i,m:w(a[_t])*i,s:w(a[bt])*i,ms:w(Ne(1e3*a[wt]))*i}):(a=We.exec(t))?(i="-"===a[1]?-1:(a[1],1),r={y:Ve(a[2],i),M:Ve(a[3],i),w:Ve(a[4],i),d:Ve(a[5],i),h:Ve(a[6],i),m:Ve(a[7],i),s:Ve(a[8],i)}):null==r?r={}:"object"==typeof r&&("from"in r||"to"in r)&&(s=function(t,e){var i;if(!t.isValid()||!e.isValid())return{milliseconds:0,months:0};e=je(e,t),t.isBefore(e)?i=qe(t,e):((i=qe(e,t)).milliseconds=-i.milliseconds,i.months=-i.months);return i}(De(r.from),De(r.to)),(r={}).ms=s.milliseconds,r.M=s.months),n=new Me(r),Le(t)&&u(t,"_locale")&&(n._locale=t._locale),n}function Ve(t,e){var i=t&&parseFloat(t.replace(",","."));return(isNaN(i)?0:i)*e}function qe(t,e){var i={milliseconds:0,months:0};return i.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(i.months,"M").isAfter(e)&&--i.months,i.milliseconds=+e-+t.clone().add(i.months,"M"),i}function $e(t,e){return function(i,n){var s;return null===n||isNaN(+n)||(E(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),s=i,i=n,n=s),Ge(this,Ye(i="string"==typeof i?+i:i,n),t),this}}function Ge(t,e,n,s){var r=e._milliseconds,o=Ne(e._days),a=Ne(e._months);t.isValid()&&(s=null==s||s,a&&Nt(t,At(t,"Month")+a*n),o&&Pt(t,"Date",At(t,"Date")+o*n),r&&t._d.setTime(t._d.valueOf()+r*n),s&&i.updateOffset(t,o||a))}Ye.fn=Me.prototype,Ye.invalid=function(){return Ye(NaN)};var Xe=$e(1,"add"),Ke=$e(-1,"subtract");function Ze(t,e){var i=12*(e.year()-t.year())+(e.month()-t.month()),n=t.clone().add(i,"months");return-(i+(e-n<0?(e-n)/(n-t.clone().add(i-1,"months")):(e-n)/(t.clone().add(i+1,"months")-n)))||0}function Qe(t){var e;return void 0===t?this._locale._abbr:(null!=(e=ce(t))&&(this._locale=e),this)}i.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",i.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Je=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});function ti(){return this._locale}function ei(t,e){B(0,[t,t.length],0,e)}function ii(t,e,i,n,s){var r;return null==t?Wt(this,n,s).year:(e>(r=Yt(t,n,s))&&(e=r),function(t,e,i,n,s){var r=Bt(t,e,i,n,s),o=Ht(r.year,0,r.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}.call(this,t,e,i,n,s))}B(0,["gg",2],0,function(){return this.weekYear()%100}),B(0,["GG",2],0,function(){return this.isoWeekYear()%100}),ei("gggg","weekYear"),ei("ggggg","weekYear"),ei("GGGG","isoWeekYear"),ei("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),R("weekYear",1),R("isoWeekYear",1),lt("G",nt),lt("g",nt),lt("GG",K,q),lt("gg",K,q),lt("GGGG",tt,G),lt("gggg",tt,G),lt("GGGGG",et,X),lt("ggggg",et,X),pt(["gggg","ggggg","GGGG","GGGGG"],function(t,e,i,n){e[n.substr(0,2)]=w(t)}),pt(["gg","GG"],function(t,e,n,s){e[s]=i.parseTwoDigitYear(t)}),B("Q",0,"Qo","quarter"),O("quarter","Q"),R("quarter",7),lt("Q",V),dt("Q",function(t,e){e[gt]=3*(w(t)-1)}),B("D",["DD",2],"Do","date"),O("date","D"),R("date",9),lt("D",K),lt("DD",K,q),lt("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),dt(["D","DD"],vt),dt("Do",function(t,e){e[vt]=w(t.match(K)[0])});var ni=Dt("Date",!0);B("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),R("dayOfYear",4),lt("DDD",J),lt("DDDD",$),dt(["DDD","DDDD"],function(t,e,i){i._dayOfYear=w(t)}),B("m",["mm",2],0,"minute"),O("minute","m"),R("minute",14),lt("m",K),lt("mm",K,q),dt(["m","mm"],_t);var si=Dt("Minutes",!1);B("s",["ss",2],0,"second"),O("second","s"),R("second",15),lt("s",K),lt("ss",K,q),dt(["s","ss"],bt);var ri,oi=Dt("Seconds",!1);for(B("S",0,0,function(){return~~(this.millisecond()/100)}),B(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,function(){return 10*this.millisecond()}),B(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),B(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),B(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),B(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),B(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),R("millisecond",16),lt("S",J,V),lt("SS",J,q),lt("SSS",J,$),ri="SSSS";ri.length<=9;ri+="S")lt(ri,it);function ai(t,e){e[wt]=w(1e3*("0."+t))}for(ri="S";ri.length<=9;ri+="S")dt(ri,ai);var li=Dt("Milliseconds",!1);B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ui=y.prototype;function ci(t){return t}ui.add=Xe,ui.calendar=function(t,e){var n=t||De(),s=je(n,this).startOf("day"),r=i.calendarFormat(this,s)||"sameElse",o=e&&(D(e[r])?e[r].call(this,n):e[r]);return this.format(o||this.localeData().calendar(r,this,De(n)))},ui.clone=function(){return new y(this)},ui.diff=function(t,e,i){var n,s,r;if(!this.isValid())return NaN;if(!(n=je(t,this)).isValid())return NaN;switch(s=6e4*(n.utcOffset()-this.utcOffset()),e=M(e)){case"year":r=Ze(this,n)/12;break;case"month":r=Ze(this,n);break;case"quarter":r=Ze(this,n)/3;break;case"second":r=(this-n)/1e3;break;case"minute":r=(this-n)/6e4;break;case"hour":r=(this-n)/36e5;break;case"day":r=(this-n-s)/864e5;break;case"week":r=(this-n-s)/6048e5;break;default:r=this-n}return i?r:b(r)},ui.endOf=function(t){return void 0===(t=M(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))},ui.format=function(t){t||(t=this.isUtc()?i.defaultFormatUtc:i.defaultFormat);var e=W(this,t);return this.localeData().postformat(e)},ui.from=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||De(t).isValid())?Ye({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ui.fromNow=function(t){return this.from(De(),t)},ui.to=function(t,e){return this.isValid()&&(_(t)&&t.isValid()||De(t).isValid())?Ye({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()},ui.toNow=function(t){return this.to(De(),t)},ui.get=function(t){return D(this[t=M(t)])?this[t]():this},ui.invalidAt=function(){return d(this).overflow},ui.isAfter=function(t,e){var i=_(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=M(r(e)?"millisecond":e))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(e).valueOf())},ui.isBefore=function(t,e){var i=_(t)?t:De(t);return!(!this.isValid()||!i.isValid())&&("millisecond"===(e=M(r(e)?"millisecond":e))?this.valueOf()<i.valueOf():this.clone().endOf(e).valueOf()<i.valueOf())},ui.isBetween=function(t,e,i,n){return("("===(n=n||"()")[0]?this.isAfter(t,i):!this.isBefore(t,i))&&(")"===n[1]?this.isBefore(e,i):!this.isAfter(e,i))},ui.isSame=function(t,e){var i,n=_(t)?t:De(t);return!(!this.isValid()||!n.isValid())&&("millisecond"===(e=M(e||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(e).valueOf()<=i&&i<=this.clone().endOf(e).valueOf()))},ui.isSameOrAfter=function(t,e){return this.isSame(t,e)||this.isAfter(t,e)},ui.isSameOrBefore=function(t,e){return this.isSame(t,e)||this.isBefore(t,e)},ui.isValid=function(){return p(this)},ui.lang=Je,ui.locale=Qe,ui.localeData=ti,ui.max=Pe,ui.min=Ae,ui.parsingFlags=function(){return c({},d(this))},ui.set=function(t,e){if("object"==typeof t)for(var i=function(t){var e=[];for(var i in t)e.push({unit:i,priority:N[i]});return e.sort(function(t,e){return t.priority-e.priority}),e}(t=L(t)),n=0;n<i.length;n++)this[i[n].unit](t[i[n].unit]);else if(D(this[t=M(t)]))return this[t](e);return this},ui.startOf=function(t){switch(t=M(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this},ui.subtract=Ke,ui.toArray=function(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]},ui.toObject=function(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}},ui.toDate=function(){return new Date(this.valueOf())},ui.toISOString=function(t){if(!this.isValid())return null;var e=!0!==t,i=e?this.clone().utc():this;return i.year()<0||i.year()>9999?W(i,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",W(i,"Z")):W(i,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")},ui.inspect=function(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var i="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",s=e+'[")]';return this.format(i+n+"-MM-DD[T]HH:mm:ss.SSS"+s)},ui.toJSON=function(){return this.isValid()?this.toISOString():null},ui.toString=function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},ui.unix=function(){return Math.floor(this.valueOf()/1e3)},ui.valueOf=function(){return this._d.valueOf()-6e4*(this._offset||0)},ui.creationData=function(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},ui.year=Et,ui.isLeapYear=function(){return Ct(this.year())},ui.weekYear=function(t){return ii.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},ui.isoWeekYear=function(t){return ii.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)},ui.quarter=ui.quarters=function(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)},ui.month=Rt,ui.daysInMonth=function(){return It(this.year(),this.month())},ui.week=ui.weeks=function(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")},ui.isoWeek=ui.isoWeeks=function(t){var e=Wt(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")},ui.weeksInYear=function(){var t=this.localeData()._week;return Yt(this.year(),t.dow,t.doy)},ui.isoWeeksInYear=function(){return Yt(this.year(),1,4)},ui.date=ni,ui.day=ui.days=function(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=function(t,e){return"string"!=typeof t?t:isNaN(t)?"number"==typeof(t=e.weekdaysParse(t))?t:null:parseInt(t,10)}(t,this.localeData()),this.add(t-e,"d")):e},ui.weekday=function(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")},ui.isoWeekday=function(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=function(t,e){return"string"==typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7},ui.dayOfYear=function(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")},ui.hour=ui.hours=ie,ui.minute=ui.minutes=si,ui.second=ui.seconds=oi,ui.millisecond=ui.milliseconds=li,ui.utcOffset=function(t,e,n){var s,r=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"==typeof t){if(null===(t=Fe(rt,t)))return this}else Math.abs(t)<16&&!n&&(t*=60);return!this._isUTC&&e&&(s=He(this)),this._offset=t,this._isUTC=!0,null!=s&&this.add(s,"m"),r!==t&&(!e||this._changeInProgress?Ge(this,Ye(t-r,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,i.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?r:He(this)},ui.utc=function(t){return this.utcOffset(0,t)},ui.local=function(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(He(this),"m")),this},ui.parseZone=function(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var t=Fe(st,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this},ui.hasAlignedHourOffset=function(t){return!!this.isValid()&&(t=t?De(t).utcOffset():0,(this.utcOffset()-t)%60==0)},ui.isDST=function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},ui.isLocal=function(){return!!this.isValid()&&!this._isUTC},ui.isUtcOffset=function(){return!!this.isValid()&&this._isUTC},ui.isUtc=ze,ui.isUTC=ze,ui.zoneAbbr=function(){return this._isUTC?"UTC":""},ui.zoneName=function(){return this._isUTC?"Coordinated Universal Time":""},ui.dates=S("dates accessor is deprecated. Use date instead.",ni),ui.months=S("months accessor is deprecated. Use month instead",Rt),ui.years=S("years accessor is deprecated. Use year instead",Et),ui.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function(t,e){return null!=t?("string"!=typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}),ui.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function(){if(!r(this._isDSTShifted))return this._isDSTShifted;var t={};if(g(t,this),(t=xe(t))._a){var e=t._isUTC?h(t._a):De(t._a);this._isDSTShifted=this.isValid()&&T(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var hi=P.prototype;function di(t,e,i,n){var s=ce(),r=h().set(n,e);return s[i](r,t)}function pi(t,e,i){if(o(t)&&(e=t,t=void 0),t=t||"",null!=e)return di(t,e,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=di(t,n,i,"month");return s}function fi(t,e,i,n){"boolean"==typeof t?(o(e)&&(i=e,e=void 0),e=e||""):(i=e=t,t=!1,o(e)&&(i=e,e=void 0),e=e||"");var s,r=ce(),a=t?r._week.dow:0;if(null!=i)return di(e,(i+a)%7,n,"day");var l=[];for(s=0;s<7;s++)l[s]=di(e,(s+a)%7,n,"day");return l}hi.calendar=function(t,e,i){var n=this._calendar[t]||this._calendar.sameElse;return D(n)?n.call(e,i):n},hi.longDateFormat=function(t){var e=this._longDateFormat[t],i=this._longDateFormat[t.toUpperCase()];return e||!i?e:(this._longDateFormat[t]=i.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])},hi.invalidDate=function(){return this._invalidDate},hi.ordinal=function(t){return this._ordinal.replace("%d",t)},hi.preparse=ci,hi.postformat=ci,hi.relativeTime=function(t,e,i,n){var s=this._relativeTime[i];return D(s)?s(t,e,i,n):s.replace(/%d/i,t)},hi.pastFuture=function(t,e){var i=this._relativeTime[t>0?"future":"past"];return D(i)?i(e):i.replace(/%s/i,e)},hi.set=function(t){var e,i;for(i in t)D(e=t[i])?this[i]=e:this["_"+i]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},hi.months=function(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||Ot).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone},hi.monthsShort=function(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[Ot.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},hi.monthsParse=function(t,e,i){var n,s,r;if(this._monthsParseExact)return function(t,e,i){var n,s,r,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)r=h([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(r,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(r,"").toLocaleLowerCase();return i?"MMM"===e?-1!==(s=xt.call(this._shortMonthsParse,o))?s:null:-1!==(s=xt.call(this._longMonthsParse,o))?s:null:"MMM"===e?-1!==(s=xt.call(this._shortMonthsParse,o))?s:-1!==(s=xt.call(this._longMonthsParse,o))?s:null:-1!==(s=xt.call(this._longMonthsParse,o))?s:-1!==(s=xt.call(this._shortMonthsParse,o))?s:null}.call(this,t,e,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=h([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(r="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(r.replace(".",""),"i")),i&&"MMMM"===e&&this._longMonthsParse[n].test(t))return n;if(i&&"MMM"===e&&this._shortMonthsParse[n].test(t))return n;if(!i&&this._monthsParse[n].test(t))return n}},hi.monthsRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||jt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=Ft),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)},hi.monthsShortRegex=function(t){return this._monthsParseExact?(u(this,"_monthsRegex")||jt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=Ut),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)},hi.week=function(t){return Wt(t,this._week.dow,this._week.doy).week},hi.firstDayOfYear=function(){return this._week.doy},hi.firstDayOfWeek=function(){return this._week.dow},hi.weekdays=function(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone},hi.weekdaysMin=function(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin},hi.weekdaysShort=function(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort},hi.weekdaysParse=function(t,e,i){var n,s,r;if(this._weekdaysParseExact)return function(t,e,i){var n,s,r,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)r=h([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(r,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(r,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(r,"").toLocaleLowerCase();return i?"dddd"===e?-1!==(s=xt.call(this._weekdaysParse,o))?s:null:"ddd"===e?-1!==(s=xt.call(this._shortWeekdaysParse,o))?s:null:-1!==(s=xt.call(this._minWeekdaysParse,o))?s:null:"dddd"===e?-1!==(s=xt.call(this._weekdaysParse,o))?s:-1!==(s=xt.call(this._shortWeekdaysParse,o))?s:-1!==(s=xt.call(this._minWeekdaysParse,o))?s:null:"ddd"===e?-1!==(s=xt.call(this._shortWeekdaysParse,o))?s:-1!==(s=xt.call(this._weekdaysParse,o))?s:-1!==(s=xt.call(this._minWeekdaysParse,o))?s:null:-1!==(s=xt.call(this._minWeekdaysParse,o))?s:-1!==(s=xt.call(this._weekdaysParse,o))?s:-1!==(s=xt.call(this._shortWeekdaysParse,o))?s:null}.call(this,t,e,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=h([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(r="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(r.replace(".",""),"i")),i&&"dddd"===e&&this._fullWeekdaysParse[n].test(t))return n;if(i&&"ddd"===e&&this._shortWeekdaysParse[n].test(t))return n;if(i&&"dd"===e&&this._minWeekdaysParse[n].test(t))return n;if(!i&&this._weekdaysParse[n].test(t))return n}},hi.weekdaysRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=Gt),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)},hi.weekdaysShortRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Xt),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},hi.weekdaysMinRegex=function(t){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||Zt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Kt),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},hi.isPM=function(t){return"p"===(t+"").toLowerCase().charAt(0)},hi.meridiem=function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},le("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===w(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),i.lang=S("moment.lang is deprecated. Use moment.locale instead.",le),i.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ce);var mi=Math.abs;function gi(t,e,i,n){var s=Ye(e,i);return t._milliseconds+=n*s._milliseconds,t._days+=n*s._days,t._months+=n*s._months,t._bubble()}function vi(t){return t<0?Math.floor(t):Math.ceil(t)}function yi(t){return 4800*t/146097}function _i(t){return 146097*t/4800}function bi(t){return function(){return this.as(t)}}var wi=bi("ms"),Ti=bi("s"),ki=bi("m"),Si=bi("h"),Ci=bi("d"),xi=bi("w"),Ei=bi("M"),Di=bi("y");function Ai(t){return function(){return this.isValid()?this._data[t]:NaN}}var Pi=Ai("milliseconds"),Ii=Ai("seconds"),Oi=Ai("minutes"),Mi=Ai("hours"),Li=Ai("days"),Ni=Ai("months"),Ri=Ai("years");var Ui=Math.round,Fi={ss:44,s:45,m:45,h:22,d:26,M:11};var ji=Math.abs;function Hi(t){return(t>0)-(t<0)||+t}function zi(){if(!this.isValid())return this.localeData().invalidDate();var t,e,i=ji(this._milliseconds)/1e3,n=ji(this._days),s=ji(this._months);t=b(i/60),e=b(t/60),i%=60,t%=60;var r=b(s/12),o=s%=12,a=n,l=e,u=t,c=i?i.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",p=Hi(this._months)!==Hi(h)?"-":"",f=Hi(this._days)!==Hi(h)?"-":"",m=Hi(this._milliseconds)!==Hi(h)?"-":"";return d+"P"+(r?p+r+"Y":"")+(o?p+o+"M":"")+(a?f+a+"D":"")+(l||u||c?"T":"")+(l?m+l+"H":"")+(u?m+u+"M":"")+(c?m+c+"S":"")}var Bi=Me.prototype;return Bi.isValid=function(){return this._isValid},Bi.abs=function(){var t=this._data;return this._milliseconds=mi(this._milliseconds),this._days=mi(this._days),this._months=mi(this._months),t.milliseconds=mi(t.milliseconds),t.seconds=mi(t.seconds),t.minutes=mi(t.minutes),t.hours=mi(t.hours),t.months=mi(t.months),t.years=mi(t.years),this},Bi.add=function(t,e){return gi(this,t,e,1)},Bi.subtract=function(t,e){return gi(this,t,e,-1)},Bi.as=function(t){if(!this.isValid())return NaN;var e,i,n=this._milliseconds;if("month"===(t=M(t))||"year"===t)return e=this._days+n/864e5,i=this._months+yi(e),"month"===t?i:i/12;switch(e=this._days+Math.round(_i(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return 24*e+n/36e5;case"minute":return 1440*e+n/6e4;case"second":return 86400*e+n/1e3;case"millisecond":return Math.floor(864e5*e)+n;default:throw new Error("Unknown unit "+t)}},Bi.asMilliseconds=wi,Bi.asSeconds=Ti,Bi.asMinutes=ki,Bi.asHours=Si,Bi.asDays=Ci,Bi.asWeeks=xi,Bi.asMonths=Ei,Bi.asYears=Di,Bi.valueOf=function(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*w(this._months/12):NaN},Bi._bubble=function(){var t,e,i,n,s,r=this._milliseconds,o=this._days,a=this._months,l=this._data;return r>=0&&o>=0&&a>=0||r<=0&&o<=0&&a<=0||(r+=864e5*vi(_i(a)+o),o=0,a=0),l.milliseconds=r%1e3,t=b(r/1e3),l.seconds=t%60,e=b(t/60),l.minutes=e%60,i=b(e/60),l.hours=i%24,o+=b(i/24),a+=s=b(yi(o)),o-=vi(_i(s)),n=b(a/12),a%=12,l.days=o,l.months=a,l.years=n,this},Bi.clone=function(){return Ye(this)},Bi.get=function(t){return t=M(t),this.isValid()?this[t+"s"]():NaN},Bi.milliseconds=Pi,Bi.seconds=Ii,Bi.minutes=Oi,Bi.hours=Mi,Bi.days=Li,Bi.weeks=function(){return b(this.days()/7)},Bi.months=Ni,Bi.years=Ri,Bi.humanize=function(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),i=function(t,e,i){var n=Ye(t).abs(),s=Ui(n.as("s")),r=Ui(n.as("m")),o=Ui(n.as("h")),a=Ui(n.as("d")),l=Ui(n.as("M")),u=Ui(n.as("y")),c=s<=Fi.ss&&["s",s]||s<Fi.s&&["ss",s]||r<=1&&["m"]||r<Fi.m&&["mm",r]||o<=1&&["h"]||o<Fi.h&&["hh",o]||a<=1&&["d"]||a<Fi.d&&["dd",a]||l<=1&&["M"]||l<Fi.M&&["MM",l]||u<=1&&["y"]||["yy",u];return c[2]=e,c[3]=+t>0,c[4]=i,function(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}.apply(null,c)}(this,!t,e);return t&&(i=e.pastFuture(+this,i)),e.postformat(i)},Bi.toISOString=zi,Bi.toString=zi,Bi.toJSON=zi,Bi.locale=Qe,Bi.localeData=ti,Bi.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",zi),Bi.lang=Je,B("X",0,0,"unix"),B("x",0,0,"valueOf"),lt("x",nt),lt("X",/[+-]?\d+(\.\d{1,3})?/),dt("X",function(t,e,i){i._d=new Date(1e3*parseFloat(t,10))}),dt("x",function(t,e,i){i._d=new Date(w(t))}),i.version="2.22.2",t=De,i.fn=ui,i.min=function(){return Ie("isBefore",[].slice.call(arguments,0))},i.max=function(){return Ie("isAfter",[].slice.call(arguments,0))},i.now=function(){return Date.now?Date.now():+new Date},i.utc=h,i.unix=function(t){return De(1e3*t)},i.months=function(t,e){return pi(t,e,"months")},i.isDate=a,i.locale=le,i.invalid=f,i.duration=Ye,i.isMoment=_,i.weekdays=function(t,e,i){return fi(t,e,i,"weekdays")},i.parseZone=function(){return De.apply(null,arguments).parseZone()},i.localeData=ce,i.isDuration=Le,i.monthsShort=function(t,e){return pi(t,e,"monthsShort")},i.weekdaysMin=function(t,e,i){return fi(t,e,i,"weekdaysMin")},i.defineLocale=ue,i.updateLocale=function(t,e){if(null!=e){var i,n,s=ne;null!=(n=ae(t))&&(s=n._config),(i=new P(e=A(s,e))).parentLocale=se[t],se[t]=i,le(t)}else null!=se[t]&&(null!=se[t].parentLocale?se[t]=se[t].parentLocale:null!=se[t]&&delete se[t]);return se[t]},i.locales=function(){return C(se)},i.weekdaysShort=function(t,e,i){return fi(t,e,i,"weekdaysShort")},i.normalizeUnits=M,i.relativeTimeRounding=function(t){return void 0===t?Ui:"function"==typeof t&&(Ui=t,!0)},i.relativeTimeThreshold=function(t,e){return void 0!==Fi[t]&&(void 0===e?Fi[t]:(Fi[t]=e,"s"===t&&(Fi.ss=e-1),!0))},i.calendarFormat=function(t,e){var i=t.diff(e,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"},i.prototype=ui,i.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},i}),"undefined"==typeof jQuery)throw new Error("Tempus Dominus Bootstrap4's requires jQuery. jQuery must be included before Tempus Dominus Bootstrap4's JavaScript.");if(function(t){var e=jQuery.fn.jquery.split(" ")[0].split(".");if(e[0]<2&&e[1]<9||1===e[0]&&9===e[1]&&e[2]<1||e[0]>=4)throw new Error("Tempus Dominus Bootstrap4's requires at least jQuery v3.0.0 but less than v4.0.0")}(),"undefined"==typeof moment)throw new Error("Tempus Dominus Bootstrap4's requires moment.js. Moment.js must be included before Tempus Dominus Bootstrap4's JavaScript.");var version=moment.version.split(".");if(version[0]<=2&&version[1]<17||version[0]>=3)throw new Error("Tempus Dominus Bootstrap4's requires at least moment.js v2.17.0 but less than v3.0.0");!function(){var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}();function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var n=function(t,n){var s="datetimepicker",r=".datetimepicker",o={DATA_TOGGLE:'[data-toggle="datetimepicker"]'},a={INPUT:s+"-input"},l={CHANGE:"change"+r,BLUR:"blur"+r,KEYUP:"keyup"+r,KEYDOWN:"keydown"+r,FOCUS:"focus"+r,CLICK_DATA_API:"click"+r+".data-api",UPDATE:"update"+r,ERROR:"error"+r,HIDE:"hide"+r,SHOW:"show"+r},u=[{CLASS_NAME:"days",NAV_FUNCTION:"M",NAV_STEP:1},{CLASS_NAME:"months",NAV_FUNCTION:"y",NAV_STEP:1},{CLASS_NAME:"years",NAV_FUNCTION:"y",NAV_STEP:10},{CLASS_NAME:"decades",NAV_FUNCTION:"y",NAV_STEP:100}],c={up:38,38:"up",down:40,40:"down",left:37,37:"left",right:39,39:"right",tab:9,9:"tab",escape:27,27:"escape",enter:13,13:"enter",pageUp:33,33:"pageUp",pageDown:34,34:"pageDown",shift:16,16:"shift",control:17,17:"control",space:32,32:"space",t:84,84:"t",delete:46,46:"delete"},h=["times","days","months","years","decades"],d={},p={},f=0,m={timeZone:"",format:!1,dayViewHeaderFormat:"MMMM YYYY",extraFormats:!1,stepping:1,minDate:!1,maxDate:!1,useCurrent:!0,collapse:!0,locale:n.locale(),defaultDate:!1,disabledDates:!1,enabledDates:!1,icons:{time:"fa fa-clock-o",date:"fa fa-calendar",up:"fa fa-arrow-up",down:"fa fa-arrow-down",previous:"fa fa-chevron-left",next:"fa fa-chevron-right",today:"fa fa-calendar-check-o",clear:"fa fa-delete",close:"fa fa-times"},tooltips:{today:"Go to today",clear:"Clear selection",close:"Close the picker",selectMonth:"Select Month",prevMonth:"Previous Month",nextMonth:"Next Month",selectYear:"Select Year",prevYear:"Previous Year",nextYear:"Next Year",selectDecade:"Select Decade",prevDecade:"Previous Decade",nextDecade:"Next Decade",prevCentury:"Previous Century",nextCentury:"Next Century",pickHour:"Pick Hour",incrementHour:"Increment Hour",decrementHour:"Decrement Hour",pickMinute:"Pick Minute",incrementMinute:"Increment Minute",decrementMinute:"Decrement Minute",pickSecond:"Pick Second",incrementSecond:"Increment Second",decrementSecond:"Decrement Second",togglePeriod:"Toggle Period",selectTime:"Select Time",selectDate:"Select Date"},useStrict:!1,sideBySide:!1,daysOfWeekDisabled:!1,calendarWeeks:!1,viewMode:"days",toolbarPlacement:"default",buttons:{showToday:!1,showClear:!1,showClose:!1},widgetPositioning:{horizontal:"auto",vertical:"auto"},widgetParent:null,ignoreReadonly:!1,keepOpen:!1,focusOnShow:!0,inline:!1,keepInvalid:!1,keyBinds:{up:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(7,"d")):this.date(t.clone().add(this.stepping(),"m")),!0},down:function(){if(!this.widget)return this.show(),!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(7,"d")):this.date(t.clone().subtract(this.stepping(),"m")),!0},"control up":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().subtract(1,"y")):this.date(t.clone().add(1,"h")),!0},"control down":function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")?this.date(t.clone().add(1,"y")):this.date(t.clone().subtract(1,"h")),!0},left:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"d")),!0},right:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"d")),!0},pageUp:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().subtract(1,"M")),!0},pageDown:function(){if(!this.widget)return!1;var t=this._dates[0]||this.getMoment();return this.widget.find(".datepicker").is(":visible")&&this.date(t.clone().add(1,"M")),!0},enter:function(){return!!this.widget&&(this.hide(),!0)},escape:function(){return!!this.widget&&(this.hide(),!0)},"control space":function(){return!!this.widget&&(this.widget.find(".timepicker").is(":visible")&&this.widget.find('.btn[data-action="togglePeriod"]').click(),!0)},t:function(){return!!this.widget&&(this.date(this.getMoment()),!0)},delete:function(){return!!this.widget&&(this.clear(),!0)}},debug:!1,allowInputToggle:!1,disabledTimeIntervals:!1,disabledHours:!1,enabledHours:!1,viewDate:!1,allowMultidate:!1,multidateSeparator:","};return function(){function g(t,e){i(this,g),this._options=this._getOptions(e),this._element=t,this._dates=[],this._datesFormatted=[],this._viewDate=null,this.unset=!0,this.component=!1,this.widget=!1,this.use24Hours=null,this.actualFormat=null,this.parseFormats=null,this.currentViewMode=null,this._int()}return g.prototype._int=function(){var e=this._element.data("target-input");this._element.is("input")?this.input=this._element:void 0!==e&&(this.input="nearest"===e?this._element.find("input"):t(e)),this._dates=[],this._dates[0]=this.getMoment(),this._viewDate=this.getMoment().clone(),t.extend(!0,this._options,this._dataToOptions()),this.options(this._options),this._initFormatting(),void 0!==this.input&&this.input.is("input")&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this._options.defaultDate&&void 0!==this.input&&void 0===this.input.attr("placeholder")&&this._setValue(this._options.defaultDate,0),this._options.inline&&this.show()},g.prototype._update=function(){this.widget&&(this._fillDate(),this._fillTime())},g.prototype._setValue=function(t,e){var i=this.unset?null:this._dates[e],n="";if(!t)return this._options.allowMultidate&&1!==this._dates.length?(n=(n=this._element.data("date")+",").replace(i.format(this.actualFormat)+",","").replace(",,","").replace(/,\s*$/,""),this._dates.splice(e,1),this._datesFormatted.splice(e,1)):(this.unset=!0,this._dates=[],this._datesFormatted=[]),void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this._notifyEvent({type:g.Event.CHANGE,date:!1,oldDate:i}),void this._update();if(t=t.clone().locale(this._options.locale),this._hasTimeZone()&&t.tz(this._options.timeZone),1!==this._options.stepping&&t.minutes(Math.round(t.minutes()/this._options.stepping)*this._options.stepping).seconds(0),this._isValid(t)){if(this._dates[e]=t,this._datesFormatted[e]=t.format("YYYY-MM-DD"),this._viewDate=t.clone(),this._options.allowMultidate&&this._dates.length>1){for(var s=0;s<this._dates.length;s++)n+=""+this._dates[s].format(this.actualFormat)+this._options.multidateSeparator;n=n.replace(/,\s*$/,"")}else n=this._dates[e].format(this.actualFormat);void 0!==this.input&&(this.input.val(n),this.input.trigger("input")),this._element.data("date",n),this.unset=!1,this._update(),this._notifyEvent({type:g.Event.CHANGE,date:this._dates[e].clone(),oldDate:i})}else this._options.keepInvalid?this._notifyEvent({type:g.Event.CHANGE,date:t,oldDate:i}):void 0!==this.input&&(this.input.val(""+(this.unset?"":this._dates[e].format(this.actualFormat))),this.input.trigger("input")),this._notifyEvent({type:g.Event.ERROR,date:t,oldDate:i})},g.prototype._change=function(e){var i=t(e.target).val().trim(),n=i?this._parseInputDate(i):null;return this._setValue(n),e.stopImmediatePropagation(),!1},g.prototype._getOptions=function(e){return e=t.extend(!0,{},m,e)},g.prototype._hasTimeZone=function(){return void 0!==n.tz&&void 0!==this._options.timeZone&&null!==this._options.timeZone&&""!==this._options.timeZone},g.prototype._isEnabled=function(t){if("string"!=typeof t||t.length>1)throw new TypeError("isEnabled expects a single character string parameter");switch(t){case"y":return-1!==this.actualFormat.indexOf("Y");case"M":return-1!==this.actualFormat.indexOf("M");case"d":return-1!==this.actualFormat.toLowerCase().indexOf("d");case"h":case"H":return-1!==this.actualFormat.toLowerCase().indexOf("h");case"m":return-1!==this.actualFormat.indexOf("m");case"s":return-1!==this.actualFormat.indexOf("s");case"a":case"A":return-1!==this.actualFormat.toLowerCase().indexOf("a");default:return!1}},g.prototype._hasTime=function(){return this._isEnabled("h")||this._isEnabled("m")||this._isEnabled("s")},g.prototype._hasDate=function(){return this._isEnabled("y")||this._isEnabled("M")||this._isEnabled("d")},g.prototype._dataToOptions=function(){var e=this._element.data(),i={};return e.dateOptions&&e.dateOptions instanceof Object&&(i=t.extend(!0,i,e.dateOptions)),t.each(this._options,function(t){var n="date"+t.charAt(0).toUpperCase()+t.slice(1);void 0!==e[n]?i[t]=e[n]:delete i[t]}),i},g.prototype._notifyEvent=function(t){t.type===g.Event.CHANGE&&t.date&&t.date.isSame(t.oldDate)||!t.date&&!t.oldDate||this._element.trigger(t)},g.prototype._viewUpdate=function(t){"y"===t&&(t="YYYY"),this._notifyEvent({type:g.Event.UPDATE,change:t,viewDate:this._viewDate.clone()})},g.prototype._showMode=function(t){this.widget&&(t&&(this.currentViewMode=Math.max(f,Math.min(3,this.currentViewMode+t))),this.widget.find(".datepicker > div").hide().filter(".datepicker-"+u[this.currentViewMode].CLASS_NAME).show())},g.prototype._isInDisabledDates=function(t){return!0===this._options.disabledDates[t.format("YYYY-MM-DD")]},g.prototype._isInEnabledDates=function(t){return!0===this._options.enabledDates[t.format("YYYY-MM-DD")]},g.prototype._isInDisabledHours=function(t){return!0===this._options.disabledHours[t.format("H")]},g.prototype._isInEnabledHours=function(t){return!0===this._options.enabledHours[t.format("H")]},g.prototype._isValid=function(e,i){if(!e.isValid())return!1;if(this._options.disabledDates&&"d"===i&&this._isInDisabledDates(e))return!1;if(this._options.enabledDates&&"d"===i&&!this._isInEnabledDates(e))return!1;if(this._options.minDate&&e.isBefore(this._options.minDate,i))return!1;if(this._options.maxDate&&e.isAfter(this._options.maxDate,i))return!1;if(this._options.daysOfWeekDisabled&&"d"===i&&-1!==this._options.daysOfWeekDisabled.indexOf(e.day()))return!1;if(this._options.disabledHours&&("h"===i||"m"===i||"s"===i)&&this._isInDisabledHours(e))return!1;if(this._options.enabledHours&&("h"===i||"m"===i||"s"===i)&&!this._isInEnabledHours(e))return!1;if(this._options.disabledTimeIntervals&&("h"===i||"m"===i||"s"===i)){var n=!1;if(t.each(this._options.disabledTimeIntervals,function(){if(e.isBetween(this[0],this[1]))return n=!0,!1}),n)return!1}return!0},g.prototype._parseInputDate=function(t){return void 0===this._options.parseInputDate?n.isMoment(t)||(t=this.getMoment(t)):t=this._options.parseInputDate(t),t},g.prototype._keydown=function(t){var e=null,i=void 0,n=void 0,s=void 0,r=void 0,o=[],a={},l=t.which;for(i in d[l]="p",d)d.hasOwnProperty(i)&&"p"===d[i]&&(o.push(i),parseInt(i,10)!==l&&(a[i]=!0));for(i in this._options.keyBinds)if(this._options.keyBinds.hasOwnProperty(i)&&"function"==typeof this._options.keyBinds[i]&&(s=i.split(" ")).length===o.length&&c[l]===s[s.length-1]){for(r=!0,n=s.length-2;n>=0;n--)if(!(c[s[n]]in a)){r=!1;break}if(r){e=this._options.keyBinds[i];break}}e&&e.call(this)&&(t.stopPropagation(),t.preventDefault())},g.prototype._keyup=function(t){d[t.which]="r",p[t.which]&&(p[t.which]=!1,t.stopPropagation(),t.preventDefault())},g.prototype._indexGivenDates=function(e){var i={},n=this;return t.each(e,function(){var t=n._parseInputDate(this);t.isValid()&&(i[t.format("YYYY-MM-DD")]=!0)}),!!Object.keys(i).length&&i},g.prototype._indexGivenHours=function(e){var i={};return t.each(e,function(){i[this]=!0}),!!Object.keys(i).length&&i},g.prototype._initFormatting=function(){var t=this._options.format||"L LT",e=this;this.actualFormat=t.replace(/(\[[^\[]*])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,function(t){return e._dates[0].localeData().longDateFormat(t)||t}),this.parseFormats=this._options.extraFormats?this._options.extraFormats.slice():[],this.parseFormats.indexOf(t)<0&&this.parseFormats.indexOf(this.actualFormat)<0&&this.parseFormats.push(this.actualFormat),this.use24Hours=this.actualFormat.toLowerCase().indexOf("a")<1&&this.actualFormat.replace(/\[.*?]/g,"").indexOf("h")<1,this._isEnabled("y")&&(f=2),this._isEnabled("M")&&(f=1),this._isEnabled("d")&&(f=0),this.currentViewMode=Math.max(f,this.currentViewMode),this.unset||this._setValue(this._dates[0],0)},g.prototype._getLastPickedDate=function(){return this._dates[this._getLastPickedDateIndex()]},g.prototype._getLastPickedDateIndex=function(){return this._dates.length-1},g.prototype.getMoment=function(t){var e=void 0;return e=null==t?n():this._hasTimeZone()?n.tz(t,this.parseFormats,this._options.locale,this._options.useStrict,this._options.timeZone):n(t,this.parseFormats,this._options.locale,this._options.useStrict),this._hasTimeZone()&&e.tz(this._options.timeZone),e},g.prototype.toggle=function(){return this.widget?this.hide():this.show()},g.prototype.ignoreReadonly=function(t){if(0===arguments.length)return this._options.ignoreReadonly;if("boolean"!=typeof t)throw new TypeError("ignoreReadonly () expects a boolean parameter");this._options.ignoreReadonly=t},g.prototype.options=function(e){if(0===arguments.length)return t.extend(!0,{},this._options);if(!(e instanceof Object))throw new TypeError("options() this.options parameter should be an object");t.extend(!0,this._options,e);var i=this;t.each(this._options,function(t,e){void 0!==i[t]&&i[t](e)})},g.prototype.date=function(t,e){if(e=e||0,0===arguments.length)return this.unset?null:this._options.allowMultidate?this._dates.join(this._options.multidateSeparator):this._dates[e].clone();if(!(null===t||"string"==typeof t||n.isMoment(t)||t instanceof Date))throw new TypeError("date() parameter must be one of [null, string, moment or Date]");this._setValue(null===t?null:this._parseInputDate(t),e)},g.prototype.format=function(t){if(0===arguments.length)return this._options.format;if("string"!=typeof t&&("boolean"!=typeof t||!1!==t))throw new TypeError("format() expects a string or boolean:false parameter "+t);this._options.format=t,this.actualFormat&&this._initFormatting()},g.prototype.timeZone=function(t){if(0===arguments.length)return this._options.timeZone;if("string"!=typeof t)throw new TypeError("newZone() expects a string parameter");this._options.timeZone=t},g.prototype.dayViewHeaderFormat=function(t){if(0===arguments.length)return this._options.dayViewHeaderFormat;if("string"!=typeof t)throw new TypeError("dayViewHeaderFormat() expects a string parameter");this._options.dayViewHeaderFormat=t},g.prototype.extraFormats=function(t){if(0===arguments.length)return this._options.extraFormats;if(!1!==t&&!(t instanceof Array))throw new TypeError("extraFormats() expects an array or false parameter");this._options.extraFormats=t,this.parseFormats&&this._initFormatting()},g.prototype.disabledDates=function(e){if(0===arguments.length)return this._options.disabledDates?t.extend({},this._options.disabledDates):this._options.disabledDates;if(!e)return this._options.disabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledDates() expects an array parameter");this._options.disabledDates=this._indexGivenDates(e),this._options.enabledDates=!1,this._update()},g.prototype.enabledDates=function(e){if(0===arguments.length)return this._options.enabledDates?t.extend({},this._options.enabledDates):this._options.enabledDates;if(!e)return this._options.enabledDates=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledDates() expects an array parameter");this._options.enabledDates=this._indexGivenDates(e),this._options.disabledDates=!1,this._update()},g.prototype.daysOfWeekDisabled=function(t){if(0===arguments.length)return this._options.daysOfWeekDisabled.splice(0);if("boolean"==typeof t&&!t)return this._options.daysOfWeekDisabled=!1,this._update(),!0;if(!(t instanceof Array))throw new TypeError("daysOfWeekDisabled() expects an array parameter");if(this._options.daysOfWeekDisabled=t.reduce(function(t,e){return(e=parseInt(e,10))>6||e<0||isNaN(e)?t:(-1===t.indexOf(e)&&t.push(e),t)},[]).sort(),this._options.useCurrent&&!this._options.keepInvalid)for(var e=0;e<this._dates.length;e++){for(var i=0;!this._isValid(this._dates[e],"d");){if(this._dates[e].add(1,"d"),31===i)throw"Tried 31 times to find a valid date";i++}this._setValue(this._dates[e],e)}this._update()},g.prototype.maxDate=function(t){if(0===arguments.length)return this._options.maxDate?this._options.maxDate.clone():this._options.maxDate;if("boolean"==typeof t&&!1===t)return this._options.maxDate=!1,this._update(),!0;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=this.getMoment()));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("maxDate() Could not parse date parameter: "+t);if(this._options.minDate&&e.isBefore(this._options.minDate))throw new TypeError("maxDate() date parameter is before this.options.minDate: "+e.format(this.actualFormat));this._options.maxDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isAfter(t)&&this._setValue(this._options.maxDate,i);this._viewDate.isAfter(e)&&(this._viewDate=e.clone().subtract(this._options.stepping,"m")),this._update()},g.prototype.minDate=function(t){if(0===arguments.length)return this._options.minDate?this._options.minDate.clone():this._options.minDate;if("boolean"==typeof t&&!1===t)return this._options.minDate=!1,this._update(),!0;"string"==typeof t&&("now"!==t&&"moment"!==t||(t=this.getMoment()));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("minDate() Could not parse date parameter: "+t);if(this._options.maxDate&&e.isAfter(this._options.maxDate))throw new TypeError("minDate() date parameter is after this.options.maxDate: "+e.format(this.actualFormat));this._options.minDate=e;for(var i=0;i<this._dates.length;i++)this._options.useCurrent&&!this._options.keepInvalid&&this._dates[i].isBefore(t)&&this._setValue(this._options.minDate,i);this._viewDate.isBefore(e)&&(this._viewDate=e.clone().add(this._options.stepping,"m")),this._update()},g.prototype.defaultDate=function(t){if(0===arguments.length)return this._options.defaultDate?this._options.defaultDate.clone():this._options.defaultDate;if(!t)return this._options.defaultDate=!1,!0;"string"==typeof t&&(t="now"===t||"moment"===t?this.getMoment():this.getMoment(t));var e=this._parseInputDate(t);if(!e.isValid())throw new TypeError("defaultDate() Could not parse date parameter: "+t);if(!this._isValid(e))throw new TypeError("defaultDate() date passed is invalid according to component setup validations");this._options.defaultDate=e,(this._options.defaultDate&&this._options.inline||void 0!==this.input&&""===this.input.val().trim())&&this._setValue(this._options.defaultDate,0)},g.prototype.locale=function(t){if(0===arguments.length)return this._options.locale;if(!n.localeData(t))throw new TypeError("locale() locale "+t+" is not loaded from moment locales!");this._options.locale=t;for(var e=0;e<this._dates.length;e++)this._dates[e].locale(this._options.locale);this._viewDate.locale(this._options.locale),this.actualFormat&&this._initFormatting(),this.widget&&(this.hide(),this.show())},g.prototype.stepping=function(t){if(0===arguments.length)return this._options.stepping;t=parseInt(t,10),(isNaN(t)||t<1)&&(t=1),this._options.stepping=t},g.prototype.useCurrent=function(t){var e=["year","month","day","hour","minute"];if(0===arguments.length)return this._options.useCurrent;if("boolean"!=typeof t&&"string"!=typeof t)throw new TypeError("useCurrent() expects a boolean or string parameter");if("string"==typeof t&&-1===e.indexOf(t.toLowerCase()))throw new TypeError("useCurrent() expects a string parameter of "+e.join(", "));this._options.useCurrent=t},g.prototype.collapse=function(t){if(0===arguments.length)return this._options.collapse;if("boolean"!=typeof t)throw new TypeError("collapse() expects a boolean parameter");if(this._options.collapse===t)return!0;this._options.collapse=t,this.widget&&(this.hide(),this.show())},g.prototype.icons=function(e){if(0===arguments.length)return t.extend({},this._options.icons);if(!(e instanceof Object))throw new TypeError("icons() expects parameter to be an Object");t.extend(this._options.icons,e),this.widget&&(this.hide(),this.show())},g.prototype.tooltips=function(e){if(0===arguments.length)return t.extend({},this._options.tooltips);if(!(e instanceof Object))throw new TypeError("tooltips() expects parameter to be an Object");t.extend(this._options.tooltips,e),this.widget&&(this.hide(),this.show())},g.prototype.useStrict=function(t){if(0===arguments.length)return this._options.useStrict;if("boolean"!=typeof t)throw new TypeError("useStrict() expects a boolean parameter");this._options.useStrict=t},g.prototype.sideBySide=function(t){if(0===arguments.length)return this._options.sideBySide;if("boolean"!=typeof t)throw new TypeError("sideBySide() expects a boolean parameter");this._options.sideBySide=t,this.widget&&(this.hide(),this.show())},g.prototype.viewMode=function(t){if(0===arguments.length)return this._options.viewMode;if("string"!=typeof t)throw new TypeError("viewMode() expects a string parameter");if(-1===g.ViewModes.indexOf(t))throw new TypeError("viewMode() parameter must be one of ("+g.ViewModes.join(", ")+") value");this._options.viewMode=t,this.currentViewMode=Math.max(g.ViewModes.indexOf(t)-1,g.MinViewModeNumber),this._showMode()},g.prototype.calendarWeeks=function(t){if(0===arguments.length)return this._options.calendarWeeks;if("boolean"!=typeof t)throw new TypeError("calendarWeeks() expects parameter to be a boolean value");this._options.calendarWeeks=t,this._update()},g.prototype.buttons=function(e){if(0===arguments.length)return t.extend({},this._options.buttons);if(!(e instanceof Object))throw new TypeError("buttons() expects parameter to be an Object");if(t.extend(this._options.buttons,e),"boolean"!=typeof this._options.buttons.showToday)throw new TypeError("buttons.showToday expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClear)throw new TypeError("buttons.showClear expects a boolean parameter");if("boolean"!=typeof this._options.buttons.showClose)throw new TypeError("buttons.showClose expects a boolean parameter");this.widget&&(this.hide(),this.show())},g.prototype.keepOpen=function(t){if(0===arguments.length)return this._options.keepOpen;if("boolean"!=typeof t)throw new TypeError("keepOpen() expects a boolean parameter");this._options.keepOpen=t},g.prototype.focusOnShow=function(t){if(0===arguments.length)return this._options.focusOnShow;if("boolean"!=typeof t)throw new TypeError("focusOnShow() expects a boolean parameter");this._options.focusOnShow=t},g.prototype.inline=function(t){if(0===arguments.length)return this._options.inline;if("boolean"!=typeof t)throw new TypeError("inline() expects a boolean parameter");this._options.inline=t},g.prototype.clear=function(){this._setValue(null)},g.prototype.keyBinds=function(t){if(0===arguments.length)return this._options.keyBinds;this._options.keyBinds=t},g.prototype.debug=function(t){if("boolean"!=typeof t)throw new TypeError("debug() expects a boolean parameter");this._options.debug=t},g.prototype.allowInputToggle=function(t){if(0===arguments.length)return this._options.allowInputToggle;if("boolean"!=typeof t)throw new TypeError("allowInputToggle() expects a boolean parameter");this._options.allowInputToggle=t},g.prototype.keepInvalid=function(t){if(0===arguments.length)return this._options.keepInvalid;if("boolean"!=typeof t)throw new TypeError("keepInvalid() expects a boolean parameter");this._options.keepInvalid=t},g.prototype.datepickerInput=function(t){if(0===arguments.length)return this._options.datepickerInput;if("string"!=typeof t)throw new TypeError("datepickerInput() expects a string parameter");this._options.datepickerInput=t},g.prototype.parseInputDate=function(t){if(0===arguments.length)return this._options.parseInputDate;if("function"!=typeof t)throw new TypeError("parseInputDate() should be as function");this._options.parseInputDate=t},g.prototype.disabledTimeIntervals=function(e){if(0===arguments.length)return this._options.disabledTimeIntervals?t.extend({},this._options.disabledTimeIntervals):this._options.disabledTimeIntervals;if(!e)return this._options.disabledTimeIntervals=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledTimeIntervals() expects an array parameter");this._options.disabledTimeIntervals=e,this._update()},g.prototype.disabledHours=function(e){if(0===arguments.length)return this._options.disabledHours?t.extend({},this._options.disabledHours):this._options.disabledHours;if(!e)return this._options.disabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("disabledHours() expects an array parameter");if(this._options.disabledHours=this._indexGivenHours(e),this._options.enabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i=0;i<this._dates.length;i++){for(var n=0;!this._isValid(this._dates[i],"h");){if(this._dates[i].add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}this._setValue(this._dates[i],i)}this._update()},g.prototype.enabledHours=function(e){if(0===arguments.length)return this._options.enabledHours?t.extend({},this._options.enabledHours):this._options.enabledHours;if(!e)return this._options.enabledHours=!1,this._update(),!0;if(!(e instanceof Array))throw new TypeError("enabledHours() expects an array parameter");if(this._options.enabledHours=this._indexGivenHours(e),this._options.disabledHours=!1,this._options.useCurrent&&!this._options.keepInvalid)for(var i=0;i<this._dates.length;i++){for(var n=0;!this._isValid(this._dates[i],"h");){if(this._dates[i].add(1,"h"),24===n)throw"Tried 24 times to find a valid date";n++}this._setValue(this._dates[i],i)}this._update()},g.prototype.viewDate=function(t){if(0===arguments.length)return this._viewDate.clone();if(!t)return this._viewDate=(this._dates[0]||this.getMoment()).clone(),!0;if(!("string"==typeof t||n.isMoment(t)||t instanceof Date))throw new TypeError("viewDate() parameter must be one of [string, moment or Date]");this._viewDate=this._parseInputDate(t),this._viewUpdate()},g.prototype.allowMultidate=function(t){if("boolean"!=typeof t)throw new TypeError("allowMultidate() expects a boolean parameter");this._options.allowMultidate=t},g.prototype.multidateSeparator=function(t){if(0===arguments.length)return this._options.multidateSeparator;if("string"!=typeof t||t.length>1)throw new TypeError("multidateSeparator expects a single character string parameter");this._options.multidateSeparator=t},e(g,null,[{key:"NAME",get:function(){return s}},{key:"DATA_KEY",get:function(){return"datetimepicker"}},{key:"EVENT_KEY",get:function(){return r}},{key:"DATA_API_KEY",get:function(){return".data-api"}},{key:"DatePickerModes",get:function(){return u}},{key:"ViewModes",get:function(){return h}},{key:"MinViewModeNumber",get:function(){return f}},{key:"Event",get:function(){return l}},{key:"Selector",get:function(){return o}},{key:"Default",get:function(){return m},set:function(t){m=t}},{key:"ClassName",get:function(){return a}}]),g}()}(jQuery,moment);!function(e){var s=e.fn[n.NAME],r=["top","bottom","auto"],o=["left","right","auto"],a=["default","top","bottom"],l=function(t){var i=t.data("target"),s=void 0;return i||(i=t.attr("href")||"",i=/^#[a-z]/i.test(i)?i:null),0===(s=e(i)).length?s:(s.data(n.DATA_KEY)||e.extend({},s.data(),e(this).data()),s)},u=function(s){function l(t,e){i(this,l);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,s.call(this,t,e));return n._init(),n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(l,s),l.prototype._init=function(){if(this._element.hasClass("input-group")){var t=this._element.find(".datepickerbutton");0===t.length?this.component=this._element.find('[data-toggle="datetimepicker"]'):this.component=t}},l.prototype._getDatePickerTemplate=function(){var t=e("<thead>").append(e("<tr>").append(e("<th>").addClass("prev").attr("data-action","previous").append(e("<span>").addClass(this._options.icons.previous))).append(e("<th>").addClass("picker-switch").attr("data-action","pickerSwitch").attr("colspan",this._options.calendarWeeks?"6":"5")).append(e("<th>").addClass("next").attr("data-action","next").append(e("<span>").addClass(this._options.icons.next)))),i=e("<tbody>").append(e("<tr>").append(e("<td>").attr("colspan",this._options.calendarWeeks?"8":"7")));return[e("<div>").addClass("datepicker-days").append(e("<table>").addClass("table table-sm").append(t).append(e("<tbody>"))),e("<div>").addClass("datepicker-months").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-years").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone())),e("<div>").addClass("datepicker-decades").append(e("<table>").addClass("table-condensed").append(t.clone()).append(i.clone()))]},l.prototype._getTimePickerMainTemplate=function(){var t=e("<tr>"),i=e("<tr>"),n=e("<tr>");return this._isEnabled("h")&&(t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementHour}).addClass("btn").attr("data-action","incrementHours").append(e("<span>").addClass(this._options.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-hour").attr({"data-time-component":"hours",title:this._options.tooltips.pickHour}).attr("data-action","showHours"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementHour}).addClass("btn").attr("data-action","decrementHours").append(e("<span>").addClass(this._options.icons.down))))),this._isEnabled("m")&&(this._isEnabled("h")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementMinute}).addClass("btn").attr("data-action","incrementMinutes").append(e("<span>").addClass(this._options.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-minute").attr({"data-time-component":"minutes",title:this._options.tooltips.pickMinute}).attr("data-action","showMinutes"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementMinute}).addClass("btn").attr("data-action","decrementMinutes").append(e("<span>").addClass(this._options.icons.down))))),this._isEnabled("s")&&(this._isEnabled("m")&&(t.append(e("<td>").addClass("separator")),i.append(e("<td>").addClass("separator").html(":")),n.append(e("<td>").addClass("separator"))),t.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.incrementSecond}).addClass("btn").attr("data-action","incrementSeconds").append(e("<span>").addClass(this._options.icons.up)))),i.append(e("<td>").append(e("<span>").addClass("timepicker-second").attr({"data-time-component":"seconds",title:this._options.tooltips.pickSecond}).attr("data-action","showSeconds"))),n.append(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1",title:this._options.tooltips.decrementSecond}).addClass("btn").attr("data-action","decrementSeconds").append(e("<span>").addClass(this._options.icons.down))))),this.use24Hours||(t.append(e("<td>").addClass("separator")),i.append(e("<td>").append(e("<button>").addClass("btn btn-primary").attr({"data-action":"togglePeriod",tabindex:"-1",title:this._options.tooltips.togglePeriod}))),n.append(e("<td>").addClass("separator"))),e("<div>").addClass("timepicker-picker").append(e("<table>").addClass("table-condensed").append([t,i,n]))},l.prototype._getTimePickerTemplate=function(){var t=e("<div>").addClass("timepicker-hours").append(e("<table>").addClass("table-condensed")),i=e("<div>").addClass("timepicker-minutes").append(e("<table>").addClass("table-condensed")),n=e("<div>").addClass("timepicker-seconds").append(e("<table>").addClass("table-condensed")),s=[this._getTimePickerMainTemplate()];return this._isEnabled("h")&&s.push(t),this._isEnabled("m")&&s.push(i),this._isEnabled("s")&&s.push(n),s},l.prototype._getToolbar=function(){var t=[];if(this._options.buttons.showToday&&t.push(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1","data-action":"today",title:this._options.tooltips.today}).append(e("<span>").addClass(this._options.icons.today)))),!this._options.sideBySide&&this._hasDate()&&this._hasTime()){var i=void 0,n=void 0;"times"===this._options.viewMode?(i=this._options.tooltips.selectDate,n=this._options.icons.date):(i=this._options.tooltips.selectTime,n=this._options.icons.time),t.push(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1","data-action":"togglePicker",title:i}).append(e("<span>").addClass(n))))}return this._options.buttons.showClear&&t.push(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1","data-action":"clear",title:this._options.tooltips.clear}).append(e("<span>").addClass(this._options.icons.clear)))),this._options.buttons.showClose&&t.push(e("<td>").append(e("<a>").attr({href:"#",tabindex:"-1","data-action":"close",title:this._options.tooltips.close}).append(e("<span>").addClass(this._options.icons.close)))),0===t.length?"":e("<table>").addClass("table-condensed").append(e("<tbody>").append(e("<tr>").append(t)))},l.prototype._getTemplate=function(){var t=e("<div>").addClass("bootstrap-datetimepicker-widget dropdown-menu"),i=e("<div>").addClass("datepicker").append(this._getDatePickerTemplate()),n=e("<div>").addClass("timepicker").append(this._getTimePickerTemplate()),s=e("<ul>").addClass("list-unstyled"),r=e("<li>").addClass("picker-switch"+(this._options.collapse?" accordion-toggle":"")).append(this._getToolbar());return this._options.inline&&t.removeClass("dropdown-menu"),this.use24Hours&&t.addClass("usetwentyfour"),this._isEnabled("s")&&!this.use24Hours&&t.addClass("wider"),this._options.sideBySide&&this._hasDate()&&this._hasTime()?(t.addClass("timepicker-sbs"),"top"===this._options.toolbarPlacement&&t.append(r),t.append(e("<div>").addClass("row").append(i.addClass("col-md-6")).append(n.addClass("col-md-6"))),"bottom"!==this._options.toolbarPlacement&&"default"!==this._options.toolbarPlacement||t.append(r),t):("top"===this._options.toolbarPlacement&&s.append(r),this._hasDate()&&s.append(e("<li>").addClass(this._options.collapse&&this._hasTime()?"collapse":"").addClass(this._options.collapse&&this._hasTime()&&"times"===this._options.viewMode?"":"show").append(i)),"default"===this._options.toolbarPlacement&&s.append(r),this._hasTime()&&s.append(e("<li>").addClass(this._options.collapse&&this._hasDate()?"collapse":"").addClass(this._options.collapse&&this._hasDate()&&"times"===this._options.viewMode?"show":"").append(n)),"bottom"===this._options.toolbarPlacement&&s.append(r),t.append(s))},l.prototype._place=function(t){var i=t&&t.data&&t.data.picker||this,n=i._options.widgetPositioning.vertical,s=i._options.widgetPositioning.horizontal,r=void 0,o=(i.component&&i.component.length?i.component:i._element).position(),a=(i.component&&i.component.length?i.component:i._element).offset();if(i._options.widgetParent)r=i._options.widgetParent.append(i.widget);else if(i._element.is("input"))r=i._element.after(i.widget).parent();else{if(i._options.inline)return void(r=i._element.append(i.widget));r=i._element,i._element.children().first().after(i.widget)}if("auto"===n&&(n=a.top+1.5*i.widget.height()>=e(window).height()+e(window).scrollTop()&&i.widget.height()+i._element.outerHeight()<a.top?"top":"bottom"),"auto"===s&&(s=r.width()<a.left+i.widget.outerWidth()/2&&a.left+i.widget.outerWidth()>e(window).width()?"right":"left"),"top"===n?i.widget.addClass("top").removeClass("bottom"):i.widget.addClass("bottom").removeClass("top"),"right"===s?i.widget.addClass("float-right"):i.widget.removeClass("float-right"),"relative"!==r.css("position")&&(r=r.parents().filter(function(){return"relative"===e(this).css("position")}).first()),0===r.length)throw new Error("datetimepicker component should be placed within a relative positioned container");i.widget.css({top:"top"===n?"auto":o.top+i._element.outerHeight()+"px",bottom:"top"===n?r.outerHeight()-(r===i._element?0:o.top)+"px":"auto",left:"left"===s?(r===i._element?0:o.left)+"px":"auto",right:"left"===s?"auto":r.outerWidth()-i._element.outerWidth()-(r===i._element?0:o.left)+"px"})},l.prototype._fillDow=function(){var t=e("<tr>"),i=this._viewDate.clone().startOf("w").startOf("d");for(!0===this._options.calendarWeeks&&t.append(e("<th>").addClass("cw").text("#"));i.isBefore(this._viewDate.clone().endOf("w"));)t.append(e("<th>").addClass("dow").text(i.format("dd"))),i.add(1,"d");this.widget.find(".datepicker-days thead").append(t)},l.prototype._fillMonths=function(){for(var t=[],i=this._viewDate.clone().startOf("y").startOf("d");i.isSame(this._viewDate,"y");)t.push(e("<span>").attr("data-action","selectMonth").addClass("month").text(i.format("MMM"))),i.add(1,"M");this.widget.find(".datepicker-months td").empty().append(t)},l.prototype._updateMonths=function(){var t=this.widget.find(".datepicker-months"),i=t.find("th"),n=t.find("tbody").find("span"),s=this;i.eq(0).find("span").attr("title",this._options.tooltips.prevYear),i.eq(1).attr("title",this._options.tooltips.selectYear),i.eq(2).find("span").attr("title",this._options.tooltips.nextYear),t.find(".disabled").removeClass("disabled"),this._isValid(this._viewDate.clone().subtract(1,"y"),"y")||i.eq(0).addClass("disabled"),i.eq(1).text(this._viewDate.year()),this._isValid(this._viewDate.clone().add(1,"y"),"y")||i.eq(2).addClass("disabled"),n.removeClass("active"),this._getLastPickedDate().isSame(this._viewDate,"y")&&!this.unset&&n.eq(this._getLastPickedDate().month()).addClass("active"),n.each(function(t){s._isValid(s._viewDate.clone().month(t),"M")||e(this).addClass("disabled")})},l.prototype._getStartEndYear=function(t,e){var i=t/10,n=Math.floor(e/t)*t;return[n,n+9*i,Math.floor(e/i)*i]},l.prototype._updateYears=function(){var t=this.widget.find(".datepicker-years"),e=t.find("th"),i=this._getStartEndYear(10,this._viewDate.year()),n=this._viewDate.clone().year(i[0]),s=this._viewDate.clone().year(i[1]),r="";for(e.eq(0).find("span").attr("title",this._options.tooltips.prevDecade),e.eq(1).attr("title",this._options.tooltips.selectDecade),e.eq(2).find("span").attr("title",this._options.tooltips.nextDecade),t.find(".disabled").removeClass("disabled"),this._options.minDate&&this._options.minDate.isAfter(n,"y")&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),this._options.maxDate&&this._options.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled"),r+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+(n.year()-1)+"</span>";!n.isAfter(s,"y");)r+='<span data-action="selectYear" class="year'+(n.isSame(this._getLastPickedDate(),"y")&&!this.unset?" active":"")+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",n.add(1,"y");r+='<span data-action="selectYear" class="year old'+(this._isValid(n,"y")?"":" disabled")+'">'+n.year()+"</span>",t.find("td").html(r)},l.prototype._updateDecades=function(){var t=this.widget.find(".datepicker-decades"),e=t.find("th"),i=this._getStartEndYear(100,this._viewDate.year()),n=this._viewDate.clone().year(i[0]),s=this._viewDate.clone().year(i[1]),r=!1,o=!1,a=void 0,l="";for(e.eq(0).find("span").attr("title",this._options.tooltips.prevCentury),e.eq(2).find("span").attr("title",this._options.tooltips.nextCentury),t.find(".disabled").removeClass("disabled"),(0===n.year()||this._options.minDate&&this._options.minDate.isAfter(n,"y"))&&e.eq(0).addClass("disabled"),e.eq(1).text(n.year()+"-"+s.year()),this._options.maxDate&&this._options.maxDate.isBefore(s,"y")&&e.eq(2).addClass("disabled"),n.year()-10<0?l+="<span>&nbsp;</span>":l+='<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+(n.year()-10)+"</span>";!n.isAfter(s,"y");)a=n.year()+11,r=this._options.minDate&&this._options.minDate.isAfter(n,"y")&&this._options.minDate.year()<=a,o=this._options.maxDate&&this._options.maxDate.isAfter(n,"y")&&this._options.maxDate.year()<=a,l+='<span data-action="selectDecade" class="decade'+(this._getLastPickedDate().isAfter(n)&&this._getLastPickedDate().year()<=a?" active":"")+(this._isValid(n,"y")||r||o?"":" disabled")+'" data-selection="'+(n.year()+6)+'">'+n.year()+"</span>",n.add(10,"y");l+='<span data-action="selectDecade" class="decade old" data-selection="'+(n.year()+6)+'">'+n.year()+"</span>",t.find("td").html(l)},l.prototype._fillDate=function(){var t=this.widget.find(".datepicker-days"),i=t.find("th"),n=[],s=void 0,r=void 0,o=void 0,a=void 0;if(this._hasDate()){for(i.eq(0).find("span").attr("title",this._options.tooltips.prevMonth),i.eq(1).attr("title",this._options.tooltips.selectMonth),i.eq(2).find("span").attr("title",this._options.tooltips.nextMonth),t.find(".disabled").removeClass("disabled"),i.eq(1).text(this._viewDate.format(this._options.dayViewHeaderFormat)),this._isValid(this._viewDate.clone().subtract(1,"M"),"M")||i.eq(0).addClass("disabled"),this._isValid(this._viewDate.clone().add(1,"M"),"M")||i.eq(2).addClass("disabled"),s=this._viewDate.clone().startOf("M").startOf("w").startOf("d"),a=0;a<42;a++){if(0===s.weekday()&&(r=e("<tr>"),this._options.calendarWeeks&&r.append('<td class="cw">'+s.week()+"</td>"),n.push(r)),o="",s.isBefore(this._viewDate,"M")&&(o+=" old"),s.isAfter(this._viewDate,"M")&&(o+=" new"),this._options.allowMultidate){var l=this._datesFormatted.indexOf(s.format("YYYY-MM-DD"));-1!==l&&s.isSame(this._datesFormatted[l],"d")&&!this.unset&&(o+=" active")}else s.isSame(this._getLastPickedDate(),"d")&&!this.unset&&(o+=" active");this._isValid(s,"d")||(o+=" disabled"),s.isSame(this.getMoment(),"d")&&(o+=" today"),0!==s.day()&&6!==s.day()||(o+=" weekend"),r.append('<td data-action="selectDay" data-day="'+s.format("L")+'" class="day'+o+'">'+s.date()+"</td>"),s.add(1,"d")}t.find("tbody").empty().append(n),this._updateMonths(),this._updateYears(),this._updateDecades()}},l.prototype._fillHours=function(){var t=this.widget.find(".timepicker-hours table"),i=this._viewDate.clone().startOf("d"),n=[],s=e("<tr>");for(this._viewDate.hour()>11&&!this.use24Hours&&i.hour(12);i.isSame(this._viewDate,"d")&&(this.use24Hours||this._viewDate.hour()<12&&i.hour()<12||this._viewDate.hour()>11);)i.hour()%4==0&&(s=e("<tr>"),n.push(s)),s.append('<td data-action="selectHour" class="hour'+(this._isValid(i,"h")?"":" disabled")+'">'+i.format(this.use24Hours?"HH":"hh")+"</td>"),i.add(1,"h");t.empty().append(n)},l.prototype._fillMinutes=function(){for(var t=this.widget.find(".timepicker-minutes table"),i=this._viewDate.clone().startOf("h"),n=[],s=1===this._options.stepping?5:this._options.stepping,r=e("<tr>");this._viewDate.isSame(i,"h");)i.minute()%(4*s)==0&&(r=e("<tr>"),n.push(r)),r.append('<td data-action="selectMinute" class="minute'+(this._isValid(i,"m")?"":" disabled")+'">'+i.format("mm")+"</td>"),i.add(s,"m");t.empty().append(n)},l.prototype._fillSeconds=function(){for(var t=this.widget.find(".timepicker-seconds table"),i=this._viewDate.clone().startOf("m"),n=[],s=e("<tr>");this._viewDate.isSame(i,"m");)i.second()%20==0&&(s=e("<tr>"),n.push(s)),s.append('<td data-action="selectSecond" class="second'+(this._isValid(i,"s")?"":" disabled")+'">'+i.format("ss")+"</td>"),i.add(5,"s");t.empty().append(n)},l.prototype._fillTime=function(){var t=void 0,e=void 0,i=this.widget.find(".timepicker span[data-time-component]");this.use24Hours||(t=this.widget.find(".timepicker [data-action=togglePeriod]"),e=this._getLastPickedDate().clone().add(this._getLastPickedDate().hours()>=12?-12:12,"h"),t.text(this._getLastPickedDate().format("A")),this._isValid(e,"h")?t.removeClass("disabled"):t.addClass("disabled")),i.filter("[data-time-component=hours]").text(this._getLastPickedDate().format(this.use24Hours?"HH":"hh")),i.filter("[data-time-component=minutes]").text(this._getLastPickedDate().format("mm")),i.filter("[data-time-component=seconds]").text(this._getLastPickedDate().format("ss")),this._fillHours(),this._fillMinutes(),this._fillSeconds()},l.prototype._doAction=function(t,i){var s=this._getLastPickedDate();if(e(t.currentTarget).is(".disabled"))return!1;switch(i=i||e(t.currentTarget).data("action")){case"next":var r=n.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.add(n.DatePickerModes[this.currentViewMode].NAV_STEP,r),this._fillDate(),this._viewUpdate(r);break;case"previous":var o=n.DatePickerModes[this.currentViewMode].NAV_FUNCTION;this._viewDate.subtract(n.DatePickerModes[this.currentViewMode].NAV_STEP,o),this._fillDate(),this._viewUpdate(o);break;case"pickerSwitch":this._showMode(1);break;case"selectMonth":var a=e(t.target).closest("tbody").find("span").index(e(t.target));this._viewDate.month(a),this.currentViewMode===n.MinViewModeNumber?(this._setValue(s.clone().year(this._viewDate.year()).month(this._viewDate.month()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("M");break;case"selectYear":var l=parseInt(e(t.target).text(),10)||0;this._viewDate.year(l),this.currentViewMode===n.MinViewModeNumber?(this._setValue(s.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDecade":var u=parseInt(e(t.target).data("selection"),10)||0;this._viewDate.year(u),this.currentViewMode===n.MinViewModeNumber?(this._setValue(s.clone().year(this._viewDate.year()),this._getLastPickedDateIndex()),this._options.inline||this.hide()):(this._showMode(-1),this._fillDate()),this._viewUpdate("YYYY");break;case"selectDay":var c=this._viewDate.clone();e(t.target).is(".old")&&c.subtract(1,"M"),e(t.target).is(".new")&&c.add(1,"M"),this._setValue(c.date(parseInt(e(t.target).text(),10)),this._getLastPickedDateIndex()),this._hasTime()||this._options.keepOpen||this._options.inline||this.hide();break;case"incrementHours":var h=s.clone().add(1,"h");this._isValid(h,"h")&&this._setValue(h,this._getLastPickedDateIndex());break;case"incrementMinutes":var d=s.clone().add(this._options.stepping,"m");this._isValid(d,"m")&&this._setValue(d,this._getLastPickedDateIndex());break;case"incrementSeconds":var p=s.clone().add(1,"s");this._isValid(p,"s")&&this._setValue(p,this._getLastPickedDateIndex());break;case"decrementHours":var f=s.clone().subtract(1,"h");this._isValid(f,"h")&&this._setValue(f,this._getLastPickedDateIndex());break;case"decrementMinutes":var m=s.clone().subtract(this._options.stepping,"m");this._isValid(m,"m")&&this._setValue(m,this._getLastPickedDateIndex());break;case"decrementSeconds":var g=s.clone().subtract(1,"s");this._isValid(g,"s")&&this._setValue(g,this._getLastPickedDateIndex());break;case"togglePeriod":this._setValue(s.clone().add(s.hours()>=12?-12:12,"h"),this._getLastPickedDateIndex());break;case"togglePicker":var v=e(t.target),y=v.closest("a"),_=v.closest("ul"),b=_.find(".show"),w=_.find(".collapse:not(.show)"),T=v.is("span")?v:v.find("span"),k=void 0;if(b&&b.length){if((k=b.data("collapse"))&&k.transitioning)return!0;b.collapse?(b.collapse("hide"),w.collapse("show")):(b.removeClass("show"),w.addClass("show")),T.toggleClass(this._options.icons.time+" "+this._options.icons.date),T.hasClass(this._options.icons.date)?y.attr("title",this._options.tooltips.selectDate):y.attr("title",this._options.tooltips.selectTime)}break;case"showPicker":this.widget.find(".timepicker > div:not(.timepicker-picker)").hide(),this.widget.find(".timepicker .timepicker-picker").show();break;case"showHours":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-hours").show();break;case"showMinutes":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-minutes").show();break;case"showSeconds":this.widget.find(".timepicker .timepicker-picker").hide(),this.widget.find(".timepicker .timepicker-seconds").show();break;case"selectHour":var S=parseInt(e(t.target).text(),10);this.use24Hours||(s.hours()>=12?12!==S&&(S+=12):12===S&&(S=0)),this._setValue(s.clone().hours(S),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("m")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"selectMinute":this._setValue(s.clone().minutes(parseInt(e(t.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._isEnabled("s")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"selectSecond":this._setValue(s.clone().seconds(parseInt(e(t.target).text(),10)),this._getLastPickedDateIndex()),this._isEnabled("a")||this._options.keepOpen||this._options.inline?this._doAction(t,"showPicker"):this.hide();break;case"clear":this.clear();break;case"close":this.hide();break;case"today":var C=this.getMoment();this._isValid(C,"d")&&this._setValue(C,this._getLastPickedDateIndex())}return!1},l.prototype.hide=function(){var t=!1;this.widget&&(this.widget.find(".collapse").each(function(){var i=e(this).data("collapse");return!i||!i.transitioning||(t=!0,!1)}),t||(this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this.widget.hide(),e(window).off("resize",this._place()),this.widget.off("click","[data-action]"),this.widget.off("mousedown",!1),this.widget.remove(),this.widget=!1,this._notifyEvent({type:n.Event.HIDE,date:this._getLastPickedDate().clone()}),void 0!==this.input&&this.input.blur(),this._viewDate=this._getLastPickedDate().clone()))},l.prototype.show=function(){var t=void 0,i={year:function(t){return t.month(0).date(1).hours(0).seconds(0).minutes(0)},month:function(t){return t.date(1).hours(0).seconds(0).minutes(0)},day:function(t){return t.hours(0).seconds(0).minutes(0)},hour:function(t){return t.seconds(0).minutes(0)},minute:function(t){return t.seconds(0)}};if(void 0!==this.input){if(this.input.prop("disabled")||!this._options.ignoreReadonly&&this.input.prop("readonly")||this.widget)return;void 0!==this.input.val()&&0!==this.input.val().trim().length?this._setValue(this._parseInputDate(this.input.val().trim()),0):this.unset&&this._options.useCurrent&&(t=this.getMoment(),"string"==typeof this._options.useCurrent&&(t=i[this._options.useCurrent](t)),this._setValue(t,0))}else this.unset&&this._options.useCurrent&&(t=this.getMoment(),"string"==typeof this._options.useCurrent&&(t=i[this._options.useCurrent](t)),this._setValue(t,0));this.widget=this._getTemplate(),this._fillDow(),this._fillMonths(),this.widget.find(".timepicker-hours").hide(),this.widget.find(".timepicker-minutes").hide(),this.widget.find(".timepicker-seconds").hide(),this._update(),this._showMode(),e(window).on("resize",{picker:this},this._place),this.widget.on("click","[data-action]",e.proxy(this._doAction,this)),this.widget.on("mousedown",!1),this.component&&this.component.hasClass("btn")&&this.component.toggleClass("active"),this._place(),this.widget.show(),void 0!==this.input&&this._options.focusOnShow&&!this.input.is(":focus")&&this.input.focus(),this._notifyEvent({type:n.Event.SHOW})},l.prototype.destroy=function(){this.hide(),this._element.removeData(n.DATA_KEY),this._element.removeData("date")},l.prototype.disable=function(){this.hide(),this.component&&this.component.hasClass("btn")&&this.component.addClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!0)},l.prototype.enable=function(){this.component&&this.component.hasClass("btn")&&this.component.removeClass("disabled"),void 0!==this.input&&this.input.prop("disabled",!1)},l.prototype.toolbarPlacement=function(t){if(0===arguments.length)return this._options.toolbarPlacement;if("string"!=typeof t)throw new TypeError("toolbarPlacement() expects a string parameter");if(-1===a.indexOf(t))throw new TypeError("toolbarPlacement() parameter must be one of ("+a.join(", ")+") value");this._options.toolbarPlacement=t,this.widget&&(this.hide(),this.show())},l.prototype.widgetPositioning=function(t){if(0===arguments.length)return e.extend({},this._options.widgetPositioning);if("[object Object]"!=={}.toString.call(t))throw new TypeError("widgetPositioning() expects an object variable");if(t.horizontal){if("string"!=typeof t.horizontal)throw new TypeError("widgetPositioning() horizontal variable must be a string");if(t.horizontal=t.horizontal.toLowerCase(),-1===o.indexOf(t.horizontal))throw new TypeError("widgetPositioning() expects horizontal parameter to be one of ("+o.join(", ")+")");this._options.widgetPositioning.horizontal=t.horizontal}if(t.vertical){if("string"!=typeof t.vertical)throw new TypeError("widgetPositioning() vertical variable must be a string");if(t.vertical=t.vertical.toLowerCase(),-1===r.indexOf(t.vertical))throw new TypeError("widgetPositioning() expects vertical parameter to be one of ("+r.join(", ")+")");this._options.widgetPositioning.vertical=t.vertical}this._update()},l.prototype.widgetParent=function(t){if(0===arguments.length)return this._options.widgetParent;if("string"==typeof t&&(t=e(t)),null!==t&&"string"!=typeof t&&!(t instanceof e))throw new TypeError("widgetParent() expects a string or a jQuery object parameter");this._options.widgetParent=t,this.widget&&(this.hide(),this.show())},l._jQueryHandleThis=function(i,s,r){var o=e(i).data(n.DATA_KEY);if("object"===(void 0===s?"undefined":t(s))&&e.extend({},n.Default,s),o||(o=new l(e(i),s),e(i).data(n.DATA_KEY,o)),"string"==typeof s){if(void 0===o[s])throw new Error('No method named "'+s+'"');return void 0===r?o[s]():o[s](r)}},l._jQueryInterface=function(t,e){return 1===this.length?l._jQueryHandleThis(this[0],t,e):this.each(function(){l._jQueryHandleThis(this,t,e)})},l}(n);e(document).on(n.Event.CLICK_DATA_API,n.Selector.DATA_TOGGLE,function(){var t=l(e(this));0!==t.length&&u._jQueryInterface.call(t,"toggle")}).on(n.Event.CHANGE,"."+n.ClassName.INPUT,function(t){var i=l(e(this));0!==i.length&&u._jQueryInterface.call(i,"_change",t)}).on(n.Event.BLUR,"."+n.ClassName.INPUT,function(t){var i=l(e(this)),s=i.data(n.DATA_KEY);0!==i.length&&(s._options.debug||window.debug||u._jQueryInterface.call(i,"hide",t))}).on(n.Event.KEYDOWN,"."+n.ClassName.INPUT,function(t){var i=l(e(this));0!==i.length&&u._jQueryInterface.call(i,"_keydown",t)}).on(n.Event.KEYUP,"."+n.ClassName.INPUT,function(t){var i=l(e(this));0!==i.length&&u._jQueryInterface.call(i,"_keyup",t)}).on(n.Event.FOCUS,"."+n.ClassName.INPUT,function(t){var i=l(e(this)),s=i.data(n.DATA_KEY);0!==i.length&&s._options.allowInputToggle&&u._jQueryInterface.call(i,"show",t)}),e.fn[n.NAME]=u._jQueryInterface,e.fn[n.NAME].Constructor=u,e.fn[n.NAME].noConflict=function(){return e.fn[n.NAME]=s,u._jQueryInterface}}(jQuery)}(),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("global/document"),require("global/window")):"function"==typeof define&&define.amd?define(["global/document","global/window"],e):t.videojs=e(t.document,t.window)}(this,function(t,e){t=t&&t.hasOwnProperty("default")?t.default:t,e=e&&e.hasOwnProperty("default")?e.default:e;var i="7.4.1";function n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function r(t,e,i){return(r=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(t){return!1}}()?Reflect.construct:function(t,e,i){var n=[null];n.push.apply(n,e);var r=new(Function.bind.apply(t,n));return i&&s(r,i.prototype),r}).apply(null,arguments)}function o(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function a(t,e){return e||(e=t.slice(0)),t.raw=e,t}var l=[],u=function(t,i){return function(n,s,r){var o=i.levels[s],a=new RegExp("^("+o+")$");if("log"!==n&&r.unshift(n.toUpperCase()+":"),r.unshift(t+":"),l&&l.push([].concat(r)),e.console){var u=e.console[n];u||"debug"!==n||(u=e.console.info||e.console.log),u&&o&&a.test(n)&&u[Array.isArray(r)?"apply":"call"](e.console,r)}}};var c=function t(e){var i,n="info",s=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];i("log",n,e)};return i=u(e,s),s.createLogger=function(i){return t(e+": "+i)},s.levels={all:"debug|log|warn|error",off:"",debug:"debug|log|warn|error",info:"log|warn|error",warn:"warn|error",error:"error",DEFAULT:n},s.level=function(t){if("string"==typeof t){if(!s.levels.hasOwnProperty(t))throw new Error('"'+t+'" in not a valid log level');n=t}return n},(s.history=function(){return l?[].concat(l):[]}).filter=function(t){return(l||[]).filter(function(e){return new RegExp(".*"+t+".*").test(e[0])})},s.history.clear=function(){l&&(l.length=0)},s.history.disable=function(){null!==l&&(l.length=0,l=null)},s.history.enable=function(){null===l&&(l=[])},s.error=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return i("error",n,e)},s.warn=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return i("warn",n,e)},s.debug=function(){for(var t=arguments.length,e=new Array(t),s=0;s<t;s++)e[s]=arguments[s];return i("debug",n,e)},s}("VIDEOJS"),h=c.createLogger;function d(t){return t.replace(/\n\r?\s*/g,"")}var p=function(t){for(var e="",i=0;i<arguments.length;i++)e+=d(t[i])+(arguments[i+1]||"");return e},f=Object.prototype.toString,m=function(t){return y(t)?Object.keys(t):[]};function g(t,e){m(t).forEach(function(i){return e(t[i],i)})}function v(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),n=1;n<e;n++)i[n-1]=arguments[n];return Object.assign?Object.assign.apply(Object,[t].concat(i)):(i.forEach(function(e){e&&g(e,function(e,i){t[i]=e})}),t)}function y(t){return!!t&&"object"==typeof t}function _(t){return y(t)&&"[object Object]"===f.call(t)&&t.constructor===Object}function b(t,i){if(!t||!i)return"";if("function"==typeof e.getComputedStyle){var n=e.getComputedStyle(t);return n?n[i]:""}return""}function w(){var t=a(["Setting attributes in the second argument of createEl()\n                has been deprecated. Use the third argument instead.\n                createEl(type, properties, attributes). Attempting to set "," to ","."]);return w=function(){return t},t}function T(t){return"string"==typeof t&&/\S/.test(t)}function k(t){if(/\s/.test(t))throw new Error("class has illegal whitespace characters")}function S(){return t===e.document}function C(t){return y(t)&&1===t.nodeType}function x(){try{return e.parent!==e.self}catch(t){return!0}}function E(e){return function(i,n){if(!T(i))return t[e](null);T(n)&&(n=t.querySelector(n));var s=C(n)?n:t;return s[e]&&s[e](i)}}function D(e,i,n,s){void 0===e&&(e="div"),void 0===i&&(i={}),void 0===n&&(n={});var r=t.createElement(e);return Object.getOwnPropertyNames(i).forEach(function(t){var e=i[t];-1!==t.indexOf("aria-")||"role"===t||"type"===t?(c.warn(p(w(),t,e)),r.setAttribute(t,e)):"textContent"===t?A(r,e):r[t]=e}),Object.getOwnPropertyNames(n).forEach(function(t){r.setAttribute(t,n[t])}),s&&G(r,s),r}function A(t,e){return void 0===t.textContent?t.innerText=e:t.textContent=e,t}function P(t,e){e.firstChild?e.insertBefore(t,e.firstChild):e.appendChild(t)}function I(t,e){return k(e),t.classList?t.classList.contains(e):(i=e,new RegExp("(^|\\s)"+i+"($|\\s)")).test(t.className);var i}function O(t,e){return t.classList?t.classList.add(e):I(t,e)||(t.className=(t.className+" "+e).trim()),t}function M(t,e){return t.classList?t.classList.remove(e):(k(e),t.className=t.className.split(/\s+/).filter(function(t){return t!==e}).join(" ")),t}function L(t,e,i){var n=I(t,e);if("function"==typeof i&&(i=i(t,e)),"boolean"!=typeof i&&(i=!n),i!==n)return i?O(t,e):M(t,e),t}function N(t,e){Object.getOwnPropertyNames(e).forEach(function(i){var n=e[i];null==n||!1===n?t.removeAttribute(i):t.setAttribute(i,!0===n?"":n)})}function R(t){var e={},i=",autoplay,controls,playsinline,loop,muted,default,defaultMuted,";if(t&&t.attributes&&t.attributes.length>0)for(var n=t.attributes,s=n.length-1;s>=0;s--){var r=n[s].name,o=n[s].value;"boolean"!=typeof t[r]&&-1===i.indexOf(","+r+",")||(o=null!==o),e[r]=o}return e}function U(t,e){return t.getAttribute(e)}function F(t,e,i){t.setAttribute(e,i)}function j(t,e){t.removeAttribute(e)}function H(){t.body.focus(),t.onselectstart=function(){return!1}}function z(){t.onselectstart=function(){return!0}}function B(t){if(t&&t.getBoundingClientRect&&t.parentNode){var e=t.getBoundingClientRect(),i={};return["bottom","height","left","right","top","width"].forEach(function(t){void 0!==e[t]&&(i[t]=e[t])}),i.height||(i.height=parseFloat(b(t,"height"))),i.width||(i.width=parseFloat(b(t,"width"))),i}}function W(i){var n;if(i.getBoundingClientRect&&i.parentNode&&(n=i.getBoundingClientRect()),!n)return{left:0,top:0};var s=t.documentElement,r=t.body,o=s.clientLeft||r.clientLeft||0,a=e.pageXOffset||r.scrollLeft,l=n.left+a-o,u=s.clientTop||r.clientTop||0,c=e.pageYOffset||r.scrollTop,h=n.top+c-u;return{left:Math.round(l),top:Math.round(h)}}function Y(t,e){var i={},n=W(t),s=t.offsetWidth,r=t.offsetHeight,o=n.top,a=n.left,l=e.pageY,u=e.pageX;return e.changedTouches&&(u=e.changedTouches[0].pageX,l=e.changedTouches[0].pageY),i.y=Math.max(0,Math.min(1,(o-l+r)/r)),i.x=Math.max(0,Math.min(1,(u-a)/s)),i}function V(t){return y(t)&&3===t.nodeType}function q(t){for(;t.firstChild;)t.removeChild(t.firstChild);return t}function $(e){return"function"==typeof e&&(e=e()),(Array.isArray(e)?e:[e]).map(function(e){return"function"==typeof e&&(e=e()),C(e)||V(e)?e:"string"==typeof e&&/\S/.test(e)?t.createTextNode(e):void 0}).filter(function(t){return t})}function G(t,e){return $(e).forEach(function(e){return t.appendChild(e)}),t}function X(t,e){return G(q(t),e)}function K(t){return void 0===t.button&&void 0===t.buttons||(0===t.button&&void 0===t.buttons||0===t.button&&1===t.buttons)}var Z=E("querySelector"),Q=E("querySelectorAll"),J=Object.freeze({isReal:S,isEl:C,isInFrame:x,createEl:D,textContent:A,prependTo:P,hasClass:I,addClass:O,removeClass:M,toggleClass:L,setAttributes:N,getAttributes:R,getAttribute:U,setAttribute:F,removeAttribute:j,blockTextSelection:H,unblockTextSelection:z,getBoundingClientRect:B,findPosition:W,getPointerPosition:Y,isTextNode:V,emptyEl:q,normalizeContent:$,appendContent:G,insertContent:X,isSingleLeftClick:K,$:Z,$$:Q}),tt=1;function et(){return tt++}var it={},nt="vdata"+(new Date).getTime();function st(t){var e=t[nt];return e||(e=t[nt]=et()),it[e]||(it[e]={}),it[e]}function rt(t){var e=t[nt];return!!e&&!!Object.getOwnPropertyNames(it[e]).length}function ot(t){var e=t[nt];if(e){delete it[e];try{delete t[nt]}catch(e){t.removeAttribute?t.removeAttribute(nt):t[nt]=null}}}function at(t,e){var i=st(t);0===i.handlers[e].length&&(delete i.handlers[e],t.removeEventListener?t.removeEventListener(e,i.dispatcher,!1):t.detachEvent&&t.detachEvent("on"+e,i.dispatcher)),Object.getOwnPropertyNames(i.handlers).length<=0&&(delete i.handlers,delete i.dispatcher,delete i.disabled),0===Object.getOwnPropertyNames(i).length&&ot(t)}function lt(t,e,i,n){i.forEach(function(i){t(e,i,n)})}function ut(i){function n(){return!0}function s(){return!1}if(!i||!i.isPropagationStopped){var r=i||e.event;for(var o in i={},r)"layerX"!==o&&"layerY"!==o&&"keyLocation"!==o&&"webkitMovementX"!==o&&"webkitMovementY"!==o&&("returnValue"===o&&r.preventDefault||(i[o]=r[o]));if(i.target||(i.target=i.srcElement||t),i.relatedTarget||(i.relatedTarget=i.fromElement===i.target?i.toElement:i.fromElement),i.preventDefault=function(){r.preventDefault&&r.preventDefault(),i.returnValue=!1,r.returnValue=!1,i.defaultPrevented=!0},i.defaultPrevented=!1,i.stopPropagation=function(){r.stopPropagation&&r.stopPropagation(),i.cancelBubble=!0,r.cancelBubble=!0,i.isPropagationStopped=n},i.isPropagationStopped=s,i.stopImmediatePropagation=function(){r.stopImmediatePropagation&&r.stopImmediatePropagation(),i.isImmediatePropagationStopped=n,i.stopPropagation()},i.isImmediatePropagationStopped=s,null!==i.clientX&&void 0!==i.clientX){var a=t.documentElement,l=t.body;i.pageX=i.clientX+(a&&a.scrollLeft||l&&l.scrollLeft||0)-(a&&a.clientLeft||l&&l.clientLeft||0),i.pageY=i.clientY+(a&&a.scrollTop||l&&l.scrollTop||0)-(a&&a.clientTop||l&&l.clientTop||0)}i.which=i.charCode||i.keyCode,null!==i.button&&void 0!==i.button&&(i.button=1&i.button?0:4&i.button?1:2&i.button?2:0)}return i}var ct=!1;!function(){try{var t=Object.defineProperty({},"passive",{get:function(){ct=!0}});e.addEventListener("test",null,t),e.removeEventListener("test",null,t)}catch(t){}}();var ht=["touchstart","touchmove"];function dt(t,e,i){if(Array.isArray(e))return lt(dt,t,e,i);var n=st(t);if(n.handlers||(n.handlers={}),n.handlers[e]||(n.handlers[e]=[]),i.guid||(i.guid=et()),n.handlers[e].push(i),n.dispatcher||(n.disabled=!1,n.dispatcher=function(e,i){if(!n.disabled){e=ut(e);var s=n.handlers[e.type];if(s)for(var r=s.slice(0),o=0,a=r.length;o<a&&!e.isImmediatePropagationStopped();o++)try{r[o].call(t,e,i)}catch(t){c.error(t)}}}),1===n.handlers[e].length)if(t.addEventListener){var s=!1;ct&&ht.indexOf(e)>-1&&(s={passive:!0}),t.addEventListener(e,n.dispatcher,s)}else t.attachEvent&&t.attachEvent("on"+e,n.dispatcher)}function pt(t,e,i){if(rt(t)){var n=st(t);if(n.handlers){if(Array.isArray(e))return lt(pt,t,e,i);var s=function(t,e){n.handlers[e]=[],at(t,e)};if(void 0!==e){var r=n.handlers[e];if(r)if(i){if(i.guid)for(var o=0;o<r.length;o++)r[o].guid===i.guid&&r.splice(o--,1);at(t,e)}else s(t,e)}else for(var a in n.handlers)Object.prototype.hasOwnProperty.call(n.handlers||{},a)&&s(t,a)}}}function ft(t,e,i){var n=rt(t)?st(t):{},s=t.parentNode||t.ownerDocument;if("string"==typeof e?e={type:e,target:t}:e.target||(e.target=t),e=ut(e),n.dispatcher&&n.dispatcher.call(t,e,i),s&&!e.isPropagationStopped()&&!0===e.bubbles)ft.call(null,s,e,i);else if(!s&&!e.defaultPrevented){var r=st(e.target);e.target[e.type]&&(r.disabled=!0,"function"==typeof e.target[e.type]&&e.target[e.type](),r.disabled=!1)}return!e.defaultPrevented}function mt(t,e,i){if(Array.isArray(e))return lt(mt,t,e,i);var n=function n(){pt(t,e,n),i.apply(this,arguments)};n.guid=i.guid=i.guid||et(),dt(t,e,n)}var gt,vt=Object.freeze({fixEvent:ut,on:dt,off:pt,trigger:ft,one:mt}),yt=!1,_t=function(){if(S()&&!1!==gt.options.autoSetup){var e=Array.prototype.slice.call(t.getElementsByTagName("video")),i=Array.prototype.slice.call(t.getElementsByTagName("audio")),n=Array.prototype.slice.call(t.getElementsByTagName("video-js")),s=e.concat(i,n);if(s&&s.length>0)for(var r=0,o=s.length;r<o;r++){var a=s[r];if(!a||!a.getAttribute){bt(1);break}void 0===a.player&&null!==a.getAttribute("data-setup")&&gt(a)}else yt||bt(1)}};function bt(t,i){i&&(gt=i),e.setTimeout(_t,t)}S()&&"complete"===t.readyState?yt=!0:mt(e,"load",function(){yt=!0});var wt,Tt=function(e){var i=t.createElement("style");return i.className=e,i},kt=function(t,e){t.styleSheet?t.styleSheet.cssText=e:t.textContent=e},St=function(t,e,i){e.guid||(e.guid=et());var n=function(){return e.apply(t,arguments)};return n.guid=i?i+"_"+e.guid:e.guid,n},Ct=function(t,e){var i=Date.now();return function(){var n=Date.now();n-i>=e&&(t.apply(void 0,arguments),i=n)}},xt=function(t,i,n,s){var r;void 0===s&&(s=e);var o=function(){var e=this,o=arguments,a=function(){r=null,a=null,n||t.apply(e,o)};!r&&n&&t.apply(e,o),s.clearTimeout(r),r=s.setTimeout(a,i)};return o.cancel=function(){s.clearTimeout(r),r=null},o},Et=function(){};Et.prototype.allowedEvents_={},Et.prototype.on=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},dt(this,t,e),this.addEventListener=i},Et.prototype.addEventListener=Et.prototype.on,Et.prototype.off=function(t,e){pt(this,t,e)},Et.prototype.removeEventListener=Et.prototype.off,Et.prototype.one=function(t,e){var i=this.addEventListener;this.addEventListener=function(){},mt(this,t,e),this.addEventListener=i},Et.prototype.trigger=function(t){var e=t.type||t;"string"==typeof t&&(t={type:e}),t=ut(t),this.allowedEvents_[e]&&this["on"+e]&&this["on"+e](t),ft(this,t)},Et.prototype.dispatchEvent=Et.prototype.trigger,Et.prototype.queueTrigger=function(t){var i=this;wt||(wt=new Map);var n=t.type||t,s=wt.get(this);s||(s=new Map,wt.set(this,s));var r=s.get(n);s.delete(n),e.clearTimeout(r);var o=e.setTimeout(function(){0===s.size&&(s=null,wt.delete(i)),i.trigger(t)},0);s.set(n,o)};var Dt=function(t){return t instanceof Et||!!t.eventBusEl_&&["on","one","off","trigger"].every(function(e){return"function"==typeof t[e]})},At=function(t){return"string"==typeof t&&/\S/.test(t)||Array.isArray(t)&&!!t.length},Pt=function(t){if(!t.nodeName&&!Dt(t))throw new Error("Invalid target; must be a DOM node or evented object.")},It=function(t){if(!At(t))throw new Error("Invalid event type; must be a non-empty string or array.")},Ot=function(t){if("function"!=typeof t)throw new Error("Invalid listener; must be a function.")},Mt=function(t,e){var i,n,s,r=e.length<3||e[0]===t||e[0]===t.eventBusEl_;return r?(i=t.eventBusEl_,e.length>=3&&e.shift(),n=e[0],s=e[1]):(i=e[0],n=e[1],s=e[2]),Pt(i),It(n),Ot(s),{isTargetingSelf:r,target:i,type:n,listener:s=St(t,s)}},Lt=function(t,e,i,n){Pt(t),t.nodeName?vt[e](t,i,n):t[e](i,n)},Nt={on:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=Mt(this,i),r=s.isTargetingSelf,o=s.target,a=s.type,l=s.listener;if(Lt(o,"on",a,l),!r){var u=function(){return t.off(o,a,l)};u.guid=l.guid;var c=function(){return t.off("dispose",u)};c.guid=l.guid,Lt(this,"on","dispose",u),Lt(o,"on","dispose",c)}},one:function(){for(var t=this,e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];var s=Mt(this,i),r=s.isTargetingSelf,o=s.target,a=s.type,l=s.listener;if(r)Lt(o,"one",a,l);else{var u=function e(){t.off(o,a,e);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];l.apply(null,n)};u.guid=l.guid,Lt(o,"one",a,u)}},off:function(t,e,i){if(!t||At(t))pt(this.eventBusEl_,t,e);else{var n=t,s=e;Pt(n),It(s),Ot(i),i=St(this,i),this.off("dispose",i),n.nodeName?(pt(n,s,i),pt(n,"dispose",i)):Dt(n)&&(n.off(s,i),n.off("dispose",i))}},trigger:function(t,e){return ft(this.eventBusEl_,t,e)}};function Rt(t,i){void 0===i&&(i={});var n=i.eventBusKey;if(n){if(!t[n].nodeName)throw new Error('The eventBusKey "'+n+'" does not refer to an element.');t.eventBusEl_=t[n]}else t.eventBusEl_=D("span",{className:"vjs-event-bus"});return v(t,Nt),t.eventedCallbacks&&t.eventedCallbacks.forEach(function(t){t()}),t.on("dispose",function(){t.off(),e.setTimeout(function(){t.eventBusEl_=null},0)}),t}var Ut={state:{},setState:function(t){var e,i=this;return"function"==typeof t&&(t=t()),g(t,function(t,n){i.state[n]!==t&&((e=e||{})[n]={from:i.state[n],to:t}),i.state[n]=t}),e&&Dt(this)&&this.trigger({changes:e,type:"statechanged"}),e}};function Ft(t,e){return v(t,Ut),t.state=v({},t.state,e),"function"==typeof t.handleStateChanged&&Dt(t)&&t.on("statechanged",t.handleStateChanged),t}function jt(t){return"string"!=typeof t?t:t.charAt(0).toUpperCase()+t.slice(1)}function Ht(){for(var t={},e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.forEach(function(e){e&&g(e,function(e,i){_(e)?(_(t[i])||(t[i]={}),t[i]=Ht(t[i],e)):t[i]=e})}),t}var zt=function(){function t(t,e,i){if(!t&&this.play?this.player_=t=this:this.player_=t,this.options_=Ht({},this.options_),e=this.options_=Ht(this.options_,e),this.id_=e.id||e.el&&e.el.id,!this.id_){var n=t&&t.id&&t.id()||"no_player";this.id_=n+"_component_"+et()}this.name_=e.name||null,e.el?this.el_=e.el:!1!==e.createEl&&(this.el_=this.createEl()),!1!==e.evented&&Rt(this,{eventBusKey:this.el_?"el_":null}),Ft(this,this.constructor.defaultState),this.children_=[],this.childIndex_={},this.childNameIndex_={},!1!==e.initChildren&&this.initChildren(),this.ready(i),!1!==e.reportTouchActivity&&this.enableTouchActivity()}var i=t.prototype;return i.dispose=function(){if(this.trigger({type:"dispose",bubbles:!1}),this.children_)for(var t=this.children_.length-1;t>=0;t--)this.children_[t].dispose&&this.children_[t].dispose();this.children_=null,this.childIndex_=null,this.childNameIndex_=null,this.el_&&(this.el_.parentNode&&this.el_.parentNode.removeChild(this.el_),ot(this.el_),this.el_=null),this.player_=null},i.player=function(){return this.player_},i.options=function(t){return c.warn("this.options() has been deprecated and will be moved to the constructor in 6.0"),t?(this.options_=Ht(this.options_,t),this.options_):this.options_},i.el=function(){return this.el_},i.createEl=function(t,e,i){return D(t,e,i)},i.localize=function(t,e,i){void 0===i&&(i=t);var n=this.player_.language&&this.player_.language(),s=this.player_.languages&&this.player_.languages(),r=s&&s[n],o=n&&n.split("-")[0],a=s&&s[o],l=i;return r&&r[t]?l=r[t]:a&&a[t]&&(l=a[t]),e&&(l=l.replace(/\{(\d+)\}/g,function(t,i){var n=e[i-1],s=n;return void 0===n&&(s=t),s})),l},i.contentEl=function(){return this.contentEl_||this.el_},i.id=function(){return this.id_},i.name=function(){return this.name_},i.children=function(){return this.children_},i.getChildById=function(t){return this.childIndex_[t]},i.getChild=function(t){if(t)return t=jt(t),this.childNameIndex_[t]},i.addChild=function(e,i,n){var s,r;if(void 0===i&&(i={}),void 0===n&&(n=this.children_.length),"string"==typeof e){r=jt(e);var o=i.componentClass||r;i.name=r;var a=t.getComponent(o);if(!a)throw new Error("Component "+o+" does not exist");if("function"!=typeof a)return null;s=new a(this.player_||this,i)}else s=e;if(this.children_.splice(n,0,s),"function"==typeof s.id&&(this.childIndex_[s.id()]=s),(r=r||s.name&&jt(s.name()))&&(this.childNameIndex_[r]=s),"function"==typeof s.el&&s.el()){var l=this.contentEl().children[n]||null;this.contentEl().insertBefore(s.el(),l)}return s},i.removeChild=function(t){if("string"==typeof t&&(t=this.getChild(t)),t&&this.children_){for(var e=!1,i=this.children_.length-1;i>=0;i--)if(this.children_[i]===t){e=!0,this.children_.splice(i,1);break}if(e){this.childIndex_[t.id()]=null,this.childNameIndex_[t.name()]=null;var n=t.el();n&&n.parentNode===this.contentEl()&&this.contentEl().removeChild(t.el())}}},i.initChildren=function(){var e=this,i=this.options_.children;if(i){var n,s=this.options_,r=t.getComponent("Tech");(n=Array.isArray(i)?i:Object.keys(i)).concat(Object.keys(this.options_).filter(function(t){return!n.some(function(e){return"string"==typeof e?t===e:t===e.name})})).map(function(t){var n,s;return"string"==typeof t?s=i[n=t]||e.options_[n]||{}:(n=t.name,s=t),{name:n,opts:s}}).filter(function(e){var i=t.getComponent(e.opts.componentClass||jt(e.name));return i&&!r.isTech(i)}).forEach(function(t){var i=t.name,n=t.opts;if(void 0!==s[i]&&(n=s[i]),!1!==n){!0===n&&(n={}),n.playerOptions=e.options_.playerOptions;var r=e.addChild(i,n);r&&(e[i]=r)}})}},i.buildCSSClass=function(){return""},i.ready=function(t,e){if(void 0===e&&(e=!1),t)return this.isReady_?void(e?t.call(this):this.setTimeout(t,1)):(this.readyQueue_=this.readyQueue_||[],void this.readyQueue_.push(t))},i.triggerReady=function(){this.isReady_=!0,this.setTimeout(function(){var t=this.readyQueue_;this.readyQueue_=[],t&&t.length>0&&t.forEach(function(t){t.call(this)},this),this.trigger("ready")},1)},i.$=function(t,e){return Z(t,e||this.contentEl())},i.$$=function(t,e){return Q(t,e||this.contentEl())},i.hasClass=function(t){return I(this.el_,t)},i.addClass=function(t){O(this.el_,t)},i.removeClass=function(t){M(this.el_,t)},i.toggleClass=function(t,e){L(this.el_,t,e)},i.show=function(){this.removeClass("vjs-hidden")},i.hide=function(){this.addClass("vjs-hidden")},i.lockShowing=function(){this.addClass("vjs-lock-showing")},i.unlockShowing=function(){this.removeClass("vjs-lock-showing")},i.getAttribute=function(t){return U(this.el_,t)},i.setAttribute=function(t,e){F(this.el_,t,e)},i.removeAttribute=function(t){j(this.el_,t)},i.width=function(t,e){return this.dimension("width",t,e)},i.height=function(t,e){return this.dimension("height",t,e)},i.dimensions=function(t,e){this.width(t,!0),this.height(e)},i.dimension=function(t,e,i){if(void 0!==e)return null!==e&&e==e||(e=0),-1!==(""+e).indexOf("%")||-1!==(""+e).indexOf("px")?this.el_.style[t]=e:this.el_.style[t]="auto"===e?"":e+"px",void(i||this.trigger("componentresize"));if(!this.el_)return 0;var n=this.el_.style[t],s=n.indexOf("px");return-1!==s?parseInt(n.slice(0,s),10):parseInt(this.el_["offset"+jt(t)],10)},i.currentDimension=function(t){var i=0;if("width"!==t&&"height"!==t)throw new Error("currentDimension only accepts width or height value");if("function"==typeof e.getComputedStyle){var n=e.getComputedStyle(this.el_);i=n.getPropertyValue(t)||n[t]}if(0===(i=parseFloat(i))){var s="offset"+jt(t);i=this.el_[s]}return i},i.currentDimensions=function(){return{width:this.currentDimension("width"),height:this.currentDimension("height")}},i.currentWidth=function(){return this.currentDimension("width")},i.currentHeight=function(){return this.currentDimension("height")},i.focus=function(){this.el_.focus()},i.blur=function(){this.el_.blur()},i.emitTapEvents=function(){var t,e=0,i=null;this.on("touchstart",function(n){1===n.touches.length&&(i={pageX:n.touches[0].pageX,pageY:n.touches[0].pageY},e=(new Date).getTime(),t=!0)}),this.on("touchmove",function(e){if(e.touches.length>1)t=!1;else if(i){var n=e.touches[0].pageX-i.pageX,s=e.touches[0].pageY-i.pageY;Math.sqrt(n*n+s*s)>10&&(t=!1)}});var n=function(){t=!1};this.on("touchleave",n),this.on("touchcancel",n),this.on("touchend",function(n){(i=null,!0===t)&&((new Date).getTime()-e<200&&(n.preventDefault(),this.trigger("tap")))})},i.enableTouchActivity=function(){if(this.player()&&this.player().reportUserActivity){var t,e=St(this.player(),this.player().reportUserActivity);this.on("touchstart",function(){e(),this.clearInterval(t),t=this.setInterval(e,250)});var i=function(i){e(),this.clearInterval(t)};this.on("touchmove",e),this.on("touchend",i),this.on("touchcancel",i)}},i.setTimeout=function(t,i){var n,s,r=this;return t=St(this,t),n=e.setTimeout(function(){r.off("dispose",s),t()},i),(s=function(){return r.clearTimeout(n)}).guid="vjs-timeout-"+n,this.on("dispose",s),n},i.clearTimeout=function(t){e.clearTimeout(t);var i=function(){};return i.guid="vjs-timeout-"+t,this.off("dispose",i),t},i.setInterval=function(t,i){var n=this;t=St(this,t);var s=e.setInterval(t,i),r=function(){return n.clearInterval(s)};return r.guid="vjs-interval-"+s,this.on("dispose",r),s},i.clearInterval=function(t){e.clearInterval(t);var i=function(){};return i.guid="vjs-interval-"+t,this.off("dispose",i),t},i.requestAnimationFrame=function(t){var i,n,s=this;return this.supportsRaf_?(t=St(this,t),i=e.requestAnimationFrame(function(){s.off("dispose",n),t()}),(n=function(){return s.cancelAnimationFrame(i)}).guid="vjs-raf-"+i,this.on("dispose",n),i):this.setTimeout(t,1e3/60)},i.cancelAnimationFrame=function(t){if(this.supportsRaf_){e.cancelAnimationFrame(t);var i=function(){};return i.guid="vjs-raf-"+t,this.off("dispose",i),t}return this.clearTimeout(t)},t.registerComponent=function(e,i){if("string"!=typeof e||!e)throw new Error('Illegal component name, "'+e+'"; must be a non-empty string.');var n,s=t.getComponent("Tech"),r=s&&s.isTech(i),o=t===i||t.prototype.isPrototypeOf(i.prototype);if(r||!o)throw n=r?"techs must be registered using Tech.registerTech()":"must be a Component subclass",new Error('Illegal component, "'+e+'"; '+n+".");e=jt(e),t.components_||(t.components_={});var a=t.getComponent("Player");if("Player"===e&&a&&a.players){var l=a.players,u=Object.keys(l);if(l&&u.length>0&&u.map(function(t){return l[t]}).every(Boolean))throw new Error("Can not register Player component after player has been created.")}return t.components_[e]=i,i},t.getComponent=function(e){if(e)return e=jt(e),t.components_&&t.components_[e]?t.components_[e]:void 0},t}();zt.prototype.supportsRaf_="function"==typeof e.requestAnimationFrame&&"function"==typeof e.cancelAnimationFrame,zt.registerComponent("Component",zt);var Bt,Wt=e.navigator&&e.navigator.userAgent||"",Yt=/AppleWebKit\/([\d.]+)/i.exec(Wt),Vt=Yt?parseFloat(Yt.pop()):null,qt=/iPad/i.test(Wt),$t=/iPhone/i.test(Wt)&&!qt,Gt=/iPod/i.test(Wt),Xt=$t||qt||Gt,Kt=(Bt=Wt.match(/OS (\d+)_/i))&&Bt[1]?Bt[1]:null,Zt=/Android/i.test(Wt),Qt=function(){var t=Wt.match(/Android (\d+)(?:\.(\d+))?(?:\.(\d+))*/i);if(!t)return null;var e=t[1]&&parseFloat(t[1]),i=t[2]&&parseFloat(t[2]);return e&&i?parseFloat(t[1]+"."+t[2]):e||null}(),Jt=Zt&&Qt<5&&Vt<537,te=/Firefox/i.test(Wt),ee=/Edge/i.test(Wt),ie=!ee&&(/Chrome/i.test(Wt)||/CriOS/i.test(Wt)),ne=function(){var t=Wt.match(/(Chrome|CriOS)\/(\d+)/);return t&&t[2]?parseFloat(t[2]):null}(),se=function(){var t=/MSIE\s(\d+)\.\d/.exec(Wt),e=t&&parseFloat(t[1]);return!e&&/Trident\/7.0/i.test(Wt)&&/rv:11.0/.test(Wt)&&(e=11),e}(),re=/Safari/i.test(Wt)&&!ie&&!Zt&&!ee,oe=(re||Xt)&&!ie,ae=S()&&("ontouchstart"in e||e.navigator.maxTouchPoints||e.DocumentTouch&&e.document instanceof e.DocumentTouch),le=Object.freeze({IS_IPAD:qt,IS_IPHONE:$t,IS_IPOD:Gt,IS_IOS:Xt,IOS_VERSION:Kt,IS_ANDROID:Zt,ANDROID_VERSION:Qt,IS_NATIVE_ANDROID:Jt,IS_FIREFOX:te,IS_EDGE:ee,IS_CHROME:ie,CHROME_VERSION:ne,IE_VERSION:se,IS_SAFARI:re,IS_ANY_SAFARI:oe,TOUCH_ENABLED:ae});function ue(t,e,i,n){return function(t,e,i){if("number"!=typeof e||e<0||e>i)throw new Error("Failed to execute '"+t+"' on 'TimeRanges': The index provided ("+e+") is non-numeric or out of bounds (0-"+i+").")}(t,n,i.length-1),i[n][e]}function ce(t){return void 0===t||0===t.length?{length:0,start:function(){throw new Error("This TimeRanges object is empty")},end:function(){throw new Error("This TimeRanges object is empty")}}:{length:t.length,start:ue.bind(null,"start",0,t),end:ue.bind(null,"end",1,t)}}function he(t,e){return Array.isArray(t)?ce(t):void 0===t||void 0===e?ce():ce([[t,e]])}function de(t,e){var i,n,s=0;if(!e)return 0;t&&t.length||(t=he(0,0));for(var r=0;r<t.length;r++)i=t.start(r),(n=t.end(r))>e&&(n=e),s+=n-i;return s/e}for(var pe,fe={},me=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],ge=me[0],ve=0;ve<me.length;ve++)if(me[ve][1]in t){pe=me[ve];break}if(pe)for(var ye=0;ye<pe.length;ye++)fe[ge[ye]]=pe[ye];function _e(t){if(t instanceof _e)return t;"number"==typeof t?this.code=t:"string"==typeof t?this.message=t:y(t)&&("number"==typeof t.code&&(this.code=t.code),v(this,t)),this.message||(this.message=_e.defaultMessages[this.code]||"")}_e.prototype.code=0,_e.prototype.message="",_e.prototype.status=null,_e.errorTypes=["MEDIA_ERR_CUSTOM","MEDIA_ERR_ABORTED","MEDIA_ERR_NETWORK","MEDIA_ERR_DECODE","MEDIA_ERR_SRC_NOT_SUPPORTED","MEDIA_ERR_ENCRYPTED"],_e.defaultMessages={1:"You aborted the media playback",2:"A network error caused the media download to fail part-way.",3:"The media playback was aborted due to a corruption problem or because the media used features your browser did not support.",4:"The media could not be loaded, either because the server or network failed or because the format is not supported.",5:"The media is encrypted and we do not have the keys to decrypt it."};for(var be=0;be<_e.errorTypes.length;be++)_e[_e.errorTypes[be]]=be,_e.prototype[_e.errorTypes[be]]=be;var we=function(t,e){var i,n=null;try{i=JSON.parse(t,e)}catch(t){n=t}return[n,i]};function Te(t){return null!=t&&"function"==typeof t.then}function ke(t){Te(t)&&t.then(null,function(t){})}var Se=function(t){return["kind","label","language","id","inBandMetadataTrackDispatchType","mode","src"].reduce(function(e,i,n){return t[i]&&(e[i]=t[i]),e},{cues:t.cues&&Array.prototype.map.call(t.cues,function(t){return{startTime:t.startTime,endTime:t.endTime,text:t.text,id:t.id}})})},Ce=function(t){var e=t.$$("track"),i=Array.prototype.map.call(e,function(t){return t.track});return Array.prototype.map.call(e,function(t){var e=Se(t.track);return t.src&&(e.src=t.src),e}).concat(Array.prototype.filter.call(t.textTracks(),function(t){return-1===i.indexOf(t)}).map(Se))},xe=function(t,e){return t.forEach(function(t){var i=e.addRemoteTextTrack(t).track;!t.src&&t.cues&&t.cues.forEach(function(t){return i.addCue(t)})}),e.textTracks()},Ee="vjs-modal-dialog",De=function(i){function s(t,e){var n;return(n=i.call(this,t,e)||this).opened_=n.hasBeenOpened_=n.hasBeenFilled_=!1,n.closeable(!n.options_.uncloseable),n.content(n.options_.content),n.contentEl_=D("div",{className:Ee+"-content"},{role:"document"}),n.descEl_=D("p",{className:Ee+"-description vjs-control-text",id:n.el().getAttribute("aria-describedby")}),A(n.descEl_,n.description()),n.el_.appendChild(n.descEl_),n.el_.appendChild(n.contentEl_),n}n(s,i);var r=s.prototype;return r.createEl=function(){return i.prototype.createEl.call(this,"div",{className:this.buildCSSClass(),tabIndex:-1},{"aria-describedby":this.id()+"_description","aria-hidden":"true","aria-label":this.label(),role:"dialog"})},r.dispose=function(){this.contentEl_=null,this.descEl_=null,this.previouslyActiveEl_=null,i.prototype.dispose.call(this)},r.buildCSSClass=function(){return Ee+" vjs-hidden "+i.prototype.buildCSSClass.call(this)},r.handleKeyPress=function(t){27===t.which&&this.closeable()&&this.close()},r.label=function(){return this.localize(this.options_.label||"Modal Window")},r.description=function(){var t=this.options_.description||this.localize("This is a modal window.");return this.closeable()&&(t+=" "+this.localize("This modal can be closed by pressing the Escape key or activating the close button.")),t},r.open=function(){if(!this.opened_){var t=this.player();this.trigger("beforemodalopen"),this.opened_=!0,(this.options_.fillAlways||!this.hasBeenOpened_&&!this.hasBeenFilled_)&&this.fill(),this.wasPlaying_=!t.paused(),this.options_.pauseOnOpen&&this.wasPlaying_&&t.pause(),this.closeable()&&this.on(this.el_.ownerDocument,"keydown",St(this,this.handleKeyPress)),this.hadControls_=t.controls(),t.controls(!1),this.show(),this.conditionalFocus_(),this.el().setAttribute("aria-hidden","false"),this.trigger("modalopen"),this.hasBeenOpened_=!0}},r.opened=function(t){return"boolean"==typeof t&&this[t?"open":"close"](),this.opened_},r.close=function(){if(this.opened_){var t=this.player();this.trigger("beforemodalclose"),this.opened_=!1,this.wasPlaying_&&this.options_.pauseOnOpen&&t.play(),this.closeable()&&this.off(this.el_.ownerDocument,"keydown",St(this,this.handleKeyPress)),this.hadControls_&&t.controls(!0),this.hide(),this.el().setAttribute("aria-hidden","true"),this.trigger("modalclose"),this.conditionalBlur_(),this.options_.temporary&&this.dispose()}},r.closeable=function(t){if("boolean"==typeof t){var e=this.closeable_=!!t,i=this.getChild("closeButton");if(e&&!i){var n=this.contentEl_;this.contentEl_=this.el_,i=this.addChild("closeButton",{controlText:"Close Modal Dialog"}),this.contentEl_=n,this.on(i,"close",this.close)}!e&&i&&(this.off(i,"close",this.close),this.removeChild(i),i.dispose())}return this.closeable_},r.fill=function(){this.fillWith(this.content())},r.fillWith=function(t){var e=this.contentEl(),i=e.parentNode,n=e.nextSibling;this.trigger("beforemodalfill"),this.hasBeenFilled_=!0,i.removeChild(e),this.empty(),X(e,t),this.trigger("modalfill"),n?i.insertBefore(e,n):i.appendChild(e);var s=this.getChild("closeButton");s&&i.appendChild(s.el_)},r.empty=function(){this.trigger("beforemodalempty"),q(this.contentEl()),this.trigger("modalempty")},r.content=function(t){return void 0!==t&&(this.content_=t),this.content_},r.conditionalFocus_=function(){var e=t.activeElement,i=this.player_.el_;this.previouslyActiveEl_=null,(i.contains(e)||i===e)&&(this.previouslyActiveEl_=e,this.focus(),this.on(t,"keydown",this.handleKeyDown))},r.conditionalBlur_=function(){this.previouslyActiveEl_&&(this.previouslyActiveEl_.focus(),this.previouslyActiveEl_=null),this.off(t,"keydown",this.handleKeyDown)},r.handleKeyDown=function(e){if(9===e.which){for(var i,n=this.focusableEls_(),s=this.el_.querySelector(":focus"),r=0;r<n.length;r++)if(s===n[r]){i=r;break}t.activeElement===this.el_&&(i=0),e.shiftKey&&0===i?(n[n.length-1].focus(),e.preventDefault()):e.shiftKey||i!==n.length-1||(n[0].focus(),e.preventDefault())}},r.focusableEls_=function(){var t=this.el_.querySelectorAll("*");return Array.prototype.filter.call(t,function(t){return(t instanceof e.HTMLAnchorElement||t instanceof e.HTMLAreaElement)&&t.hasAttribute("href")||(t instanceof e.HTMLInputElement||t instanceof e.HTMLSelectElement||t instanceof e.HTMLTextAreaElement||t instanceof e.HTMLButtonElement)&&!t.hasAttribute("disabled")||t instanceof e.HTMLIFrameElement||t instanceof e.HTMLObjectElement||t instanceof e.HTMLEmbedElement||t.hasAttribute("tabindex")&&-1!==t.getAttribute("tabindex")||t.hasAttribute("contenteditable")})},s}(zt);De.prototype.options_={pauseOnOpen:!0,temporary:!0},zt.registerComponent("ModalDialog",De);var Ae=function(t){function e(e){var i;void 0===e&&(e=[]),(i=t.call(this)||this).tracks_=[],Object.defineProperty(o(o(i)),"length",{get:function(){return this.tracks_.length}});for(var n=0;n<e.length;n++)i.addTrack(e[n]);return i}n(e,t);var i=e.prototype;return i.addTrack=function(t){var e=this.tracks_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.tracks_[e]}}),-1===this.tracks_.indexOf(t)&&(this.tracks_.push(t),this.trigger({track:t,type:"addtrack"}))},i.removeTrack=function(t){for(var e,i=0,n=this.length;i<n;i++)if(this[i]===t){(e=this[i]).off&&e.off(),this.tracks_.splice(i,1);break}e&&this.trigger({track:e,type:"removetrack"})},i.getTrackById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var s=this[i];if(s.id===t){e=s;break}}return e},e}(Et);for(var Pe in Ae.prototype.allowedEvents_={change:"change",addtrack:"addtrack",removetrack:"removetrack"},Ae.prototype.allowedEvents_)Ae.prototype["on"+Pe]=null;var Ie=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].enabled=!1)},Oe=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].enabled){Ie(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,i}return n(e,t),e.prototype.addTrack=function(e){var i=this;e.enabled&&Ie(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("enabledchange",function(){i.changing_||(i.changing_=!0,Ie(i,e),i.changing_=!1,i.trigger("change"))})},e}(Ae),Me=function(t,e){for(var i=0;i<t.length;i++)Object.keys(t[i]).length&&e.id!==t[i].id&&(t[i].selected=!1)},Le=function(t){function e(e){var i;void 0===e&&(e=[]);for(var n=e.length-1;n>=0;n--)if(e[n].selected){Me(e,e[n]);break}return(i=t.call(this,e)||this).changing_=!1,Object.defineProperty(o(o(i)),"selectedIndex",{get:function(){for(var t=0;t<this.length;t++)if(this[t].selected)return t;return-1},set:function(){}}),i}return n(e,t),e.prototype.addTrack=function(e){var i=this;e.selected&&Me(this,e),t.prototype.addTrack.call(this,e),e.addEventListener&&e.addEventListener("selectedchange",function(){i.changing_||(i.changing_=!0,Me(i,e),i.changing_=!1,i.trigger("change"))})},e}(Ae),Ne=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.addTrack=function(e){t.prototype.addTrack.call(this,e),e.addEventListener("modechange",St(this,function(){this.queueTrigger("change")}));-1===["metadata","chapters"].indexOf(e.kind)&&e.addEventListener("modechange",St(this,function(){this.trigger("selectedlanguagechange")}))},e}(Ae),Re=function(){function t(t){void 0===t&&(t=[]),this.trackElements_=[],Object.defineProperty(this,"length",{get:function(){return this.trackElements_.length}});for(var e=0,i=t.length;e<i;e++)this.addTrackElement_(t[e])}var e=t.prototype;return e.addTrackElement_=function(t){var e=this.trackElements_.length;""+e in this||Object.defineProperty(this,e,{get:function(){return this.trackElements_[e]}}),-1===this.trackElements_.indexOf(t)&&this.trackElements_.push(t)},e.getTrackElementByTrack_=function(t){for(var e,i=0,n=this.trackElements_.length;i<n;i++)if(t===this.trackElements_[i].track){e=this.trackElements_[i];break}return e},e.removeTrackElement_=function(t){for(var e=0,i=this.trackElements_.length;e<i;e++)if(t===this.trackElements_[e]){this.trackElements_.splice(e,1);break}},t}(),Ue=function(){function t(e){t.prototype.setCues_.call(this,e),Object.defineProperty(this,"length",{get:function(){return this.length_}})}var e=t.prototype;return e.setCues_=function(t){var e=this.length||0,i=0,n=t.length;this.cues_=t,this.length_=t.length;var s=function(t){""+t in this||Object.defineProperty(this,""+t,{get:function(){return this.cues_[t]}})};if(e<n)for(i=e;i<n;i++)s.call(this,i)},e.getCueById=function(t){for(var e=null,i=0,n=this.length;i<n;i++){var s=this[i];if(s.id===t){e=s;break}}return e},t}(),Fe={alternative:"alternative",captions:"captions",main:"main",sign:"sign",subtitles:"subtitles",commentary:"commentary"},je={alternative:"alternative",descriptions:"descriptions",main:"main","main-desc":"main-desc",translation:"translation",commentary:"commentary"},He={subtitles:"subtitles",captions:"captions",descriptions:"descriptions",chapters:"chapters",metadata:"metadata"},ze={disabled:"disabled",hidden:"hidden",showing:"showing"},Be=function(t){function e(e){var i;void 0===e&&(e={}),i=t.call(this)||this;var n={id:e.id||"vjs_track_"+et(),kind:e.kind||"",label:e.label||"",language:e.language||""},s=function(t){Object.defineProperty(o(o(i)),t,{get:function(){return n[t]},set:function(){}})};for(var r in n)s(r);return i}return n(e,t),e}(Et),We=function(i){var n=["protocol","hostname","port","pathname","search","hash","host"],s=t.createElement("a");s.href=i;var r,o=""===s.host&&"file:"!==s.protocol;o&&((r=t.createElement("div")).innerHTML='<a href="'+i+'"></a>',s=r.firstChild,r.setAttribute("style","display:none; position:absolute;"),t.body.appendChild(r));for(var a={},l=0;l<n.length;l++)a[n[l]]=s[n[l]];return"http:"===a.protocol&&(a.host=a.host.replace(/:80$/,"")),"https:"===a.protocol&&(a.host=a.host.replace(/:443$/,"")),a.protocol||(a.protocol=e.location.protocol),o&&t.body.removeChild(r),a},Ye=function(e){if(!e.match(/^https?:\/\//)){var i=t.createElement("div");i.innerHTML='<a href="'+e+'">x</a>',e=i.firstChild.href}return e},Ve=function(t){if("string"==typeof t){var e=/^(\/?)([\s\S]*?)((?:\.{1,2}|[^\/]+?)(\.([^\.\/\?]+)))(?:[\/]*|[\?].*)$/i.exec(t);if(e)return e.pop().toLowerCase()}return""},qe=function(t){var i=e.location,n=We(t);return(":"===n.protocol?i.protocol:n.protocol)+n.host!==i.protocol+i.host},$e=Object.freeze({parseUrl:We,getAbsoluteURL:Ye,getFileExtension:Ve,isCrossOrigin:qe}),Ge=function(t){var e=Xe.call(t);return"[object Function]"===e||"function"==typeof t&&"[object RegExp]"!==e||"undefined"!=typeof window&&(t===window.setTimeout||t===window.alert||t===window.confirm||t===window.prompt)},Xe=Object.prototype.toString;"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;function Ke(t,e){return t(e={exports:{}},e.exports),e.exports}var Ze=Ke(function(t,e){(e=t.exports=function(t){return t.replace(/^\s*|\s*$/g,"")}).left=function(t){return t.replace(/^\s*/,"")},e.right=function(t){return t.replace(/\s*$/,"")}}),Qe=(Ze.left,Ze.right,Function.prototype.toString),Je=/^\s*class\b/,ti=function(t){try{var e=Qe.call(t);return Je.test(e)}catch(t){return!1}},ei=Object.prototype.toString,ii="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,ni=function(t){if(!t)return!1;if("function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(ii)return function(t){try{return!ti(t)&&(Qe.call(t),!0)}catch(t){return!1}}(t);if(ti(t))return!1;var e=ei.call(t);return"[object Function]"===e||"[object GeneratorFunction]"===e},si=Object.prototype.toString,ri=Object.prototype.hasOwnProperty,oi=function(t,e,i){if(!ni(e))throw new TypeError("iterator must be a function");var n;arguments.length>=3&&(n=i),"[object Array]"===si.call(t)?function(t,e,i){for(var n=0,s=t.length;n<s;n++)ri.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))}(t,e,n):"string"==typeof t?function(t,e,i){for(var n=0,s=t.length;n<s;n++)null==i?e(t.charAt(n),n,t):e.call(i,t.charAt(n),n,t)}(t,e,n):function(t,e,i){for(var n in t)ri.call(t,n)&&(null==i?e(t[n],n,t):e.call(i,t[n],n,t))}(t,e,n)},ai=function(t){if(!t)return{};var e={};return oi(Ze(t).split("\n"),function(t){var i,n=t.indexOf(":"),s=Ze(t.slice(0,n)).toLowerCase(),r=Ze(t.slice(n+1));void 0===e[s]?e[s]=r:(i=e[s],"[object Array]"===Object.prototype.toString.call(i)?e[s].push(r):e[s]=[e[s],r])}),e},li=function(){for(var t={},e=0;e<arguments.length;e++){var i=arguments[e];for(var n in i)ui.call(i,n)&&(t[n]=i[n])}return t},ui=Object.prototype.hasOwnProperty;var ci=di;function hi(t,e,i){var n=t;return Ge(e)?(i=e,"string"==typeof t&&(n={uri:t})):n=li(e,{uri:t}),n.callback=i,n}function di(t,e,i){return pi(e=hi(t,e,i))}function pi(t){if(void 0===t.callback)throw new Error("callback argument missing");var e=!1,i=function(i,n,s){e||(e=!0,t.callback(i,n,s))};function n(){var t=void 0;if(t=l.response?l.response:l.responseText||function(t){if("document"===t.responseType)return t.responseXML;var e=t.responseXML&&"parsererror"===t.responseXML.documentElement.nodeName;if(""===t.responseType&&!e)return t.responseXML;return null}(l),m)try{t=JSON.parse(t)}catch(t){}return t}function s(t){return clearTimeout(u),t instanceof Error||(t=new Error(""+(t||"Unknown XMLHttpRequest Error"))),t.statusCode=0,i(t,g)}function r(){if(!a){var e;clearTimeout(u),e=t.useXDR&&void 0===l.status?200:1223===l.status?204:l.status;var s=g,r=null;return 0!==e?(s={body:n(),statusCode:e,method:h,headers:{},url:c,rawRequest:l},l.getAllResponseHeaders&&(s.headers=ai(l.getAllResponseHeaders()))):r=new Error("Internal XMLHttpRequest Error"),i(r,s,s.body)}}var o,a,l=t.xhr||null;l||(l=t.cors||t.useXDR?new di.XDomainRequest:new di.XMLHttpRequest);var u,c=l.url=t.uri||t.url,h=l.method=t.method||"GET",d=t.body||t.data,p=l.headers=t.headers||{},f=!!t.sync,m=!1,g={body:void 0,headers:{},statusCode:0,method:h,url:c,rawRequest:l};if("json"in t&&!1!==t.json&&(m=!0,p.accept||p.Accept||(p.Accept="application/json"),"GET"!==h&&"HEAD"!==h&&(p["content-type"]||p["Content-Type"]||(p["Content-Type"]="application/json"),d=JSON.stringify(!0===t.json?d:t.json))),l.onreadystatechange=function(){4===l.readyState&&setTimeout(r,0)},l.onload=r,l.onerror=s,l.onprogress=function(){},l.onabort=function(){a=!0},l.ontimeout=s,l.open(h,c,!f,t.username,t.password),f||(l.withCredentials=!!t.withCredentials),!f&&t.timeout>0&&(u=setTimeout(function(){if(!a){a=!0,l.abort("timeout");var t=new Error("XMLHttpRequest timeout");t.code="ETIMEDOUT",s(t)}},t.timeout)),l.setRequestHeader)for(o in p)p.hasOwnProperty(o)&&l.setRequestHeader(o,p[o]);else if(t.headers&&!function(t){for(var e in t)if(t.hasOwnProperty(e))return!1;return!0}(t.headers))throw new Error("Headers cannot be set on an XDomainRequest object");return"responseType"in t&&(l.responseType=t.responseType),"beforeSend"in t&&"function"==typeof t.beforeSend&&t.beforeSend(l),l.send(d||null),l}di.XMLHttpRequest=e.XMLHttpRequest||function(){},di.XDomainRequest="withCredentials"in new di.XMLHttpRequest?di.XMLHttpRequest:e.XDomainRequest,function(t,e){for(var i=0;i<t.length;i++)e(t[i])}(["get","put","post","patch","head","delete"],function(t){di["delete"===t?"del":t]=function(e,i,n){return(i=hi(e,i,n)).method=t.toUpperCase(),pi(i)}});var fi=function(t,i){var n=new e.WebVTT.Parser(e,e.vttjs,e.WebVTT.StringDecoder()),s=[];n.oncue=function(t){i.addCue(t)},n.onparsingerror=function(t){s.push(t)},n.onflush=function(){i.trigger({type:"loadeddata",target:i})},n.parse(t),s.length>0&&(e.console&&e.console.groupCollapsed&&e.console.groupCollapsed("Text Track parsing errors for "+i.src),s.forEach(function(t){return c.error(t)}),e.console&&e.console.groupEnd&&e.console.groupEnd()),n.flush()},mi=function(t,i){var n={uri:t},s=qe(t);s&&(n.cors=s),ci(n,St(this,function(t,n,s){if(t)return c.error(t,n);if(i.loaded_=!0,"function"!=typeof e.WebVTT){if(i.tech_){var r=function(){return fi(s,i)};i.tech_.on("vttjsloaded",r),i.tech_.on("vttjserror",function(){c.error("vttjs failed to load, stopping trying to process "+i.src),i.tech_.off("vttjsloaded",r)})}}else fi(s,i)}))},gi=function(t){function i(e){var i;if(void 0===e&&(e={}),!e.tech)throw new Error("A tech was not provided.");var n=Ht(e,{kind:He[e.kind]||"subtitles",language:e.language||e.srclang||""}),s=ze[n.mode]||"disabled",r=n.default;"metadata"!==n.kind&&"chapters"!==n.kind||(s="hidden"),(i=t.call(this,n)||this).tech_=n.tech,i.cues_=[],i.activeCues_=[];var a=new Ue(i.cues_),l=new Ue(i.activeCues_),u=!1,c=St(o(o(i)),function(){this.activeCues=this.activeCues,u&&(this.trigger("cuechange"),u=!1)});return"disabled"!==s&&i.tech_.ready(function(){i.tech_.on("timeupdate",c)},!0),Object.defineProperties(o(o(i)),{default:{get:function(){return r},set:function(){}},mode:{get:function(){return s},set:function(t){var e=this;ze[t]&&("disabled"!==(s=t)?this.tech_.ready(function(){e.tech_.on("timeupdate",c)},!0):this.tech_.off("timeupdate",c),this.trigger("modechange"))}},cues:{get:function(){return this.loaded_?a:null},set:function(){}},activeCues:{get:function(){if(!this.loaded_)return null;if(0===this.cues.length)return l;for(var t=this.tech_.currentTime(),e=[],i=0,n=this.cues.length;i<n;i++){var s=this.cues[i];s.startTime<=t&&s.endTime>=t?e.push(s):s.startTime===s.endTime&&s.startTime<=t&&s.startTime+.5>=t&&e.push(s)}if(u=!1,e.length!==this.activeCues_.length)u=!0;else for(var r=0;r<e.length;r++)-1===this.activeCues_.indexOf(e[r])&&(u=!0);return this.activeCues_=e,l.setCues_(this.activeCues_),l},set:function(){}}}),n.src?(i.src=n.src,mi(n.src,o(o(i)))):i.loaded_=!0,i}n(i,t);var s=i.prototype;return s.addCue=function(t){var i=t;if(e.vttjs&&!(t instanceof e.vttjs.VTTCue)){for(var n in i=new e.vttjs.VTTCue(t.startTime,t.endTime,t.text),t)n in i||(i[n]=t[n]);i.id=t.id,i.originalCue_=t}for(var s=this.tech_.textTracks(),r=0;r<s.length;r++)s[r]!==this&&s[r].removeCue(i);this.cues_.push(i),this.cues.setCues_(this.cues_)},s.removeCue=function(t){for(var e=this.cues_.length;e--;){var i=this.cues_[e];if(i===t||i.originalCue_&&i.originalCue_===t){this.cues_.splice(e,1),this.cues.setCues_(this.cues_);break}}},i}(Be);gi.prototype.allowedEvents_={cuechange:"cuechange"};var vi=function(t){function e(e){var i;void 0===e&&(e={});var n=Ht(e,{kind:je[e.kind]||""});i=t.call(this,n)||this;var s=!1;return Object.defineProperty(o(o(i)),"enabled",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("enabledchange"))}}),n.enabled&&(i.enabled=n.enabled),i.loaded_=!0,i}return n(e,t),e}(Be),yi=function(t){function e(e){var i;void 0===e&&(e={});var n=Ht(e,{kind:Fe[e.kind]||""});i=t.call(this,n)||this;var s=!1;return Object.defineProperty(o(o(i)),"selected",{get:function(){return s},set:function(t){"boolean"==typeof t&&t!==s&&(s=t,this.trigger("selectedchange"))}}),n.selected&&(i.selected=n.selected),i}return n(e,t),e}(Be),_i=0,bi=2,wi=function(t){function e(e){var i,n;void 0===e&&(e={}),i=t.call(this)||this;var s=new gi(e);return i.kind=s.kind,i.src=s.src,i.srclang=s.language,i.label=s.label,i.default=s.default,Object.defineProperties(o(o(i)),{readyState:{get:function(){return n}},track:{get:function(){return s}}}),n=_i,s.addEventListener("loadeddata",function(){n=bi,i.trigger({type:"load",target:o(o(i))})}),i}return n(e,t),e}(Et);wi.prototype.allowedEvents_={load:"load"},wi.NONE=_i,wi.LOADING=1,wi.LOADED=bi,wi.ERROR=3;var Ti={audio:{ListClass:Oe,TrackClass:vi,capitalName:"Audio"},video:{ListClass:Le,TrackClass:yi,capitalName:"Video"},text:{ListClass:Ne,TrackClass:gi,capitalName:"Text"}};Object.keys(Ti).forEach(function(t){Ti[t].getterName=t+"Tracks",Ti[t].privateName=t+"Tracks_"});var ki={remoteText:{ListClass:Ne,TrackClass:gi,capitalName:"RemoteText",getterName:"remoteTextTracks",privateName:"remoteTextTracks_"},remoteTextEl:{ListClass:Re,TrackClass:wi,capitalName:"RemoteTextTrackEls",getterName:"remoteTextTrackEls",privateName:"remoteTextTrackEls_"}},Si=Ht(Ti,ki);ki.names=Object.keys(ki),Ti.names=Object.keys(Ti),Si.names=[].concat(ki.names).concat(Ti.names);var Ci=Object.create||function(){function t(){}return function(e){if(1!==arguments.length)throw new Error("Object.create shim only accepts one parameter.");return t.prototype=e,new t}}();function xi(t,e){this.name="ParsingError",this.code=t.code,this.message=e||t.message}function Ei(t){function e(t,e,i,n){return 3600*(0|t)+60*(0|e)+(0|i)+(0|n)/1e3}var i=t.match(/^(\d+):(\d{2})(:\d{2})?\.(\d{3})/);return i?i[3]?e(i[1],i[2],i[3].replace(":",""),i[4]):i[1]>59?e(i[1],i[2],0,i[4]):e(0,i[1],i[2],i[4]):null}function Di(){this.values=Ci(null)}function Ai(t,e,i,n){var s=n?t.split(n):[t];for(var r in s)if("string"==typeof s[r]){var o=s[r].split(i);if(2===o.length)e(o[0],o[1])}}function Pi(t,e,i){var n=t;function s(){var e=Ei(t);if(null===e)throw new xi(xi.Errors.BadTimeStamp,"Malformed timestamp: "+n);return t=t.replace(/^[^\sa-zA-Z-]+/,""),e}function r(){t=t.replace(/^\s+/,"")}if(r(),e.startTime=s(),r(),"--\x3e"!==t.substr(0,3))throw new xi(xi.Errors.BadTimeStamp,"Malformed time stamp (time stamps must be separated by '--\x3e'): "+n);t=t.substr(3),r(),e.endTime=s(),r(),function(t,e){var n=new Di;Ai(t,function(t,e){switch(t){case"region":for(var s=i.length-1;s>=0;s--)if(i[s].id===e){n.set(t,i[s].region);break}break;case"vertical":n.alt(t,e,["rl","lr"]);break;case"line":var r=e.split(","),o=r[0];n.integer(t,o),n.percent(t,o)&&n.set("snapToLines",!1),n.alt(t,o,["auto"]),2===r.length&&n.alt("lineAlign",r[1],["start","middle","end"]);break;case"position":r=e.split(","),n.percent(t,r[0]),2===r.length&&n.alt("positionAlign",r[1],["start","middle","end"]);break;case"size":n.percent(t,e);break;case"align":n.alt(t,e,["start","middle","end","left","right"])}},/:/,/\s/),e.region=n.get("region",null),e.vertical=n.get("vertical",""),e.line=n.get("line","auto"),e.lineAlign=n.get("lineAlign","start"),e.snapToLines=n.get("snapToLines",!0),e.size=n.get("size",100),e.align=n.get("align","middle"),e.position=n.get("position",{start:0,left:0,middle:50,end:100,right:100},e.align),e.positionAlign=n.get("positionAlign",{start:"start",left:"start",middle:"middle",end:"end",right:"end"},e.align)}(t,e)}xi.prototype=Ci(Error.prototype),xi.prototype.constructor=xi,xi.Errors={BadSignature:{code:0,message:"Malformed WebVTT signature."},BadTimeStamp:{code:1,message:"Malformed time stamp."}},Di.prototype={set:function(t,e){this.get(t)||""===e||(this.values[t]=e)},get:function(t,e,i){return i?this.has(t)?this.values[t]:e[i]:this.has(t)?this.values[t]:e},has:function(t){return t in this.values},alt:function(t,e,i){for(var n=0;n<i.length;++n)if(e===i[n]){this.set(t,e);break}},integer:function(t,e){/^-?\d+$/.test(e)&&this.set(t,parseInt(e,10))},percent:function(t,e){return!!(e.match(/^([\d]{1,3})(\.[\d]*)?%$/)&&(e=parseFloat(e))>=0&&e<=100)&&(this.set(t,e),!0)}};var Ii={"&amp;":"&","&lt;":"<","&gt;":">","&lrm;":"â","&rlm;":"â","&nbsp;":"Â "},Oi={c:"span",i:"i",b:"b",u:"u",ruby:"ruby",rt:"rt",v:"span",lang:"span"},Mi={v:"title",lang:"lang"},Li={rt:"ruby"};function Ni(t,e){function i(){if(!e)return null;var t,i=e.match(/^([^<]*)(<[^>]*>?)?/);return t=i[1]?i[1]:i[2],e=e.substr(t.length),t}function n(t){return Ii[t]}function s(t){for(;p=t.match(/&(amp|lt|gt|lrm|rlm|nbsp);/);)t=t.replace(p[0],n);return t}function r(t,e){return!Li[e.localName]||Li[e.localName]===t.localName}function o(e,i){var n=Oi[e];if(!n)return null;var s=t.document.createElement(n);s.localName=n;var r=Mi[e];return r&&i&&(s[r]=i.trim()),s}for(var a,l=t.document.createElement("div"),u=l,c=[];null!==(a=i());)if("<"!==a[0])u.appendChild(t.document.createTextNode(s(a)));else{if("/"===a[1]){c.length&&c[c.length-1]===a.substr(2).replace(">","")&&(c.pop(),u=u.parentNode);continue}var h,d=Ei(a.substr(1,a.length-2));if(d){h=t.document.createProcessingInstruction("timestamp",d),u.appendChild(h);continue}var p=a.match(/^<([^.\s\/0-9>]+)(\.[^\s\\>]+)?([^>\\]+)?(\\?)>?$/);if(!p)continue;if(!(h=o(p[1],p[3])))continue;if(!r(u,h))continue;p[2]&&(h.className=p[2].substr(1).replace("."," ")),c.push(p[1]),u.appendChild(h),u=h}return l}var Ri=[[1470,1470],[1472,1472],[1475,1475],[1478,1478],[1488,1514],[1520,1524],[1544,1544],[1547,1547],[1549,1549],[1563,1563],[1566,1610],[1645,1647],[1649,1749],[1765,1766],[1774,1775],[1786,1805],[1807,1808],[1810,1839],[1869,1957],[1969,1969],[1984,2026],[2036,2037],[2042,2042],[2048,2069],[2074,2074],[2084,2084],[2088,2088],[2096,2110],[2112,2136],[2142,2142],[2208,2208],[2210,2220],[8207,8207],[64285,64285],[64287,64296],[64298,64310],[64312,64316],[64318,64318],[64320,64321],[64323,64324],[64326,64449],[64467,64829],[64848,64911],[64914,64967],[65008,65020],[65136,65140],[65142,65276],[67584,67589],[67592,67592],[67594,67637],[67639,67640],[67644,67644],[67647,67669],[67671,67679],[67840,67867],[67872,67897],[67903,67903],[67968,68023],[68030,68031],[68096,68096],[68112,68115],[68117,68119],[68121,68147],[68160,68167],[68176,68184],[68192,68223],[68352,68405],[68416,68437],[68440,68466],[68472,68479],[68608,68680],[126464,126467],[126469,126495],[126497,126498],[126500,126500],[126503,126503],[126505,126514],[126516,126519],[126521,126521],[126523,126523],[126530,126530],[126535,126535],[126537,126537],[126539,126539],[126541,126543],[126545,126546],[126548,126548],[126551,126551],[126553,126553],[126555,126555],[126557,126557],[126559,126559],[126561,126562],[126564,126564],[126567,126570],[126572,126578],[126580,126583],[126585,126588],[126590,126590],[126592,126601],[126603,126619],[126625,126627],[126629,126633],[126635,126651],[1114109,1114109]];function Ui(t){for(var e=0;e<Ri.length;e++){var i=Ri[e];if(t>=i[0]&&t<=i[1])return!0}return!1}function Fi(t){var e=[],i="";if(!t||!t.childNodes)return"ltr";function n(t,e){for(var i=e.childNodes.length-1;i>=0;i--)t.push(e.childNodes[i])}function s(t){if(!t||!t.length)return null;var e=t.pop(),i=e.textContent||e.innerText;if(i){var r=i.match(/^.*(\n|\r)/);return r?(t.length=0,r[0]):i}return"ruby"===e.tagName?s(t):e.childNodes?(n(t,e),s(t)):void 0}for(n(e,t);i=s(e);)for(var r=0;r<i.length;r++)if(Ui(i.charCodeAt(r)))return"rtl";return"ltr"}function ji(){}function Hi(t,e,i){ji.call(this),this.cue=e,this.cueDiv=Ni(t,e.text);var n={color:"rgba(255, 255, 255, 1)",backgroundColor:"rgba(0, 0, 0, 0.8)",position:"relative",left:0,right:0,top:0,bottom:0,display:"inline",writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext"};this.applyStyles(n,this.cueDiv),this.div=t.document.createElement("div"),n={direction:Fi(this.cueDiv),writingMode:""===e.vertical?"horizontal-tb":"lr"===e.vertical?"vertical-lr":"vertical-rl",unicodeBidi:"plaintext",textAlign:"middle"===e.align?"center":e.align,font:i.font,whiteSpace:"pre-line",position:"absolute"},this.applyStyles(n),this.div.appendChild(this.cueDiv);var s=0;switch(e.positionAlign){case"start":s=e.position;break;case"middle":s=e.position-e.size/2;break;case"end":s=e.position-e.size}""===e.vertical?this.applyStyles({left:this.formatStyle(s,"%"),width:this.formatStyle(e.size,"%")}):this.applyStyles({top:this.formatStyle(s,"%"),height:this.formatStyle(e.size,"%")}),this.move=function(t){this.applyStyles({top:this.formatStyle(t.top,"px"),bottom:this.formatStyle(t.bottom,"px"),left:this.formatStyle(t.left,"px"),right:this.formatStyle(t.right,"px"),height:this.formatStyle(t.height,"px"),width:this.formatStyle(t.width,"px")})}}function zi(t){var e,i,n,s;if(t.div){i=t.div.offsetHeight,n=t.div.offsetWidth,s=t.div.offsetTop;var r=(r=t.div.childNodes)&&(r=r[0])&&r.getClientRects&&r.getClientRects();t=t.div.getBoundingClientRect(),e=r?Math.max(r[0]&&r[0].height||0,t.height/r.length):0}this.left=t.left,this.right=t.right,this.top=t.top||s,this.height=t.height||i,this.bottom=t.bottom||s+(t.height||i),this.width=t.width||n,this.lineHeight=void 0!==e?e:t.lineHeight}function Bi(t,e,i,n){var s=new zi(e),r=e.cue,o=function(t){if("number"==typeof t.line&&(t.snapToLines||t.line>=0&&t.line<=100))return t.line;if(!t.track||!t.track.textTrackList||!t.track.textTrackList.mediaElement)return-1;for(var e=t.track,i=e.textTrackList,n=0,s=0;s<i.length&&i[s]!==e;s++)"showing"===i[s].mode&&n++;return-1*++n}(r),a=[];if(r.snapToLines){var l;switch(r.vertical){case"":a=["+y","-y"],l="height";break;case"rl":a=["+x","-x"],l="width";break;case"lr":a=["-x","+x"],l="width"}var u=s.lineHeight,c=u*Math.round(o),h=i[l]+u,d=a[0];Math.abs(c)>h&&(c=c<0?-1:1,c*=Math.ceil(h/u)*u),o<0&&(c+=""===r.vertical?i.height:i.width,a=a.reverse()),s.move(d,c)}else{var p=s.lineHeight/i.height*100;switch(r.lineAlign){case"middle":o-=p/2;break;case"end":o-=p}switch(r.vertical){case"":e.applyStyles({top:e.formatStyle(o,"%")});break;case"rl":e.applyStyles({left:e.formatStyle(o,"%")});break;case"lr":e.applyStyles({right:e.formatStyle(o,"%")})}a=["+y","-x","+x","-y"],s=new zi(e)}var f=function(t,e){for(var s,r=new zi(t),o=1,a=0;a<e.length;a++){for(;t.overlapsOppositeAxis(i,e[a])||t.within(i)&&t.overlapsAny(n);)t.move(e[a]);if(t.within(i))return t;var l=t.intersectPercentage(i);o>l&&(s=new zi(t),o=l),t=new zi(r)}return s||r}(s,a);e.move(f.toCSSCompatValues(i))}function Wi(){}ji.prototype.applyStyles=function(t,e){for(var i in e=e||this.div,t)t.hasOwnProperty(i)&&(e.style[i]=t[i])},ji.prototype.formatStyle=function(t,e){return 0===t?0:t+e},Hi.prototype=Ci(ji.prototype),Hi.prototype.constructor=Hi,zi.prototype.move=function(t,e){switch(e=void 0!==e?e:this.lineHeight,t){case"+x":this.left+=e,this.right+=e;break;case"-x":this.left-=e,this.right-=e;break;case"+y":this.top+=e,this.bottom+=e;break;case"-y":this.top-=e,this.bottom-=e}},zi.prototype.overlaps=function(t){return this.left<t.right&&this.right>t.left&&this.top<t.bottom&&this.bottom>t.top},zi.prototype.overlapsAny=function(t){for(var e=0;e<t.length;e++)if(this.overlaps(t[e]))return!0;return!1},zi.prototype.within=function(t){return this.top>=t.top&&this.bottom<=t.bottom&&this.left>=t.left&&this.right<=t.right},zi.prototype.overlapsOppositeAxis=function(t,e){switch(e){case"+x":return this.left<t.left;case"-x":return this.right>t.right;case"+y":return this.top<t.top;case"-y":return this.bottom>t.bottom}},zi.prototype.intersectPercentage=function(t){return Math.max(0,Math.min(this.right,t.right)-Math.max(this.left,t.left))*Math.max(0,Math.min(this.bottom,t.bottom)-Math.max(this.top,t.top))/(this.height*this.width)},zi.prototype.toCSSCompatValues=function(t){return{top:this.top-t.top,bottom:t.bottom-this.bottom,left:this.left-t.left,right:t.right-this.right,height:this.height,width:this.width}},zi.getSimpleBoxPosition=function(t){var e=t.div?t.div.offsetHeight:t.tagName?t.offsetHeight:0,i=t.div?t.div.offsetWidth:t.tagName?t.offsetWidth:0,n=t.div?t.div.offsetTop:t.tagName?t.offsetTop:0;return{left:(t=t.div?t.div.getBoundingClientRect():t.tagName?t.getBoundingClientRect():t).left,right:t.right,top:t.top||n,height:t.height||e,bottom:t.bottom||n+(t.height||e),width:t.width||i}},Wi.StringDecoder=function(){return{decode:function(t){if(!t)return"";if("string"!=typeof t)throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(t))}}},Wi.convertCueToDOMTree=function(t,e){return t&&e?Ni(t,e):null};Wi.processCues=function(t,e,i){if(!t||!e||!i)return null;for(;i.firstChild;)i.removeChild(i.firstChild);var n=t.document.createElement("div");if(n.style.position="absolute",n.style.left="0",n.style.right="0",n.style.top="0",n.style.bottom="0",n.style.margin="1.5%",i.appendChild(n),function(t){for(var e=0;e<t.length;e++)if(t[e].hasBeenReset||!t[e].displayState)return!0;return!1}(e)){var s=[],r=zi.getSimpleBoxPosition(n),o={font:Math.round(.05*r.height*100)/100+"px sans-serif"};!function(){for(var i,a,l=0;l<e.length;l++)a=e[l],i=new Hi(t,a,o),n.appendChild(i.div),Bi(0,i,r,s),a.displayState=i.div,s.push(zi.getSimpleBoxPosition(i))}()}else for(var a=0;a<e.length;a++)n.appendChild(e[a].displayState)},Wi.Parser=function(t,e,i){i||(i=e,e={}),e||(e={}),this.window=t,this.vttjs=e,this.state="INITIAL",this.buffer="",this.decoder=i||new TextDecoder("utf8"),this.regionList=[]},Wi.Parser.prototype={reportOrThrowError:function(t){if(!(t instanceof xi))throw t;this.onparsingerror&&this.onparsingerror(t)},parse:function(t){var e=this;function i(){for(var t=e.buffer,i=0;i<t.length&&"\r"!==t[i]&&"\n"!==t[i];)++i;var n=t.substr(0,i);return"\r"===t[i]&&++i,"\n"===t[i]&&++i,e.buffer=t.substr(i),n}function n(t){t.match(/X-TIMESTAMP-MAP/)?Ai(t,function(t,i){switch(t){case"X-TIMESTAMP-MAP":n=i,s=new Di,Ai(n,function(t,e){switch(t){case"MPEGT":s.integer(t+"S",e);break;case"LOCA":s.set(t+"L",Ei(e))}},/[^\d]:/,/,/),e.ontimestampmap&&e.ontimestampmap({MPEGTS:s.get("MPEGTS"),LOCAL:s.get("LOCAL")})}var n,s},/=/):Ai(t,function(t,i){switch(t){case"Region":!function(t){var i=new Di;if(Ai(t,function(t,e){switch(t){case"id":i.set(t,e);break;case"width":i.percent(t,e);break;case"lines":i.integer(t,e);break;case"regionanchor":case"viewportanchor":var n=e.split(",");if(2!==n.length)break;var s=new Di;if(s.percent("x",n[0]),s.percent("y",n[1]),!s.has("x")||!s.has("y"))break;i.set(t+"X",s.get("x")),i.set(t+"Y",s.get("y"));break;case"scroll":i.alt(t,e,["up"])}},/=/,/\s/),i.has("id")){var n=new(e.vttjs.VTTRegion||e.window.VTTRegion);n.width=i.get("width",100),n.lines=i.get("lines",3),n.regionAnchorX=i.get("regionanchorX",0),n.regionAnchorY=i.get("regionanchorY",100),n.viewportAnchorX=i.get("viewportanchorX",0),n.viewportAnchorY=i.get("viewportanchorY",100),n.scroll=i.get("scroll",""),e.onregion&&e.onregion(n),e.regionList.push({id:i.get("id"),region:n})}}(i)}},/:/)}t&&(e.buffer+=e.decoder.decode(t,{stream:!0}));try{var s;if("INITIAL"===e.state){if(!/\r\n|\n/.test(e.buffer))return this;var r=(s=i()).match(/^WEBVTT([ \t].*)?$/);if(!r||!r[0])throw new xi(xi.Errors.BadSignature);e.state="HEADER"}for(var o=!1;e.buffer;){if(!/\r\n|\n/.test(e.buffer))return this;switch(o?o=!1:s=i(),e.state){case"HEADER":/:/.test(s)?n(s):s||(e.state="ID");continue;case"NOTE":s||(e.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){e.state="NOTE";break}if(!s)continue;if(e.cue=new(e.vttjs.VTTCue||e.window.VTTCue)(0,0,""),e.state="CUE",-1===s.indexOf("--\x3e")){e.cue.id=s;continue}case"CUE":try{Pi(s,e.cue,e.regionList)}catch(t){e.reportOrThrowError(t),e.cue=null,e.state="BADCUE";continue}e.state="CUETEXT";continue;case"CUETEXT":var a=-1!==s.indexOf("--\x3e");if(!s||a&&(o=!0)){e.oncue&&e.oncue(e.cue),e.cue=null,e.state="ID";continue}e.cue.text&&(e.cue.text+="\n"),e.cue.text+=s;continue;case"BADCUE":s||(e.state="ID");continue}}}catch(t){e.reportOrThrowError(t),"CUETEXT"===e.state&&e.cue&&e.oncue&&e.oncue(e.cue),e.cue=null,e.state="INITIAL"===e.state?"BADWEBVTT":"BADCUE"}return this},flush:function(){try{if(this.buffer+=this.decoder.decode(),(this.cue||"HEADER"===this.state)&&(this.buffer+="\n\n",this.parse()),"INITIAL"===this.state)throw new xi(xi.Errors.BadSignature)}catch(t){this.reportOrThrowError(t)}return this.onflush&&this.onflush(),this}};var Yi=Wi,Vi="auto",qi={"":1,lr:1,rl:1},$i={start:1,middle:1,end:1,left:1,right:1};function Gi(t){return"string"==typeof t&&(!!$i[t.toLowerCase()]&&t.toLowerCase())}function Xi(t,e,i){this.hasBeenReset=!1;var n="",s=!1,r=t,o=e,a=i,l=null,u="",c=!0,h="auto",d="start",p=50,f="middle",m=50,g="middle";Object.defineProperties(this,{id:{enumerable:!0,get:function(){return n},set:function(t){n=""+t}},pauseOnExit:{enumerable:!0,get:function(){return s},set:function(t){s=!!t}},startTime:{enumerable:!0,get:function(){return r},set:function(t){if("number"!=typeof t)throw new TypeError("Start time must be set to a number.");r=t,this.hasBeenReset=!0}},endTime:{enumerable:!0,get:function(){return o},set:function(t){if("number"!=typeof t)throw new TypeError("End time must be set to a number.");o=t,this.hasBeenReset=!0}},text:{enumerable:!0,get:function(){return a},set:function(t){a=""+t,this.hasBeenReset=!0}},region:{enumerable:!0,get:function(){return l},set:function(t){l=t,this.hasBeenReset=!0}},vertical:{enumerable:!0,get:function(){return u},set:function(t){var e=function(t){return"string"==typeof t&&!!qi[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");u=e,this.hasBeenReset=!0}},snapToLines:{enumerable:!0,get:function(){return c},set:function(t){c=!!t,this.hasBeenReset=!0}},line:{enumerable:!0,get:function(){return h},set:function(t){if("number"!=typeof t&&t!==Vi)throw new SyntaxError("An invalid number or illegal string was specified.");h=t,this.hasBeenReset=!0}},lineAlign:{enumerable:!0,get:function(){return d},set:function(t){var e=Gi(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");d=e,this.hasBeenReset=!0}},position:{enumerable:!0,get:function(){return p},set:function(t){if(t<0||t>100)throw new Error("Position must be between 0 and 100.");p=t,this.hasBeenReset=!0}},positionAlign:{enumerable:!0,get:function(){return f},set:function(t){var e=Gi(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");f=e,this.hasBeenReset=!0}},size:{enumerable:!0,get:function(){return m},set:function(t){if(t<0||t>100)throw new Error("Size must be between 0 and 100.");m=t,this.hasBeenReset=!0}},align:{enumerable:!0,get:function(){return g},set:function(t){var e=Gi(t);if(!e)throw new SyntaxError("An invalid or illegal string was specified.");g=e,this.hasBeenReset=!0}}}),this.displayState=void 0}Xi.prototype.getCueAsHTML=function(){return WebVTT.convertCueToDOMTree(window,this.text)};var Ki=Xi,Zi={"":!0,up:!0};function Qi(t){return"number"==typeof t&&t>=0&&t<=100}var Ji=function(){var t=100,e=3,i=0,n=100,s=0,r=100,o="";Object.defineProperties(this,{width:{enumerable:!0,get:function(){return t},set:function(e){if(!Qi(e))throw new Error("Width must be between 0 and 100.");t=e}},lines:{enumerable:!0,get:function(){return e},set:function(t){if("number"!=typeof t)throw new TypeError("Lines must be set to a number.");e=t}},regionAnchorY:{enumerable:!0,get:function(){return n},set:function(t){if(!Qi(t))throw new Error("RegionAnchorX must be between 0 and 100.");n=t}},regionAnchorX:{enumerable:!0,get:function(){return i},set:function(t){if(!Qi(t))throw new Error("RegionAnchorY must be between 0 and 100.");i=t}},viewportAnchorY:{enumerable:!0,get:function(){return r},set:function(t){if(!Qi(t))throw new Error("ViewportAnchorY must be between 0 and 100.");r=t}},viewportAnchorX:{enumerable:!0,get:function(){return s},set:function(t){if(!Qi(t))throw new Error("ViewportAnchorX must be between 0 and 100.");s=t}},scroll:{enumerable:!0,get:function(){return o},set:function(t){var e=function(t){return"string"==typeof t&&!!Zi[t.toLowerCase()]&&t.toLowerCase()}(t);if(!1===e)throw new SyntaxError("An invalid or illegal string was specified.");o=e}}})},tn=Ke(function(t){var i=t.exports={WebVTT:Yi,VTTCue:Ki,VTTRegion:Ji};e.vttjs=i,e.WebVTT=i.WebVTT;var n=i.VTTCue,s=i.VTTRegion,r=e.VTTCue,o=e.VTTRegion;i.shim=function(){e.VTTCue=n,e.VTTRegion=s},i.restore=function(){e.VTTCue=r,e.VTTRegion=o},e.VTTCue||i.shim()});tn.WebVTT,tn.VTTCue,tn.VTTRegion;var en=function(i){function s(t,e){var n;return void 0===t&&(t={}),void 0===e&&(e=function(){}),t.reportTouchActivity=!1,(n=i.call(this,null,t,e)||this).hasStarted_=!1,n.on("playing",function(){this.hasStarted_=!0}),n.on("loadstart",function(){this.hasStarted_=!1}),Si.names.forEach(function(e){var i=Si[e];t&&t[i.getterName]&&(n[i.privateName]=t[i.getterName])}),n.featuresProgressEvents||n.manualProgressOn(),n.featuresTimeupdateEvents||n.manualTimeUpdatesOn(),["Text","Audio","Video"].forEach(function(e){!1===t["native"+e+"Tracks"]&&(n["featuresNative"+e+"Tracks"]=!1)}),!1===t.nativeCaptions||!1===t.nativeTextTracks?n.featuresNativeTextTracks=!1:!0!==t.nativeCaptions&&!0!==t.nativeTextTracks||(n.featuresNativeTextTracks=!0),n.featuresNativeTextTracks||n.emulateTextTracks(),n.autoRemoteTextTracks_=new Si.text.ListClass,n.initTrackListeners(),t.nativeControlsForTouch||n.emitTapEvents(),n.constructor&&(n.name_=n.constructor.name||"Unknown Tech"),n}n(s,i);var r=s.prototype;return r.triggerSourceset=function(t){var e=this;this.isReady_||this.one("ready",function(){return e.setTimeout(function(){return e.triggerSourceset(t)},1)}),this.trigger({src:t,type:"sourceset"})},r.manualProgressOn=function(){this.on("durationchange",this.onDurationChange),this.manualProgress=!0,this.one("ready",this.trackProgress)},r.manualProgressOff=function(){this.manualProgress=!1,this.stopTrackingProgress(),this.off("durationchange",this.onDurationChange)},r.trackProgress=function(t){this.stopTrackingProgress(),this.progressInterval=this.setInterval(St(this,function(){var t=this.bufferedPercent();this.bufferedPercent_!==t&&this.trigger("progress"),this.bufferedPercent_=t,1===t&&this.stopTrackingProgress()}),500)},r.onDurationChange=function(t){this.duration_=this.duration()},r.buffered=function(){return he(0,0)},r.bufferedPercent=function(){return de(this.buffered(),this.duration_)},r.stopTrackingProgress=function(){this.clearInterval(this.progressInterval)},r.manualTimeUpdatesOn=function(){this.manualTimeUpdates=!0,this.on("play",this.trackCurrentTime),this.on("pause",this.stopTrackingCurrentTime)},r.manualTimeUpdatesOff=function(){this.manualTimeUpdates=!1,this.stopTrackingCurrentTime(),this.off("play",this.trackCurrentTime),this.off("pause",this.stopTrackingCurrentTime)},r.trackCurrentTime=function(){this.currentTimeInterval&&this.stopTrackingCurrentTime(),this.currentTimeInterval=this.setInterval(function(){this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},250)},r.stopTrackingCurrentTime=function(){this.clearInterval(this.currentTimeInterval),this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.dispose=function(){this.clearTracks(Ti.names),this.manualProgress&&this.manualProgressOff(),this.manualTimeUpdates&&this.manualTimeUpdatesOff(),i.prototype.dispose.call(this)},r.clearTracks=function(t){var e=this;(t=[].concat(t)).forEach(function(t){for(var i=e[t+"Tracks"]()||[],n=i.length;n--;){var s=i[n];"text"===t&&e.removeRemoteTextTrack(s),i.removeTrack(s)}})},r.cleanupAutoTextTracks=function(){for(var t=this.autoRemoteTextTracks_||[],e=t.length;e--;){var i=t[e];this.removeRemoteTextTrack(i)}},r.reset=function(){},r.error=function(t){return void 0!==t&&(this.error_=new _e(t),this.trigger("error")),this.error_},r.played=function(){return this.hasStarted_?he(0,0):he()},r.setCurrentTime=function(){this.manualTimeUpdates&&this.trigger({type:"timeupdate",target:this,manuallyTriggered:!0})},r.initTrackListeners=function(){var t=this;Ti.names.forEach(function(e){var i=Ti[e],n=function(){t.trigger(e+"trackchange")},s=t[i.getterName]();s.addEventListener("removetrack",n),s.addEventListener("addtrack",n),t.on("dispose",function(){s.removeEventListener("removetrack",n),s.removeEventListener("addtrack",n)})})},r.addWebVttScript_=function(){var i=this;if(!e.WebVTT)if(t.body.contains(this.el())){if(!this.options_["vtt.js"]&&_(tn)&&Object.keys(tn).length>0)return void this.trigger("vttjsloaded");var n=t.createElement("script");n.src=this.options_["vtt.js"]||"https://vjs.zencdn.net/vttjs/0.14.1/vtt.min.js",n.onload=function(){i.trigger("vttjsloaded")},n.onerror=function(){i.trigger("vttjserror")},this.on("dispose",function(){n.onload=null,n.onerror=null}),e.WebVTT=!0,this.el().parentNode.appendChild(n)}else this.ready(this.addWebVttScript_)},r.emulateTextTracks=function(){var t=this,e=this.textTracks(),i=this.remoteTextTracks(),n=function(t){return e.addTrack(t.track)},s=function(t){return e.removeTrack(t.track)};i.on("addtrack",n),i.on("removetrack",s),this.addWebVttScript_();var r=function(){return t.trigger("texttrackchange")},o=function(){r();for(var t=0;t<e.length;t++){var i=e[t];i.removeEventListener("cuechange",r),"showing"===i.mode&&i.addEventListener("cuechange",r)}};o(),e.addEventListener("change",o),e.addEventListener("addtrack",o),e.addEventListener("removetrack",o),this.on("dispose",function(){i.off("addtrack",n),i.off("removetrack",s),e.removeEventListener("change",o),e.removeEventListener("addtrack",o),e.removeEventListener("removetrack",o);for(var t=0;t<e.length;t++){e[t].removeEventListener("cuechange",r)}})},r.addTextTrack=function(t,e,i){if(!t)throw new Error("TextTrack kind is required but was not provided");return function(t,e,i,n,s){void 0===s&&(s={});var r=t.textTracks();s.kind=e,i&&(s.label=i),n&&(s.language=n),s.tech=t;var o=new Si.text.TrackClass(s);return r.addTrack(o),o}(this,t,e,i)},r.createRemoteTextTrack=function(t){var e=Ht(t,{tech:this});return new ki.remoteTextEl.TrackClass(e)},r.addRemoteTextTrack=function(t,e){var i=this;void 0===t&&(t={});var n=this.createRemoteTextTrack(t);return!0!==e&&!1!==e&&(c.warn('Calling addRemoteTextTrack without explicitly setting the "manualCleanup" parameter to `true` is deprecated and default to `false` in future version of video.js'),e=!0),this.remoteTextTrackEls().addTrackElement_(n),this.remoteTextTracks().addTrack(n.track),!0!==e&&this.ready(function(){return i.autoRemoteTextTracks_.addTrack(n.track)}),n},r.removeRemoteTextTrack=function(t){var e=this.remoteTextTrackEls().getTrackElementByTrack_(t);this.remoteTextTrackEls().removeTrackElement_(e),this.remoteTextTracks().removeTrack(t),this.autoRemoteTextTracks_.removeTrack(t)},r.getVideoPlaybackQuality=function(){return{}},r.setPoster=function(){},r.playsinline=function(){},r.setPlaysinline=function(){},r.overrideNativeAudioTracks=function(){},r.overrideNativeVideoTracks=function(){},r.canPlayType=function(){return""},s.canPlayType=function(){return""},s.canPlaySource=function(t,e){return s.canPlayType(t.type)},s.isTech=function(t){return t.prototype instanceof s||t instanceof s||t===s},s.registerTech=function(t,e){if(s.techs_||(s.techs_={}),!s.isTech(e))throw new Error("Tech "+t+" must be a Tech");if(!s.canPlayType)throw new Error("Techs must have a static canPlayType method on them");if(!s.canPlaySource)throw new Error("Techs must have a static canPlaySource method on them");return t=jt(t),s.techs_[t]=e,"Tech"!==t&&s.defaultTechOrder_.push(t),e},s.getTech=function(t){if(t)return t=jt(t),s.techs_&&s.techs_[t]?s.techs_[t]:e&&e.videojs&&e.videojs[t]?(c.warn("The "+t+" tech was added to the videojs object when it should be registered using videojs.registerTech(name, tech)"),e.videojs[t]):void 0},s}(zt);Si.names.forEach(function(t){var e=Si[t];en.prototype[e.getterName]=function(){return this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName]}}),en.prototype.featuresVolumeControl=!0,en.prototype.featuresMuteControl=!0,en.prototype.featuresFullscreenResize=!1,en.prototype.featuresPlaybackRate=!1,en.prototype.featuresProgressEvents=!1,en.prototype.featuresSourceset=!1,en.prototype.featuresTimeupdateEvents=!1,en.prototype.featuresNativeTextTracks=!1,en.withSourceHandlers=function(t){t.registerSourceHandler=function(e,i){var n=t.sourceHandlers;n||(n=t.sourceHandlers=[]),void 0===i&&(i=n.length),n.splice(i,0,e)},t.canPlayType=function(e){for(var i,n=t.sourceHandlers||[],s=0;s<n.length;s++)if(i=n[s].canPlayType(e))return i;return""},t.selectSourceHandler=function(e,i){for(var n=t.sourceHandlers||[],s=0;s<n.length;s++)if(n[s].canHandleSource(e,i))return n[s];return null},t.canPlaySource=function(e,i){var n=t.selectSourceHandler(e,i);return n?n.canHandleSource(e,i):""};["seekable","seeking","duration"].forEach(function(t){var e=this[t];"function"==typeof e&&(this[t]=function(){return this.sourceHandler_&&this.sourceHandler_[t]?this.sourceHandler_[t].apply(this.sourceHandler_,arguments):e.apply(this,arguments)})},t.prototype),t.prototype.setSource=function(e){var i=t.selectSourceHandler(e,this.options_);i||(t.nativeSourceHandler?i=t.nativeSourceHandler:c.error("No source handler found for the current source.")),this.disposeSourceHandler(),this.off("dispose",this.disposeSourceHandler),i!==t.nativeSourceHandler&&(this.currentSource_=e),this.sourceHandler_=i.handleSource(e,this,this.options_),this.on("dispose",this.disposeSourceHandler)},t.prototype.disposeSourceHandler=function(){this.currentSource_&&(this.clearTracks(["audio","video"]),this.currentSource_=null),this.cleanupAutoTextTracks(),this.sourceHandler_&&(this.sourceHandler_.dispose&&this.sourceHandler_.dispose(),this.sourceHandler_=null)}},zt.registerComponent("Tech",en),en.registerTech("Tech",en),en.defaultTechOrder_=[];var nn={},sn={},rn={};function on(t,e,i){t.setTimeout(function(){return function t(e,i,n,s,r,o){void 0===e&&(e={});void 0===i&&(i=[]);void 0===r&&(r=[]);void 0===o&&(o=!1);var a=i,l=a[0],u=a.slice(1);if("string"==typeof l)t(e,nn[l],n,s,r,o);else if(l){var c=function(t,e){var i=sn[t.id()],n=null;if(null==i)return n=e(t),sn[t.id()]=[[e,n]],n;for(var s=0;s<i.length;s++){var r=i[s],o=r[0],a=r[1];o===e&&(n=a)}null===n&&(n=e(t),i.push([e,n]));return n}(s,l);if(!c.setSource)return r.push(c),t(e,u,n,s,r,o);c.setSource(v({},e),function(i,a){if(i)return t(e,u,n,s,r,o);r.push(c),t(a,e.type===a.type?u:nn[a.type],n,s,r,o)})}else u.length?t(e,u,n,s,r,o):o?n(e,r):t(e,nn["*"],n,s,r,!0)}(e,nn[e.type],i,t)},1)}function an(t,e,i,n){void 0===n&&(n=null);var s="call"+jt(i),r=t.reduce(hn(s),n),o=r===rn,a=o?null:e[i](r);return function(t,e,i,n){for(var s=t.length-1;s>=0;s--){var r=t[s];r[e]&&r[e](n,i)}}(t,i,a,o),a}var ln={buffered:1,currentTime:1,duration:1,seekable:1,played:1,paused:1},un={setCurrentTime:1},cn={play:1,pause:1};function hn(t){return function(e,i){return e===rn?rn:i[t]?i[t](e):e}}var dn={opus:"video/ogg",ogv:"video/ogg",mp4:"video/mp4",mov:"video/mp4",m4v:"video/mp4",mkv:"video/x-matroska",mp3:"audio/mpeg",aac:"audio/aac",oga:"audio/ogg",m3u8:"application/x-mpegURL"},pn=function(t){void 0===t&&(t="");var e=Ve(t);return dn[e.toLowerCase()]||""};function fn(t){var e=pn(t.src);return!t.type&&e&&(t.type=e),t}var mn=function(t){function e(e,i,n){var s,r=Ht({createEl:!1},i);if(s=t.call(this,e,r,n)||this,i.playerOptions.sources&&0!==i.playerOptions.sources.length)e.src(i.playerOptions.sources);else for(var o=0,a=i.playerOptions.techOrder;o<a.length;o++){var l=jt(a[o]),u=en.getTech(l);if(l||(u=zt.getComponent(l)),u&&u.isSupported()){e.loadTech_(l);break}}return s}return n(e,t),e}(zt);zt.registerComponent("MediaLoader",mn);var gn=function(e){function i(t,i){var n;return(n=e.call(this,t,i)||this).emitTapEvents(),n.enable(),n}n(i,e);var s=i.prototype;return s.createEl=function(t,i,n){void 0===t&&(t="div"),void 0===i&&(i={}),void 0===n&&(n={}),i=v({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass(),tabIndex:0},i),"button"===t&&c.error("Creating a ClickableComponent with an HTML element of "+t+" is not supported; use a Button instead."),n=v({role:"button"},n),this.tabIndex_=i.tabIndex;var s=e.prototype.createEl.call(this,t,i,n);return this.createControlTextEl(s),s},s.dispose=function(){this.controlTextEl_=null,e.prototype.dispose.call(this)},s.createControlTextEl=function(t){return this.controlTextEl_=D("span",{className:"vjs-control-text"},{"aria-live":"polite"}),t&&t.appendChild(this.controlTextEl_),this.controlText(this.controlText_,t),this.controlTextEl_},s.controlText=function(t,e){if(void 0===e&&(e=this.el()),void 0===t)return this.controlText_||"Need Text";var i=this.localize(t);this.controlText_=t,A(this.controlTextEl_,i),this.nonIconControl||e.setAttribute("title",i)},s.buildCSSClass=function(){return"vjs-control vjs-button "+e.prototype.buildCSSClass.call(this)},s.enable=function(){this.enabled_||(this.enabled_=!0,this.removeClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","false"),void 0!==this.tabIndex_&&this.el_.setAttribute("tabIndex",this.tabIndex_),this.on(["tap","click"],this.handleClick),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur))},s.disable=function(){this.enabled_=!1,this.addClass("vjs-disabled"),this.el_.setAttribute("aria-disabled","true"),void 0!==this.tabIndex_&&this.el_.removeAttribute("tabIndex"),this.off(["tap","click"],this.handleClick),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur)},s.handleClick=function(t){},s.handleFocus=function(e){dt(t,"keydown",St(this,this.handleKeyPress))},s.handleKeyPress=function(t){32===t.which||13===t.which?(t.preventDefault(),this.trigger("click")):e.prototype.handleKeyPress&&e.prototype.handleKeyPress.call(this,t)},s.handleBlur=function(e){pt(t,"keydown",St(this,this.handleKeyPress))},i}(zt);zt.registerComponent("ClickableComponent",gn);var vn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update(),e.on("posterchange",St(o(o(n)),n.update)),n}n(e,t);var i=e.prototype;return i.dispose=function(){this.player().off("posterchange",this.update),t.prototype.dispose.call(this)},i.createEl=function(){return D("div",{className:"vjs-poster",tabIndex:-1})},i.update=function(t){var e=this.player().poster();this.setSrc(e),e?this.show():this.hide()},i.setSrc=function(t){var e="";t&&(e='url("'+t+'")'),this.el_.style.backgroundImage=e},i.handleClick=function(t){this.player_.controls()&&(this.player_.paused()?ke(this.player_.play()):this.player_.pause())},e}(gn);zt.registerComponent("PosterImage",vn);var yn={monospace:"monospace",sansSerif:"sans-serif",serif:"serif",monospaceSansSerif:'"Andale Mono", "Lucida Console", monospace',monospaceSerif:'"Courier New", monospace',proportionalSansSerif:"sans-serif",proportionalSerif:"serif",casual:'"Comic Sans MS", Impact, fantasy',script:'"Monotype Corsiva", cursive',smallcaps:'"Andale Mono", "Lucida Console", monospace, sans-serif'};function _n(t,e){var i;if(4===t.length)i=t[1]+t[1]+t[2]+t[2]+t[3]+t[3];else{if(7!==t.length)throw new Error("Invalid color code provided, "+t+"; must be formatted as e.g. #f0e or #f604e2.");i=t.slice(1)}return"rgba("+parseInt(i.slice(0,2),16)+","+parseInt(i.slice(2,4),16)+","+parseInt(i.slice(4,6),16)+","+e+")"}function bn(t,e,i){try{t.style[e]=i}catch(t){return}}var wn=function(t){function i(i,n,s){var r;r=t.call(this,i,n,s)||this;var a=St(o(o(r)),r.updateDisplay);return i.on("loadstart",St(o(o(r)),r.toggleDisplay)),i.on("texttrackchange",a),i.on("loadedmetadata",St(o(o(r)),r.preselectTrack)),i.ready(St(o(o(r)),function(){if(i.tech_&&i.tech_.featuresNativeTextTracks)this.hide();else{i.on("fullscreenchange",a),i.on("playerresize",a),e.addEventListener("orientationchange",a),i.on("dispose",function(){return e.removeEventListener("orientationchange",a)});for(var t=this.options_.playerOptions.tracks||[],n=0;n<t.length;n++)this.player_.addRemoteTextTrack(t[n],!0);this.preselectTrack()}})),r}n(i,t);var s=i.prototype;return s.preselectTrack=function(){for(var t,e,i,n={captions:1,subtitles:1},s=this.player_.textTracks(),r=this.player_.cache_.selectedLanguage,o=0;o<s.length;o++){var a=s[o];r&&r.enabled&&r.language&&r.language===a.language&&a.kind in n?a.kind===r.kind?i=a:i||(i=a):r&&!r.enabled?(i=null,t=null,e=null):a.default&&("descriptions"!==a.kind||t?a.kind in n&&!e&&(e=a):t=a)}i?i.mode="showing":e?e.mode="showing":t&&(t.mode="showing")},s.toggleDisplay=function(){this.player_.tech_&&this.player_.tech_.featuresNativeTextTracks?this.hide():this.show()},s.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-text-track-display"},{"aria-live":"off","aria-atomic":"true"})},s.clearDisplay=function(){"function"==typeof e.WebVTT&&e.WebVTT.processCues(e,[],this.el_)},s.updateDisplay=function(){var t=this.player_.textTracks();this.clearDisplay();for(var e=null,i=null,n=t.length;n--;){var s=t[n];"showing"===s.mode&&("descriptions"===s.kind?e=s:i=s)}i?("off"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","off"),this.updateForTrack(i)):e&&("assertive"!==this.getAttribute("aria-live")&&this.setAttribute("aria-live","assertive"),this.updateForTrack(e))},s.updateForTrack=function(t){if("function"==typeof e.WebVTT&&t.activeCues){for(var i=[],n=0;n<t.activeCues.length;n++)i.push(t.activeCues[n]);if(e.WebVTT.processCues(e,i,this.el_),this.player_.textTrackSettings)for(var s=this.player_.textTrackSettings.getValues(),r=i.length;r--;){var o=i[r];if(o){var a=o.displayState;if(s.color&&(a.firstChild.style.color=s.color),s.textOpacity&&bn(a.firstChild,"color",_n(s.color||"#fff",s.textOpacity)),s.backgroundColor&&(a.firstChild.style.backgroundColor=s.backgroundColor),s.backgroundOpacity&&bn(a.firstChild,"backgroundColor",_n(s.backgroundColor||"#000",s.backgroundOpacity)),s.windowColor&&(s.windowOpacity?bn(a,"backgroundColor",_n(s.windowColor,s.windowOpacity)):a.style.backgroundColor=s.windowColor),s.edgeStyle&&("dropshadow"===s.edgeStyle?a.firstChild.style.textShadow="2px 2px 3px #222, 2px 2px 4px #222, 2px 2px 5px #222":"raised"===s.edgeStyle?a.firstChild.style.textShadow="1px 1px #222, 2px 2px #222, 3px 3px #222":"depressed"===s.edgeStyle?a.firstChild.style.textShadow="1px 1px #ccc, 0 1px #ccc, -1px -1px #222, 0 -1px #222":"uniform"===s.edgeStyle&&(a.firstChild.style.textShadow="0 0 4px #222, 0 0 4px #222, 0 0 4px #222, 0 0 4px #222")),s.fontPercent&&1!==s.fontPercent){var l=e.parseFloat(a.style.fontSize);a.style.fontSize=l*s.fontPercent+"px",a.style.height="auto",a.style.top="auto",a.style.bottom="2px"}s.fontFamily&&"default"!==s.fontFamily&&("small-caps"===s.fontFamily?a.firstChild.style.fontVariant="small-caps":a.firstChild.style.fontFamily=yn[s.fontFamily])}}}},i}(zt);zt.registerComponent("TextTrackDisplay",wn);var Tn=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.createEl=function(){var e=this.player_.isAudio(),i=this.localize(e?"Audio Player":"Video Player"),n=D("span",{className:"vjs-control-text",innerHTML:this.localize("{1} is loading.",[i])}),s=t.prototype.createEl.call(this,"div",{className:"vjs-loading-spinner",dir:"ltr"});return s.appendChild(n),s},e}(zt);zt.registerComponent("LoadingSpinner",Tn);var kn=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.createEl=function(t,e,i){void 0===e&&(e={}),void 0===i&&(i={}),e=v({innerHTML:'<span aria-hidden="true" class="vjs-icon-placeholder"></span>',className:this.buildCSSClass()},e),i=v({type:"button"},i);var n=zt.prototype.createEl.call(this,"button",e,i);return this.createControlTextEl(n),n},i.addChild=function(t,e){void 0===e&&(e={});var i=this.constructor.name;return c.warn("Adding an actionable (user controllable) child to a Button ("+i+") is not supported; use a ClickableComponent instead."),zt.prototype.addChild.call(this,t,e)},i.enable=function(){t.prototype.enable.call(this),this.el_.removeAttribute("disabled")},i.disable=function(){t.prototype.disable.call(this),this.el_.setAttribute("disabled","disabled")},i.handleKeyPress=function(e){32!==e.which&&13!==e.which&&t.prototype.handleKeyPress.call(this,e)},e}(gn);zt.registerComponent("Button",kn);var Sn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).mouseused_=!1,n.on("mousedown",n.handleMouseDown),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-big-play-button"},i.handleClick=function(t){var e=this.player_.play();if(this.mouseused_&&t.clientX&&t.clientY)ke(e);else{var i=this.player_.getChild("controlBar"),n=i&&i.getChild("playToggle");if(n){var s=function(){return n.focus()};Te(e)?e.then(s,function(){}):this.setTimeout(s,1)}else this.player_.focus()}},i.handleKeyPress=function(e){this.mouseused_=!1,t.prototype.handleKeyPress.call(this,e)},i.handleMouseDown=function(t){this.mouseused_=!0},e}(kn);Sn.prototype.controlText_="Play Video",zt.registerComponent("BigPlayButton",Sn);var Cn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).controlText(i&&i.controlText||n.localize("Close")),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-close-button "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.trigger({type:"close",bubbles:!1})},e}(kn);zt.registerComponent("CloseButton",Cn);var xn=function(t){function e(e,i){var n;return void 0===i&&(i={}),n=t.call(this,e,i)||this,i.replay=void 0===i.replay||i.replay,n.on(e,"play",n.handlePlay),n.on(e,"pause",n.handlePause),i.replay&&n.on(e,"ended",n.handleEnded),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-play-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleSeeked=function(t){this.removeClass("vjs-ended"),this.player_.paused()?this.handlePause(t):this.handlePlay(t)},i.handlePlay=function(t){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.controlText("Pause")},i.handlePause=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.controlText("Play")},i.handleEnded=function(t){this.removeClass("vjs-playing"),this.addClass("vjs-ended"),this.controlText("Replay"),this.one(this.player_,"seeked",this.handleSeeked)},e}(kn);xn.prototype.controlText_="Play",zt.registerComponent("PlayToggle",xn);var En=function(t,e){t=t<0?0:t;var i=Math.floor(t%60),n=Math.floor(t/60%60),s=Math.floor(t/3600),r=Math.floor(e/60%60),o=Math.floor(e/3600);return(isNaN(t)||t===1/0)&&(s=n=i="-"),(s=s>0||o>0?s+":":"")+(n=((s||r>=10)&&n<10?"0"+n:n)+":")+(i=i<10?"0"+i:i)},Dn=En;function An(t,e){return void 0===e&&(e=t),Dn(t,e)}var Pn=function(e){function i(t,i){var n;return(n=e.call(this,t,i)||this).throttledUpdateContent=Ct(St(o(o(n)),n.updateContent),25),n.on(t,"timeupdate",n.throttledUpdateContent),n}n(i,e);var s=i.prototype;return s.createEl=function(t){var i=this.buildCSSClass(),n=e.prototype.createEl.call(this,"div",{className:i+" vjs-time-control vjs-control",innerHTML:'<span class="vjs-control-text" role="presentation">'+this.localize(this.labelText_)+"Â </span>"});return this.contentEl_=D("span",{className:i+"-display"},{"aria-live":"off",role:"presentation"}),this.updateTextNode_(),n.appendChild(this.contentEl_),n},s.dispose=function(){this.contentEl_=null,this.textNode_=null,e.prototype.dispose.call(this)},s.updateTextNode_=function(){if(this.contentEl_){for(;this.contentEl_.firstChild;)this.contentEl_.removeChild(this.contentEl_.firstChild);this.textNode_=t.createTextNode(this.formattedTime_||this.formatTime_(0)),this.contentEl_.appendChild(this.textNode_)}},s.formatTime_=function(t){return An(t)},s.updateFormattedTime_=function(t){var e=this.formatTime_(t);e!==this.formattedTime_&&(this.formattedTime_=e,this.requestAnimationFrame(this.updateTextNode_))},s.updateContent=function(t){},i}(zt);Pn.prototype.labelText_="Time",Pn.prototype.controlText_="Time",zt.registerComponent("TimeDisplay",Pn);var In=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"ended",n.handleEnded),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-current-time"},i.updateContent=function(t){var e=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();this.updateFormattedTime_(e)},i.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(this.player_.duration())},e}(Pn);In.prototype.labelText_="Current Time",In.prototype.controlText_="Current Time",zt.registerComponent("CurrentTimeDisplay",In);var On=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.updateContent),n.on(e,"loadstart",n.updateContent),n.on(e,"loadedmetadata",n.throttledUpdateContent),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-duration"},i.updateContent=function(t){var e=this.player_.duration();this.duration_!==e&&(this.duration_=e,this.updateFormattedTime_(e))},e}(Pn);On.prototype.labelText_="Duration",On.prototype.controlText_="Duration",zt.registerComponent("DurationDisplay",On);var Mn=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-control vjs-time-divider",innerHTML:"<div><span>/</span></div>"},{"aria-hidden":!0})},e}(zt);zt.registerComponent("TimeDivider",Mn);var Ln=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"durationchange",n.throttledUpdateContent),n.on(e,"ended",n.handleEnded),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-remaining-time"},i.formatTime_=function(e){return"-"+t.prototype.formatTime_.call(this,e)},i.updateContent=function(t){this.player_.duration()&&(this.player_.remainingTimeDisplay?this.updateFormattedTime_(this.player_.remainingTimeDisplay()):this.updateFormattedTime_(this.player_.remainingTime()))},i.handleEnded=function(t){this.player_.duration()&&this.updateFormattedTime_(0)},e}(Pn);Ln.prototype.labelText_="Remaining Time",Ln.prototype.controlText_="Remaining Time",zt.registerComponent("RemainingTimeDisplay",Ln);var Nn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateShowing(),n.on(n.player(),"durationchange",n.updateShowing),n}n(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"div",{className:"vjs-live-control vjs-control"});return this.contentEl_=D("div",{className:"vjs-live-display",innerHTML:'<span class="vjs-control-text">'+this.localize("Stream Type")+"Â </span>"+this.localize("LIVE")},{"aria-live":"off"}),e.appendChild(this.contentEl_),e},i.dispose=function(){this.contentEl_=null,t.prototype.dispose.call(this)},i.updateShowing=function(t){this.player().duration()===1/0?this.show():this.hide()},e}(zt);zt.registerComponent("LiveDisplay",Nn);var Rn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateLiveEdgeStatus(),n.player_.liveTracker&&n.on(n.player_.liveTracker,"liveedgechange",n.updateLiveEdgeStatus),n}n(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this,"button",{className:"vjs-seek-to-live-control vjs-control"});return this.textEl_=D("span",{className:"vjs-seek-to-live-text",innerHTML:this.localize("LIVE")},{"aria-hidden":"true"}),e.appendChild(this.textEl_),e},i.updateLiveEdgeStatus=function(t){!this.player_.liveTracker||this.player_.liveTracker.atLiveEdge()?(this.setAttribute("aria-disabled",!0),this.addClass("vjs-at-live-edge"),this.controlText("Seek to live, currently playing live")):(this.setAttribute("aria-disabled",!1),this.removeClass("vjs-at-live-edge"),this.controlText("Seek to live, currently behind live"))},i.handleClick=function(){this.player_.liveTracker.seekToLiveEdge()},i.dispose=function(){this.player_.liveTracker&&this.off(this.player_.liveTracker,"liveedgechange",this.updateLiveEdgeStatus),this.textEl_=null,t.prototype.dispose.call(this)},e}(kn);Rn.prototype.controlText_="Seek to live, currently playing live",zt.registerComponent("SeekToLive",Rn);var Un=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).bar=n.getChild(n.options_.barName),n.vertical(!!n.options_.vertical),n.enable(),n}n(e,t);var i=e.prototype;return i.enabled=function(){return this.enabled_},i.enable=function(){this.enabled()||(this.on("mousedown",this.handleMouseDown),this.on("touchstart",this.handleMouseDown),this.on("focus",this.handleFocus),this.on("blur",this.handleBlur),this.on("click",this.handleClick),this.on(this.player_,"controlsvisible",this.update),this.playerEvent&&this.on(this.player_,this.playerEvent,this.update),this.removeClass("disabled"),this.setAttribute("tabindex",0),this.enabled_=!0)},i.disable=function(){if(this.enabled()){var t=this.bar.el_.ownerDocument;this.off("mousedown",this.handleMouseDown),this.off("touchstart",this.handleMouseDown),this.off("focus",this.handleFocus),this.off("blur",this.handleBlur),this.off("click",this.handleClick),this.off(this.player_,"controlsvisible",this.update),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.removeAttribute("tabindex"),this.addClass("disabled"),this.playerEvent&&this.off(this.player_,this.playerEvent,this.update),this.enabled_=!1}},i.createEl=function(e,i,n){return void 0===i&&(i={}),void 0===n&&(n={}),i.className=i.className+" vjs-slider",i=v({tabIndex:0},i),n=v({role:"slider","aria-valuenow":0,"aria-valuemin":0,"aria-valuemax":100,tabIndex:0},n),t.prototype.createEl.call(this,e,i,n)},i.handleMouseDown=function(t){var e=this.bar.el_.ownerDocument;"mousedown"===t.type&&t.preventDefault(),"touchstart"!==t.type||ie||t.preventDefault(),H(),this.addClass("vjs-sliding"),this.trigger("slideractive"),this.on(e,"mousemove",this.handleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchmove",this.handleMouseMove),this.on(e,"touchend",this.handleMouseUp),this.handleMouseMove(t)},i.handleMouseMove=function(t){},i.handleMouseUp=function(){var t=this.bar.el_.ownerDocument;z(),this.removeClass("vjs-sliding"),this.trigger("sliderinactive"),this.off(t,"mousemove",this.handleMouseMove),this.off(t,"mouseup",this.handleMouseUp),this.off(t,"touchmove",this.handleMouseMove),this.off(t,"touchend",this.handleMouseUp),this.update()},i.update=function(){if(this.el_){var t=this.getPercent(),e=this.bar;if(e){("number"!=typeof t||t!=t||t<0||t===1/0)&&(t=0);var i=(100*t).toFixed(2)+"%",n=e.el().style;return this.vertical()?n.height=i:n.width=i,t}}},i.calculateDistance=function(t){var e=Y(this.el_,t);return this.vertical()?e.y:e.x},i.handleFocus=function(){this.on(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},i.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepBack()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepForward())},i.handleBlur=function(){this.off(this.bar.el_.ownerDocument,"keydown",this.handleKeyPress)},i.handleClick=function(t){t.stopImmediatePropagation(),t.preventDefault()},i.vertical=function(t){if(void 0===t)return this.vertical_||!1;this.vertical_=!!t,this.vertical_?this.addClass("vjs-slider-vertical"):this.addClass("vjs-slider-horizontal")},e}(zt);zt.registerComponent("Slider",Un);var Fn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).partEls_=[],n.on(e,"progress",n.update),n}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-load-progress",innerHTML:'<span class="vjs-control-text"><span>'+this.localize("Loaded")+'</span>: <span class="vjs-control-text-loaded-percentage">0%</span></span>'})},i.dispose=function(){this.partEls_=null,t.prototype.dispose.call(this)},i.update=function(t){var e=this.player_.liveTracker,i=this.player_.buffered(),n=e&&e.isLive()?e.seekableEnd():this.player_.duration(),s=this.player_.bufferedEnd(),r=this.partEls_,o=this.$(".vjs-control-text-loaded-percentage"),a=function(t,e,i){var n=t/e||0;return n=100*(n>=1?1:n),i&&(n=n.toFixed(2)),n+"%"};this.el_.style.width=a(s,n),A(o,a(s,n,!0));for(var l=0;l<i.length;l++){var u=i.start(l),c=i.end(l),h=r[l];h||(h=this.el_.appendChild(D()),r[l]=h),h.style.left=a(u,s),h.style.width=a(c-u,s)}for(var d=r.length;d>i.length;d--)this.el_.removeChild(r[d-1]);r.length=i.length},e}(zt);zt.registerComponent("LoadProgressBar",Fn);var jn=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-time-tooltip"},{"aria-hidden":"true"})},i.update=function(t,e,i){var n=B(this.el_),s=B(this.player_.el()),r=t.width*e;if(s&&n){var o=t.left-s.left+r,a=t.width-r+(s.right-t.right),l=n.width/2;o<l?l+=l-o:a<l&&(l=a),l<0?l=0:l>n.width&&(l=n.width),this.el_.style.right="-"+l+"px",A(this.el_,i)}},i.updateTime=function(t,e,i,n){var s=this;this.rafId_&&this.cancelAnimationFrame(this.rafId_),this.rafId_=this.requestAnimationFrame(function(){var r,o=s.player_.duration();if(s.player_.liveTracker&&s.player_.liveTracker.isLive()){var a=s.player_.liveTracker.liveWindow(),l=a-e*a;r=(l<1?"":"-")+An(l,a)}else r=An(i,o);s.update(t,e,r),n&&n()})},e}(zt);zt.registerComponent("TimeTooltip",jn);var Hn=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-play-progress vjs-slider-bar"},{"aria-hidden":"true"})},i.update=function(t,e){var i=this.getChild("timeTooltip");if(i){var n=this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime();i.updateTime(t,e,n)}},e}(zt);Hn.prototype.options_={children:[]},Xt||Zt||Hn.prototype.options_.children.push("timeTooltip"),zt.registerComponent("PlayProgressBar",Hn);var zn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).update=Ct(St(o(o(n)),n.update),25),n}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-mouse-display"})},i.update=function(t,e){var i=this,n=e*this.player_.duration();this.getChild("timeTooltip").updateTime(t,e,n,function(){i.el_.style.left=t.width*e+"px"})},e}(zt);zn.prototype.options_={children:["timeTooltip"]},zt.registerComponent("MouseTimeDisplay",zn);var Bn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).setEventHandlers_(),n}n(e,t);var i=e.prototype;return i.setEventHandlers_=function(){var t=this;this.update=Ct(St(this,this.update),30),this.on(this.player_,"timeupdate",this.update),this.on(this.player_,"ended",this.handleEnded),this.on(this.player_,"durationchange",this.update),this.player_.liveTracker&&this.on(this.player_.liveTracker,"liveedgechange",this.update),this.updateInterval=null,this.on(this.player_,["playing"],function(){t.clearInterval(t.updateInterval),t.updateInterval=t.setInterval(function(){t.requestAnimationFrame(function(){t.update()})},30)}),this.on(this.player_,["ended","pause","waiting"],function(e){t.player_.liveTracker&&t.player_.liveTracker.isLive()&&"ended"!==e.type||t.clearInterval(t.updateInterval)}),this.on(this.player_,["timeupdate","ended"],this.update)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-holder"},{"aria-label":this.localize("Progress Bar")})},i.update_=function(t,e){var i=this.player_.liveTracker,n=this.player_.duration();i&&i.isLive()&&(n=this.player_.liveTracker.liveCurrentTime()),i&&i.seekableEnd()===1/0?this.disable():this.enable(),this.el_.setAttribute("aria-valuenow",(100*e).toFixed(2)),this.el_.setAttribute("aria-valuetext",this.localize("progress bar timing: currentTime={1} duration={2}",[An(t,n),An(n,n)],"{1} of {2}")),this.bar.update(B(this.el_),e)},i.update=function(e){var i=t.prototype.update.call(this);return this.update_(this.getCurrentTime_(),i),i},i.getCurrentTime_=function(){return this.player_.scrubbing()?this.player_.getCache().currentTime:this.player_.currentTime()},i.handleEnded=function(t){this.update_(this.player_.duration(),1)},i.getPercent=function(){var t,e=this.getCurrentTime_(),i=this.player_.liveTracker;return i&&i.isLive()?(t=(e-i.seekableStart())/i.liveWindow(),i.atLiveEdge()&&(t=1)):t=e/this.player_.duration(),t>=1?1:t||0},i.handleMouseDown=function(e){K(e)&&(e.stopPropagation(),this.player_.scrubbing(!0),this.videoWasPlaying=!this.player_.paused(),this.player_.pause(),t.prototype.handleMouseDown.call(this,e))},i.handleMouseMove=function(t){if(K(t)){var e,i=this.calculateDistance(t),n=this.player_.liveTracker;if(n&&n.isLive()){var s=n.seekableStart(),r=n.liveCurrentTime();if((e=s+i*n.liveWindow())>=r&&(e=r),e<=s&&(e=s+.1),e===1/0)return}else(e=i*this.player_.duration())===this.player_.duration()&&(e-=.1);this.player_.currentTime(e)}},i.enable=function(){t.prototype.enable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.show()},i.disable=function(){t.prototype.disable.call(this);var e=this.getChild("mouseTimeDisplay");e&&e.hide()},i.handleMouseUp=function(e){t.prototype.handleMouseUp.call(this,e),e&&e.stopPropagation(),this.player_.scrubbing(!1),this.player_.trigger({type:"timeupdate",target:this,manuallyTriggered:!0}),this.videoWasPlaying&&ke(this.player_.play())},i.stepForward=function(){this.player_.currentTime(this.player_.currentTime()+5)},i.stepBack=function(){this.player_.currentTime(this.player_.currentTime()-5)},i.handleAction=function(t){this.player_.paused()?this.player_.play():this.player_.pause()},i.handleKeyPress=function(e){32===e.which||13===e.which?(e.preventDefault(),this.handleAction(e)):t.prototype.handleKeyPress&&t.prototype.handleKeyPress.call(this,e)},e}(Un);Bn.prototype.options_={children:["loadProgressBar","playProgressBar"],barName:"playProgressBar"},Xt||Zt||Bn.prototype.options_.children.splice(1,0,"mouseTimeDisplay"),Bn.prototype.playerEvent="timeupdate",zt.registerComponent("SeekBar",Bn);var Wn=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).handleMouseMove=Ct(St(o(o(n)),n.handleMouseMove),25),n.throttledHandleMouseSeek=Ct(St(o(o(n)),n.handleMouseSeek),25),n.enable(),n}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-progress-control vjs-control"})},i.handleMouseMove=function(t){var e=this.getChild("seekBar");if(e){var i=e.getChild("mouseTimeDisplay"),n=e.el(),s=B(n),r=Y(n,t).x;r>1?r=1:r<0&&(r=0),i&&i.update(s,r)}},i.handleMouseSeek=function(t){var e=this.getChild("seekBar");e&&e.handleMouseMove(t)},i.enabled=function(){return this.enabled_},i.disable=function(){this.children().forEach(function(t){return t.disable&&t.disable()}),this.enabled()&&(this.off(["mousedown","touchstart"],this.handleMouseDown),this.off(this.el_,"mousemove",this.handleMouseMove),this.handleMouseUp(),this.addClass("disabled"),this.enabled_=!1)},i.enable=function(){this.children().forEach(function(t){return t.enable&&t.enable()}),this.enabled()||(this.on(["mousedown","touchstart"],this.handleMouseDown),this.on(this.el_,"mousemove",this.handleMouseMove),this.removeClass("disabled"),this.enabled_=!0)},i.handleMouseDown=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseDown(t),this.on(e,"mousemove",this.throttledHandleMouseSeek),this.on(e,"touchmove",this.throttledHandleMouseSeek),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument,i=this.getChild("seekBar");i&&i.handleMouseUp(t),this.off(e,"mousemove",this.throttledHandleMouseSeek),this.off(e,"touchmove",this.throttledHandleMouseSeek),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},e}(zt);Wn.prototype.options_={children:["seekBar"]},zt.registerComponent("ProgressControl",Wn);var Yn=function(e){function i(i,n){var s;return(s=e.call(this,i,n)||this).on(i,"fullscreenchange",s.handleFullscreenChange),!1===t[fe.fullscreenEnabled]&&s.disable(),s}n(i,e);var s=i.prototype;return s.buildCSSClass=function(){return"vjs-fullscreen-control "+e.prototype.buildCSSClass.call(this)},s.handleFullscreenChange=function(t){this.player_.isFullscreen()?this.controlText("Non-Fullscreen"):this.controlText("Fullscreen")},s.handleClick=function(t){this.player_.isFullscreen()?this.player_.exitFullscreen():this.player_.requestFullscreen()},i}(kn);Yn.prototype.controlText_="Fullscreen",zt.registerComponent("FullscreenToggle",Yn);var Vn=function(t,e){e.tech_&&!e.tech_.featuresVolumeControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresVolumeControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},qn=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-level",innerHTML:'<span class="vjs-control-text"></span>'})},e}(zt);zt.registerComponent("VolumeLevel",qn);var $n=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on("slideractive",n.updateLastVolume_),n.on(e,"volumechange",n.updateARIAAttributes),e.ready(function(){return n.updateARIAAttributes()}),n}n(e,t);var i=e.prototype;return i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-volume-bar vjs-slider-bar"},{"aria-label":this.localize("Volume Level"),"aria-live":"polite"})},i.handleMouseDown=function(e){K(e)&&t.prototype.handleMouseDown.call(this,e)},i.handleMouseMove=function(t){K(t)&&(this.checkMuted(),this.player_.volume(this.calculateDistance(t)))},i.checkMuted=function(){this.player_.muted()&&this.player_.muted(!1)},i.getPercent=function(){return this.player_.muted()?0:this.player_.volume()},i.stepForward=function(){this.checkMuted(),this.player_.volume(this.player_.volume()+.1)},i.stepBack=function(){this.checkMuted(),this.player_.volume(this.player_.volume()-.1)},i.updateARIAAttributes=function(t){var e=this.player_.muted()?0:this.volumeAsPercentage_();this.el_.setAttribute("aria-valuenow",e),this.el_.setAttribute("aria-valuetext",e+"%")},i.volumeAsPercentage_=function(){return Math.round(100*this.player_.volume())},i.updateLastVolume_=function(){var t=this,e=this.player_.volume();this.one("sliderinactive",function(){0===t.player_.volume()&&t.player_.lastVolume_(e)})},e}(Un);$n.prototype.options_={children:["volumeLevel"],barName:"volumeLevel"},$n.prototype.playerEvent="volumechange",zt.registerComponent("VolumeBar",$n);var Gn=function(t){function e(e,i){var n;return void 0===i&&(i={}),i.vertical=i.vertical||!1,(void 0===i.volumeBar||_(i.volumeBar))&&(i.volumeBar=i.volumeBar||{},i.volumeBar.vertical=i.vertical),n=t.call(this,e,i)||this,Vn(o(o(n)),e),n.throttledHandleMouseMove=Ct(St(o(o(n)),n.handleMouseMove),25),n.on("mousedown",n.handleMouseDown),n.on("touchstart",n.handleMouseDown),n.on(n.volumeBar,["focus","slideractive"],function(){n.volumeBar.addClass("vjs-slider-active"),n.addClass("vjs-slider-active"),n.trigger("slideractive")}),n.on(n.volumeBar,["blur","sliderinactive"],function(){n.volumeBar.removeClass("vjs-slider-active"),n.removeClass("vjs-slider-active"),n.trigger("sliderinactive")}),n}n(e,t);var i=e.prototype;return i.createEl=function(){var e="vjs-volume-horizontal";return this.options_.vertical&&(e="vjs-volume-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-control vjs-control "+e})},i.handleMouseDown=function(t){var e=this.el_.ownerDocument;this.on(e,"mousemove",this.throttledHandleMouseMove),this.on(e,"touchmove",this.throttledHandleMouseMove),this.on(e,"mouseup",this.handleMouseUp),this.on(e,"touchend",this.handleMouseUp)},i.handleMouseUp=function(t){var e=this.el_.ownerDocument;this.off(e,"mousemove",this.throttledHandleMouseMove),this.off(e,"touchmove",this.throttledHandleMouseMove),this.off(e,"mouseup",this.handleMouseUp),this.off(e,"touchend",this.handleMouseUp)},i.handleMouseMove=function(t){this.volumeBar.handleMouseMove(t)},e}(zt);Gn.prototype.options_={children:["volumeBar"]},zt.registerComponent("VolumeControl",Gn);var Xn=function(t,e){e.tech_&&!e.tech_.featuresMuteControl&&t.addClass("vjs-hidden"),t.on(e,"loadstart",function(){e.tech_.featuresMuteControl?t.removeClass("vjs-hidden"):t.addClass("vjs-hidden")})},Kn=function(t){function e(e,i){var n;return n=t.call(this,e,i)||this,Xn(o(o(n)),e),n.on(e,["loadstart","volumechange"],n.update),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-mute-control "+t.prototype.buildCSSClass.call(this)},i.handleClick=function(t){var e=this.player_.volume(),i=this.player_.lastVolume_();if(0===e){var n=i<.1?.1:i;this.player_.volume(n),this.player_.muted(!1)}else this.player_.muted(!this.player_.muted())},i.update=function(t){this.updateIcon_(),this.updateControlText_()},i.updateIcon_=function(){var t=this.player_.volume(),e=3;Xt&&this.player_.muted(this.player_.tech_.el_.muted),0===t||this.player_.muted()?e=0:t<.33?e=1:t<.67&&(e=2);for(var i=0;i<4;i++)M(this.el_,"vjs-vol-"+i);O(this.el_,"vjs-vol-"+e)},i.updateControlText_=function(){var t=this.player_.muted()||0===this.player_.volume()?"Unmute":"Mute";this.controlText()!==t&&this.controlText(t)},e}(kn);Kn.prototype.controlText_="Mute",zt.registerComponent("MuteToggle",Kn);var Zn=function(t){function e(e,i){var n;return void 0===i&&(i={}),void 0!==i.inline?i.inline=i.inline:i.inline=!0,(void 0===i.volumeControl||_(i.volumeControl))&&(i.volumeControl=i.volumeControl||{},i.volumeControl.vertical=!i.inline),(n=t.call(this,e,i)||this).on(e,["loadstart"],n.volumePanelState_),n.on(n.volumeControl,["slideractive"],n.sliderActive_),n.on(n.volumeControl,["sliderinactive"],n.sliderInactive_),n}n(e,t);var i=e.prototype;return i.sliderActive_=function(){this.addClass("vjs-slider-active")},i.sliderInactive_=function(){this.removeClass("vjs-slider-active")},i.volumePanelState_=function(){this.volumeControl.hasClass("vjs-hidden")&&this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-hidden"),this.volumeControl.hasClass("vjs-hidden")&&!this.muteToggle.hasClass("vjs-hidden")&&this.addClass("vjs-mute-toggle-only")},i.createEl=function(){var e="vjs-volume-panel-horizontal";return this.options_.inline||(e="vjs-volume-panel-vertical"),t.prototype.createEl.call(this,"div",{className:"vjs-volume-panel vjs-control "+e})},e}(zt);Zn.prototype.options_={children:["muteToggle","volumeControl"]},zt.registerComponent("VolumePanel",Zn);var Qn=function(e){function i(t,i){var n;return n=e.call(this,t,i)||this,i&&(n.menuButton_=i.menuButton),n.focusedChild_=-1,n.on("keydown",n.handleKeyPress),n}n(i,e);var s=i.prototype;return s.addItem=function(t){this.addChild(t),t.on("blur",St(this,this.handleBlur)),t.on(["tap","click"],St(this,function(e){this.menuButton_&&(this.menuButton_.unpressButton(),"CaptionSettingsMenuItem"!==t.name()&&this.menuButton_.focus())}))},s.createEl=function(){var t=this.options_.contentElType||"ul";this.contentEl_=D(t,{className:"vjs-menu-content"}),this.contentEl_.setAttribute("role","menu");var i=e.prototype.createEl.call(this,"div",{append:this.contentEl_,className:"vjs-menu"});return i.appendChild(this.contentEl_),dt(i,"click",function(t){t.preventDefault(),t.stopImmediatePropagation()}),i},s.dispose=function(){this.contentEl_=null,e.prototype.dispose.call(this)},s.handleBlur=function(e){var i=e.relatedTarget||t.activeElement;if(!this.children().some(function(t){return t.el()===i})){var n=this.menuButton_;n&&n.buttonPressed_&&i!==n.el().firstChild&&n.unpressButton()}},s.handleKeyPress=function(t){37===t.which||40===t.which?(t.preventDefault(),this.stepForward()):38!==t.which&&39!==t.which||(t.preventDefault(),this.stepBack())},s.stepForward=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_+1),this.focus(t)},s.stepBack=function(){var t=0;void 0!==this.focusedChild_&&(t=this.focusedChild_-1),this.focus(t)},s.focus=function(t){void 0===t&&(t=0);var e=this.children().slice();e.length&&e[0].className&&/vjs-menu-title/.test(e[0].className)&&e.shift(),e.length>0&&(t<0?t=0:t>=e.length&&(t=e.length-1),this.focusedChild_=t,e[t].el_.focus())},i}(zt);zt.registerComponent("Menu",Qn);var Jn=function(e){function i(t,i){var n;void 0===i&&(i={}),(n=e.call(this,t,i)||this).menuButton_=new kn(t,i),n.menuButton_.controlText(n.controlText_),n.menuButton_.el_.setAttribute("aria-haspopup","true");var s=kn.prototype.buildCSSClass();return n.menuButton_.el_.className=n.buildCSSClass()+" "+s,n.menuButton_.removeClass("vjs-control"),n.addChild(n.menuButton_),n.update(),n.enabled_=!0,n.on(n.menuButton_,"tap",n.handleClick),n.on(n.menuButton_,"click",n.handleClick),n.on(n.menuButton_,"focus",n.handleFocus),n.on(n.menuButton_,"blur",n.handleBlur),n.on(n.menuButton_,"mouseenter",function(){n.menu.show()}),n.on("keydown",n.handleSubmenuKeyPress),n}n(i,e);var s=i.prototype;return s.update=function(){var t=this.createMenu();this.menu&&(this.menu.dispose(),this.removeChild(this.menu)),this.menu=t,this.addChild(t),this.buttonPressed_=!1,this.menuButton_.el_.setAttribute("aria-expanded","false"),this.items&&this.items.length<=this.hideThreshold_?this.hide():this.show()},s.createMenu=function(){var t=new Qn(this.player_,{menuButton:this});if(this.hideThreshold_=0,this.options_.title){var e=D("li",{className:"vjs-menu-title",innerHTML:jt(this.options_.title),tabIndex:-1});this.hideThreshold_+=1,t.children_.unshift(e),P(e,t.contentEl())}if(this.items=this.createItems(),this.items)for(var i=0;i<this.items.length;i++)t.addItem(this.items[i]);return t},s.createItems=function(){},s.createEl=function(){return e.prototype.createEl.call(this,"div",{className:this.buildWrapperCSSClass()},{})},s.buildWrapperCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+kn.prototype.buildCSSClass()+" "+e.prototype.buildCSSClass.call(this)},s.buildCSSClass=function(){var t="vjs-menu-button";return!0===this.options_.inline?t+="-inline":t+="-popup","vjs-menu-button "+t+" "+e.prototype.buildCSSClass.call(this)},s.controlText=function(t,e){return void 0===e&&(e=this.menuButton_.el()),this.menuButton_.controlText(t,e)},s.handleClick=function(t){this.buttonPressed_?this.unpressButton():this.pressButton()},s.focus=function(){this.menuButton_.focus()},s.blur=function(){this.menuButton_.blur()},s.handleFocus=function(){dt(t,"keydown",St(this,this.handleKeyPress))},s.handleBlur=function(){pt(t,"keydown",St(this,this.handleKeyPress))},s.handleKeyPress=function(t){27===t.which||9===t.which?(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus())):13!==t.which&&38!==t.which&&40!==t.which||this.buttonPressed_||(this.pressButton(),t.preventDefault())},s.handleSubmenuKeyPress=function(t){27!==t.which&&9!==t.which||(this.buttonPressed_&&this.unpressButton(),9!==t.which&&(t.preventDefault(),this.menuButton_.el_.focus()))},s.pressButton=function(){if(this.enabled_){if(this.buttonPressed_=!0,this.menu.show(),this.menu.lockShowing(),this.menuButton_.el_.setAttribute("aria-expanded","true"),Xt&&x())return;this.menu.focus()}},s.unpressButton=function(){this.enabled_&&(this.buttonPressed_=!1,this.menu.unlockShowing(),this.menu.hide(),this.menuButton_.el_.setAttribute("aria-expanded","false"))},s.disable=function(){this.unpressButton(),this.enabled_=!1,this.addClass("vjs-disabled"),this.menuButton_.disable()},s.enable=function(){this.enabled_=!0,this.removeClass("vjs-disabled"),this.menuButton_.enable()},i}(zt);zt.registerComponent("MenuButton",Jn);var ts=function(t){function e(e,i){var n,s=i.tracks;if((n=t.call(this,e,i)||this).items.length<=1&&n.hide(),!s)return o(n);var r=St(o(o(n)),n.update);return s.addEventListener("removetrack",r),s.addEventListener("addtrack",r),n.player_.on("ready",r),n.player_.on("dispose",function(){s.removeEventListener("removetrack",r),s.removeEventListener("addtrack",r)}),n}return n(e,t),e}(Jn);zt.registerComponent("TrackButton",ts);var es=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).selectable=i.selectable,n.isSelected_=i.selected||!1,n.multiSelectable=i.multiSelectable,n.selected(n.isSelected_),n.selectable?n.multiSelectable?n.el_.setAttribute("role","menuitemcheckbox"):n.el_.setAttribute("role","menuitemradio"):n.el_.setAttribute("role","menuitem"),n}n(e,t);var i=e.prototype;return i.createEl=function(e,i,n){return this.nonIconControl=!0,t.prototype.createEl.call(this,"li",v({className:"vjs-menu-item",innerHTML:'<span class="vjs-menu-item-text">'+this.localize(this.options_.label)+"</span>",tabIndex:-1},i),n)},i.handleClick=function(t){this.selected(!0)},i.selected=function(t){this.selectable&&(t?(this.addClass("vjs-selected"),this.el_.setAttribute("aria-checked","true"),this.controlText(", selected"),this.isSelected_=!0):(this.removeClass("vjs-selected"),this.el_.setAttribute("aria-checked","false"),this.controlText(""),this.isSelected_=!1))},e}(gn);zt.registerComponent("MenuItem",es);var is=function(i){function s(n,s){var r,a=s.track,l=n.textTracks();s.label=a.label||a.language||"Unknown",s.selected="showing"===a.mode,(r=i.call(this,n,s)||this).track=a;var u,c=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.handleTracksChange.apply(o(o(r)),e)},h=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];r.handleSelectedLanguageChange.apply(o(o(r)),e)};(n.on(["loadstart","texttrackchange"],c),l.addEventListener("change",c),l.addEventListener("selectedlanguagechange",h),r.on("dispose",function(){n.off(["loadstart","texttrackchange"],c),l.removeEventListener("change",c),l.removeEventListener("selectedlanguagechange",h)}),void 0===l.onchange)&&r.on(["tap","click"],function(){if("object"!=typeof e.Event)try{u=new e.Event("change")}catch(t){}u||(u=t.createEvent("Event")).initEvent("change",!0,!0),l.dispatchEvent(u)});return r.handleTracksChange(),r}n(s,i);var r=s.prototype;return r.handleClick=function(t){var e=this.track.kind,n=this.track.kinds,s=this.player_.textTracks();if(n||(n=[e]),i.prototype.handleClick.call(this,t),s)for(var r=0;r<s.length;r++){var o=s[r];o===this.track&&n.indexOf(o.kind)>-1?"showing"!==o.mode&&(o.mode="showing"):"disabled"!==o.mode&&(o.mode="disabled")}},r.handleTracksChange=function(t){var e="showing"===this.track.mode;e!==this.isSelected_&&this.selected(e)},r.handleSelectedLanguageChange=function(t){if("showing"===this.track.mode){var e=this.player_.cache_.selectedLanguage;if(e&&e.enabled&&e.language===this.track.language&&e.kind!==this.track.kind)return;this.player_.cache_.selectedLanguage={enabled:!0,language:this.track.language,kind:this.track.kind}}},r.dispose=function(){this.track=null,i.prototype.dispose.call(this)},s}(es);zt.registerComponent("TextTrackMenuItem",is);var ns=function(t){function e(e,i){return i.track={player:e,kind:i.kind,kinds:i.kinds,default:!1,mode:"disabled"},i.kinds||(i.kinds=[i.kind]),i.label?i.track.label=i.label:i.track.label=i.kinds.join(" and ")+" off",i.selectable=!0,i.multiSelectable=!1,t.call(this,e,i)||this}n(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,s=e.length;n<s;n++){var r=e[n];if(this.options_.kinds.indexOf(r.kind)>-1&&"showing"===r.mode){i=!1;break}}i!==this.isSelected_&&this.selected(i)},i.handleSelectedLanguageChange=function(t){for(var e=this.player().textTracks(),i=!0,n=0,s=e.length;n<s;n++){var r=e[n];if(["captions","descriptions","subtitles"].indexOf(r.kind)>-1&&"showing"===r.mode){i=!1;break}}i&&(this.player_.cache_.selectedLanguage={enabled:!1})},e}(is);zt.registerComponent("OffTextTrackMenuItem",ns);var ss=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.textTracks(),t.call(this,e,i)||this}return n(e,t),e.prototype.createItems=function(t,e){var i;void 0===t&&(t=[]),void 0===e&&(e=is),this.label_&&(i=this.label_+" off"),t.push(new ns(this.player_,{kinds:this.kinds_,kind:this.kind_,label:i})),this.hideThreshold_+=1;var n=this.player_.textTracks();Array.isArray(this.kinds_)||(this.kinds_=[this.kind_]);for(var s=0;s<n.length;s++){var r=n[s];if(this.kinds_.indexOf(r.kind)>-1){var o=new e(this.player_,{track:r,selectable:!0,multiSelectable:!1});o.addClass("vjs-"+r.kind+"-menu-item"),t.push(o)}}return t},e}(ts);zt.registerComponent("TextTrackButton",ss);var rs=function(t){function e(e,i){var n,s=i.track,r=i.cue,a=e.currentTime();return i.selectable=!0,i.multiSelectable=!1,i.label=r.text,i.selected=r.startTime<=a&&a<r.endTime,(n=t.call(this,e,i)||this).track=s,n.cue=r,s.addEventListener("cuechange",St(o(o(n)),n.update)),n}n(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player_.currentTime(this.cue.startTime),this.update(this.cue.startTime)},i.update=function(t){var e=this.cue,i=this.player_.currentTime();this.selected(e.startTime<=i&&i<e.endTime)},e}(es);zt.registerComponent("ChaptersTrackMenuItem",rs);var os=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-chapters-button "+t.prototype.buildWrapperCSSClass.call(this)},i.update=function(e){this.track_&&(!e||"addtrack"!==e.type&&"removetrack"!==e.type)||this.setTrack(this.findChaptersTrack()),t.prototype.update.call(this)},i.setTrack=function(t){if(this.track_!==t){if(this.updateHandler_||(this.updateHandler_=this.update.bind(this)),this.track_){var e=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);e&&e.removeEventListener("load",this.updateHandler_),this.track_=null}if(this.track_=t,this.track_){this.track_.mode="hidden";var i=this.player_.remoteTextTrackEls().getTrackElementByTrack_(this.track_);i&&i.addEventListener("load",this.updateHandler_)}}},i.findChaptersTrack=function(){for(var t=this.player_.textTracks()||[],e=t.length-1;e>=0;e--){var i=t[e];if(i.kind===this.kind_)return i}},i.getMenuCaption=function(){return this.track_&&this.track_.label?this.track_.label:this.localize(jt(this.kind_))},i.createMenu=function(){return this.options_.title=this.getMenuCaption(),t.prototype.createMenu.call(this)},i.createItems=function(){var t=[];if(!this.track_)return t;var e=this.track_.cues;if(!e)return t;for(var i=0,n=e.length;i<n;i++){var s=e[i],r=new rs(this.player_,{track:this.track_,cue:s});t.push(r)}return t},e}(ss);os.prototype.kind_="chapters",os.prototype.controlText_="Chapters",zt.registerComponent("ChaptersButton",os);var as=function(t){function e(e,i,n){var s;s=t.call(this,e,i,n)||this;var r=e.textTracks(),a=St(o(o(s)),s.handleTracksChange);return r.addEventListener("change",a),s.on("dispose",function(){r.removeEventListener("change",a)}),s}n(e,t);var i=e.prototype;return i.handleTracksChange=function(t){for(var e=this.player().textTracks(),i=!1,n=0,s=e.length;n<s;n++){var r=e[n];if(r.kind!==this.kind_&&"showing"===r.mode){i=!0;break}}i?this.disable():this.enable()},i.buildCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-descriptions-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ss);as.prototype.kind_="descriptions",as.prototype.controlText_="Descriptions",zt.registerComponent("DescriptionsButton",as);var ls=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subtitles-button "+t.prototype.buildWrapperCSSClass.call(this)},e}(ss);ls.prototype.kind_="subtitles",ls.prototype.controlText_="Subtitles",zt.registerComponent("SubtitlesButton",ls);var us=function(t){function e(e,i){var n;return i.track={player:e,kind:i.kind,label:i.kind+" settings",selectable:!1,default:!1,mode:"disabled"},i.selectable=!1,i.name="CaptionSettingsMenuItem",(n=t.call(this,e,i)||this).addClass("vjs-texttrack-settings"),n.controlText(", opens "+i.kind+" settings dialog"),n}return n(e,t),e.prototype.handleClick=function(t){this.player().getChild("textTrackSettings").open()},e}(is);zt.registerComponent("CaptionSettingsMenuItem",us);var cs=function(t){function e(e,i,n){return t.call(this,e,i,n)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-captions-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-captions-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new us(this.player_,{kind:this.kind_})),this.hideThreshold_+=1),t.prototype.createItems.call(this,e)},e}(ss);cs.prototype.kind_="captions",cs.prototype.controlText_="Captions",zt.registerComponent("CaptionsButton",cs);var hs=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.createEl=function(e,i,n){var s='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"captions"===this.options_.track.kind&&(s+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Captions")+"</span>\n      "),s+="</span>",t.prototype.createEl.call(this,e,v({innerHTML:s},i),n)},e}(is);zt.registerComponent("SubsCapsMenuItem",hs);var ds=function(t){function e(e,i){var n;return void 0===i&&(i={}),(n=t.call(this,e,i)||this).label_="subtitles",["en","en-us","en-ca","fr-ca"].indexOf(n.player_.language_)>-1&&(n.label_="captions"),n.menuButton_.controlText(jt(n.label_)),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-subs-caps-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(){var e=[];return this.player().tech_&&this.player().tech_.featuresNativeTextTracks||!this.player().getChild("textTrackSettings")||(e.push(new us(this.player_,{kind:this.label_})),this.hideThreshold_+=1),e=t.prototype.createItems.call(this,e,hs)},e}(ss);ds.prototype.kinds_=["captions","subtitles"],ds.prototype.controlText_="Subtitles",zt.registerComponent("SubsCapsButton",ds);var ps=function(t){function e(e,i){var n,s=i.track,r=e.audioTracks();i.label=s.label||s.language||"Unknown",i.selected=s.enabled,(n=t.call(this,e,i)||this).track=s,n.addClass("vjs-"+s.kind+"-menu-item");var a=function(){for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];n.handleTracksChange.apply(o(o(n)),e)};return r.addEventListener("change",a),n.on("dispose",function(){r.removeEventListener("change",a)}),n}n(e,t);var i=e.prototype;return i.createEl=function(e,i,n){var s='<span class="vjs-menu-item-text">'+this.localize(this.options_.label);return"main-desc"===this.options_.track.kind&&(s+='\n        <span aria-hidden="true" class="vjs-icon-placeholder"></span>\n        <span class="vjs-control-text"> '+this.localize("Descriptions")+"</span>\n      "),s+="</span>",t.prototype.createEl.call(this,e,v({innerHTML:s},i),n)},i.handleClick=function(e){var i=this.player_.audioTracks();t.prototype.handleClick.call(this,e);for(var n=0;n<i.length;n++){var s=i[n];s.enabled=s===this.track}},i.handleTracksChange=function(t){this.selected(this.track.enabled)},e}(es);zt.registerComponent("AudioTrackMenuItem",ps);var fs=function(t){function e(e,i){return void 0===i&&(i={}),i.tracks=e.audioTracks(),t.call(this,e,i)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-audio-button "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-audio-button "+t.prototype.buildWrapperCSSClass.call(this)},i.createItems=function(t){void 0===t&&(t=[]),this.hideThreshold_=1;for(var e=this.player_.audioTracks(),i=0;i<e.length;i++){var n=e[i];t.push(new ps(this.player_,{track:n,selectable:!0,multiSelectable:!1}))}return t},e}(ts);fs.prototype.controlText_="Audio Track",zt.registerComponent("AudioTrackButton",fs);var ms=function(t){function e(e,i){var n,s=i.rate,r=parseFloat(s,10);return i.label=s,i.selected=1===r,i.selectable=!0,i.multiSelectable=!1,(n=t.call(this,e,i)||this).label=s,n.rate=r,n.on(e,"ratechange",n.update),n}n(e,t);var i=e.prototype;return i.handleClick=function(e){t.prototype.handleClick.call(this),this.player().playbackRate(this.rate)},i.update=function(t){this.selected(this.player().playbackRate()===this.rate)},e}(es);ms.prototype.contentElType="button",zt.registerComponent("PlaybackRateMenuItem",ms);var gs=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).updateVisibility(),n.updateLabel(),n.on(e,"loadstart",n.updateVisibility),n.on(e,"ratechange",n.updateLabel),n}n(e,t);var i=e.prototype;return i.createEl=function(){var e=t.prototype.createEl.call(this);return this.labelEl_=D("div",{className:"vjs-playback-rate-value",innerHTML:"1x"}),e.appendChild(this.labelEl_),e},i.dispose=function(){this.labelEl_=null,t.prototype.dispose.call(this)},i.buildCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildCSSClass.call(this)},i.buildWrapperCSSClass=function(){return"vjs-playback-rate "+t.prototype.buildWrapperCSSClass.call(this)},i.createMenu=function(){var t=new Qn(this.player()),e=this.playbackRates();if(e)for(var i=e.length-1;i>=0;i--)t.addChild(new ms(this.player(),{rate:e[i]+"x"}));return t},i.updateARIAAttributes=function(){this.el().setAttribute("aria-valuenow",this.player().playbackRate())},i.handleClick=function(t){for(var e=this.player().playbackRate(),i=this.playbackRates(),n=i[0],s=0;s<i.length;s++)if(i[s]>e){n=i[s];break}this.player().playbackRate(n)},i.playbackRates=function(){return this.options_.playbackRates||this.options_.playerOptions&&this.options_.playerOptions.playbackRates},i.playbackRateSupported=function(){return this.player().tech_&&this.player().tech_.featuresPlaybackRate&&this.playbackRates()&&this.playbackRates().length>0},i.updateVisibility=function(t){this.playbackRateSupported()?this.removeClass("vjs-hidden"):this.addClass("vjs-hidden")},i.updateLabel=function(t){this.playbackRateSupported()&&(this.labelEl_.innerHTML=this.player().playbackRate()+"x")},e}(Jn);gs.prototype.controlText_="Playback Rate",zt.registerComponent("PlaybackRateMenuButton",gs);var vs=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){return t.prototype.createEl.call(this,"div",{className:this.buildCSSClass()})},e}(zt);zt.registerComponent("Spacer",vs);var ys=function(t){function e(){return t.apply(this,arguments)||this}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-custom-control-spacer "+t.prototype.buildCSSClass.call(this)},i.createEl=function(){var e=t.prototype.createEl.call(this,{className:this.buildCSSClass()});return e.innerHTML="Â ",e},e}(vs);zt.registerComponent("CustomControlSpacer",ys);var _s=function(t){function e(){return t.apply(this,arguments)||this}return n(e,t),e.prototype.createEl=function(){return t.prototype.createEl.call(this,"div",{className:"vjs-control-bar",dir:"ltr"})},e}(zt);_s.prototype.options_={children:["playToggle","volumePanel","currentTimeDisplay","timeDivider","durationDisplay","progressControl","liveDisplay","seekToLive","remainingTimeDisplay","customControlSpacer","playbackRateMenuButton","chaptersButton","descriptionsButton","subsCapsButton","audioTrackButton","fullscreenToggle"]},zt.registerComponent("ControlBar",_s);var bs=function(t){function e(e,i){var n;return(n=t.call(this,e,i)||this).on(e,"error",n.open),n}n(e,t);var i=e.prototype;return i.buildCSSClass=function(){return"vjs-error-display "+t.prototype.buildCSSClass.call(this)},i.content=function(){var t=this.player().error();return t?this.localize(t.message):""},e}(De);bs.prototype.options_=Ht(De.prototype.options_,{pauseOnOpen:!1,fillAlways:!0,temporary:!1,uncloseable:!0}),zt.registerComponent("ErrorDisplay",bs);var ws=["#000","Black"],Ts=["#00F","Blue"],ks=["#0FF","Cyan"],Ss=["#0F0","Green"],Cs=["#F0F","Magenta"],xs=["#F00","Red"],Es=["#FFF","White"],Ds=["#FF0","Yellow"],As=["1","Opaque"],Ps=["0.5","Semi-Transparent"],Is=["0","Transparent"],Os={backgroundColor:{selector:".vjs-bg-color > select",id:"captions-background-color-%s",label:"Color",options:[ws,Es,xs,Ss,Ts,Ds,Cs,ks]},backgroundOpacity:{selector:".vjs-bg-opacity > select",id:"captions-background-opacity-%s",label:"Transparency",options:[As,Ps,Is]},color:{selector:".vjs-fg-color > select",id:"captions-foreground-color-%s",label:"Color",options:[Es,ws,xs,Ss,Ts,Ds,Cs,ks]},edgeStyle:{selector:".vjs-edge-style > select",id:"%s",label:"Text Edge Style",options:[["none","None"],["raised","Raised"],["depressed","Depressed"],["uniform","Uniform"],["dropshadow","Dropshadow"]]},fontFamily:{selector:".vjs-font-family > select",id:"captions-font-family-%s",label:"Font Family",options:[["proportionalSansSerif","Proportional Sans-Serif"],["monospaceSansSerif","Monospace Sans-Serif"],["proportionalSerif","Proportional Serif"],["monospaceSerif","Monospace Serif"],["casual","Casual"],["script","Script"],["small-caps","Small Caps"]]},fontPercent:{selector:".vjs-font-percent > select",id:"captions-font-size-%s",label:"Font Size",options:[["0.50","50%"],["0.75","75%"],["1.00","100%"],["1.25","125%"],["1.50","150%"],["1.75","175%"],["2.00","200%"],["3.00","300%"],["4.00","400%"]],default:2,parser:function(t){return"1.00"===t?null:Number(t)}},textOpacity:{selector:".vjs-text-opacity > select",id:"captions-foreground-opacity-%s",label:"Transparency",options:[As,Ps]},windowColor:{selector:".vjs-window-color > select",id:"captions-window-color-%s",label:"Color"},windowOpacity:{selector:".vjs-window-opacity > select",id:"captions-window-opacity-%s",label:"Transparency",options:[Is,Ps,As]}};function Ms(t,e){if(e&&(t=e(t)),t&&"none"!==t)return t}Os.windowColor.options=Os.backgroundColor.options;var Ls=function(i){function s(t,e){var n;return e.temporary=!1,(n=i.call(this,t,e)||this).updateDisplay=St(o(o(n)),n.updateDisplay),n.fill(),n.hasBeenOpened_=n.hasBeenFilled_=!0,n.endDialog=D("p",{className:"vjs-control-text",textContent:n.localize("End of dialog window.")}),n.el().appendChild(n.endDialog),n.setDefaults(),void 0===e.persistTextTrackSettings&&(n.options_.persistTextTrackSettings=n.options_.playerOptions.persistTextTrackSettings),n.on(n.$(".vjs-done-button"),"click",function(){n.saveSettings(),n.close()}),n.on(n.$(".vjs-default-button"),"click",function(){n.setDefaults(),n.updateDisplay()}),g(Os,function(t){n.on(n.$(t.selector),"change",n.updateDisplay)}),n.options_.persistTextTrackSettings&&n.restoreSettings(),n}n(s,i);var r=s.prototype;return r.dispose=function(){this.endDialog=null,i.prototype.dispose.call(this)},r.createElSelect_=function(t,e,i){var n=this;void 0===e&&(e=""),void 0===i&&(i="label");var s=Os[t],r=s.id.replace("%s",this.id_),o=[e,r].join(" ").trim();return["<"+i+' id="'+r+'" class="'+("label"===i?"vjs-label":"")+'">',this.localize(s.label),"</"+i+">",'<select aria-labelledby="'+o+'">'].concat(s.options.map(function(t){var e=r+"-"+t[1].replace(/\W+/g,"");return['<option id="'+e+'" value="'+t[0]+'" ','aria-labelledby="'+o+" "+e+'">',n.localize(t[1]),"</option>"].join("")})).concat("</select>").join("")},r.createElFgColor_=function(){var t="captions-text-legend-"+this.id_;return['<fieldset class="vjs-fg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Text"),"</legend>",this.createElSelect_("color",t),'<span class="vjs-text-opacity vjs-opacity">',this.createElSelect_("textOpacity",t),"</span>","</fieldset>"].join("")},r.createElBgColor_=function(){var t="captions-background-"+this.id_;return['<fieldset class="vjs-bg-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Background"),"</legend>",this.createElSelect_("backgroundColor",t),'<span class="vjs-bg-opacity vjs-opacity">',this.createElSelect_("backgroundOpacity",t),"</span>","</fieldset>"].join("")},r.createElWinColor_=function(){var t="captions-window-"+this.id_;return['<fieldset class="vjs-window-color vjs-track-setting">','<legend id="'+t+'">',this.localize("Window"),"</legend>",this.createElSelect_("windowColor",t),'<span class="vjs-window-opacity vjs-opacity">',this.createElSelect_("windowOpacity",t),"</span>","</fieldset>"].join("")},r.createElColors_=function(){return D("div",{className:"vjs-track-settings-colors",innerHTML:[this.createElFgColor_(),this.createElBgColor_(),this.createElWinColor_()].join("")})},r.createElFont_=function(){return D("div",{className:"vjs-track-settings-font",innerHTML:['<fieldset class="vjs-font-percent vjs-track-setting">',this.createElSelect_("fontPercent","","legend"),"</fieldset>",'<fieldset class="vjs-edge-style vjs-track-setting">',this.createElSelect_("edgeStyle","","legend"),"</fieldset>",'<fieldset class="vjs-font-family vjs-track-setting">',this.createElSelect_("fontFamily","","legend"),"</fieldset>"].join("")})},r.createElControls_=function(){var t=this.localize("restore all settings to the default values");return D("div",{className:"vjs-track-settings-controls",innerHTML:['<button type="button" class="vjs-default-button" title="'+t+'">',this.localize("Reset"),'<span class="vjs-control-text"> '+t+"</span>","</button>",'<button type="button" class="vjs-done-button">'+this.localize("Done")+"</button>"].join("")})},r.content=function(){return[this.createElColors_(),this.createElFont_(),this.createElControls_()]},r.label=function(){return this.localize("Caption Settings Dialog")},r.description=function(){return this.localize("Beginning of dialog window. Escape will cancel and close the window.")},r.buildCSSClass=function(){return i.prototype.buildCSSClass.call(this)+" vjs-text-track-settings"},r.getValues=function(){var t,e,i,n=this;return e=function(t,e,i){var s,r,o=(s=n.$(e.selector),r=e.parser,Ms(s.options[s.options.selectedIndex].value,r));return void 0!==o&&(t[i]=o),t},void 0===(i={})&&(i=0),m(t=Os).reduce(function(i,n){return e(i,t[n],n)},i)},r.setValues=function(t){var e=this;g(Os,function(i,n){!function(t,e,i){if(e)for(var n=0;n<t.options.length;n++)if(Ms(t.options[n].value,i)===e){t.selectedIndex=n;break}}(e.$(i.selector),t[n],i.parser)})},r.setDefaults=function(){var t=this;g(Os,function(e){var i=e.hasOwnProperty("default")?e.default:0;t.$(e.selector).selectedIndex=i})},r.restoreSettings=function(){var t;try{t=JSON.parse(e.localStorage.getItem("vjs-text-track-settings"))}catch(t){c.warn(t)}t&&this.setValues(t)},r.saveSettings=function(){if(this.options_.persistTextTrackSettings){var t=this.getValues();try{Object.keys(t).length?e.localStorage.setItem("vjs-text-track-settings",JSON.stringify(t)):e.localStorage.removeItem("vjs-text-track-settings")}catch(t){c.warn(t)}}},r.updateDisplay=function(){var t=this.player_.getChild("textTrackDisplay");t&&t.updateDisplay()},r.conditionalBlur_=function(){this.previouslyActiveEl_=null,this.off(t,"keydown",this.handleKeyDown);var e=this.player_.controlBar,i=e&&e.subsCapsButton,n=e&&e.captionsButton;i?i.focus():n&&n.focus()},s}(De);zt.registerComponent("TextTrackSettings",Ls);var Ns=function(t){function i(i,n){var s,r=n.ResizeObserver||e.ResizeObserver;null===n.ResizeObserver&&(r=!1);var a=Ht({createEl:!r,reportTouchActivity:!1},n);return(s=t.call(this,i,a)||this).ResizeObserver=n.ResizeObserver||e.ResizeObserver,s.loadListener_=null,s.resizeObserver_=null,s.debouncedHandler_=xt(function(){s.resizeHandler()},100,!1,o(o(s))),r?(s.resizeObserver_=new s.ResizeObserver(s.debouncedHandler_),s.resizeObserver_.observe(i.el())):(s.loadListener_=function(){s.el_&&s.el_.contentWindow&&dt(s.el_.contentWindow,"resize",s.debouncedHandler_)},s.one("load",s.loadListener_)),s}n(i,t);var s=i.prototype;return s.createEl=function(){return t.prototype.createEl.call(this,"iframe",{className:"vjs-resize-manager"})},s.resizeHandler=function(){this.player_&&this.player_.trigger&&this.player_.trigger("playerresize")},s.dispose=function(){this.debouncedHandler_&&this.debouncedHandler_.cancel(),this.resizeObserver_&&(this.player_.el()&&this.resizeObserver_.unobserve(this.player_.el()),this.resizeObserver_.disconnect()),this.el_&&this.el_.contentWindow&&pt(this.el_.contentWindow,"resize",this.debouncedHandler_),this.loadListener_&&this.off("load",this.loadListener_),this.ResizeObserver=null,this.resizeObserver=null,this.debouncedHandler_=null,this.loadListener_=null},i}(zt);zt.registerComponent("ResizeManager",Ns);var Rs=function(t){function e(e,i){var n,s=Ht({createEl:!1},i);return(n=t.call(this,e,s)||this).reset_(),n.on(n.player_,"durationchange",n.handleDurationchange),n}n(e,t);var i=e.prototype;return i.isBehind_=function(){if(!this.timeupdateSeen_)return!1;var t=this.liveCurrentTime(),e=this.player_.currentTime(),i=this.seekableIncrement_;return t!==1/0&&t-(2*i+.07)>=e},i.trackLive_=function(){this.pastSeekEnd_=this.pastSeekEnd_;var t=this.player_.seekable();if(t&&t.length){var e=this.seekableEnd();e!==this.lastSeekEnd_&&(this.lastSeekEnd_&&(this.seekableIncrement_=Math.abs(e-this.lastSeekEnd_)),this.pastSeekEnd_=0,this.lastSeekEnd_=e,this.trigger("seekableendchange")),this.pastSeekEnd_=this.pastSeekEnd()+.03,this.isBehind_()!==this.behindLiveEdge()&&(this.behindLiveEdge_=this.isBehind_(),this.trigger("liveedgechange"))}},i.handleDurationchange=function(){this.player_.duration()===1/0?this.startTracking():this.stopTracking()},i.startTracking=function(){var t=this;this.isTracking()||(this.trackingInterval_=this.setInterval(this.trackLive_,30),this.trackLive_(),this.on(this.player_,"play",this.trackLive_),this.on(this.player_,"pause",this.trackLive_),this.one(this.player_,"play",this.handlePlay),this.timeupdateSeen_||(this.handleTimeupdate=function(){t.timeupdateSeen_=!0,t.handleTimeupdate=null},this.one(this.player_,"timeupdate",this.handleTimeupdate)))},i.handlePlay=function(){this.one(this.player_,"timeupdate",this.seekToLiveEdge)},i.reset_=function(){this.pastSeekEnd_=0,this.lastSeekEnd_=null,this.behindLiveEdge_=null,this.timeupdateSeen_=!1,this.clearInterval(this.trackingInterval_),this.trackingInterval_=null,this.seekableIncrement_=12,this.off(this.player_,"play",this.trackLive_),this.off(this.player_,"pause",this.trackLive_),this.off(this.player_,"play",this.handlePlay),this.off(this.player_,"timeupdate",this.seekToLiveEdge),this.handleTimeupdate&&(this.off(this.player_,"timeupdate",this.handleTimeupdate),this.handleTimeupdate=null)},i.stopTracking=function(){this.isTracking()&&this.reset_()},i.seekableEnd=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.end(i));return e.length?e.sort()[e.length-1]:1/0},i.seekableStart=function(){for(var t=this.player_.seekable(),e=[],i=t?t.length:0;i--;)e.push(t.start(i));return e.length?e.sort()[0]:0},i.liveWindow=function(){var t=this.liveCurrentTime();return t===1/0?1/0:t-this.seekableStart()},i.isLive=function(){return this.isTracking()},i.atLiveEdge=function(){return!this.behindLiveEdge()},i.liveCurrentTime=function(){return this.pastSeekEnd()+this.seekableEnd()},i.pastSeekEnd=function(){return this.pastSeekEnd_},i.behindLiveEdge=function(){return this.behindLiveEdge_},i.isTracking=function(){return"number"==typeof this.trackingInterval_},i.seekToLiveEdge=function(){this.atLiveEdge()||(this.player_.currentTime(this.liveCurrentTime()),this.player_.paused()&&this.player_.play())},i.dispose=function(){this.stopTracking(),t.prototype.dispose.call(this)},e}(zt);zt.registerComponent("LiveTracker",Rs);var Us=function(t){var e=t.el();if(e.hasAttribute("src"))return t.triggerSourceset(e.src),!0;var i=t.$$("source"),n=[],s="";if(!i.length)return!1;for(var r=0;r<i.length;r++){var o=i[r].src;o&&-1===n.indexOf(o)&&n.push(o)}return!!n.length&&(1===n.length&&(s=n[0]),t.triggerSourceset(s),!0)},Fs=Object.defineProperty({},"innerHTML",{get:function(){return this.cloneNode(!0).innerHTML},set:function(i){var n=t.createElement(this.nodeName.toLowerCase());n.innerHTML=i;for(var s=t.createDocumentFragment();n.childNodes.length;)s.appendChild(n.childNodes[0]);return this.innerText="",e.Element.prototype.appendChild.call(this,s),this.innerHTML}}),js=function(t,e){for(var i={},n=0;n<t.length&&!((i=Object.getOwnPropertyDescriptor(t[n],e))&&i.set&&i.get);n++);return i.enumerable=!0,i.configurable=!0,i},Hs=function(t){var i=t.el();if(!i.resetSourceWatch_){var n={},s=function(t){return js([t.el(),e.HTMLMediaElement.prototype,e.Element.prototype,Fs],"innerHTML")}(t),r=function(e){return function(){for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];var o=e.apply(i,s);return Us(t),o}};["append","appendChild","insertAdjacentHTML"].forEach(function(t){i[t]&&(n[t]=i[t],i[t]=r(n[t]))}),Object.defineProperty(i,"innerHTML",Ht(s,{set:r(s.set)})),i.resetSourceWatch_=function(){i.resetSourceWatch_=null,Object.keys(n).forEach(function(t){i[t]=n[t]}),Object.defineProperty(i,"innerHTML",s)},t.one("sourceset",i.resetSourceWatch_)}},zs=Object.defineProperty({},"src",{get:function(){return this.hasAttribute("src")?Ye(e.Element.prototype.getAttribute.call(this,"src")):""},set:function(t){return e.Element.prototype.setAttribute.call(this,"src",t),t}}),Bs=function(t){if(t.featuresSourceset){var i=t.el();if(!i.resetSourceset_){var n=function(t){return js([t.el(),e.HTMLMediaElement.prototype,zs],"src")}(t),s=i.setAttribute,r=i.load;Object.defineProperty(i,"src",Ht(n,{set:function(e){var s=n.set.call(i,e);return t.triggerSourceset(i.src),s}})),i.setAttribute=function(e,n){var r=s.call(i,e,n);return/src/i.test(e)&&t.triggerSourceset(i.src),r},i.load=function(){var e=r.call(i);return Us(t)||(t.triggerSourceset(""),Hs(t)),e},i.currentSrc?t.triggerSourceset(i.currentSrc):Us(t)||Hs(t),i.resetSourceset_=function(){i.resetSourceset_=null,i.load=r,i.setAttribute=s,Object.defineProperty(i,"src",n),i.resetSourceWatch_&&i.resetSourceWatch_()}}}};function Ws(){var t=a(["Text Tracks are being loaded from another origin but the crossorigin attribute isn't used.\n            This may prevent text tracks from loading."]);return Ws=function(){return t},t}var Ys=function(i){function s(t,e){var n;n=i.call(this,t,e)||this;var s=t.source,r=!1;if(s&&(n.el_.currentSrc!==s.src||t.tag&&3===t.tag.initNetworkState_)?n.setSource(s):n.handleLateInit_(n.el_),t.enableSourceset&&n.setupSourcesetHandling_(),n.el_.hasChildNodes()){for(var o=n.el_.childNodes,a=o.length,l=[];a--;){var u=o[a];"track"===u.nodeName.toLowerCase()&&(n.featuresNativeTextTracks?(n.remoteTextTrackEls().addTrackElement_(u),n.remoteTextTracks().addTrack(u.track),n.textTracks().addTrack(u.track),r||n.el_.hasAttribute("crossorigin")||!qe(u.src)||(r=!0)):l.push(u))}for(var h=0;h<l.length;h++)n.el_.removeChild(l[h])}return n.proxyNativeTracks_(),n.featuresNativeTextTracks&&r&&c.warn(p(Ws())),n.restoreMetadataTracksInIOSNativePlayer_(),(ae||$t||Jt)&&!0===t.nativeControlsForTouch&&n.setControls(!0),n.proxyWebkitFullscreen_(),n.triggerReady(),n}n(s,i);var r=s.prototype;return r.dispose=function(){this.el_&&this.el_.resetSourceset_&&this.el_.resetSourceset_(),s.disposeMediaElement(this.el_),this.options_=null,i.prototype.dispose.call(this)},r.setupSourcesetHandling_=function(){Bs(this)},r.restoreMetadataTracksInIOSNativePlayer_=function(){var t,e=this.textTracks(),i=function(){t=[];for(var i=0;i<e.length;i++){var n=e[i];"metadata"===n.kind&&t.push({track:n,storedMode:n.mode})}};i(),e.addEventListener("change",i),this.on("dispose",function(){return e.removeEventListener("change",i)});var n=function i(){for(var n=0;n<t.length;n++){var s=t[n];"disabled"===s.track.mode&&s.track.mode!==s.storedMode&&(s.track.mode=s.storedMode)}e.removeEventListener("change",i)};this.on("webkitbeginfullscreen",function(){e.removeEventListener("change",i),e.removeEventListener("change",n),e.addEventListener("change",n)}),this.on("webkitendfullscreen",function(){e.removeEventListener("change",i),e.addEventListener("change",i),e.removeEventListener("change",n)})},r.overrideNative_=function(t,e){var i=this;if(e===this["featuresNative"+t+"Tracks"]){var n=t.toLowerCase();this[n+"TracksListeners_"]&&Object.keys(this[n+"TracksListeners_"]).forEach(function(t){i.el()[n+"Tracks"].removeEventListener(t,i[n+"TracksListeners_"][t])}),this["featuresNative"+t+"Tracks"]=!e,this[n+"TracksListeners_"]=null,this.proxyNativeTracksForType_(n)}},r.overrideNativeAudioTracks=function(t){this.overrideNative_("Audio",t)},r.overrideNativeVideoTracks=function(t){this.overrideNative_("Video",t)},r.proxyNativeTracksForType_=function(t){var e=this,i=Ti[t],n=this.el()[i.getterName],s=this[i.getterName]();if(this["featuresNative"+i.capitalName+"Tracks"]&&n&&n.addEventListener){var r={change:function(t){s.trigger({type:"change",target:s,currentTarget:s,srcElement:s})},addtrack:function(t){s.addTrack(t.track)},removetrack:function(t){s.removeTrack(t.track)}},o=function(){for(var t=[],e=0;e<s.length;e++){for(var i=!1,r=0;r<n.length;r++)if(n[r]===s[e]){i=!0;break}i||t.push(s[e])}for(;t.length;)s.removeTrack(t.shift())};this[i.getterName+"Listeners_"]=r,Object.keys(r).forEach(function(t){var i=r[t];n.addEventListener(t,i),e.on("dispose",function(e){return n.removeEventListener(t,i)})}),this.on("loadstart",o),this.on("dispose",function(t){return e.off("loadstart",o)})}},r.proxyNativeTracks_=function(){var t=this;Ti.names.forEach(function(e){t.proxyNativeTracksForType_(e)})},r.createEl=function(){var e=this.options_.tag;if(!e||!this.options_.playerElIngest&&!this.movingMediaElementInDOM){if(e){var i=e.cloneNode(!0);e.parentNode&&e.parentNode.insertBefore(i,e),s.disposeMediaElement(e),e=i}else{e=t.createElement("video");var n=Ht({},this.options_.tag&&R(this.options_.tag));ae&&!0===this.options_.nativeControlsForTouch||delete n.controls,N(e,v(n,{id:this.options_.techId,class:"vjs-tech"}))}e.playerId=this.options_.playerId}void 0!==this.options_.preload&&F(e,"preload",this.options_.preload);for(var r=["loop","muted","playsinline","autoplay"],o=0;o<r.length;o++){var a=r[o],l=this.options_[a];void 0!==l&&(l?F(e,a,a):j(e,a),e[a]=l)}return e},r.handleLateInit_=function(t){if(0!==t.networkState&&3!==t.networkState){if(0===t.readyState){var e=!1,i=function(){e=!0};this.on("loadstart",i);var n=function(){e||this.trigger("loadstart")};return this.on("loadedmetadata",n),void this.ready(function(){this.off("loadstart",i),this.off("loadedmetadata",n),e||this.trigger("loadstart")})}var s=["loadstart"];s.push("loadedmetadata"),t.readyState>=2&&s.push("loadeddata"),t.readyState>=3&&s.push("canplay"),t.readyState>=4&&s.push("canplaythrough"),this.ready(function(){s.forEach(function(t){this.trigger(t)},this)})}},r.setCurrentTime=function(t){try{this.el_.currentTime=t}catch(t){c(t,"Video is not ready. (Video.js)")}},r.duration=function(){var t=this;if(this.el_.duration===1/0&&Zt&&ie&&0===this.el_.currentTime){return this.on("timeupdate",function e(){t.el_.currentTime>0&&(t.el_.duration===1/0&&t.trigger("durationchange"),t.off("timeupdate",e))}),NaN}return this.el_.duration||NaN},r.width=function(){return this.el_.offsetWidth},r.height=function(){return this.el_.offsetHeight},r.proxyWebkitFullscreen_=function(){var t=this;if("webkitDisplayingFullscreen"in this.el_){var e=function(){this.trigger("fullscreenchange",{isFullscreen:!1})},i=function(){"webkitPresentationMode"in this.el_&&"picture-in-picture"!==this.el_.webkitPresentationMode&&(this.one("webkitendfullscreen",e),this.trigger("fullscreenchange",{isFullscreen:!0}))};this.on("webkitbeginfullscreen",i),this.on("dispose",function(){t.off("webkitbeginfullscreen",i),t.off("webkitendfullscreen",e)})}},r.supportsFullScreen=function(){if("function"==typeof this.el_.webkitEnterFullScreen){var t=e.navigator&&e.navigator.userAgent||"";if(/Android/.test(t)||!/Chrome|Mac OS X 10.5/.test(t))return!0}return!1},r.enterFullScreen=function(){var t=this.el_;t.paused&&t.networkState<=t.HAVE_METADATA?(this.el_.play(),this.setTimeout(function(){t.pause(),t.webkitEnterFullScreen()},0)):t.webkitEnterFullScreen()},r.exitFullScreen=function(){this.el_.webkitExitFullScreen()},r.src=function(t){if(void 0===t)return this.el_.src;this.setSrc(t)},r.reset=function(){s.resetMediaElement(this.el_)},r.currentSrc=function(){return this.currentSource_?this.currentSource_.src:this.el_.currentSrc},r.setControls=function(t){this.el_.controls=!!t},r.addTextTrack=function(t,e,n){return this.featuresNativeTextTracks?this.el_.addTextTrack(t,e,n):i.prototype.addTextTrack.call(this,t,e,n)},r.createRemoteTextTrack=function(e){if(!this.featuresNativeTextTracks)return i.prototype.createRemoteTextTrack.call(this,e);var n=t.createElement("track");return e.kind&&(n.kind=e.kind),e.label&&(n.label=e.label),(e.language||e.srclang)&&(n.srclang=e.language||e.srclang),e.default&&(n.default=e.default),e.id&&(n.id=e.id),e.src&&(n.src=e.src),n},r.addRemoteTextTrack=function(t,e){var n=i.prototype.addRemoteTextTrack.call(this,t,e);return this.featuresNativeTextTracks&&this.el().appendChild(n),n},r.removeRemoteTextTrack=function(t){if(i.prototype.removeRemoteTextTrack.call(this,t),this.featuresNativeTextTracks)for(var e=this.$$("track"),n=e.length;n--;)t!==e[n]&&t!==e[n].track||this.el().removeChild(e[n])},r.getVideoPlaybackQuality=function(){if("function"==typeof this.el().getVideoPlaybackQuality)return this.el().getVideoPlaybackQuality();var t={};return void 0!==this.el().webkitDroppedFrameCount&&void 0!==this.el().webkitDecodedFrameCount&&(t.droppedVideoFrames=this.el().webkitDroppedFrameCount,t.totalVideoFrames=this.el().webkitDecodedFrameCount),e.performance&&"function"==typeof e.performance.now?t.creationTime=e.performance.now():e.performance&&e.performance.timing&&"number"==typeof e.performance.timing.navigationStart&&(t.creationTime=e.Date.now()-e.performance.timing.navigationStart),t},s}(en);if(S()){Ys.TEST_VID=t.createElement("video");var Vs=t.createElement("track");Vs.kind="captions",Vs.srclang="en",Vs.label="English",Ys.TEST_VID.appendChild(Vs)}Ys.isSupported=function(){try{Ys.TEST_VID.volume=.5}catch(t){return!1}return!(!Ys.TEST_VID||!Ys.TEST_VID.canPlayType)},Ys.canPlayType=function(t){return Ys.TEST_VID.canPlayType(t)},Ys.canPlaySource=function(t,e){return Ys.canPlayType(t.type)},Ys.canControlVolume=function(){try{var t=Ys.TEST_VID.volume;return Ys.TEST_VID.volume=t/2+.1,t!==Ys.TEST_VID.volume}catch(t){return!1}},Ys.canMuteVolume=function(){try{var t=Ys.TEST_VID.muted;return Ys.TEST_VID.muted=!t,Ys.TEST_VID.muted?F(Ys.TEST_VID,"muted","muted"):j(Ys.TEST_VID,"muted"),t!==Ys.TEST_VID.muted}catch(t){return!1}},Ys.canControlPlaybackRate=function(){if(Zt&&ie&&ne<58)return!1;try{var t=Ys.TEST_VID.playbackRate;return Ys.TEST_VID.playbackRate=t/2+.1,t!==Ys.TEST_VID.playbackRate}catch(t){return!1}},Ys.canOverrideAttributes=function(){try{var e=function(){};Object.defineProperty(t.createElement("video"),"src",{get:e,set:e}),Object.defineProperty(t.createElement("audio"),"src",{get:e,set:e}),Object.defineProperty(t.createElement("video"),"innerHTML",{get:e,set:e}),Object.defineProperty(t.createElement("audio"),"innerHTML",{get:e,set:e})}catch(t){return!1}return!0},Ys.supportsNativeTextTracks=function(){return oe||Xt&&ie},Ys.supportsNativeVideoTracks=function(){return!(!Ys.TEST_VID||!Ys.TEST_VID.videoTracks)},Ys.supportsNativeAudioTracks=function(){return!(!Ys.TEST_VID||!Ys.TEST_VID.audioTracks)},Ys.Events=["loadstart","suspend","abort","error","emptied","stalled","loadedmetadata","loadeddata","canplay","canplaythrough","playing","waiting","seeking","seeked","ended","durationchange","timeupdate","progress","play","pause","ratechange","resize","volumechange"],Ys.prototype.featuresVolumeControl=Ys.canControlVolume(),Ys.prototype.featuresMuteControl=Ys.canMuteVolume(),Ys.prototype.featuresPlaybackRate=Ys.canControlPlaybackRate(),Ys.prototype.featuresSourceset=Ys.canOverrideAttributes(),Ys.prototype.movingMediaElementInDOM=!Xt,Ys.prototype.featuresFullscreenResize=!0,Ys.prototype.featuresProgressEvents=!0,Ys.prototype.featuresTimeupdateEvents=!0,Ys.prototype.featuresNativeTextTracks=Ys.supportsNativeTextTracks(),Ys.prototype.featuresNativeVideoTracks=Ys.supportsNativeVideoTracks(),Ys.prototype.featuresNativeAudioTracks=Ys.supportsNativeAudioTracks();var qs=Ys.TEST_VID&&Ys.TEST_VID.constructor.prototype.canPlayType,$s=/^application\/(?:x-|vnd\.apple\.)mpegurl/i;function Gs(){var t=a(["\n        Using the tech directly can be dangerous. I hope you know what you're doing.\n        See https://github.com/videojs/video.js/issues/2617 for more info.\n      "]);return Gs=function(){return t},t}Ys.patchCanPlayType=function(){Qt>=4&&!te&&!ie&&(Ys.TEST_VID.constructor.prototype.canPlayType=function(t){return t&&$s.test(t)?"maybe":qs.call(this,t)})},Ys.unpatchCanPlayType=function(){var t=Ys.TEST_VID.constructor.prototype.canPlayType;return Ys.TEST_VID.constructor.prototype.canPlayType=qs,t},Ys.patchCanPlayType(),Ys.disposeMediaElement=function(t){if(t){for(t.parentNode&&t.parentNode.removeChild(t);t.hasChildNodes();)t.removeChild(t.firstChild);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},Ys.resetMediaElement=function(t){if(t){for(var e=t.querySelectorAll("source"),i=e.length;i--;)t.removeChild(e[i]);t.removeAttribute("src"),"function"==typeof t.load&&function(){try{t.load()}catch(t){}}()}},["muted","defaultMuted","autoplay","controls","loop","playsinline"].forEach(function(t){Ys.prototype[t]=function(){return this.el_[t]||this.el_.hasAttribute(t)}}),["muted","defaultMuted","autoplay","loop","playsinline"].forEach(function(t){Ys.prototype["set"+jt(t)]=function(e){this.el_[t]=e,e?this.el_.setAttribute(t,t):this.el_.removeAttribute(t)}}),["paused","currentTime","buffered","volume","poster","preload","error","seeking","seekable","ended","playbackRate","defaultPlaybackRate","played","networkState","readyState","videoWidth","videoHeight"].forEach(function(t){Ys.prototype[t]=function(){return this.el_[t]}}),["volume","src","poster","preload","playbackRate","defaultPlaybackRate"].forEach(function(t){Ys.prototype["set"+jt(t)]=function(e){this.el_[t]=e}}),["pause","load","play"].forEach(function(t){Ys.prototype[t]=function(){return this.el_[t]()}}),en.withSourceHandlers(Ys),Ys.nativeSourceHandler={},Ys.nativeSourceHandler.canPlayType=function(t){try{return Ys.TEST_VID.canPlayType(t)}catch(t){return""}},Ys.nativeSourceHandler.canHandleSource=function(t,e){if(t.type)return Ys.nativeSourceHandler.canPlayType(t.type);if(t.src){var i=Ve(t.src);return Ys.nativeSourceHandler.canPlayType("video/"+i)}return""},Ys.nativeSourceHandler.handleSource=function(t,e,i){e.setSrc(t.src)},Ys.nativeSourceHandler.dispose=function(){},Ys.registerSourceHandler(Ys.nativeSourceHandler),en.registerTech("Html5",Ys);var Xs=["progress","abort","suspend","emptied","stalled","loadedmetadata","loadeddata","timeupdate","resize","volumechange","texttrackchange"],Ks={canplay:"CanPlay",canplaythrough:"CanPlayThrough",playing:"Playing",seeked:"Seeked"},Zs=["tiny","xsmall","small","medium","large","xlarge","huge"],Qs={};Zs.forEach(function(t){var e="x"===t.charAt(0)?"x-"+t.substring(1):t;Qs[t]="vjs-layout-"+e});var Js={tiny:210,xsmall:320,small:425,medium:768,large:1440,xlarge:2560,huge:1/0},tr=function(s){function r(t,e,n){var a;if(t.id=t.id||e.id||"vjs_video_"+et(),(e=v(r.getTagSettings(t),e)).initChildren=!1,e.createEl=!1,e.evented=!1,e.reportTouchActivity=!1,!e.language)if("function"==typeof t.closest){var l=t.closest("[lang]");l&&l.getAttribute&&(e.language=l.getAttribute("lang"))}else for(var u=t;u&&1===u.nodeType;){if(R(u).hasOwnProperty("lang")){e.language=u.getAttribute("lang");break}u=u.parentNode}if((a=s.call(this,null,e,n)||this).log=h(a.id_),a.isPosterFromTech_=!1,a.queuedCallbacks_=[],a.isReady_=!1,a.hasStarted_=!1,a.userActive_=!1,!a.options_||!a.options_.techOrder||!a.options_.techOrder.length)throw new Error("No techOrder specified. Did you overwrite videojs.options instead of just changing the properties you want to override?");if(a.tag=t,a.tagAttributes=t&&R(t),a.language(a.options_.language),e.languages){var c={};Object.getOwnPropertyNames(e.languages).forEach(function(t){c[t.toLowerCase()]=e.languages[t]}),a.languages_=c}else a.languages_=r.prototype.options_.languages;a.cache_={},a.poster_=e.poster||"",a.controls_=!!e.controls,a.cache_.lastVolume=1,t.controls=!1,t.removeAttribute("controls"),t.hasAttribute("autoplay")?a.options_.autoplay=!0:a.autoplay(a.options_.autoplay),a.scrubbing_=!1,a.el_=a.createEl(),a.cache_.lastPlaybackRate=a.defaultPlaybackRate(),Rt(o(o(a)),{eventBusKey:"el_"}),a.fluid_&&a.on("playerreset",a.updateStyleEl_);var d=Ht(a.options_);if(e.plugins){var p=e.plugins;Object.keys(p).forEach(function(t){if("function"!=typeof this[t])throw new Error('plugin "'+t+'" does not exist');this[t](p[t])},o(o(a)))}a.options_.playerOptions=d,a.middleware_=[],a.initChildren(),a.isAudio("audio"===t.nodeName.toLowerCase()),a.controls()?a.addClass("vjs-controls-enabled"):a.addClass("vjs-controls-disabled"),a.el_.setAttribute("role","region"),a.isAudio()?a.el_.setAttribute("aria-label",a.localize("Audio Player")):a.el_.setAttribute("aria-label",a.localize("Video Player")),a.isAudio()&&a.addClass("vjs-audio"),a.flexNotSupported_()&&a.addClass("vjs-no-flex"),Xt||a.addClass("vjs-workinghover"),r.players[a.id_]=o(o(a));var f=i.split(".")[0];return a.addClass("vjs-v"+f),a.userActive(!0),a.reportUserActivity(),a.one("play",a.listenForUserActivity_),a.on("fullscreenchange",a.handleFullscreenChange_),a.on("stageclick",a.handleStageClick_),a.breakpoints(a.options_.breakpoints),a.responsive(a.options_.responsive),a.changingSrc_=!1,a.playWaitingForReady_=!1,a.playOnLoadstart_=null,a}n(r,s);var a=r.prototype;return a.dispose=function(){this.trigger("dispose"),this.off("dispose"),this.styleEl_&&this.styleEl_.parentNode&&(this.styleEl_.parentNode.removeChild(this.styleEl_),this.styleEl_=null),r.players[this.id_]=null,this.tag&&this.tag.player&&(this.tag.player=null),this.el_&&this.el_.player&&(this.el_.player=null),this.tech_&&(this.tech_.dispose(),this.isPosterFromTech_=!1,this.poster_=""),this.playerElIngest_&&(this.playerElIngest_=null),this.tag&&(this.tag=null),sn[this.id()]=null,s.prototype.dispose.call(this)},a.createEl=function(){var i,n=this.tag,r=this.playerElIngest_=n.parentNode&&n.parentNode.hasAttribute&&n.parentNode.hasAttribute("data-vjs-player"),o="video-js"===this.tag.tagName.toLowerCase();r?i=this.el_=n.parentNode:o||(i=this.el_=s.prototype.createEl.call(this,"div"));var a=R(n);if(o){for(i=this.el_=n,n=this.tag=t.createElement("video");i.children.length;)n.appendChild(i.firstChild);I(i,"video-js")||O(i,"video-js"),i.appendChild(n),r=this.playerElIngest_=i,Object.keys(i).forEach(function(t){n[t]=i[t]})}if(n.setAttribute("tabindex","-1"),a.tabindex="-1",se&&(n.setAttribute("role","application"),a.role="application"),n.removeAttribute("width"),n.removeAttribute("height"),"width"in a&&delete a.width,"height"in a&&delete a.height,Object.getOwnPropertyNames(a).forEach(function(t){o&&"class"===t||i.setAttribute(t,a[t]),o&&n.setAttribute(t,a[t])}),n.playerId=n.id,n.id+="_html5_api",n.className="vjs-tech",n.player=i.player=this,this.addClass("vjs-paused"),!0!==e.VIDEOJS_NO_DYNAMIC_STYLE){this.styleEl_=Tt("vjs-styles-dimensions");var l=Z(".vjs-styles-defaults"),u=Z("head");u.insertBefore(this.styleEl_,l?l.nextSibling:u.firstChild)}this.fill_=!1,this.fluid_=!1,this.width(this.options_.width),this.height(this.options_.height),this.fill(this.options_.fill),this.fluid(this.options_.fluid),this.aspectRatio(this.options_.aspectRatio);for(var c=n.getElementsByTagName("a"),h=0;h<c.length;h++){var d=c.item(h);O(d,"vjs-hidden"),d.setAttribute("hidden","hidden")}return n.initNetworkState_=n.networkState,n.parentNode&&!r&&n.parentNode.insertBefore(i,n),P(n,i),this.children_.unshift(n),this.el_.setAttribute("lang",this.language_),this.el_=i,i},a.width=function(t){return this.dimension("width",t)},a.height=function(t){return this.dimension("height",t)},a.dimension=function(t,e){var i=t+"_";if(void 0===e)return this[i]||0;if(""===e)return this[i]=void 0,void this.updateStyleEl_();var n=parseFloat(e);isNaN(n)?c.error('Improper value "'+e+'" supplied for for '+t):(this[i]=n,this.updateStyleEl_())},a.fluid=function(t){if(void 0===t)return!!this.fluid_;var e,i;this.fluid_=!!t,Dt(this)&&this.off("playerreset",this.updateStyleEl_),t?(this.addClass("vjs-fluid"),this.fill(!1),Dt(e=function(){this.on("playerreset",this.updateStyleEl_)})?i():(e.eventedCallbacks||(e.eventedCallbacks=[]),e.eventedCallbacks.push(i))):this.removeClass("vjs-fluid"),this.updateStyleEl_()},a.fill=function(t){if(void 0===t)return!!this.fill_;this.fill_=!!t,t?(this.addClass("vjs-fill"),this.fluid(!1)):this.removeClass("vjs-fill")},a.aspectRatio=function(t){if(void 0===t)return this.aspectRatio_;if(!/^\d+\:\d+$/.test(t))throw new Error("Improper value supplied for aspect ratio. The format should be width:height, for example 16:9.");this.aspectRatio_=t,this.fluid(!0),this.updateStyleEl_()},a.updateStyleEl_=function(){if(!0!==e.VIDEOJS_NO_DYNAMIC_STYLE){var t,i,n,s=(void 0!==this.aspectRatio_&&"auto"!==this.aspectRatio_?this.aspectRatio_:this.videoWidth()>0?this.videoWidth()+":"+this.videoHeight():"16:9").split(":"),r=s[1]/s[0];t=void 0!==this.width_?this.width_:void 0!==this.height_?this.height_/r:this.videoWidth()||300,i=void 0!==this.height_?this.height_:t*r,n=/^[^a-zA-Z]/.test(this.id())?"dimensions-"+this.id():this.id()+"-dimensions",this.addClass(n),kt(this.styleEl_,"\n      ."+n+" {\n        width: "+t+"px;\n        height: "+i+"px;\n      }\n\n      ."+n+".vjs-fluid {\n        padding-top: "+100*r+"%;\n      }\n    ")}else{var o="number"==typeof this.width_?this.width_:this.options_.width,a="number"==typeof this.height_?this.height_:this.options_.height,l=this.tech_&&this.tech_.el();l&&(o>=0&&(l.width=o),a>=0&&(l.height=a))}},a.loadTech_=function(t,e){var i=this;this.tech_&&this.unloadTech_();var n=jt(t),s=t.charAt(0).toLowerCase()+t.slice(1);"Html5"!==n&&this.tag&&(en.getTech("Html5").disposeMediaElement(this.tag),this.tag.player=null,this.tag=null),this.techName_=n,this.isReady_=!1;var r={source:e,autoplay:"string"!=typeof this.autoplay()&&this.autoplay(),nativeControlsForTouch:this.options_.nativeControlsForTouch,playerId:this.id(),techId:this.id()+"_"+s+"_api",playsinline:this.options_.playsinline,preload:this.options_.preload,loop:this.options_.loop,muted:this.options_.muted,poster:this.poster(),language:this.language(),playerElIngest:this.playerElIngest_||!1,"vtt.js":this.options_["vtt.js"],canOverridePoster:!!this.options_.techCanOverridePoster,enableSourceset:this.options_.enableSourceset};Si.names.forEach(function(t){var e=Si[t];r[e.getterName]=i[e.privateName]}),v(r,this.options_[n]),v(r,this.options_[s]),v(r,this.options_[t.toLowerCase()]),this.tag&&(r.tag=this.tag),e&&e.src===this.cache_.src&&this.cache_.currentTime>0&&(r.startTime=this.cache_.currentTime);var o=en.getTech(t);if(!o)throw new Error("No Tech named '"+n+"' exists! '"+n+"' should be registered using videojs.registerTech()'");this.tech_=new o(r),this.tech_.ready(St(this,this.handleTechReady_),!0),xe(this.textTracksJson_||[],this.tech_),Xs.forEach(function(t){i.on(i.tech_,t,i["handleTech"+jt(t)+"_"])}),Object.keys(Ks).forEach(function(t){i.on(i.tech_,t,function(e){0===i.tech_.playbackRate()&&i.tech_.seeking()?i.queuedCallbacks_.push({callback:i["handleTech"+Ks[t]+"_"].bind(i),event:e}):i["handleTech"+Ks[t]+"_"](e)})}),this.on(this.tech_,"loadstart",this.handleTechLoadStart_),this.on(this.tech_,"sourceset",this.handleTechSourceset_),this.on(this.tech_,"waiting",this.handleTechWaiting_),this.on(this.tech_,"ended",this.handleTechEnded_),this.on(this.tech_,"seeking",this.handleTechSeeking_),this.on(this.tech_,"play",this.handleTechPlay_),this.on(this.tech_,"firstplay",this.handleTechFirstPlay_),this.on(this.tech_,"pause",this.handleTechPause_),this.on(this.tech_,"durationchange",this.handleTechDurationChange_),this.on(this.tech_,"fullscreenchange",this.handleTechFullscreenChange_),this.on(this.tech_,"error",this.handleTechError_),this.on(this.tech_,"loadedmetadata",this.updateStyleEl_),this.on(this.tech_,"posterchange",this.handleTechPosterChange_),this.on(this.tech_,"textdata",this.handleTechTextData_),this.on(this.tech_,"ratechange",this.handleTechRateChange_),this.usingNativeControls(this.techGet_("controls")),this.controls()&&!this.usingNativeControls()&&this.addTechControlsListeners_(),this.tech_.el().parentNode===this.el()||"Html5"===n&&this.tag||P(this.tech_.el(),this.el()),this.tag&&(this.tag.player=null,this.tag=null)},a.unloadTech_=function(){var t=this;Si.names.forEach(function(e){var i=Si[e];t[i.privateName]=t[i.getterName]()}),this.textTracksJson_=Ce(this.tech_),this.isReady_=!1,this.tech_.dispose(),this.tech_=!1,this.isPosterFromTech_&&(this.poster_="",this.trigger("posterchange")),this.isPosterFromTech_=!1},a.tech=function(t){return void 0===t&&c.warn(p(Gs())),this.tech_},a.addTechControlsListeners_=function(){this.removeTechControlsListeners_(),this.on(this.tech_,"mousedown",this.handleTechClick_),this.on(this.tech_,"dblclick",this.handleTechDoubleClick_),this.on(this.tech_,"touchstart",this.handleTechTouchStart_),this.on(this.tech_,"touchmove",this.handleTechTouchMove_),this.on(this.tech_,"touchend",this.handleTechTouchEnd_),this.on(this.tech_,"tap",this.handleTechTap_)},a.removeTechControlsListeners_=function(){this.off(this.tech_,"tap",this.handleTechTap_),this.off(this.tech_,"touchstart",this.handleTechTouchStart_),this.off(this.tech_,"touchmove",this.handleTechTouchMove_),this.off(this.tech_,"touchend",this.handleTechTouchEnd_),this.off(this.tech_,"mousedown",this.handleTechClick_),this.off(this.tech_,"dblclick",this.handleTechDoubleClick_)},a.handleTechReady_=function(){this.triggerReady(),this.cache_.volume&&this.techCall_("setVolume",this.cache_.volume),this.handleTechPosterChange_(),this.handleTechDurationChange_()},a.handleTechLoadStart_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-seeking"),this.error(null),this.handleTechDurationChange_(),this.paused()?(this.hasStarted(!1),this.trigger("loadstart")):(this.trigger("loadstart"),this.trigger("firstplay")),this.manualAutoplay_(this.autoplay())},a.manualAutoplay_=function(t){var e=this;if(this.tech_&&"string"==typeof t){var i,n=function(){var t=e.muted();e.muted(!0);var i=e.play();if(i&&i.then&&i.catch)return i.catch(function(i){e.muted(t)})};if("any"===t?(i=this.play())&&i.then&&i.catch&&i.catch(function(){return n()}):i="muted"===t?n():this.play(),i&&i.then&&i.catch)return i.then(function(){e.trigger({type:"autoplay-success",autoplay:t})}).catch(function(i){e.trigger({type:"autoplay-failure",autoplay:t})})}},a.updateSourceCaches_=function(t){void 0===t&&(t="");var e=t,i="";"string"!=typeof e&&(e=t.src,i=t.type),this.cache_.source=this.cache_.source||{},this.cache_.sources=this.cache_.sources||[],e&&!i&&(i=function(t,e){if(!e)return"";if(t.cache_.source.src===e&&t.cache_.source.type)return t.cache_.source.type;var i=t.cache_.sources.filter(function(t){return t.src===e});if(i.length)return i[0].type;for(var n=t.$$("source"),s=0;s<n.length;s++){var r=n[s];if(r.type&&r.src&&r.src===e)return r.type}return pn(e)}(this,e)),this.cache_.source=Ht({},t,{src:e,type:i});for(var n=this.cache_.sources.filter(function(t){return t.src&&t.src===e}),s=[],r=this.$$("source"),o=[],a=0;a<r.length;a++){var l=R(r[a]);s.push(l),l.src&&l.src===e&&o.push(l.src)}o.length&&!n.length?this.cache_.sources=s:n.length||(this.cache_.sources=[this.cache_.source]),this.cache_.src=e},a.handleTechSourceset_=function(t){var e=this;if(!this.changingSrc_){var i=function(t){return e.updateSourceCaches_(t)},n=this.currentSource().src,s=t.src;if(n&&!/^blob:/.test(n)&&/^blob:/.test(s)&&(!this.lastSource_||this.lastSource_.tech!==s&&this.lastSource_.player!==n)&&(i=function(){}),i(s),!t.src){this.tech_.one(["sourceset","loadstart"],function t(i){if("sourceset"!==i.type){var n=e.techGet("currentSrc");e.lastSource_.tech=n,e.updateSourceCaches_(n)}e.tech_.off(["sourceset","loadstart"],t)})}}this.lastSource_={player:this.currentSource().src,tech:t.src},this.trigger({src:t.src,type:"sourceset"})},a.hasStarted=function(t){if(void 0===t)return this.hasStarted_;t!==this.hasStarted_&&(this.hasStarted_=t,this.hasStarted_?(this.addClass("vjs-has-started"),this.trigger("firstplay")):this.removeClass("vjs-has-started"))},a.handleTechPlay_=function(){this.removeClass("vjs-ended"),this.removeClass("vjs-paused"),this.addClass("vjs-playing"),this.hasStarted(!0),this.trigger("play")},a.handleTechRateChange_=function(){this.tech_.playbackRate()>0&&0===this.cache_.lastPlaybackRate&&(this.queuedCallbacks_.forEach(function(t){return t.callback(t.event)}),this.queuedCallbacks_=[]),this.cache_.lastPlaybackRate=this.tech_.playbackRate(),this.trigger("ratechange")},a.handleTechWaiting_=function(){var t=this;this.addClass("vjs-waiting"),this.trigger("waiting");var e=this.currentTime();this.on("timeupdate",function i(){e!==t.currentTime()&&(t.removeClass("vjs-waiting"),t.off("timeupdate",i))})},a.handleTechCanPlay_=function(){this.removeClass("vjs-waiting"),this.trigger("canplay")},a.handleTechCanPlayThrough_=function(){this.removeClass("vjs-waiting"),this.trigger("canplaythrough")},a.handleTechPlaying_=function(){this.removeClass("vjs-waiting"),this.trigger("playing")},a.handleTechSeeking_=function(){this.addClass("vjs-seeking"),this.trigger("seeking")},a.handleTechSeeked_=function(){this.removeClass("vjs-seeking"),this.trigger("seeked")},a.handleTechFirstPlay_=function(){this.options_.starttime&&(c.warn("Passing the `starttime` option to the player will be deprecated in 6.0"),this.currentTime(this.options_.starttime)),this.addClass("vjs-has-started"),this.trigger("firstplay")},a.handleTechPause_=function(){this.removeClass("vjs-playing"),this.addClass("vjs-paused"),this.trigger("pause")},a.handleTechEnded_=function(){this.addClass("vjs-ended"),this.options_.loop?(this.currentTime(0),this.play()):this.paused()||this.pause(),this.trigger("ended")},a.handleTechDurationChange_=function(){this.duration(this.techGet_("duration"))},a.handleTechClick_=function(t){K(t)&&this.controls_&&(this.paused()?ke(this.play()):this.pause())},a.handleTechDoubleClick_=function(t){this.controls_&&(Array.prototype.some.call(this.$$(".vjs-control-bar, .vjs-modal-dialog"),function(e){return e.contains(t.target)})||(this.isFullscreen()?this.exitFullscreen():this.requestFullscreen()))},a.handleTechTap_=function(){this.userActive(!this.userActive())},a.handleTechTouchStart_=function(){this.userWasActive=this.userActive()},a.handleTechTouchMove_=function(){this.userWasActive&&this.reportUserActivity()},a.handleTechTouchEnd_=function(t){t.preventDefault()},a.handleFullscreenChange_=function(){this.isFullscreen()?this.addClass("vjs-fullscreen"):this.removeClass("vjs-fullscreen")},a.handleStageClick_=function(){this.reportUserActivity()},a.handleTechFullscreenChange_=function(t,e){e&&this.isFullscreen(e.isFullscreen),this.trigger("fullscreenchange")},a.handleTechError_=function(){var t=this.tech_.error();this.error(t)},a.handleTechTextData_=function(){var t=null;arguments.length>1&&(t=arguments[1]),this.trigger("textdata",t)},a.getCache=function(){return this.cache_},a.techCall_=function(t,e){this.ready(function(){if(t in un)return function(t,e,i,n){return e[i](t.reduce(hn(i),n))}(this.middleware_,this.tech_,t,e);if(t in cn)return an(this.middleware_,this.tech_,t,e);try{this.tech_&&this.tech_[t](e)}catch(t){throw c(t),t}},!0)},a.techGet_=function(t){if(this.tech_&&this.tech_.isReady_){if(t in ln)return function(t,e,i){return t.reduceRight(hn(i),e[i]())}(this.middleware_,this.tech_,t);if(t in cn)return an(this.middleware_,this.tech_,t);try{return this.tech_[t]()}catch(e){if(void 0===this.tech_[t])throw c("Video.js: "+t+" method not defined for "+this.techName_+" playback technology.",e),e;if("TypeError"===e.name)throw c("Video.js: "+t+" unavailable on "+this.techName_+" playback technology element.",e),this.tech_.isReady_=!1,e;throw c(e),e}}},a.play=function(){var t=this,i=this.options_.Promise||e.Promise;return i?new i(function(e){t.play_(e)}):this.play_()},a.play_=function(t){var e=this;if(void 0===t&&(t=ke),this.playOnLoadstart_&&this.off("loadstart",this.playOnLoadstart_),this.isReady_){if(!this.changingSrc_&&(this.src()||this.currentSrc()))return void t(this.techGet_("play"));this.playOnLoadstart_=function(){e.playOnLoadstart_=null,t(e.play())},this.one("loadstart",this.playOnLoadstart_)}else{if(this.playWaitingForReady_)return;this.playWaitingForReady_=!0,this.ready(function(){e.playWaitingForReady_=!1,t(e.play())})}},a.pause=function(){this.techCall_("pause")},a.paused=function(){return!1!==this.techGet_("paused")},a.played=function(){return this.techGet_("played")||he(0,0)},a.scrubbing=function(t){if(void 0===t)return this.scrubbing_;this.scrubbing_=!!t,t?this.addClass("vjs-scrubbing"):this.removeClass("vjs-scrubbing")},a.currentTime=function(t){return void 0!==t?(t<0&&(t=0),void this.techCall_("setCurrentTime",t)):(this.cache_.currentTime=this.techGet_("currentTime")||0,this.cache_.currentTime)},a.duration=function(t){if(void 0===t)return void 0!==this.cache_.duration?this.cache_.duration:NaN;(t=parseFloat(t))<0&&(t=1/0),t!==this.cache_.duration&&(this.cache_.duration=t,t===1/0?(this.addClass("vjs-live"),this.options_.liveui&&this.player_.liveTracker&&this.addClass("vjs-liveui")):(this.removeClass("vjs-live"),this.removeClass("vjs-liveui")),isNaN(t)||this.trigger("durationchange"))},a.remainingTime=function(){return this.duration()-this.currentTime()},a.remainingTimeDisplay=function(){return Math.floor(this.duration())-Math.floor(this.currentTime())},a.buffered=function(){var t=this.techGet_("buffered");return t&&t.length||(t=he(0,0)),t},a.bufferedPercent=function(){return de(this.buffered(),this.duration())},a.bufferedEnd=function(){var t=this.buffered(),e=this.duration(),i=t.end(t.length-1);return i>e&&(i=e),i},a.volume=function(t){var e;return void 0!==t?(e=Math.max(0,Math.min(1,parseFloat(t))),this.cache_.volume=e,this.techCall_("setVolume",e),void(e>0&&this.lastVolume_(e))):(e=parseFloat(this.techGet_("volume")),isNaN(e)?1:e)},a.muted=function(t){if(void 0===t)return this.techGet_("muted")||!1;this.techCall_("setMuted",t)},a.defaultMuted=function(t){return void 0!==t?this.techCall_("setDefaultMuted",t):this.techGet_("defaultMuted")||!1},a.lastVolume_=function(t){if(void 0===t||0===t)return this.cache_.lastVolume;this.cache_.lastVolume=t},a.supportsFullScreen=function(){return this.techGet_("supportsFullScreen")||!1},a.isFullscreen=function(t){if(void 0===t)return!!this.isFullscreen_;this.isFullscreen_=!!t},a.requestFullscreen=function(){var e=fe;this.isFullscreen(!0),e.requestFullscreen?(dt(t,e.fullscreenchange,St(this,function i(n){this.isFullscreen(t[e.fullscreenElement]),!1===this.isFullscreen()&&pt(t,e.fullscreenchange,i),this.trigger("fullscreenchange")})),this.el_[e.requestFullscreen]()):this.tech_.supportsFullScreen()?this.techCall_("enterFullScreen"):(this.enterFullWindow(),this.trigger("fullscreenchange"))},a.exitFullscreen=function(){var e=fe;this.isFullscreen(!1),e.requestFullscreen?t[e.exitFullscreen]():this.tech_.supportsFullScreen()?this.techCall_("exitFullScreen"):(this.exitFullWindow(),this.trigger("fullscreenchange"))},a.enterFullWindow=function(){this.isFullWindow=!0,this.docOrigOverflow=t.documentElement.style.overflow,dt(t,"keydown",St(this,this.fullWindowOnEscKey)),t.documentElement.style.overflow="hidden",O(t.body,"vjs-full-window"),this.trigger("enterFullWindow")},a.fullWindowOnEscKey=function(t){27===t.keyCode&&(!0===this.isFullscreen()?this.exitFullscreen():this.exitFullWindow())},a.exitFullWindow=function(){this.isFullWindow=!1,pt(t,"keydown",this.fullWindowOnEscKey),t.documentElement.style.overflow=this.docOrigOverflow,M(t.body,"vjs-full-window"),this.trigger("exitFullWindow")},a.canPlayType=function(t){for(var e,i=0,n=this.options_.techOrder;i<n.length;i++){var s=n[i],r=en.getTech(s);if(r||(r=zt.getComponent(s)),r){if(r.isSupported()&&(e=r.canPlayType(t)))return e}else c.error('The "'+s+'" tech is undefined. Skipped browser support check for that tech.')}return""},a.selectSource=function(t){var e,i=this,n=this.options_.techOrder.map(function(t){return[t,en.getTech(t)]}).filter(function(t){var e=t[0],i=t[1];return i?i.isSupported():(c.error('The "'+e+'" tech is undefined. Skipped browser support check for that tech.'),!1)}),s=function(t,e,i){var n;return t.some(function(t){return e.some(function(e){if(n=i(t,e))return!0})}),n},r=function(t,e){var n=t[0];if(t[1].canPlaySource(e,i.options_[n.toLowerCase()]))return{source:e,tech:n}};return(this.options_.sourceOrder?s(t,n,(e=r,function(t,i){return e(i,t)})):s(n,t,r))||!1},a.src=function(t){var e=this;if(void 0===t)return this.cache_.src||"";var i=function t(e){if(Array.isArray(e)){var i=[];e.forEach(function(e){e=t(e),Array.isArray(e)?i=i.concat(e):y(e)&&i.push(e)}),e=i}else e="string"==typeof e&&e.trim()?[fn({src:e})]:y(e)&&"string"==typeof e.src&&e.src&&e.src.trim()?[fn(e)]:[];return e}(t);i.length?(this.changingSrc_=!0,this.cache_.sources=i,this.updateSourceCaches_(i[0]),on(this,i[0],function(t,n){var s,r;if(e.middleware_=n,e.cache_.sources=i,e.updateSourceCaches_(t),e.src_(t))return i.length>1?e.src(i.slice(1)):(e.changingSrc_=!1,e.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0),void e.triggerReady());s=n,r=e.tech_,s.forEach(function(t){return t.setTech&&t.setTech(r)})})):this.setTimeout(function(){this.error({code:4,message:this.localize(this.options_.notSupportedMessage)})},0)},a.src_=function(t){var e,i,n=this,s=this.selectSource([t]);return!s||(e=s.tech,i=this.techName_,jt(e)!==jt(i)?(this.changingSrc_=!0,this.loadTech_(s.tech,s.source),this.tech_.ready(function(){n.changingSrc_=!1}),!1):(this.ready(function(){this.tech_.constructor.prototype.hasOwnProperty("setSource")?this.techCall_("setSource",t):this.techCall_("src",t.src),this.changingSrc_=!1},!0),!1))},a.load=function(){this.techCall_("load")},a.reset=function(){this.tech_&&this.tech_.clearTracks("text"),this.loadTech_(this.options_.techOrder[0],null),this.techCall_("reset"),Dt(this)&&this.trigger("playerreset")},a.currentSources=function(){var t=this.currentSource(),e=[];return 0!==Object.keys(t).length&&e.push(t),this.cache_.sources||e},a.currentSource=function(){return this.cache_.source||{}},a.currentSrc=function(){return this.currentSource()&&this.currentSource().src||""},a.currentType=function(){return this.currentSource()&&this.currentSource().type||""},a.preload=function(t){return void 0!==t?(this.techCall_("setPreload",t),void(this.options_.preload=t)):this.techGet_("preload")},a.autoplay=function(t){if(void 0===t)return this.options_.autoplay||!1;var e;"string"==typeof t&&/(any|play|muted)/.test(t)?(this.options_.autoplay=t,this.manualAutoplay_(t),e=!1):this.options_.autoplay=!!t,e=e||this.options_.autoplay,this.tech_&&this.techCall_("setAutoplay",e)},a.playsinline=function(t){return void 0!==t?(this.techCall_("setPlaysinline",t),this.options_.playsinline=t,this):this.techGet_("playsinline")},a.loop=function(t){return void 0!==t?(this.techCall_("setLoop",t),void(this.options_.loop=t)):this.techGet_("loop")},a.poster=function(t){if(void 0===t)return this.poster_;t||(t=""),t!==this.poster_&&(this.poster_=t,this.techCall_("setPoster",t),this.isPosterFromTech_=!1,this.trigger("posterchange"))},a.handleTechPosterChange_=function(){if((!this.poster_||this.options_.techCanOverridePoster)&&this.tech_&&this.tech_.poster){var t=this.tech_.poster()||"";t!==this.poster_&&(this.poster_=t,this.isPosterFromTech_=!0,this.trigger("posterchange"))}},a.controls=function(t){if(void 0===t)return!!this.controls_;t=!!t,this.controls_!==t&&(this.controls_=t,this.usingNativeControls()&&this.techCall_("setControls",t),this.controls_?(this.removeClass("vjs-controls-disabled"),this.addClass("vjs-controls-enabled"),this.trigger("controlsenabled"),this.usingNativeControls()||this.addTechControlsListeners_()):(this.removeClass("vjs-controls-enabled"),this.addClass("vjs-controls-disabled"),this.trigger("controlsdisabled"),this.usingNativeControls()||this.removeTechControlsListeners_()))},a.usingNativeControls=function(t){if(void 0===t)return!!this.usingNativeControls_;t=!!t,this.usingNativeControls_!==t&&(this.usingNativeControls_=t,this.usingNativeControls_?(this.addClass("vjs-using-native-controls"),this.trigger("usingnativecontrols")):(this.removeClass("vjs-using-native-controls"),this.trigger("usingcustomcontrols")))},a.error=function(t){return void 0===t?this.error_||null:null===t?(this.error_=t,this.removeClass("vjs-error"),void(this.errorDisplay&&this.errorDisplay.close())):(this.error_=new _e(t),this.addClass("vjs-error"),c.error("(CODE:"+this.error_.code+" "+_e.errorTypes[this.error_.code]+")",this.error_.message,this.error_),void this.trigger("error"))},a.reportUserActivity=function(t){this.userActivity_=!0},a.userActive=function(t){if(void 0===t)return this.userActive_;if((t=!!t)!==this.userActive_){if(this.userActive_=t,this.userActive_)return this.userActivity_=!0,this.removeClass("vjs-user-inactive"),this.addClass("vjs-user-active"),void this.trigger("useractive");this.tech_&&this.tech_.one("mousemove",function(t){t.stopPropagation(),t.preventDefault()}),this.userActivity_=!1,this.removeClass("vjs-user-active"),this.addClass("vjs-user-inactive"),this.trigger("userinactive")}},a.listenForUserActivity_=function(){var t,e,i,n,s=St(this,this.reportUserActivity);this.on("mousedown",function(){s(),this.clearInterval(t),t=this.setInterval(s,250)}),this.on("mousemove",function(t){t.screenX===e&&t.screenY===i||(e=t.screenX,i=t.screenY,s())}),this.on("mouseup",function(e){s(),this.clearInterval(t)}),this.on("keydown",s),this.on("keyup",s),this.setInterval(function(){if(this.userActivity_){this.userActivity_=!1,this.userActive(!0),this.clearTimeout(n);var t=this.options_.inactivityTimeout;t<=0||(n=this.setTimeout(function(){this.userActivity_||this.userActive(!1)},t))}},250)},a.playbackRate=function(t){if(void 0===t)return this.tech_&&this.tech_.featuresPlaybackRate?this.cache_.lastPlaybackRate||this.techGet_("playbackRate"):1;this.techCall_("setPlaybackRate",t)},a.defaultPlaybackRate=function(t){return void 0!==t?this.techCall_("setDefaultPlaybackRate",t):this.tech_&&this.tech_.featuresPlaybackRate?this.techGet_("defaultPlaybackRate"):1},a.isAudio=function(t){if(void 0===t)return!!this.isAudio_;this.isAudio_=!!t},a.addTextTrack=function(t,e,i){if(this.tech_)return this.tech_.addTextTrack(t,e,i)},a.addRemoteTextTrack=function(t,e){if(this.tech_)return this.tech_.addRemoteTextTrack(t,e)},a.removeRemoteTextTrack=function(t){void 0===t&&(t={});var e=t.track;if(e||(e=t),this.tech_)return this.tech_.removeRemoteTextTrack(e)},a.getVideoPlaybackQuality=function(){return this.techGet_("getVideoPlaybackQuality")},a.videoWidth=function(){return this.tech_&&this.tech_.videoWidth&&this.tech_.videoWidth()||0},a.videoHeight=function(){return this.tech_&&this.tech_.videoHeight&&this.tech_.videoHeight()||0},a.language=function(t){if(void 0===t)return this.language_;this.language_=String(t).toLowerCase()},a.languages=function(){return Ht(r.prototype.options_.languages,this.languages_)},a.toJSON=function(){var t=Ht(this.options_),e=t.tracks;t.tracks=[];for(var i=0;i<e.length;i++){var n=e[i];(n=Ht(n)).player=void 0,t.tracks[i]=n}return t},a.createModal=function(t,e){var i=this;(e=e||{}).content=t||"";var n=new De(this,e);return this.addChild(n),n.on("dispose",function(){i.removeChild(n)}),n.open(),n},a.updateCurrentBreakpoint_=function(){if(this.responsive())for(var t=this.currentBreakpoint(),e=this.currentWidth(),i=0;i<Zs.length;i++){var n=Zs[i];if(e<=this.breakpoints_[n]){if(t===n)return;t&&this.removeClass(Qs[t]),this.addClass(Qs[n]),this.breakpoint_=n;break}}},a.removeCurrentBreakpoint_=function(){var t=this.currentBreakpointClass();this.breakpoint_="",t&&this.removeClass(t)},a.breakpoints=function(t){return void 0===t?v(this.breakpoints_):(this.breakpoint_="",this.breakpoints_=v({},Js,t),this.updateCurrentBreakpoint_(),v(this.breakpoints_))},a.responsive=function(t){return void 0===t?this.responsive_:(t=Boolean(t))!==this.responsive_?(this.responsive_=t,t?(this.on("playerresize",this.updateCurrentBreakpoint_),this.updateCurrentBreakpoint_()):(this.off("playerresize",this.updateCurrentBreakpoint_),this.removeCurrentBreakpoint_()),t):void 0},a.currentBreakpoint=function(){return this.breakpoint_},a.currentBreakpointClass=function(){return Qs[this.breakpoint_]||""},r.getTagSettings=function(t){var e={sources:[],tracks:[]},i=R(t),n=i["data-setup"];if(I(t,"vjs-fill")&&(i.fill=!0),I(t,"vjs-fluid")&&(i.fluid=!0),null!==n){var s=we(n||"{}"),r=s[0],o=s[1];r&&c.error(r),v(i,o)}if(v(e,i),t.hasChildNodes())for(var a=t.childNodes,l=0,u=a.length;l<u;l++){var h=a[l],d=h.nodeName.toLowerCase();"source"===d?e.sources.push(R(h)):"track"===d&&e.tracks.push(R(h))}return e},a.flexNotSupported_=function(){var e=t.createElement("i");return!("flexBasis"in e.style||"webkitFlexBasis"in e.style||"mozFlexBasis"in e.style||"msFlexBasis"in e.style||"msFlexOrder"in e.style)},r}(zt);Si.names.forEach(function(t){var e=Si[t];tr.prototype[e.getterName]=function(){return this.tech_?this.tech_[e.getterName]():(this[e.privateName]=this[e.privateName]||new e.ListClass,this[e.privateName])}}),tr.players={};var er=e.navigator;tr.prototype.options_={techOrder:en.defaultTechOrder_,html5:{},flash:{},inactivityTimeout:2e3,playbackRates:[],liveui:!1,children:["mediaLoader","posterImage","textTrackDisplay","loadingSpinner","bigPlayButton","liveTracker","controlBar","errorDisplay","textTrackSettings","resizeManager"],language:er&&(er.languages&&er.languages[0]||er.userLanguage||er.language)||"en",languages:{},notSupportedMessage:"No compatible source was found for this media.",breakpoints:{},responsive:!1},["ended","seeking","seekable","networkState","readyState"].forEach(function(t){tr.prototype[t]=function(){return this.techGet_(t)}}),Xs.forEach(function(t){tr.prototype["handleTech"+jt(t)+"_"]=function(){return this.trigger(t)}}),zt.registerComponent("Player",tr);var ir={},nr=function(t){return ir.hasOwnProperty(t)},sr=function(t){return nr(t)?ir[t]:void 0},rr=function(t,e){t.activePlugins_=t.activePlugins_||{},t.activePlugins_[e]=!0},or=function(t,e,i){var n=(i?"before":"")+"pluginsetup";t.trigger(n,e),t.trigger(n+":"+e.name,e)},ar=function(t,e){return e.prototype.name=t,function(){or(this,{name:t,plugin:e,instance:null},!0);for(var i=arguments.length,n=new Array(i),s=0;s<i;s++)n[s]=arguments[s];var o=r(e,[this].concat(n));return this[t]=function(){return o},or(this,o.getEventHash()),o}},lr=function(){function t(e){if(this.constructor===t)throw new Error("Plugin must be sub-classed; not directly instantiated.");this.player=e,Rt(this),delete this.trigger,Ft(this,this.constructor.defaultState),rr(e,this.name),this.dispose=St(this,this.dispose),e.on("dispose",this.dispose)}var e=t.prototype;return e.version=function(){return this.constructor.VERSION},e.getEventHash=function(t){return void 0===t&&(t={}),t.name=this.name,t.plugin=this.constructor,t.instance=this,t},e.trigger=function(t,e){return void 0===e&&(e={}),ft(this.eventBusEl_,t,this.getEventHash(e))},e.handleStateChanged=function(t){},e.dispose=function(){var t=this.name,e=this.player;this.trigger("dispose"),this.off(),e.off("dispose",this.dispose),e.activePlugins_[t]=!1,this.player=this.state=null,e[t]=ar(t,ir[t])},t.isBasic=function(e){var i="string"==typeof e?sr(e):e;return"function"==typeof i&&!t.prototype.isPrototypeOf(i.prototype)},t.registerPlugin=function(e,i){if("string"!=typeof e)throw new Error('Illegal plugin name, "'+e+'", must be a string, was '+typeof e+".");if(nr(e))c.warn('A plugin named "'+e+'" already exists. You may want to avoid re-registering plugins!');else if(tr.prototype.hasOwnProperty(e))throw new Error('Illegal plugin name, "'+e+'", cannot share a name with an existing player method!');if("function"!=typeof i)throw new Error('Illegal plugin for "'+e+'", must be a function, was '+typeof i+".");return ir[e]=i,"plugin"!==e&&(t.isBasic(i)?tr.prototype[e]=function(t,e){var i=function(){or(this,{name:t,plugin:e,instance:null},!0);var i=e.apply(this,arguments);return rr(this,t),or(this,{name:t,plugin:e,instance:i}),i};return Object.keys(e).forEach(function(t){i[t]=e[t]}),i}(e,i):tr.prototype[e]=ar(e,i)),i},t.deregisterPlugin=function(t){if("plugin"===t)throw new Error("Cannot de-register base plugin.");nr(t)&&(delete ir[t],delete tr.prototype[t])},t.getPlugins=function(t){var e;return void 0===t&&(t=Object.keys(ir)),t.forEach(function(t){var i=sr(t);i&&((e=e||{})[t]=i)}),e},t.getPluginVersion=function(t){var e=sr(t);return e&&e.VERSION||""},t}();lr.getPlugin=sr,lr.BASE_PLUGIN_NAME="plugin",lr.registerPlugin("plugin",lr),tr.prototype.usingPlugin=function(t){return!!this.activePlugins_&&!0===this.activePlugins_[t]},tr.prototype.hasPlugin=function(t){return!!nr(t)};var ur=function(t){return 0===t.indexOf("#")?t.slice(1):t};function cr(e,i,n){var s=cr.getPlayer(e);if(s)return i&&c.warn('Player "'+e+'" is already initialised. Options will not be applied.'),n&&s.ready(n),s;var r="string"==typeof e?Z("#"+ur(e)):e;if(!C(r))throw new TypeError("The element or ID supplied is not valid. (videojs)");t.body.contains(r)||c.warn("The element supplied is not included in the DOM"),i=i||{},cr.hooks("beforesetup").forEach(function(t){var e=t(r,Ht(i));y(e)&&!Array.isArray(e)?i=Ht(i,e):c.error("please return an object in beforesetup hooks")});var o=zt.getComponent("Player");return s=new o(r,i,n),cr.hooks("setup").forEach(function(t){return t(s)}),s}if(cr.hooks_={},cr.hooks=function(t,e){return cr.hooks_[t]=cr.hooks_[t]||[],e&&(cr.hooks_[t]=cr.hooks_[t].concat(e)),cr.hooks_[t]},cr.hook=function(t,e){cr.hooks(t,e)},cr.hookOnce=function(t,e){cr.hooks(t,[].concat(e).map(function(e){return function i(){return cr.removeHook(t,i),e.apply(void 0,arguments)}}))},cr.removeHook=function(t,e){var i=cr.hooks(t).indexOf(e);return!(i<=-1)&&(cr.hooks_[t]=cr.hooks_[t].slice(),cr.hooks_[t].splice(i,1),!0)},!0!==e.VIDEOJS_NO_DYNAMIC_STYLE&&S()){var hr=Z(".vjs-styles-defaults");if(!hr){hr=Tt("vjs-styles-defaults");var dr=Z("head");dr&&dr.insertBefore(hr,dr.firstChild),kt(hr,"\n      .video-js {\n        width: 300px;\n        height: 150px;\n      }\n\n      .vjs-fluid {\n        padding-top: 56.25%\n      }\n    ")}}bt(1,cr),cr.VERSION=i,cr.options=tr.prototype.options_,cr.getPlayers=function(){return tr.players},cr.getPlayer=function(t){var e,i=tr.players;if("string"==typeof t){var n=ur(t),s=i[n];if(s)return s;e=Z("#"+n)}else e=t;if(C(e)){var r=e,o=r.player,a=r.playerId;if(o||i[a])return o||i[a]}},cr.getAllPlayers=function(){return Object.keys(tr.players).map(function(t){return tr.players[t]}).filter(Boolean)},cr.players=tr.players,cr.getComponent=zt.getComponent,cr.registerComponent=function(t,e){en.isTech(e)&&c.warn("The "+t+" tech was registered as a component. It should instead be registered using videojs.registerTech(name, tech)"),zt.registerComponent.call(zt,t,e)},cr.getTech=en.getTech,cr.registerTech=en.registerTech,cr.use=function(t,e){nn[t]=nn[t]||[],nn[t].push(e)},Object.defineProperty(cr,"middleware",{value:{},writeable:!1,enumerable:!0}),Object.defineProperty(cr.middleware,"TERMINATOR",{value:rn,writeable:!1,enumerable:!0}),cr.browser=le,cr.TOUCH_ENABLED=ae,cr.extend=function(t,e){void 0===e&&(e={});var i=function(){t.apply(this,arguments)},n={};for(var s in"object"==typeof e?(e.constructor!==Object.prototype.constructor&&(i=e.constructor),n=e):"function"==typeof e&&(i=e),function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.super_=e)}(i,t),n)n.hasOwnProperty(s)&&(i.prototype[s]=n[s]);return i},cr.mergeOptions=Ht,cr.bind=St,cr.registerPlugin=lr.registerPlugin,cr.deregisterPlugin=lr.deregisterPlugin,cr.plugin=function(t,e){return c.warn("videojs.plugin() is deprecated; use videojs.registerPlugin() instead"),lr.registerPlugin(t,e)},cr.getPlugins=lr.getPlugins,cr.getPlugin=lr.getPlugin,cr.getPluginVersion=lr.getPluginVersion,cr.addLanguage=function(t,e){var i;return t=(""+t).toLowerCase(),cr.options.languages=Ht(cr.options.languages,((i={})[t]=e,i)),cr.options.languages[t]},cr.log=c,cr.createLogger=h,cr.createTimeRange=cr.createTimeRanges=he,cr.formatTime=An,cr.setFormatTime=function(t){Dn=t},cr.resetFormatTime=function(){Dn=En},cr.parseUrl=We,cr.isCrossOrigin=qe,cr.EventTarget=Et,cr.on=dt,cr.one=mt,cr.off=pt,cr.trigger=ft,cr.xhr=ci,cr.TextTrack=gi,cr.AudioTrack=vi,cr.VideoTrack=yi,["isEl","isTextNode","createEl","hasClass","addClass","removeClass","toggleClass","setAttributes","getAttributes","emptyEl","appendContent","insertContent"].forEach(function(t){cr[t]=function(){return c.warn("videojs."+t+"() is deprecated; use videojs.dom."+t+"() instead"),J[t].apply(null,arguments)}}),cr.computedStyle=b,cr.dom=J,cr.url=$e;var pr=Ke(function(t,e){var i,n,s,r,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return s.path=o.normalizePath(s.path),o.buildURLFromParts(s)}var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=o.normalizePath(r.path),o.buildURLFromParts(r)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(u.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+r.path;u.path=o.normalizePath(h)}else u.path=a.path,r.params||(u.params=a.params,r.query||(u.query=a.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(r.path):r.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}),fr=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},mr=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var i=arguments[e];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t},gr=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},vr=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},yr=function(){function t(){fr(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},t.prototype.trigger=function(t){var e=this.listeners[t],i=void 0,n=void 0,s=void 0;if(e)if(2===arguments.length)for(n=e.length,i=0;i<n;++i)e[i].call(this,arguments[1]);else for(s=Array.prototype.slice.call(arguments,1),n=e.length,i=0;i<n;++i)e[i].apply(this,s)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),_r=function(t){function e(){fr(this,e);var i=vr(this,t.call(this));return i.buffer="",i}return gr(e,t),e.prototype.push=function(t){var e=void 0;for(this.buffer+=t,e=this.buffer.indexOf("\n");e>-1;e=this.buffer.indexOf("\n"))this.trigger("data",this.buffer.substring(0,e)),this.buffer=this.buffer.substring(e+1)},e}(yr),br=function(t){for(var e=t.split(new RegExp('(?:^|,)((?:[^=]*)=(?:"[^"]*"|[^,]*))')),i={},n=e.length,s=void 0;n--;)""!==e[n]&&((s=/([^=]*)=(.*)/.exec(e[n]).slice(1))[0]=s[0].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^\s+|\s+$/g,""),s[1]=s[1].replace(/^['"](.*)['"]$/g,"$1"),i[s[0]]=s[1]);return i},wr=function(t){function e(){fr(this,e);var i=vr(this,t.call(this));return i.customParsers=[],i}return gr(e,t),e.prototype.push=function(t){var e=void 0,i=void 0;if(0!==(t=t.replace(/^[\u0000\s]+|[\u0000\s]+$/g,"")).length)if("#"===t[0]){for(var n=0;n<this.customParsers.length;n++)if(this.customParsers[n].call(this,t))return;if(0===t.indexOf("#EXT"))if(t=t.replace("\r",""),e=/^#EXTM3U/.exec(t))this.trigger("data",{type:"tag",tagType:"m3u"});else{if(e=/^#EXTINF:?([0-9\.]*)?,?(.*)?$/.exec(t))return i={type:"tag",tagType:"inf"},e[1]&&(i.duration=parseFloat(e[1])),e[2]&&(i.title=e[2]),void this.trigger("data",i);if(e=/^#EXT-X-TARGETDURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"targetduration"},e[1]&&(i.duration=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#ZEN-TOTAL-DURATION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"totalduration"},e[1]&&(i.duration=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-VERSION:?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"version"},e[1]&&(i.version=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-MEDIA-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"media-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-DISCONTINUITY-SEQUENCE:?(\-?[0-9.]*)?/.exec(t))return i={type:"tag",tagType:"discontinuity-sequence"},e[1]&&(i.number=parseInt(e[1],10)),void this.trigger("data",i);if(e=/^#EXT-X-PLAYLIST-TYPE:?(.*)?$/.exec(t))return i={type:"tag",tagType:"playlist-type"},e[1]&&(i.playlistType=e[1]),void this.trigger("data",i);if(e=/^#EXT-X-BYTERANGE:?([0-9.]*)?@?([0-9.]*)?/.exec(t))return i={type:"tag",tagType:"byterange"},e[1]&&(i.length=parseInt(e[1],10)),e[2]&&(i.offset=parseInt(e[2],10)),void this.trigger("data",i);if(e=/^#EXT-X-ALLOW-CACHE:?(YES|NO)?/.exec(t))return i={type:"tag",tagType:"allow-cache"},e[1]&&(i.allowed=!/NO/.test(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-MAP:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"map"},e[1]){var s=br(e[1]);if(s.URI&&(i.uri=s.URI),s.BYTERANGE){var r=s.BYTERANGE.split("@"),o=r[0],a=r[1];i.byterange={},o&&(i.byterange.length=parseInt(o,10)),a&&(i.byterange.offset=parseInt(a,10))}}this.trigger("data",i)}else if(e=/^#EXT-X-STREAM-INF:?(.*)$/.exec(t)){if(i={type:"tag",tagType:"stream-inf"},e[1]){if(i.attributes=br(e[1]),i.attributes.RESOLUTION){var l=i.attributes.RESOLUTION.split("x"),u={};l[0]&&(u.width=parseInt(l[0],10)),l[1]&&(u.height=parseInt(l[1],10)),i.attributes.RESOLUTION=u}i.attributes.BANDWIDTH&&(i.attributes.BANDWIDTH=parseInt(i.attributes.BANDWIDTH,10)),i.attributes["PROGRAM-ID"]&&(i.attributes["PROGRAM-ID"]=parseInt(i.attributes["PROGRAM-ID"],10))}this.trigger("data",i)}else{if(e=/^#EXT-X-MEDIA:?(.*)$/.exec(t))return i={type:"tag",tagType:"media"},e[1]&&(i.attributes=br(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-ENDLIST/.exec(t))this.trigger("data",{type:"tag",tagType:"endlist"});else if(e=/^#EXT-X-DISCONTINUITY/.exec(t))this.trigger("data",{type:"tag",tagType:"discontinuity"});else{if(e=/^#EXT-X-PROGRAM-DATE-TIME:?(.*)$/.exec(t))return i={type:"tag",tagType:"program-date-time"},e[1]&&(i.dateTimeString=e[1],i.dateTimeObject=new Date(e[1])),void this.trigger("data",i);if(e=/^#EXT-X-KEY:?(.*)$/.exec(t))return i={type:"tag",tagType:"key"},e[1]&&(i.attributes=br(e[1]),i.attributes.IV&&("0x"===i.attributes.IV.substring(0,2).toLowerCase()&&(i.attributes.IV=i.attributes.IV.substring(2)),i.attributes.IV=i.attributes.IV.match(/.{8}/g),i.attributes.IV[0]=parseInt(i.attributes.IV[0],16),i.attributes.IV[1]=parseInt(i.attributes.IV[1],16),i.attributes.IV[2]=parseInt(i.attributes.IV[2],16),i.attributes.IV[3]=parseInt(i.attributes.IV[3],16),i.attributes.IV=new Uint32Array(i.attributes.IV))),void this.trigger("data",i);if(e=/^#EXT-X-START:?(.*)$/.exec(t))return i={type:"tag",tagType:"start"},e[1]&&(i.attributes=br(e[1]),i.attributes["TIME-OFFSET"]=parseFloat(i.attributes["TIME-OFFSET"]),i.attributes.PRECISE=/YES/.test(i.attributes.PRECISE)),void this.trigger("data",i);if(e=/^#EXT-X-CUE-OUT-CONT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out-cont"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);if(e=/^#EXT-X-CUE-OUT:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-out"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);if(e=/^#EXT-X-CUE-IN:?(.*)?$/.exec(t))return i={type:"tag",tagType:"cue-in"},e[1]?i.data=e[1]:i.data="",void this.trigger("data",i);this.trigger("data",{type:"tag",data:t.slice(4)})}}}else this.trigger("data",{type:"comment",text:t.slice(1)})}else this.trigger("data",{type:"uri",uri:t})},e.prototype.addParser=function(t){var e=this,i=t.expression,n=t.customType,s=t.dataParser,r=t.segment;"function"!=typeof s&&(s=function(t){return t}),this.customParsers.push(function(t){if(i.exec(t))return e.trigger("data",{type:"custom",data:s(t),customType:n,segment:r}),!0})},e}(yr),Tr=function(t){function e(){fr(this,e);var i=vr(this,t.call(this));i.lineStream=new _r,i.parseStream=new wr,i.lineStream.pipe(i.parseStream);var n=i,s=[],r={},o=void 0,a=void 0,l={AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},u=0;return i.manifest={allowCache:!0,discontinuityStarts:[],segments:[]},i.parseStream.on("data",function(t){var e=void 0,i=void 0;({tag:function(){({"allow-cache":function(){this.manifest.allowCache=t.allowed,"allowed"in t||(this.trigger("info",{message:"defaulting allowCache to YES"}),this.manifest.allowCache=!0)},byterange:function(){var e={};"length"in t&&(r.byterange=e,e.length=t.length,"offset"in t||(this.trigger("info",{message:"defaulting offset to zero"}),t.offset=0)),"offset"in t&&(r.byterange=e,e.offset=t.offset)},endlist:function(){this.manifest.endList=!0},inf:function(){"mediaSequence"in this.manifest||(this.manifest.mediaSequence=0,this.trigger("info",{message:"defaulting media sequence to zero"})),"discontinuitySequence"in this.manifest||(this.manifest.discontinuitySequence=0,this.trigger("info",{message:"defaulting discontinuity sequence to zero"})),t.duration>0&&(r.duration=t.duration),0===t.duration&&(r.duration=.01,this.trigger("info",{message:"updating zero segment duration to a small value"})),this.manifest.segments=s},key:function(){t.attributes?"NONE"!==t.attributes.METHOD?t.attributes.URI?(t.attributes.METHOD||this.trigger("warn",{message:"defaulting key method to AES-128"}),a={method:t.attributes.METHOD||"AES-128",uri:t.attributes.URI},void 0!==t.attributes.IV&&(a.iv=t.attributes.IV)):this.trigger("warn",{message:"ignoring key declaration without URI"}):a=null:this.trigger("warn",{message:"ignoring key declaration without attribute list"})},"media-sequence":function(){isFinite(t.number)?this.manifest.mediaSequence=t.number:this.trigger("warn",{message:"ignoring invalid media sequence: "+t.number})},"discontinuity-sequence":function(){isFinite(t.number)?(this.manifest.discontinuitySequence=t.number,u=t.number):this.trigger("warn",{message:"ignoring invalid discontinuity sequence: "+t.number})},"playlist-type":function(){/VOD|EVENT/.test(t.playlistType)?this.manifest.playlistType=t.playlistType:this.trigger("warn",{message:"ignoring unknown playlist type: "+t.playlist})},map:function(){o={},t.uri&&(o.uri=t.uri),t.byterange&&(o.byterange=t.byterange)},"stream-inf":function(){this.manifest.playlists=s,this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes?(r.attributes||(r.attributes={}),mr(r.attributes,t.attributes)):this.trigger("warn",{message:"ignoring empty stream-inf attributes"})},media:function(){if(this.manifest.mediaGroups=this.manifest.mediaGroups||l,t.attributes&&t.attributes.TYPE&&t.attributes["GROUP-ID"]&&t.attributes.NAME){var n=this.manifest.mediaGroups[t.attributes.TYPE];n[t.attributes["GROUP-ID"]]=n[t.attributes["GROUP-ID"]]||{},e=n[t.attributes["GROUP-ID"]],(i={default:/yes/i.test(t.attributes.DEFAULT)}).default?i.autoselect=!0:i.autoselect=/yes/i.test(t.attributes.AUTOSELECT),t.attributes.LANGUAGE&&(i.language=t.attributes.LANGUAGE),t.attributes.URI&&(i.uri=t.attributes.URI),t.attributes["INSTREAM-ID"]&&(i.instreamId=t.attributes["INSTREAM-ID"]),t.attributes.CHARACTERISTICS&&(i.characteristics=t.attributes.CHARACTERISTICS),t.attributes.FORCED&&(i.forced=/yes/i.test(t.attributes.FORCED)),e[t.attributes.NAME]=i}else this.trigger("warn",{message:"ignoring incomplete or missing media group"})},discontinuity:function(){u+=1,r.discontinuity=!0,this.manifest.discontinuityStarts.push(s.length)},"program-date-time":function(){void 0===this.manifest.dateTimeString&&(this.manifest.dateTimeString=t.dateTimeString,this.manifest.dateTimeObject=t.dateTimeObject),r.dateTimeString=t.dateTimeString,r.dateTimeObject=t.dateTimeObject},targetduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid target duration: "+t.duration}):this.manifest.targetDuration=t.duration},totalduration:function(){!isFinite(t.duration)||t.duration<0?this.trigger("warn",{message:"ignoring invalid total duration: "+t.duration}):this.manifest.totalDuration=t.duration},start:function(){t.attributes&&!isNaN(t.attributes["TIME-OFFSET"])?this.manifest.start={timeOffset:t.attributes["TIME-OFFSET"],precise:t.attributes.PRECISE}:this.trigger("warn",{message:"ignoring start declaration without appropriate attribute list"})},"cue-out":function(){r.cueOut=t.data},"cue-out-cont":function(){r.cueOutCont=t.data},"cue-in":function(){r.cueIn=t.data}}[t.tagType]||function(){}).call(n)},uri:function(){r.uri=t.uri,s.push(r),!this.manifest.targetDuration||"duration"in r||(this.trigger("warn",{message:"defaulting segment duration to the target duration"}),r.duration=this.manifest.targetDuration),a&&(r.key=a),r.timeline=u,o&&(r.map=o),r={}},comment:function(){},custom:function(){t.segment?(r.custom=r.custom||{},r.custom[t.customType]=t.data):(this.manifest.custom=this.manifest.custom||{},this.manifest.custom[t.customType]=t.data)}})[t.type].call(n)}),i}return gr(e,t),e.prototype.push=function(t){this.lineStream.push(t)},e.prototype.end=function(){this.lineStream.push("\n")},e.prototype.addParser=function(t){this.parseStream.addParser(t)},e}(yr),kr=function(t){return!!t&&"object"==typeof t},Sr=function t(){for(var e=arguments.length,i=new Array(e),n=0;n<e;n++)i[n]=arguments[n];return i.reduce(function(e,i){return Object.keys(i).forEach(function(n){Array.isArray(e[n])&&Array.isArray(i[n])?e[n]=e[n].concat(i[n]):kr(e[n])&&kr(i[n])?e[n]=t(e[n],i[n]):e[n]=i[n]}),e},{})},Cr=function(t){return t.reduce(function(t,e){return t.concat(e)},[])},xr=function(t){if(!t.length)return[];for(var e=[],i=0;i<t.length;i++)e.push(t[i]);return e},Er=function(t){var e;return(e=t.reduce(function(t,e){var i,n=e.attributes.id+(e.attributes.lang||"");t[n]?(e.segments[0].discontinuity=!0,(i=t[n].segments).push.apply(i,e.segments),e.attributes.contentProtection&&(t[n].attributes.contentProtection=e.attributes.contentProtection)):t[n]=e;return t},{}),Object.keys(e).map(function(t){return e[t]})).map(function(t){var e,i;return t.discontinuityStarts=(e=t.segments,i="discontinuity",e.reduce(function(t,e,n){return e[i]&&t.push(n),t},[])),t})},Dr=function(t){var e,i=t.attributes,n=t.segments,s={attributes:(e={NAME:i.id,BANDWIDTH:i.bandwidth,CODECS:i.codecs},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),s},Ar=function(t){var e,i=t.attributes,n=t.segments,s={attributes:(e={NAME:i.id,AUDIO:"audio",SUBTITLES:"subs",RESOLUTION:{width:i.width,height:i.height},CODECS:i.codecs,BANDWIDTH:i.bandwidth},e["PROGRAM-ID"]=1,e),uri:"",endList:"static"===(i.type||"static"),timeline:i.periodIndex,resolvedUri:"",targetDuration:i.duration,segments:n,mediaSequence:n.length?n[0].number:1};return i.contentProtection&&(s.contentProtection=i.contentProtection),s},Pr=function(t){var e;if(!t.length)return{};var i=t[0].attributes,n=i.sourceDuration,s=i.minimumUpdatePeriod,r=void 0===s?0:s,o=Er(t.filter(function(t){var e=t.attributes;return"video/mp4"===e.mimeType||"video"===e.contentType})).map(Ar),a=Er(t.filter(function(t){var e=t.attributes;return"audio/mp4"===e.mimeType||"audio"===e.contentType})),l=t.filter(function(t){var e=t.attributes;return"text/vtt"===e.mimeType||"text"===e.contentType}),u={allowCache:!0,discontinuityStarts:[],segments:[],endList:!0,mediaGroups:(e={AUDIO:{},VIDEO:{}},e["CLOSED-CAPTIONS"]={},e.SUBTITLES={},e),uri:"",duration:n,playlists:o,minimumUpdatePeriod:1e3*r};return a.length&&(u.mediaGroups.AUDIO.audio=a.reduce(function(t,e){var i=e.attributes.role&&e.attributes.role.value||"main",n=e.attributes.lang||"",s="main";return n&&(s=e.attributes.lang+" ("+i+")"),t[s]&&t[s].playlists[0].attributes.BANDWIDTH>e.attributes.bandwidth?t:(t[s]={language:n,autoselect:!0,default:"main"===i,playlists:[Dr(e)],uri:""},t)},{})),l.length&&(u.mediaGroups.SUBTITLES.subs=function(t){return t.reduce(function(t,e){var i,n,s,r,o=e.attributes.lang||"text";return t[o]?t:(t[o]={language:o,default:!1,autoselect:!1,playlists:[(i=e,s=i.attributes,r=i.segments,void 0===r&&(r=[{uri:s.baseUrl,timeline:s.periodIndex,resolvedUri:s.baseUrl||"",duration:s.sourceDuration,number:0}],s.duration=s.sourceDuration),{attributes:(n={NAME:s.id,BANDWIDTH:s.bandwidth},n["PROGRAM-ID"]=1,n),uri:"",endList:"static"===(s.type||"static"),timeline:s.periodIndex,resolvedUri:s.baseUrl||"",targetDuration:s.duration,segments:r,mediaSequence:r.length?r[0].number:1})],uri:""},t)},{})}(l)),u};"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self&&self;var Ir,Or=(function(t,e){var i,n,s,r,o;i=/^((?:[a-zA-Z0-9+\-.]+:)?)(\/\/[^\/?#]*)?((?:[^\/\?#]*\/)*.*?)??(;.*?)?(\?.*?)?(#.*?)?$/,n=/^([^\/?#]*)(.*)$/,s=/(?:\/|^)\.(?=\/)/g,r=/(?:\/|^)\.\.\/(?!\.\.\/).*?(?=\/)/g,o={buildAbsoluteURL:function(t,e,i){if(i=i||{},t=t.trim(),!(e=e.trim())){if(!i.alwaysNormalize)return t;var s=o.parseURL(t);if(!s)throw new Error("Error trying to parse base URL.");return s.path=o.normalizePath(s.path),o.buildURLFromParts(s)}var r=o.parseURL(e);if(!r)throw new Error("Error trying to parse relative URL.");if(r.scheme)return i.alwaysNormalize?(r.path=o.normalizePath(r.path),o.buildURLFromParts(r)):e;var a=o.parseURL(t);if(!a)throw new Error("Error trying to parse base URL.");if(!a.netLoc&&a.path&&"/"!==a.path[0]){var l=n.exec(a.path);a.netLoc=l[1],a.path=l[2]}a.netLoc&&!a.path&&(a.path="/");var u={scheme:a.scheme,netLoc:r.netLoc,path:null,params:r.params,query:r.query,fragment:r.fragment};if(!r.netLoc&&(u.netLoc=a.netLoc,"/"!==r.path[0]))if(r.path){var c=a.path,h=c.substring(0,c.lastIndexOf("/")+1)+r.path;u.path=o.normalizePath(h)}else u.path=a.path,r.params||(u.params=a.params,r.query||(u.query=a.query));return null===u.path&&(u.path=i.alwaysNormalize?o.normalizePath(r.path):r.path),o.buildURLFromParts(u)},parseURL:function(t){var e=i.exec(t);return e?{scheme:e[1]||"",netLoc:e[2]||"",path:e[3]||"",params:e[4]||"",query:e[5]||"",fragment:e[6]||""}:null},normalizePath:function(t){for(t=t.split("").reverse().join("").replace(s,"");t.length!==(t=t.replace(r,"")).length;);return t.split("").reverse().join("")},buildURLFromParts:function(t){return t.scheme+t.netLoc+t.path+t.params+t.query+t.fragment}},t.exports=o}(Ir={exports:{}},Ir.exports),Ir.exports),Mr=function(t,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(t)||(t=Or.buildAbsoluteURL(e.location.href,t)),Or.buildAbsoluteURL(t,i))},Lr=function(t){var e=t.baseUrl,i=void 0===e?"":e,n=t.source,s=void 0===n?"":n,r=t.range,o=void 0===r?"":r,a={uri:s,resolvedUri:Mr(i||"",s)};if(o){var l=o.split("-"),u=parseInt(l[0],10),c=parseInt(l[1],10);a.byterange={length:c-u,offset:u}}return a},Nr=function(t,e,i){var n=t.NOW,s=t.clientOffset,r=t.availabilityStartTime,o=t.timescale,a=void 0===o?1:o,l=t.start,u=void 0===l?0:l,c=t.minimumUpdatePeriod,h=(n+s)/1e3+(void 0===c?0:c)-(r+u);return Math.ceil((h*a-e)/i)},Rr=function(t,e){for(var i=t.type,n=void 0===i?"static":i,s=t.minimumUpdatePeriod,r=void 0===s?0:s,o=t.media,a=void 0===o?"":o,l=t.sourceDuration,u=t.timescale,c=void 0===u?1:u,h=t.startNumber,d=void 0===h?1:h,p=t.periodIndex,f=[],m=-1,g=0;g<e.length;g++){var v=e[g],y=v.d,_=v.r||0,b=v.t||0;m<0&&(m=b),b&&b>m&&(m=b);var w=void 0;if(_<0){var T=g+1;w=T===e.length?"dynamic"===n&&r>0&&a.indexOf("$Number$")>0?Nr(t,m,y):(l*c-m)/y:(e[T].t-m)/y}else w=_+1;for(var k=d+f.length+w,S=d+f.length;S<k;)f.push({number:S,duration:y/c,time:m,timeline:p}),m+=y,S++}return f},Ur={static:function(t){var e=t.duration,i=t.timescale,n=void 0===i?1:i,s=t.sourceDuration;return{start:0,end:Math.ceil(s/(e/n))}},dynamic:function(t){var e=t.NOW,i=t.clientOffset,n=t.availabilityStartTime,s=t.timescale,r=void 0===s?1:s,o=t.duration,a=t.start,l=void 0===a?0:a,u=t.minimumUpdatePeriod,c=void 0===u?0:u,h=t.timeShiftBufferDepth,d=void 0===h?1/0:h,p=(e+i)/1e3,f=n+l,m=p+c-f,g=Math.ceil(m*r/o),v=Math.floor((p-f-d)*r/o),y=Math.floor((p-f)*r/o);return{start:Math.max(0,v),end:Math.min(g,y)}}},Fr=function(t){var e=t.type,i=void 0===e?"static":e,n=t.duration,s=t.timescale,r=void 0===s?1:s,o=t.sourceDuration,a=Ur[i](t),l=function(t,e){for(var i=[],n=t;n<e;n++)i.push(n);return i}(a.start,a.end).map(function(t){return function(e,i){var n=t.duration,s=t.timescale,r=void 0===s?1:s,o=t.periodIndex,a=t.startNumber;return{number:(void 0===a?1:a)+e,duration:n/r,timeline:o,time:i*n}}}(t));if("static"===i){var u=l.length-1;l[u].duration=o-n/r*u}return l},jr=/\$([A-z]*)(?:(%0)([0-9]+)d)?\$/g,Hr=function(t,e){return t.replace(jr,function(t){return function(e,i,n,s){if("$$"===e)return"$";if(void 0===t[i])return e;var r=""+t[i];return"RepresentationID"===i?r:(s=n?parseInt(s,10):1,r.length>=s?r:""+new Array(s-r.length+1).join("0")+r)}}(e))},zr=function(t,e){var i={RepresentationID:t.id,Bandwidth:t.bandwidth||0},n=t.initialization,s=void 0===n?{sourceURL:"",range:""}:n,r=Lr({baseUrl:t.baseUrl,source:Hr(s.sourceURL,i),range:s.range});return function(t,e){return t.duration||e?t.duration?Fr(t):Rr(t,e):[{number:t.startNumber||1,duration:t.sourceDuration,time:0,timeline:t.periodIndex}]}(t,e).map(function(e){i.Number=e.number,i.Time=e.time;var n=Hr(t.media||"",i);return{uri:n,timeline:e.timeline,duration:e.duration,resolvedUri:Mr(t.baseUrl||"",n),map:r,number:e.number}})},Br="INVALID_NUMBER_OF_PERIOD",Wr="DASH_EMPTY_MANIFEST",Yr="DASH_INVALID_XML",Vr="NO_BASE_URL",qr="SEGMENT_TIME_UNSPECIFIED",$r="UNSUPPORTED_UTC_TIMING_SCHEME",Gr=function(t,e){var i=t.duration,n=t.segmentUrls,s=void 0===n?[]:n;if(!i&&!e||i&&e)throw new Error(qr);var r,o=s.map(function(e){return function(t,e){var i=t.baseUrl,n=t.initialization,s=void 0===n?{}:n,r=Lr({baseUrl:i,source:s.sourceURL,range:s.range}),o=Lr({baseUrl:i,source:e.media,range:e.mediaRange});return o.map=r,o}(t,e)});return i&&(r=Fr(t)),e&&(r=Rr(t,e)),r.map(function(t,e){if(o[e]){var i=o[e];return i.timeline=t.timeline,i.duration=t.duration,i.number=t.number,i}}).filter(function(t){return t})},Xr=function(t){var e=t.baseUrl,i=t.initialization,n=void 0===i?{}:i,s=t.sourceDuration,r=t.timescale,o=void 0===r?1:r,a=t.indexRange,l=void 0===a?"":a,u=t.duration;if(!e)throw new Error(Vr);var c=Lr({baseUrl:e,source:n.sourceURL,range:n.range}),h=Lr({baseUrl:e,source:e,range:l});if(h.map=c,u){var d=Fr(t);d.length&&(h.duration=d[0].duration,h.timeline=d[0].timeline)}else s&&(h.duration=s/o,h.timeline=0);return h.number=0,[h]},Kr=function(t){var e,i,n=t.attributes,s=t.segmentInfo;if(s.template?(i=zr,e=Sr(n,s.template)):s.base?(i=Xr,e=Sr(n,s.base)):s.list&&(i=Gr,e=Sr(n,s.list)),!i)return{attributes:n};var r=i(e,s.timeline);if(e.duration){var o=e,a=o.duration,l=o.timescale,u=void 0===l?1:l;e.duration=a/u}else r.length?e.duration=r.reduce(function(t,e){return Math.max(t,Math.ceil(e.duration))},0):e.duration=0;return{attributes:e,segments:r}},Zr=function(t,e){return xr(t.childNodes).filter(function(t){return t.tagName===e})},Qr=function(t){return t.textContent.trim()},Jr=function(t){var e=/P(?:(\d*)Y)?(?:(\d*)M)?(?:(\d*)D)?(?:T(?:(\d*)H)?(?:(\d*)M)?(?:([\d.]*)S)?)?/.exec(t);if(!e)return 0;var i=e.slice(1),n=i[0],s=i[1],r=i[2],o=i[3],a=i[4],l=i[5];return 31536e3*parseFloat(n||0)+2592e3*parseFloat(s||0)+86400*parseFloat(r||0)+3600*parseFloat(o||0)+60*parseFloat(a||0)+parseFloat(l||0)},to={mediaPresentationDuration:function(t){return Jr(t)},availabilityStartTime:function(t){return/^\d+-\d+-\d+T\d+:\d+:\d+(\.\d+)?$/.test(e=t)&&(e+="Z"),Date.parse(e)/1e3;var e},minimumUpdatePeriod:function(t){return Jr(t)},timeShiftBufferDepth:function(t){return Jr(t)},start:function(t){return Jr(t)},width:function(t){return parseInt(t,10)},height:function(t){return parseInt(t,10)},bandwidth:function(t){return parseInt(t,10)},startNumber:function(t){return parseInt(t,10)},timescale:function(t){return parseInt(t,10)},duration:function(t){var e=parseInt(t,10);return isNaN(e)?Jr(t):e},d:function(t){return parseInt(t,10)},t:function(t){return parseInt(t,10)},r:function(t){return parseInt(t,10)},DEFAULT:function(t){return t}},eo=function(t){return t&&t.attributes?xr(t.attributes).reduce(function(t,e){var i=to[e.name]||to.DEFAULT;return t[e.name]=i(e.value),t},{}):{}};var io,no,so,ro,oo,ao={"urn:uuid:1077efec-c0b2-4d02-ace3-3c1e52e2fb4b":"org.w3.clearkey","urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed":"com.widevine.alpha","urn:uuid:9a04f079-9840-4286-ab92-e65be0885f95":"com.microsoft.playready","urn:uuid:f239e769-efa3-4850-9c16-a903c6932efb":"com.adobe.primetime"},lo=function(t,e){return e.length?Cr(t.map(function(t){return e.map(function(e){return Mr(t,Qr(e))})})):t},uo=function(t){var e=Zr(t,"SegmentTemplate")[0],i=Zr(t,"SegmentList")[0],n=i&&Zr(i,"SegmentURL").map(function(t){return Sr({tag:"SegmentURL"},eo(t))}),s=Zr(t,"SegmentBase")[0],r=i||e,o=r&&Zr(r,"SegmentTimeline")[0],a=i||s||e,l=a&&Zr(a,"Initialization")[0],u=e&&eo(e);u&&l?u.initialization=l&&eo(l):u&&u.initialization&&(u.initialization={sourceURL:u.initialization});var c={template:u,timeline:o&&Zr(o,"S").map(function(t){return eo(t)}),list:i&&Sr(eo(i),{segmentUrls:n,initialization:eo(l)}),base:s&&Sr(eo(s),{initialization:eo(l)})};return Object.keys(c).forEach(function(t){c[t]||delete c[t]}),c},co=function(t){return t.reduce(function(t,i){var n=eo(i),s=ao[n.schemeIdUri];if(s){t[s]={attributes:n};var r=Zr(i,"cenc:pssh")[0];if(r){var o=Qr(r),a=o&&function(t){for(var i=e.atob(t),n=new Uint8Array(i.length),s=0;s<i.length;s++)n[s]=i.charCodeAt(s);return n}(o);t[s].pssh=a}}return t},{})},ho=function(t,e,i){return function(n){var s=eo(n),r=lo(e,Zr(n,"BaseURL")),o=Zr(n,"Role")[0],a={role:eo(o)},l=Sr(t,s,a),u=co(Zr(n,"ContentProtection"));Object.keys(u).length&&(l=Sr(l,{contentProtection:u}));var c=uo(n),h=Zr(n,"Representation"),d=Sr(i,c);return Cr(h.map(function(t,e,i){return function(n){var s=Zr(n,"BaseURL"),r=lo(e,s),o=Sr(t,eo(n)),a=uo(n);return r.map(function(t){return{segmentInfo:Sr(i,a),attributes:Sr(o,{baseUrl:t})}})}}(l,r,d)))}},po=function(t,i){void 0===i&&(i={});var n=i,s=n.manifestUri,r=void 0===s?"":s,o=n.NOW,a=void 0===o?Date.now():o,l=n.clientOffset,u=void 0===l?0:l,c=Zr(t,"Period");if(!c.length)throw new Error(Br);var h=eo(t),d=lo([r],Zr(t,"BaseURL"));return h.sourceDuration=h.mediaPresentationDuration||0,h.NOW=a,h.clientOffset=u,Cr(c.map(function(t,i){return function(n,s){var r=lo(i,Zr(n,"BaseURL")),o=eo(n),a=parseInt(o.id,10),l=e.isNaN(a)?s:a,u=Sr(t,{periodIndex:l}),c=Zr(n,"AdaptationSet"),h=uo(n);return Cr(c.map(ho(u,r,h)))}}(h,d)))},fo=function(t){if(""===t)throw new Error(Wr);var i=(new e.DOMParser).parseFromString(t,"application/xml"),n=i&&"MPD"===i.documentElement.tagName?i.documentElement:null;if(!n||n&&n.getElementsByTagName("parsererror").length>0)throw new Error(Yr);return n},mo=function(t,e){return Pr(po(fo(t),e).map(Kr))},go=function(t){return function(t){var e=Zr(t,"UTCTiming")[0];if(!e)return null;var i=eo(e);switch(i.schemeIdUri){case"urn:mpeg:dash:utc:http-head:2014":case"urn:mpeg:dash:utc:http-head:2012":i.method="HEAD";break;case"urn:mpeg:dash:utc:http-xsdate:2014":case"urn:mpeg:dash:utc:http-iso:2014":case"urn:mpeg:dash:utc:http-xsdate:2012":case"urn:mpeg:dash:utc:http-iso:2012":i.method="GET";break;case"urn:mpeg:dash:utc:direct:2014":case"urn:mpeg:dash:utc:direct:2012":i.method="DIRECT",i.value=Date.parse(i.value);break;case"urn:mpeg:dash:utc:http-ntp:2014":case"urn:mpeg:dash:utc:ntp:2014":case"urn:mpeg:dash:utc:sntp:2014":default:throw new Error($r)}return i}(fo(t))},vo=function(t){return t>>>0};so=function(t){return io(t,["moov","trak"]).reduce(function(t,e){var i,n,s,r,o;return(i=io(e,["tkhd"])[0])?(n=i[0],r=vo(i[s=0===n?12:20]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3]),(o=io(e,["mdia","mdhd"])[0])?(s=0===(n=o[0])?12:20,t[r]=vo(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3]),t):null):null},{})},ro=function(t,e){var i,n,s;return i=io(e,["moof","traf"]),n=[].concat.apply([],i.map(function(e){return io(e,["tfhd"]).map(function(i){var n,s;return n=vo(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),s=t[n]||9e4,(io(e,["tfdt"]).map(function(t){var e,i;return e=t[0],i=vo(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=vo(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i})[0]||1/0)/s})})),s=Math.min.apply(null,n),isFinite(s)?s:0},oo=function(t){var e=io(t,["moov","trak"]),i=[];return e.forEach(function(t){var e=io(t,["mdia","hdlr"]),n=io(t,["tkhd"]);e.forEach(function(t,e){var s,r,o=no(t.subarray(8,12)),a=n[e];"vide"===o&&(r=0===(s=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?s.getUint32(12):s.getUint32(20),i.push(r))})}),i};var yo,_o,bo,wo,To,ko,So,Co,xo,Eo,Do,Ao,Po,Io,Oo,Mo,Lo,No,Ro,Uo,Fo,jo,Ho,zo,Bo,Wo,Yo,Vo,qo,$o,Go,Xo,Ko,Zo,Qo,Jo,ta,ea,ia,na,sa={findBox:io=function(t,e){var i,n,s,r,o,a=[];if(!e.length)return null;for(i=0;i<t.byteLength;)n=vo(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),s=no(t.subarray(i+4,i+8)),r=n>1?i+n:t.byteLength,s===e[0]&&(1===e.length?a.push(t.subarray(i+8,r)):(o=io(t.subarray(i+8,r),e.slice(1))).length&&(a=a.concat(o))),i=r;return a},parseType:no=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},timescale:so,startTime:ro,videoTrackIds:oo},ra=Math.pow(2,32)-1;!function(){var t;if(jo={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in jo)jo.hasOwnProperty(t)&&(jo[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);Ho=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),Bo=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),zo=new Uint8Array([0,0,0,1]),Wo=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),Yo=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),Vo={video:Wo,audio:Yo},Go=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),$o=new Uint8Array([0,0,0,0,0,0,0,0]),Xo=new Uint8Array([0,0,0,0,0,0,0,0]),Ko=Xo,Zo=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),Qo=Xo,qo=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),yo=function(t){var e,i,n=[],s=0;for(e=1;e<arguments.length;e++)n.push(arguments[e]);for(e=n.length;e--;)s+=n[e].byteLength;for(i=new Uint8Array(s+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(t,4),e=0,s=8;e<n.length;e++)i.set(n[e],s),s+=n[e].byteLength;return i},_o=function(){return yo(jo.dinf,yo(jo.dref,Go))},bo=function(t){return yo(jo.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,t.audioobjecttype<<3|t.samplingfrequencyindex>>>1,t.samplingfrequencyindex<<7|t.channelcount<<3,6,1,2]))},Oo=function(t){return yo(jo.hdlr,Vo[t])},Io=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,t.duration>>>24&255,t.duration>>>16&255,t.duration>>>8&255,255&t.duration,85,196,0,0]);return t.samplerate&&(e[12]=t.samplerate>>>24&255,e[13]=t.samplerate>>>16&255,e[14]=t.samplerate>>>8&255,e[15]=255&t.samplerate),yo(jo.mdhd,e)},Po=function(t){return yo(jo.mdia,Io(t),Oo(t.type),ko(t))},To=function(t){return yo(jo.mfhd,new Uint8Array([0,0,0,0,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t]))},ko=function(t){return yo(jo.minf,"video"===t.type?yo(jo.vmhd,qo):yo(jo.smhd,$o),_o(),Lo(t))},So=function(t,e){for(var i=[],n=e.length;n--;)i[n]=Ro(e[n]);return yo.apply(null,[jo.moof,To(t)].concat(i))},Co=function(t){for(var e=t.length,i=[];e--;)i[e]=Do(t[e]);return yo.apply(null,[jo.moov,Eo(4294967295)].concat(i).concat(xo(t)))},xo=function(t){for(var e=t.length,i=[];e--;)i[e]=Uo(t[e]);return yo.apply(null,[jo.mvex].concat(i))},Eo=function(t){var e=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&t)>>24,(16711680&t)>>16,(65280&t)>>8,255&t,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return yo(jo.mvhd,e)},Mo=function(t){var e,i,n=t.samples||[],s=new Uint8Array(4+n.length);for(i=0;i<n.length;i++)e=n[i].flags,s[i+4]=e.dependsOn<<4|e.isDependedOn<<2|e.hasRedundancy;return yo(jo.sdtp,s)},Lo=function(t){return yo(jo.stbl,No(t),yo(jo.stts,Qo),yo(jo.stsc,Ko),yo(jo.stsz,Zo),yo(jo.stco,Xo))},No=function(t){return yo(jo.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===t.type?Jo(t):ta(t))},Jo=function(t){var e,i=t.sps||[],n=t.pps||[],s=[],r=[];for(e=0;e<i.length;e++)s.push((65280&i[e].byteLength)>>>8),s.push(255&i[e].byteLength),s=s.concat(Array.prototype.slice.call(i[e]));for(e=0;e<n.length;e++)r.push((65280&n[e].byteLength)>>>8),r.push(255&n[e].byteLength),r=r.concat(Array.prototype.slice.call(n[e]));return yo(jo.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&t.width)>>8,255&t.width,(65280&t.height)>>8,255&t.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),yo(jo.avcC,new Uint8Array([1,t.profileIdc,t.profileCompatibility,t.levelIdc,255].concat([i.length]).concat(s).concat([n.length]).concat(r))),yo(jo.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},ta=function(t){return yo(jo.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&t.channelcount)>>8,255&t.channelcount,(65280&t.samplesize)>>8,255&t.samplesize,0,0,0,0,(65280&t.samplerate)>>8,255&t.samplerate,0,0]),bo(t))},Ao=function(t){var e=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,0,(4278190080&t.duration)>>24,(16711680&t.duration)>>16,(65280&t.duration)>>8,255&t.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&t.width)>>8,255&t.width,0,0,(65280&t.height)>>8,255&t.height,0,0]);return yo(jo.tkhd,e)},Ro=function(t){var e,i,n,s,r,o;return e=yo(jo.tfhd,new Uint8Array([0,0,0,58,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),r=Math.floor(t.baseMediaDecodeTime/(ra+1)),o=Math.floor(t.baseMediaDecodeTime%(ra+1)),i=yo(jo.tfdt,new Uint8Array([1,0,0,0,r>>>24&255,r>>>16&255,r>>>8&255,255&r,o>>>24&255,o>>>16&255,o>>>8&255,255&o])),92,"audio"===t.type?(n=Fo(t,92),yo(jo.traf,e,i,n)):(s=Mo(t),n=Fo(t,s.length+92),yo(jo.traf,e,i,n,s))},Do=function(t){return t.duration=t.duration||4294967295,yo(jo.trak,Ao(t),Po(t))},Uo=function(t){var e=new Uint8Array([0,0,0,0,(4278190080&t.id)>>24,(16711680&t.id)>>16,(65280&t.id)>>8,255&t.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==t.type&&(e[e.length-1]=0),yo(jo.trex,e)},na=function(t,e){var i=0,n=0,s=0,r=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(s=4),void 0!==t[0].compositionTimeOffset&&(r=8)),[0,0,i|n|s|r,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},ia=function(t,e){var i,n,s,r;for(e+=20+16*(n=t.samples||[]).length,i=na(n,e),r=0;r<n.length;r++)s=n[r],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size,s.flags.isLeading<<2|s.flags.dependsOn,s.flags.isDependedOn<<6|s.flags.hasRedundancy<<4|s.flags.paddingValue<<1|s.flags.isNonSyncSample,61440&s.flags.degradationPriority,15&s.flags.degradationPriority,(4278190080&s.compositionTimeOffset)>>>24,(16711680&s.compositionTimeOffset)>>>16,(65280&s.compositionTimeOffset)>>>8,255&s.compositionTimeOffset]);return yo(jo.trun,new Uint8Array(i))},ea=function(t,e){var i,n,s,r;for(e+=20+8*(n=t.samples||[]).length,i=na(n,e),r=0;r<n.length;r++)s=n[r],i=i.concat([(4278190080&s.duration)>>>24,(16711680&s.duration)>>>16,(65280&s.duration)>>>8,255&s.duration,(4278190080&s.size)>>>24,(16711680&s.size)>>>16,(65280&s.size)>>>8,255&s.size]);return yo(jo.trun,new Uint8Array(i))},Fo=function(t,e){return"audio"===t.type?ea(t,e):ia(t,e)};var oa={ftyp:wo=function(){return yo(jo.ftyp,Ho,zo,Ho,Bo)},mdat:function(t){return yo(jo.mdat,t)},moof:So,moov:Co,initSegment:function(t){var e,i=wo(),n=Co(t);return(e=new Uint8Array(i.byteLength+n.byteLength)).set(i),e.set(n,i.byteLength),e}},aa=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,s,r;if(i=t[e])if(2===arguments.length)for(s=i.length,n=0;n<s;++n)i[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(s=i.length,n=0;n<s;++n)i[n].apply(this,r)}},this.dispose=function(){t={}}}};aa.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},aa.prototype.push=function(t){this.trigger("data",t)},aa.prototype.flush=function(t){this.trigger("done",t)};var la,ua,ca,ha,da,pa,fa,ma=aa,ga=function(t,e){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},va=function(t){var e,i,n=[],s=[];for(n.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(i=t[e]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,s.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return s.length&&(!n.duration||n.duration<=0)&&(n.duration=s[s.length-1].duration),s.push(n),s},ya=function(t){var e,i,n=[],s=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=t[0].pts,s.dts=t[0].dts,e=0;e<t.length;e++)(i=t[e]).keyFrame?(n.length&&(s.push(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return s.length&&n.duration<=0&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration,s.push(n),s},_a=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ba=function(t,e){var i,n,s,r,o,a=e||0,l=[];for(i=0;i<t.length;i++)for(r=t[i],n=0;n<r.length;n++)o=r[n],a+=(s=ga(o,a)).size,l.push(s);return l},wa=function(t){var e,i,n,s,r,o,a=0,l=t.byteLength,u=t.nalCount,c=new Uint8Array(l+4*u),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(s=t[e],i=0;i<s.length;i++)for(r=s[i],n=0;n<r.length;n++)o=r[n],h.setUint32(a,o.data.byteLength),a+=4,c.set(o.data,a),a+=o.data.byteLength;return c},Ta=[33,16,5,32,164,27],ka=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],Sa=function(t){for(var e=[];t--;)e.push(0);return e},Ca={96000:[Ta,[227,64],Sa(154),[56]],88200:[Ta,[231],Sa(170),[56]],64000:[Ta,[248,192],Sa(240),[56]],48000:[Ta,[255,192],Sa(268),[55,148,128],Sa(54),[112]],44100:[Ta,[255,192],Sa(268),[55,163,128],Sa(84),[112]],32000:[Ta,[255,192],Sa(268),[55,234],Sa(226),[112]],24000:[Ta,[255,192],Sa(268),[55,255,128],Sa(268),[111,112],Sa(126),[224]],16000:[Ta,[255,192],Sa(268),[55,255,128],Sa(268),[111,255],Sa(269),[223,108],Sa(195),[1,192]],12000:[ka,Sa(268),[3,127,248],Sa(268),[6,255,240],Sa(268),[13,255,224],Sa(268),[27,253,128],Sa(259),[56]],11025:[ka,Sa(268),[3,127,248],Sa(268),[6,255,240],Sa(268),[13,255,224],Sa(268),[27,255,192],Sa(268),[55,175,128],Sa(108),[112]],8000:[ka,Sa(268),[3,121,16],Sa(47),[7]]},xa=(la=Ca,Object.keys(la).reduce(function(t,e){return t[e]=new Uint8Array(la[e].reduce(function(t,e){return t.concat(e)},[])),t},{}));pa=function(t,e){return ua(da(t,e))},fa=function(t,e){return ca(ha(t),e)};ua=function(t){return 9e4*t},ca=function(t,e){return t*e},ha=function(t){return t/9e4},da=function(t,e){return t/e};var Ea=pa,Da=fa,Aa=function(t,e,i,n){var s,r,o,a,l=0,u=0,c=0;if(e.length&&(s=Ea(t.baseMediaDecodeTime,t.samplerate),r=Math.ceil(9e4/(t.samplerate/1024)),i&&n&&(l=s-Math.max(i,n),c=(u=Math.floor(l/r))*r),!(u<1||c>45e3))){for((o=xa[t.samplerate])||(o=e[0].data),a=0;a<u;a++)e.splice(a,0,{data:o});t.baseMediaDecodeTime-=Math.floor(Da(c,t.samplerate))}},Pa=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},Ia=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},Oa=function(t){var e,i,n=0,s=new Uint8Array(function(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e].data.byteLength;return i}(t));for(e=0;e<t.length;e++)i=t[e],s.set(i.data,n),n+=i.data.byteLength;return s},Ma=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},La=function(t,e){var i,n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===t.type&&(i*=t.samplerate/9e4,i=Math.floor(i)),i},Na=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Ra=function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,s=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)s+=255,e++;if(s+=t[e++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=s,i.payload=t.subarray(e,e+s);break}e+=s,n=0,s=0}return i},Ua=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Fa=function(t,e){var i,n,s,r,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;i<n;i++)r={type:3&e[2+(s=3*i)],pts:t},4&e[s+2]&&(r.ccData=e[s+3]<<8|e[s+4],o.push(r));return o},ja=function(t){for(var e,i,n=t.byteLength,s=[],r=1;r<n-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(s.push(r+2),r+=2):r++;if(0===s.length)return t;e=n-s.length,i=new Uint8Array(e);var o=0;for(r=0;r<e;o++,r++)o===s[0]&&(o++,s.shift()),i[r]=t[o];return i},Ha=4,za=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new qa(0,0),new qa(0,1),new qa(1,0),new qa(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};(za.prototype=new ma).push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=Ra(t.escapedRBSP)).payloadType===Ha&&(i=Ua(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Fa(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},za.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},za.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},za.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},za.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},za.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var Ba={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Wa=function(t){return null===t?"":(t=Ba[t]||t,String.fromCharCode(t))},Ya=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Va=function(){for(var t=[],e=15;e--;)t.push("");return t},qa=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,s,r;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,s=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Va();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Va();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Va()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,s))r=Wa((n=(3&n)<<8)|s),this[this.mode_](t.pts,r),this.column_++;else if(this.isExtCharacter(n,s))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=Wa((n=(3&n)<<8)|s),this[this.mode_](t.pts,r),this.column_++;else if(this.isMidRowCode(n,s))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&s)&&this.addFormatting(t.pts,["i"]),1==(1&s)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,s))this.column_+=3&s;else if(this.isPAC(n,s)){var o=Ya.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&s&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(s)&&14==(14&s)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===s&&(s=null),r=Wa(n),r+=Wa(s),this[this.mode_](t.pts,r),this.column_+=r.length)}else this.lastControlCode_=null}};qa.prototype=new ma,qa.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},qa.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Va(),this.nonDisplayed_=Va(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},qa.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},qa.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},qa.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},qa.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},qa.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},qa.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},qa.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},qa.prototype.isNormalChar=function(t){return t>=32&&t<=127},qa.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Va(),this.displayed_=Va()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},qa.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,i)},qa.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},qa.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},qa.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},qa.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},qa.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var $a={CaptionStream:za,Cea608Stream:qa},Ga={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Xa=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},Ka=function t(e){var i,n;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=Xa(t.dts,n),t.pts=Xa(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.discontinuity=function(){n=void 0,i=void 0}};Ka.prototype=new ma;var Za,Qa=Ka,Ja=Xa,tl=function(t,e,i){var n,s="";for(n=e;n<i;n++)s+="%"+("00"+t[n].toString(16)).slice(-2);return s},el=function(t,e,i){return decodeURIComponent(tl(t,e,i))},il=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},nl={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=el(t.data,1,e),t.value=el(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=el(t.data,1,e),t.url=el(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,i;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(i=t.data,unescape(tl(i,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Za=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,s=[],r=0;if(Za.prototype.init.call(this),this.dispatchType=Ga.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,o,a,l,u;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(r=0,s.length=0),0===s.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(s.push(t),r+=t.data.byteLength,1===s.length&&(n=il(t.data.subarray(6,10)),n+=10),!(r<n)){for(e={data:new Uint8Array(n),frames:[],pts:s[0].pts,dts:s[0].dts},u=0;u<n;)e.data.set(s[0].data.subarray(0,n-u),u),u+=s[0].data.byteLength,r-=s[0].data.byteLength,s.shift();o=10,64&e.data[5]&&(o+=4,o+=il(e.data.subarray(10,14)),n-=il(e.data.subarray(16,20)));do{if((a=il(e.data.subarray(o+4,o+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[o],e.data[o+1],e.data[o+2],e.data[o+3]),data:e.data.subarray(o+10,o+a+10)}).key=l.id,nl[l.id]&&(nl[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],l.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),o+=10,o+=a}while(o<n);this.trigger("data",e)}}}).prototype=new ma;var sl,rl,ol,al=Za,ll=Qa;(sl=function(){var t=new Uint8Array(188),e=0;sl.prototype.init.call(this),this.push=function(i){var n,s=0,r=188;for(e?((n=new Uint8Array(i.byteLength+e)).set(t.subarray(0,e)),n.set(i,e),e=0):n=i;r<n.byteLength;)71!==n[s]||71!==n[r]?(s++,r++):(this.trigger("data",n.subarray(s,r)),s+=188,r+=188);s<n.byteLength&&(t.set(n.subarray(s),0),e=n.byteLength-s)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new ma,(rl=function(){var t,e,i,n;rl.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var s=0;n.payloadUnitStartIndicator&&(s+=t[s]+1),"pat"===n.type?e(t.subarray(s),n):i(t.subarray(s),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,s;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,s=12+((15&t[10])<<8|t[11]);s<i;){var r=t[s],o=(31&t[s+1])<<8|t[s+2];r===Ga.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:r===Ga.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:r===Ga.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=r),s+=5+((15&t[s+3])<<8|t[s+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Ga.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ga.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}}).prototype=new ma,rl.STREAM_TYPES={h264:27,adts:15},(ol=function(){var t=this,e={data:[],size:0},i={data:[],size:0},n={data:[],size:0},s=function(e,i,n){var s,r,o=new Uint8Array(e.size),a={type:i},l=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)r=e.data[l],o.set(r.data,u),u+=r.data.byteLength;var c,h,d;c=o,(h=a).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),s="video"===i||a.packetLength<=e.size,(n||s)&&(e.size=0,e.data.length=0),s&&t.trigger("data",a)}};ol.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,o;switch(r.streamType){case Ga.H264_STREAM_TYPE:case Ga.H264_STREAM_TYPE:t=e,o="video";break;case Ga.ADTS_STREAM_TYPE:t=i,o="audio";break;case Ga.METADATA_STREAM_TYPE:t=n,o="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(t,o,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},i=r.programMapTable;null!==i.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){s(e,"video"),s(i,"audio"),s(n,"timed-metadata"),this.trigger("done")}}).prototype=new ma;var ul={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:sl,TransportParseStream:rl,ElementaryStream:ol,TimestampRolloverStream:ll,CaptionStream:$a.CaptionStream,Cea608Stream:$a.Cea608Stream,MetadataStream:al};for(var cl in Ga)Ga.hasOwnProperty(cl)&&(ul[cl]=Ga[cl]);var hl,dl=ul,pl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(hl=function(){var t;hl.prototype.init.call(this),this.push=function(e){var i,n,s,r,o,a,l=0,u=0;if("audio"===e.type)for(t?(r=t,(t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240==(246&t[l+1])){if(n=2*(1&~t[l+1]),i=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,a=9e4*(o=1024*(1+(3&t[l+6])))/pl[(60&t[l+2])>>>2],s=l+i,t.byteLength<s)return;if(this.trigger("data",{pts:e.pts+u*a,dts:e.dts+u*a,sampleCount:o,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:pl[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+n,s)}),t.byteLength===s)return void(t=void 0);u++,t=t.subarray(s)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new ma;var fl,ml,gl,vl=hl,yl=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var s=t.byteLength-e,r=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");r.set(t.subarray(s,s+o)),i=new DataView(r.buffer).getUint32(0),n=8*o,e-=o},this.skipBits=function(t){var s;n>t?(i<<=t,n-=t):(t-=n,t-=8*(s=Math.floor(t/8)),e-=s,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var s=Math.min(n,t),r=i>>>32-s;return(n-=s)>0?i<<=s:e>0&&this.loadWord(),(s=t-s)>0?r<<s|this.readBits(s):r},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!=(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(ml=function(){var t,e,i=0;ml.prototype.init.call(this),this.push=function(n){var s;for(e?((s=new Uint8Array(e.byteLength+n.data.byteLength)).set(e),s.set(n.data,e.byteLength),e=s):e=n.data;i<e.byteLength-3;i++)if(1===e[i+2]){t=i+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<e.length);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3}e=e.subarray(i),t-=i,i=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")}}).prototype=new ma,gl={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(fl=function(){var t,e,i,n,s,r,o,a=new ml;fl.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,a.push(t))},a.on("data",function(o){var a={trackId:e,pts:i,dts:n,data:o};switch(31&o[0]){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=s(o.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=s(o.subarray(1)),a.config=r(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",a)}),a.on("done",function(){t.trigger("done")}),this.flush=function(){a.flush()},o=function(t,e){var i,n=8,s=8;for(i=0;i<t;i++)0!==s&&(s=(n+e.readExpGolomb()+256)%256),n=0===s?n:s},s=function(t){for(var e,i,n=t.byteLength,s=[],r=1;r<n-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(s.push(r+2),r+=2):r++;if(0===s.length)return t;e=n-s.length,i=new Uint8Array(e);var o=0;for(r=0;r<e;o++,r++)o===s[0]&&(o++,s.shift()),i[r]=t[o];return i},r=function(t){var e,i,n,s,r,a,l,u,c,h,d,p,f,m=0,g=0,v=0,y=0,_=1;if(i=(e=new yl(t)).readUnsignedByte(),s=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),gl[i]&&(3===(r=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==r?8:12,f=0;f<d;f++)e.readBoolean()&&o(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(a=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===a)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),f=0;f<l;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}p&&(_=p[0]/p[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:s,width:Math.ceil((16*(u+1)-2*m-2*g)*_),height:(2-h)*(c+1)*16-2*v-2*y}}}).prototype=new ma;var _l,bl={H264Stream:fl,NalByteStream:ml},wl=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350],Tl=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},kl={isLikelyAacData:function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},parseId3TagSize:function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},parseAdtsSize:function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i},parseType:function(t,e){return t[e]==="I".charCodeAt(0)&&t[e+1]==="D".charCodeAt(0)&&t[e+2]==="3".charCodeAt(0)?"timed-metadata":!0&t[e]&&240==(240&t[e+1])?"audio":null},parseSampleRate:function(t){for(var e=0;e+5<t.length;){if(255===t[e]&&240==(246&t[e+1]))return wl[(60&t[e+2])>>>2];e++}return null},parseAacTimestamp:function(t){var e,i,n;e=10,64&t[5]&&(e+=4,e+=Tl(t.subarray(10,14)));do{if((i=Tl(t.subarray(e+4,e+8)))<1)return null;if("PRIV"===String.fromCharCode(t[e],t[e+1],t[e+2],t[e+3])){n=t.subarray(e+10,e+i+10);for(var s=0;s<n.byteLength;s++)if(0===n[s]){if("com.apple.streaming.transportStreamTimestamp"===unescape(function(t,e,i){var n,s="";for(n=e;n<i;n++)s+="%"+("00"+t[n].toString(16)).slice(-2);return s}(n,0,s))){var r=n.subarray(s+1),o=(1&r[3])<<30|r[4]<<22|r[5]<<14|r[6]<<6|r[7]>>>2;return o*=4,o+=3&r[7]}break}}e+=10,e+=i}while(e<t.byteLength);return null}};(_l=function(){var t=new Uint8Array,e=0;_l.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,s,r,o,a=0,l=0;for(t.length?(o=t.length,(t=new Uint8Array(i.byteLength+o)).set(t.subarray(0,o)),t.set(i,o)):t=i;t.length-l>=3;)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!=(255&t[l])||240!=(240&t[l+1]))l++;else{if(t.length-l<7)break;if(l+(a=kl.parseAdtsSize(t,l))>t.length)break;r={type:"audio",data:t.subarray(l,l+a),pts:e,dts:e},this.trigger("data",r),l+=a}else{if(t.length-l<10)break;if(l+(a=kl.parseId3TagSize(t,l))>t.length)break;s={type:"timed-metadata",data:t.subarray(l,l+a)},this.trigger("data",s),l+=a}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array}}).prototype=new ma;var Sl,Cl,xl,El,Dl=_l,Al=bl.H264Stream,Pl=kl.isLikelyAacData,Il=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],Ol=["width","height","profileIdc","levelIdc","profileCompatibility"],Ml=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0};(Cl=function(t,e){var i=[],n=0,s=0,r=0,o=1/0;e=e||{},Cl.prototype.init.call(this),this.push=function(e){Na(t,e),t&&Il.forEach(function(i){t[i]=e[i]}),i.push(e)},this.setEarliestDts=function(e){s=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){r=t},this.flush=function(){var a,l,u,c;0!==i.length?(a=Pa(i,t,s),t.baseMediaDecodeTime=La(t,e.keepOriginalTimestamps),Aa(t,a,r,o),t.samples=Ia(a),u=oa.mdat(Oa(a)),i=[],l=oa.moof(n,[t]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Ma(t),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new ma,(Sl=function(t,e){var i,n,s=0,r=[],o=[];e=e||{},Sl.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){Na(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],Ol.forEach(function(e){t[e]=i[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),r.push(e)},this.flush=function(){for(var i,n,a,l,u,c;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=va(r),(a=ya(i))[0][0].keyFrame||((n=this.getGopForFusion_(r[0],t))?(a.unshift(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.pts=n.pts,a.dts=n.dts,a.duration+=n.duration):a=_a(a)),o.length){var h;if(!(h=e.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Ma(t),a=h}Na(t,a),t.samples=ba(a),u=oa.mdat(wa(a)),t.baseMediaDecodeTime=La(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=oa.moof(s,[t]),c=new Uint8Array(l.byteLength+u.byteLength),s++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Ma(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,s,r,o,a=1/0;for(o=0;o<this.gopCache_.length;o++)s=(r=this.gopCache_[o]).gop,t.pps&&Ml(t.pps[0],r.pps[0])&&t.sps&&Ml(t.sps[0],r.sps[0])&&(s.dts<t.timelineStartInfo.dts||(i=e.dts-s.dts-s.duration)>=-1e4&&i<=45e3&&(!n||a>i)&&(n=r,a=i));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,s,r,a,l,u;for(r=t.byteLength,a=t.nalCount,l=t.duration,e=i=0;e<o.length&&i<t.length&&(n=o[e],s=t[i],n.pts!==s.pts);)s.pts>n.pts?e++:(i++,r-=s.byteLength,a-=s.nalCount,l-=s.duration);return 0===i?t:i===t.length?null:((u=t.slice(i)).byteLength=r,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,i,n,s,r,a,l;for(e=o.length-1,i=t.length-1,r=null,a=!1;e>=0&&i>=0;){if(n=o[e],s=t[i],n.pts===s.pts){a=!0;break}n.pts>s.pts?e--:(e===o.length-1&&(r=i),i--)}if(!a&&null===r)return null;if(0===(l=a?i:r))return t;var u=t.slice(l),c=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){o=t}}).prototype=new ma,(El=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,El.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new ma,El.prototype.flush=function(t){var e,i,n,s,r=0,o={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,Ol.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,Il.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=oa.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)o.data.set(this.pendingBoxes[s],r),r+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(e=this.pendingCaptions[s]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=a),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=a),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(s=0;s<this.pendingMetadata.length;s++)(i=this.pendingMetadata[s]).cueTime=i.pts,this.keepOriginalTimestamps||(i.cueTime-=a),i.cueTime/=9e4,o.metadata.push(i);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(xl=function(t){var e,i,n=this,s=!0;xl.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new dl.MetadataStream,e.aacStream=new Dl,e.audioTimestampRolloverStream=new dl.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new dl.TimestampRolloverStream("timed-metadata"),e.adtsStream=new vl,e.coalesceStream=new El(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(s){"timed-metadata"!==s.type||e.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new Cl(i,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new dl.MetadataStream,s.packetStream=new dl.TransportPacketStream,s.parseStream=new dl.TransportParseStream,s.elementaryStream=new dl.ElementaryStream,s.videoTimestampRolloverStream=new dl.TimestampRolloverStream("video"),s.audioTimestampRolloverStream=new dl.TimestampRolloverStream("audio"),s.timedMetadataTimestampRolloverStream=new dl.TimestampRolloverStream("timed-metadata"),s.adtsStream=new vl,s.h264Stream=new Al,s.captionStream=new dl.CaptionStream,s.coalesceStream=new El(t,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream),s.elementaryStream.pipe(s.videoTimestampRolloverStream).pipe(s.h264Stream),s.elementaryStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),s.elementaryStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",function(r){var o;if("metadata"===r.type){for(o=r.tracks.length;o--;)e||"video"!==r.tracks[o].type?i||"audio"!==r.tracks[o].type||((i=r.tracks[o]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=r.tracks[o]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;e&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new Sl(e,t),s.videoSegmentStream.on("timelineStartInfo",function(t){i&&(i.timelineStartInfo=t,s.audioSegmentStream.setEarliestDts(t.dts))}),s.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",function(t){i&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),i&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new Cl(i,t),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream))}}),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var s=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Ma(i),t.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=n),s.audioTimestampRolloverStream&&s.audioTimestampRolloverStream.discontinuity()),e&&(s.videoSegmentStream&&(s.videoSegmentStream.gopCache_=[],s.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Ma(e),s.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=n)),s.timedMetadataTimestampRolloverStream&&s.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(s){var e=Pl(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),s=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){s=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new ma;var Ll,Nl,Rl={Transmuxer:xl,VideoSegmentStream:Sl,AudioSegmentStream:Cl,AUDIO_PROPERTIES:Il,VIDEO_PROPERTIES:Ol},Ul=sa.parseType,Fl=function(t){return new Date(1e3*t-20828448e5)},jl=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},Hl=function(t){var e,i,n=new DataView(t.buffer,t.byteOffset,t.byteLength),s=[];for(e=0;e+4<t.length;e+=i)if(i=n.getUint32(e),e+=4,i<=0)s.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:s.push("slice_layer_without_partitioning_rbsp");break;case 5:s.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:s.push("sei_rbsp");break;case 7:s.push("seq_parameter_set_rbsp");break;case 8:s.push("pic_parameter_set_rbsp");break;case 9:s.push("access_unit_delimiter_rbsp");break;default:s.push("UNKNOWN NAL - "+t[e]&31)}return s},zl={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:Ll(t.subarray(78,t.byteLength))}},avcC:function(t){var e,i,n,s,r=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},a=31&t[5];for(n=6,s=0;s<a;s++)i=r.getUint16(n),n+=2,o.sps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;for(e=t[n],n++,s=0;s<e;s++)i=r.getUint16(n),n+=2,o.pps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={majorBrand:Ul(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},n=8;n<t.byteLength;)i.compatibleBrands.push(Ul(t.subarray(n,n+4))),n+=4;return i},dinf:function(t){return{boxes:Ll(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:Ll(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:Ul(t.subarray(8,12)),name:""},i=8;for(i=24;i<t.byteLength;i++){if(0===t[i]){i++;break}e.name+=String.fromCharCode(t[i])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:Hl(t)}},mdhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,s={version:i.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===s.version?(n+=4,s.creationTime=Fl(i.getUint32(n)),n+=8,s.modificationTime=Fl(i.getUint32(n)),n+=4,s.timescale=i.getUint32(n),n+=8,s.duration=i.getUint32(n)):(s.creationTime=Fl(i.getUint32(n)),n+=4,s.modificationTime=Fl(i.getUint32(n)),n+=4,s.timescale=i.getUint32(n),n+=4,s.duration=i.getUint32(n)),n+=4,e=i.getUint16(n),s.language+=String.fromCharCode(96+(e>>10)),s.language+=String.fromCharCode(96+((992&e)>>5)),s.language+=String.fromCharCode(96+(31&e)),s},mdia:function(t){return{boxes:Ll(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:Ll(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(i.streamDescriptor=Ll(t.subarray(28))[0]),i},moof:function(t){return{boxes:Ll(t)}},moov:function(t){return{boxes:Ll(t)}},mvex:function(t){return{boxes:Ll(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=Fl(e.getUint32(i)),i+=8,n.modificationTime=Fl(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=8,n.duration=e.getUint32(i)):(n.creationTime=Fl(e.getUint32(i)),i+=4,n.modificationTime=Fl(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=4,n.duration=e.getUint32(i)),i+=4,n.rate=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=e.getUint32(i),n},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)i.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return i},sidx:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},s=i.getUint16(22);for(e=24;s;e+=12,s--)n.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&i.getUint32(e),subsegmentDuration:i.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&i.getUint32(e+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:Ll(t)}},stco:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},s=i.getUint32(4);for(e=8;s;e+=4,s--)n.chunkOffsets.push(i.getUint32(e));return n},stsc:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=i.getUint32(4),s={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;n;e+=12,n--)s.sampleToChunks.push({firstChunk:i.getUint32(e),samplesPerChunk:i.getUint32(e+4),sampleDescriptionIndex:i.getUint32(e+8)});return s},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:Ll(t.subarray(8))}},stsz:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)n.entries.push(i.getUint32(e));return n},stts:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},s=i.getUint32(4);for(e=8;s;e+=8,s--)n.timeToSamples.push({sampleCount:i.getUint32(e),sampleDelta:i.getUint32(e+4)});return n},styp:function(t){return zl.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},s=1&n.flags[2],r=2&n.flags[2],o=8&n.flags[2],a=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return e=8,s&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),r&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),o&&(n.defaultSampleDuration=i.getUint32(e),e+=4),a&&(n.defaultSampleSize=i.getUint32(e),e+=4),l&&(n.defaultSampleFlags=i.getUint32(e)),u&&(n.durationIsEmpty=!0),!s&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=Fl(e.getUint32(i)),i+=8,n.modificationTime=Fl(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=8,n.duration=e.getUint32(i)):(n.creationTime=Fl(e.getUint32(i)),i+=4,n.modificationTime=Fl(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=4,n.duration=e.getUint32(i)),i+=4,i+=8,n.layer=e.getUint16(i),i+=2,n.alternateGroup=e.getUint16(i),i+=2,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,n.width=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.height=e.getUint16(i)+e.getUint16(i+2)/16,n},traf:function(t){return{boxes:Ll(t)}},trak:function(t){return{boxes:Ll(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),s=1&i.flags[2],r=4&i.flags[2],o=1&i.flags[1],a=2&i.flags[1],l=4&i.flags[1],u=8&i.flags[1],c=n.getUint32(4),h=8;for(s&&(i.dataOffset=n.getInt32(h),h+=4),r&&c&&(e={flags:jl(t.subarray(h,h+4))},h+=4,o&&(e.duration=n.getUint32(h),h+=4),a&&(e.size=n.getUint32(h),h+=4),u&&(e.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(e),c--);c--;)e={},o&&(e.duration=n.getUint32(h),h+=4),a&&(e.size=n.getUint32(h),h+=4),l&&(e.flags=jl(t.subarray(h,h+4)),h+=4),u&&(e.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(e);return i},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},Bl={inspect:Ll=function(t){for(var e,i,n,s,r,o=0,a=[],l=new ArrayBuffer(t.length),u=new Uint8Array(l),c=0;c<t.length;++c)u[c]=t[c];for(e=new DataView(l);o<t.byteLength;)i=e.getUint32(o),n=Ul(t.subarray(o+4,o+8)),s=i>1?o+i:t.byteLength,(r=(zl[n]||function(t){return{data:t}})(t.subarray(o+8,s))).size=i,r.type=n,a.push(r),o=s;return a},textify:Nl=function(t,e){var i;return e=e||0,i=new Array(2*e+1).join(" "),t.map(function(t,n){return i+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var n=i+"  "+e+": ",s=t[e];if(s instanceof Uint8Array||s instanceof Uint32Array){var r=Array.prototype.slice.call(new Uint8Array(s.buffer,s.byteOffset,s.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return r?1===r.length?n+"<"+r.join("").slice(1)+">":n+"<\n"+r.map(function(t){return i+"  "+t}).join("\n")+"\n"+i+"  >":n+"<>"}return n+JSON.stringify(s,null,2).split("\n").map(function(t,e){return 0===e?t:i+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+Nl(t.boxes,e+1):"")}).join("\n")},parseTfdt:zl.tfdt,parseHdlr:zl.hdlr,parseTfhd:zl.tfhd,parseTrun:zl.trun},Wl=ja,Yl=$a.CaptionStream,Vl=function(t,e){for(var i=t,n=0;n<e.length;n++){var s=e[n];if(i<s.size)return s;i-=s.size}return null},ql=function(t,e){var i=sa.findBox(t,["moof","traf"]),n=sa.findBox(t,["mdat"]),s={},r=[];return n.forEach(function(t,e){var n=i[e];r.push({mdat:t,traf:n})}),r.forEach(function(t){var i,n=t.mdat,r=t.traf,o=sa.findBox(r,["tfhd"]),a=Bl.parseTfhd(o[0]),l=a.trackId,u=sa.findBox(r,["tfdt"]),c=u.length>0?Bl.parseTfdt(u[0]).baseMediaDecodeTime:0,h=sa.findBox(r,["trun"]);e===l&&h.length>0&&(i=function(t,e,i){var n,s,r,o,a=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(s=0;s+4<t.length;s+=r)if(r=a.getUint32(s),s+=4,!(r<=0))switch(31&t[s]){case 6:var u=t.subarray(s+1,s+1+r),c=Vl(s,e);n={nalUnitType:"sei_rbsp",size:r,data:u,escapedRBSP:Wl(u),trackId:i},c?(n.pts=c.pts,n.dts=c.dts,o=c):(n.pts=o.pts,n.dts=o.dts),l.push(n)}return l}(n,function(t,e,i){var n=e,s=i.defaultSampleDuration||0,r=i.defaultSampleSize||0,o=i.trackId,a=[];return t.forEach(function(t){var e=Bl.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=s),void 0===t.size&&(t.size=r),t.trackId=o,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration}),a=a.concat(e)}),a}(h,c,a),l),s[l]||(s[l]=[]),s[l]=s[l].concat(i))}),s},$l={generator:oa,probe:sa,Transmuxer:Rl.Transmuxer,AudioSegmentStream:Rl.AudioSegmentStream,VideoSegmentStream:Rl.VideoSegmentStream,CaptionParser:function(){var t,e,i,n,s,r=!1;this.isInitialized=function(){return r},this.init=function(){t=new Yl,r=!0,t.on("data",function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,s.captions.push(t),s.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||i===t[0]&&n===e[i])},this.parse=function(t,r,o){var a;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))i=r[0],n=o[i];else if(!i||!n)return e.push(t),null;for(;e.length>0;){var l=e.shift();this.parse(l,r,o)}return null!==(a=function(t,e,i){return e?{seiNals:ql(t,e)[e],timescale:i}:null}(t,i,n))&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}}.CaptionParser,Gl=function(t){var e=31&t[1];return e<<=8,e|=t[2]},Xl=function(t){return!!(64&t[1])},Kl=function(t){var e=0;return(48&t[3])>>>4>1&&(e+=t[4]+1),e},Zl=function(t){switch(t){case 5:return"slice_layer_without_partitioning_rbsp_idr";case 6:return"sei_rbsp";case 7:return"seq_parameter_set_rbsp";case 8:return"pic_parameter_set_rbsp";case 9:return"access_unit_delimiter_rbsp";default:return null}},Ql={parseType:function(t,e){var i=Gl(t);return 0===i?"pat":i===e?"pmt":e?"pes":null},parsePat:function(t){var e=Xl(t),i=4+Kl(t);return e&&(i+=t[i]+1),(31&t[i+10])<<8|t[i+11]},parsePmt:function(t){var e={},i=Xl(t),n=4+Kl(t);if(i&&(n+=t[n]+1),1&t[n+5]){var s;s=3+((15&t[n+1])<<8|t[n+2])-4;for(var r=12+((15&t[n+10])<<8|t[n+11]);r<s;){var o=n+r;e[(31&t[o+1])<<8|t[o+2]]=t[o],r+=5+((15&t[o+3])<<8|t[o+4])}return e}},parsePayloadUnitStartIndicator:Xl,parsePesType:function(t,e){switch(e[Gl(t)]){case Ga.H264_STREAM_TYPE:return"video";case Ga.ADTS_STREAM_TYPE:return"audio";case Ga.METADATA_STREAM_TYPE:return"timed-metadata";default:return null}},parsePesTime:function(t){if(!Xl(t))return null;var e=4+Kl(t);if(e>=t.byteLength)return null;var i,n=null;return 192&(i=t[e+7])&&((n={}).pts=(14&t[e+9])<<27|(255&t[e+10])<<20|(254&t[e+11])<<12|(255&t[e+12])<<5|(254&t[e+13])>>>3,n.pts*=4,n.pts+=(6&t[e+13])>>>1,n.dts=n.pts,64&i&&(n.dts=(14&t[e+14])<<27|(255&t[e+15])<<20|(254&t[e+16])<<12|(255&t[e+17])<<5|(254&t[e+18])>>>3,n.dts*=4,n.dts+=(6&t[e+18])>>>1)),n},videoPacketContainsKeyFrame:function(t){for(var e=4+Kl(t),i=t.subarray(e),n=0,s=0,r=!1;s<i.byteLength-3;s++)if(1===i[s+2]){n=s+5;break}for(;n<i.byteLength;)switch(i[n]){case 0:if(0!==i[n-1]){n+=2;break}if(0!==i[n-2]){n++;break}s+3!==n-2&&"slice_layer_without_partitioning_rbsp_idr"===Zl(31&i[s+3])&&(r=!0);do{n++}while(1!==i[n]&&n<i.length);s=n-2,n+=3;break;case 1:if(0!==i[n-1]||0!==i[n-2]){n+=3;break}"slice_layer_without_partitioning_rbsp_idr"===Zl(31&i[s+3])&&(r=!0),s=n-2,n+=3;break;default:n+=3}return i=i.subarray(s),n-=s,s=0,i&&i.byteLength>3&&"slice_layer_without_partitioning_rbsp_idr"===Zl(31&i[s+3])&&(r=!0),r}},Jl=Ja,tu={};tu.ts=Ql,tu.aac=kl;var eu=function(t,e,i){for(var n,s,r,o,a=0,l=188,u=!1;l<=t.byteLength;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a++,l++;else{switch(n=t.subarray(a,l),tu.ts.parseType(n,e.pid)){case"pes":s=tu.ts.parsePesType(n,e.table),r=tu.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&r&&(o=tu.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),u=!0)}if(u)break;a+=188,l+=188}for(a=(l=t.byteLength)-188,u=!1;a>=0;)if(71!==t[a]||71!==t[l]&&l!==t.byteLength)a--,l--;else{switch(n=t.subarray(a,l),tu.ts.parseType(n,e.pid)){case"pes":s=tu.ts.parsePesType(n,e.table),r=tu.ts.parsePayloadUnitStartIndicator(n),"audio"===s&&r&&(o=tu.ts.parsePesTime(n))&&(o.type="audio",i.audio.push(o),u=!0)}if(u)break;a-=188,l-=188}},iu=function(t,e,i){for(var n,s,r,o,a,l,u,c=0,h=188,d=!1,p={data:[],size:0};h<t.byteLength;)if(71!==t[c]||71!==t[h])c++,h++;else{switch(n=t.subarray(c,h),tu.ts.parseType(n,e.pid)){case"pes":if(s=tu.ts.parsePesType(n,e.table),r=tu.ts.parsePayloadUnitStartIndicator(n),"video"===s&&(r&&!d&&(o=tu.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),d=!0),!i.firstKeyFrame)){if(r&&0!==p.size){for(a=new Uint8Array(p.size),l=0;p.data.length;)u=p.data.shift(),a.set(u,l),l+=u.byteLength;tu.ts.videoPacketContainsKeyFrame(a)&&(i.firstKeyFrame=tu.ts.parsePesTime(a),i.firstKeyFrame.type="video"),p.size=0}p.data.push(n),p.size+=n.byteLength}}if(d&&i.firstKeyFrame)break;c+=188,h+=188}for(c=(h=t.byteLength)-188,d=!1;c>=0;)if(71!==t[c]||71!==t[h])c--,h--;else{switch(n=t.subarray(c,h),tu.ts.parseType(n,e.pid)){case"pes":s=tu.ts.parsePesType(n,e.table),r=tu.ts.parsePayloadUnitStartIndicator(n),"video"===s&&r&&(o=tu.ts.parsePesTime(n))&&(o.type="video",i.video.push(o),d=!0)}if(d)break;c-=188,h-=188}},nu=function(t){var e={pid:null,table:null},i={};for(var n in function(t,e){for(var i,n=0,s=188;s<t.byteLength;)if(71!==t[n]||71!==t[s])n++,s++;else{switch(i=t.subarray(n,s),tu.ts.parseType(i,e.pid)){case"pat":e.pid||(e.pid=tu.ts.parsePat(i));break;case"pmt":e.table||(e.table=tu.ts.parsePmt(i))}if(e.pid&&e.table)return;n+=188,s+=188}}(t,e),e.table){if(e.table.hasOwnProperty(n))switch(e.table[n]){case Ga.H264_STREAM_TYPE:i.video=[],iu(t,e,i),0===i.video.length&&delete i.video;break;case Ga.ADTS_STREAM_TYPE:i.audio=[],eu(t,e,i),0===i.audio.length&&delete i.audio}}return i},su=function(t,e){var i;return(i=tu.aac.isLikelyAacData(t)?function(t){for(var e,i=!1,n=0,s=null,r=null,o=0,a=0;t.length-a>=3;){switch(tu.aac.parseType(t,a)){case"timed-metadata":if(t.length-a<10){i=!0;break}if((o=tu.aac.parseId3TagSize(t,a))>t.length){i=!0;break}null===r&&(e=t.subarray(a,a+o),r=tu.aac.parseAacTimestamp(e)),a+=o;break;case"audio":if(t.length-a<7){i=!0;break}if((o=tu.aac.parseAdtsSize(t,a))>t.length){i=!0;break}null===s&&(e=t.subarray(a,a+o),s=tu.aac.parseSampleRate(e)),n++,a+=o;break;default:a++}if(i)return null}if(null===s||null===r)return null;var l=9e4/s;return{audio:[{type:"audio",dts:r,pts:r},{type:"audio",dts:r+1024*n*l,pts:r+1024*n*l}]}}(t):nu(t))&&(i.audio||i.video)?(function(t,e){if(t.audio&&t.audio.length){var i=e;void 0===i&&(i=t.audio[0].dts),t.audio.forEach(function(t){t.dts=Jl(t.dts,i),t.pts=Jl(t.pts,i),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4})}if(t.video&&t.video.length){var n=e;if(void 0===n&&(n=t.video[0].dts),t.video.forEach(function(t){t.dts=Jl(t.dts,n),t.pts=Jl(t.pts,n),t.dtsTime=t.dts/9e4,t.ptsTime=t.pts/9e4}),t.firstKeyFrame){var s=t.firstKeyFrame;s.dts=Jl(s.dts,n),s.pts=Jl(s.pts,n),s.dtsTime=s.dts/9e4,s.ptsTime=s.dts/9e4}}}(i,e),i):null};var ru=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},ou=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),au=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},lu=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],s=i[4],r=void 0,o=void 0,a=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(r=0;r<256;r++)u[(l[r]=r<<1^283*(r>>7))^r]=r;for(o=a=0;!n[o];o^=c||1,a=u[a]||1)for(d=(d=a^a<<1^a<<2^a<<3^a<<4)>>8^255&d^99,n[o]=d,s[d]=o,f=16843009*l[h=l[c=l[o]]]^65537*h^257*c^16843008*o,p=257*l[d]^16843008*d,r=0;r<4;r++)e[r][o]=p=p<<24^p>>>8,i[r][d]=f=f<<24^f>>>8;for(r=0;r<5;r++)e[r]=e[r].slice(0),i[r]=i[r].slice(0);return t},uu=null,cu=function(){function t(e){ru(this,t),uu||(uu=lu()),this._tables=[[uu[0][0].slice(),uu[0][1].slice(),uu[0][2].slice(),uu[0][3].slice(),uu[0][4].slice()],[uu[1][0].slice(),uu[1][1].slice(),uu[1][2].slice(),uu[1][3].slice(),uu[1][4].slice()]];var i=void 0,n=void 0,s=void 0,r=void 0,o=void 0,a=this._tables[0][4],l=this._tables[1],u=e.length,c=1;if(4!==u&&6!==u&&8!==u)throw new Error("Invalid aes key size");for(r=e.slice(0),o=[],this._key=[r,o],i=u;i<4*u+28;i++)s=r[i-1],(i%u==0||8===u&&i%u==4)&&(s=a[s>>>24]<<24^a[s>>16&255]<<16^a[s>>8&255]<<8^a[255&s],i%u==0&&(s=s<<8^s>>>24^c<<24,c=c<<1^283*(c>>7))),r[i]=r[i-u]^s;for(n=0;i;n++,i--)s=r[3&n?i:i-4],o[n]=i<=4||n<4?s:l[0][a[s>>>24]]^l[1][a[s>>16&255]]^l[2][a[s>>8&255]]^l[3][a[255&s]]}return t.prototype.decrypt=function(t,e,i,n,s,r){var o=this._key[1],a=t^o[0],l=n^o[1],u=i^o[2],c=e^o[3],h=void 0,d=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],T=v[4];for(m=0;m<f;m++)h=y[a>>>24]^_[l>>16&255]^b[u>>8&255]^w[255&c]^o[g],d=y[l>>>24]^_[u>>16&255]^b[c>>8&255]^w[255&a]^o[g+1],p=y[u>>>24]^_[c>>16&255]^b[a>>8&255]^w[255&l]^o[g+2],c=y[c>>>24]^_[a>>16&255]^b[l>>8&255]^w[255&u]^o[g+3],g+=4,a=h,l=d,u=p;for(m=0;m<4;m++)s[(3&-m)+r]=T[a>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^o[g++],h=a,a=l,l=u,u=c,c=h},t}(),hu=function(){function t(){ru(this,t),this.listeners={}}return t.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},t.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},t.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),r=e.length,o=0;o<r;++o)e[o].apply(this,s)},t.prototype.dispose=function(){this.listeners={}},t.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},t}(),du=function(t){function e(){ru(this,e);var i=au(this,t.call(this,hu));return i.jobs=[],i.delay=1,i.timeout_=null,i}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},e.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},e}(hu),pu=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},fu=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),s=new cu(Array.prototype.slice.call(e)),r=new Uint8Array(t.byteLength),o=new Int32Array(r.buffer),a=void 0,l=void 0,u=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0;for(a=i[0],l=i[1],u=i[2],c=i[3],m=0;m<n.length;m+=4)h=pu(n[m]),d=pu(n[m+1]),p=pu(n[m+2]),f=pu(n[m+3]),s.decrypt(h,d,p,f,o,m),o[m]=pu(o[m]^a),o[m+1]=pu(o[m+1]^l),o[m+2]=pu(o[m+2]^u),o[m+3]=pu(o[m+3]^c),a=h,l=d,u=p,c=f;return r},mu=function(){function t(e,i,n,s){ru(this,t);var r=t.STEP,o=new Int32Array(e.buffer),a=new Uint8Array(e.byteLength),l=0;for(this.asyncStream_=new du,this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+r),i,n,a)),l=r;l<o.length;l+=r)n=new Uint32Array([pu(o[l-4]),pu(o[l-3]),pu(o[l-2]),pu(o[l-1])]),this.asyncStream_.push(this.decryptChunk_(o.subarray(l,l+r),i,n,a));this.asyncStream_.push(function(){var t;s(null,(t=a).subarray(0,t.byteLength-t[t.byteLength-1]))})}return t.prototype.decryptChunk_=function(t,e,i,n){return function(){var s=fu(t,e,i);n.set(s,t.byteOffset)}},ou(t,null,[{key:"STEP",get:function(){return 32e3}}]),t}(),gu=function(t,i){return/^[a-z]+:/i.test(i)?i:(/\/\//i.test(t)||(t=pr.buildAbsoluteURL(e.location.href,t)),pr.buildAbsoluteURL(t,i))},vu=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},yu=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),_u=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},bu=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},wu=function(){return function(t,e){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function(t,e){var i=[],n=!0,s=!1,r=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(t){s=!0,r=t}finally{try{!n&&a.return&&a.return()}finally{if(s)throw r}}return i}(t,e);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Tu=cr.mergeOptions,ku=cr.EventTarget,Su=cr.log,Cu=function(t,e){["AUDIO","SUBTITLES"].forEach(function(i){for(var n in t.mediaGroups[i])for(var s in t.mediaGroups[i][n]){var r=t.mediaGroups[i][n][s];e(r,i,n,s)}})},xu=function(t,e){var i=Tu(t,{}),n=i.playlists[e.uri];if(!n)return null;if(n.segments&&e.segments&&n.segments.length===e.segments.length&&n.mediaSequence===e.mediaSequence)return null;var s=Tu(n,e);n.segments&&(s.segments=function(t,e,i){var n=e.slice();i=i||0;for(var s=Math.min(t.length,e.length+i),r=i;r<s;r++)n[r-i]=Tu(t[r],n[r-i]);return n}(n.segments,e.segments,e.mediaSequence-n.mediaSequence)),s.segments.forEach(function(t){!function(t,e){t.resolvedUri||(t.resolvedUri=gu(e,t.uri)),t.key&&!t.key.resolvedUri&&(t.key.resolvedUri=gu(e,t.key.uri)),t.map&&!t.map.resolvedUri&&(t.map.resolvedUri=gu(e,t.map.uri))}(t,s.resolvedUri)});for(var r=0;r<i.playlists.length;r++)i.playlists[r].uri===e.uri&&(i.playlists[r]=s);return i.playlists[e.uri]=s,i},Eu=function(t){for(var e=t.playlists.length;e--;){var i=t.playlists[e];t.playlists[i.uri]=i,i.resolvedUri=gu(t.uri,i.uri),i.id=e,i.attributes||(i.attributes={},Su.warn("Invalid playlist STREAM-INF detected. Missing BANDWIDTH attribute."))}},Du=function(t){Cu(t,function(e){e.uri&&(e.resolvedUri=gu(t.uri,e.uri))})},Au=function(t,e){var i=t.segments[t.segments.length-1];return e&&i&&i.duration?1e3*i.duration:500*(t.targetDuration||10)},Pu=function(t){function i(t,e,n){vu(this,i);var s=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(s.srcUrl=t,s.hls_=e,s.withCredentials=n,!s.srcUrl)throw new Error("A non-empty playlist URL is required");return s.state="HAVE_NOTHING",s.on("mediaupdatetimeout",function(){"HAVE_METADATA"===s.state&&(s.state="HAVE_CURRENT_METADATA",s.request=s.hls_.xhr({uri:gu(s.master.uri,s.media().uri),withCredentials:s.withCredentials},function(t,e){if(s.request)return t?s.playlistRequestError(s.request,s.media().uri,"HAVE_METADATA"):void s.haveMetadata(s.request,s.media().uri)}))}),s}return _u(i,ku),yu(i,[{key:"playlistRequestError",value:function(t,e,i){this.request=null,i&&(this.state=i),this.error={playlist:this.master.playlists[e],status:t.status,message:"HLS playlist request error at URL: "+e,responseText:t.responseText,code:t.status>=500?4:2},this.trigger("error")}},{key:"haveMetadata",value:function(t,i){var n=this;this.request=null,this.state="HAVE_METADATA";var s=new Tr;s.push(t.responseText),s.end(),s.manifest.uri=i,s.manifest.attributes=s.manifest.attributes||{};var r=xu(this.master,s.manifest);this.targetDuration=s.manifest.targetDuration,r?(this.master=r,this.media_=this.master.playlists[s.manifest.uri]):this.trigger("playlistunchanged"),this.media().endList||(e.clearTimeout(this.mediaUpdateTimeout),this.mediaUpdateTimeout=e.setTimeout(function(){n.trigger("mediaupdatetimeout")},Au(this.media(),!!r))),this.trigger("loadedplaylist")}},{key:"dispose",value:function(){this.stopRequest(),e.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){var e=this;if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var i=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var n=!this.media_||t.uri!==this.media_.uri;if(this.master.playlists[t.uri].endList)return this.request&&(this.request.onreadystatechange=null,this.request.abort(),this.request=null),this.state="HAVE_METADATA",this.media_=t,void(n&&(this.trigger("mediachanging"),this.trigger("mediachange")));if(n){if(this.state="SWITCHING_MEDIA",this.request){if(gu(this.master.uri,t.uri)===this.request.url)return;this.request.onreadystatechange=null,this.request.abort(),this.request=null}this.media_&&this.trigger("mediachanging"),this.request=this.hls_.xhr({uri:gu(this.master.uri,t.uri),withCredentials:this.withCredentials},function(n,s){if(e.request){if(n)return e.playlistRequestError(e.request,t.uri,i);e.haveMetadata(s,t.uri),"HAVE_MASTER"===i?e.trigger("loadedmetadata"):e.trigger("mediachange")}})}}},{key:"pause",value:function(){this.stopRequest(),e.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1),"SWITCHING_MEDIA"===this.state?this.media_?this.state="HAVE_METADATA":this.state="HAVE_MASTER":"HAVE_CURRENT_METADATA"===this.state&&(this.state="HAVE_METADATA")}},{key:"load",value:function(t){var i=this;e.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var s=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=e.setTimeout(function(){return i.load()},s)}else this.started?n&&!n.endList?this.trigger("mediaupdatetimeout"):this.trigger("loadedplaylist"):this.start()}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,n){if(t.request){if(t.request=null,i)return t.error={status:n.status,message:"HLS playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");var s=new Tr;return s.push(n.responseText),s.end(),t.state="HAVE_MASTER",s.manifest.uri=t.srcUrl,s.manifest.playlists?(t.master=s.manifest,Eu(t.master),Du(t.master),t.trigger("loadedplaylist"),void(t.request||t.media(s.manifest.playlists[0]))):(t.master={mediaGroups:{AUDIO:{},VIDEO:{},"CLOSED-CAPTIONS":{},SUBTITLES:{}},uri:e.location.href,playlists:[{uri:t.srcUrl,id:0}]},t.master.playlists[t.srcUrl]=t.master.playlists[0],t.master.playlists[0].resolvedUri=t.srcUrl,t.master.playlists[0].attributes=t.master.playlists[0].attributes||{},t.haveMetadata(n,t.srcUrl),t.trigger("loadedmetadata"))}})}}]),i}(),Iu=cr.createTimeRange,Ou=function(t,e,i){var n,s;return void 0===e&&(e=t.mediaSequence+t.segments.length),e<t.mediaSequence?0:(n=function(t,e){var i=0,n=e-t.mediaSequence,s=t.segments[n];if(s){if(void 0!==s.start)return{result:s.start,precise:!0};if(void 0!==s.end)return{result:s.end-s.duration,precise:!0}}for(;n--;){if(void 0!==(s=t.segments[n]).end)return{result:i+s.end,precise:!0};if(i+=s.duration,void 0!==s.start)return{result:i+s.start,precise:!0}}return{result:i,precise:!1}}(t,e)).precise?n.result:(s=function(t,e){for(var i=0,n=void 0,s=e-t.mediaSequence;s<t.segments.length;s++){if(void 0!==(n=t.segments[s]).start)return{result:n.start-i,precise:!0};if(i+=n.duration,void 0!==n.end)return{result:n.end-i,precise:!0}}return{result:-1,precise:!1}}(t,e)).precise?s.result:n.result+i},Mu=function(t,i,n){if(!t)return 0;if("number"!=typeof n&&(n=0),void 0===i){if(t.totalDuration)return t.totalDuration;if(!t.endList)return e.Infinity}return Ou(t,i,n)},Lu=function(t,e,i){var n=0;if(e>i){var s=[i,e];e=s[0],i=s[1]}if(e<0){for(var r=e;r<Math.min(0,i);r++)n+=t.targetDuration;e=0}for(var o=e;o<i;o++)n+=t.segments[o].duration;return n},Nu=function(t){if(!t.segments.length)return 0;for(var e=t.segments.length-1,i=t.segments[e].duration||t.targetDuration,n=i+2*t.targetDuration;e--&&!((i+=t.segments[e].duration)>=n););return Math.max(0,e)},Ru=function(t,e,i){if(!t||!t.segments)return null;if(t.endList)return Mu(t);if(null===e)return null;e=e||0;var n=i?Nu(t):t.segments.length;return Ou(t,t.mediaSequence+n,e)},Uu=function(t){return t-Math.floor(t)==0},Fu=function(t,e){if(Uu(e))return e+.1*t;for(var i=e.toString().split(".")[1].length,n=1;n<=i;n++){var s=Math.pow(10,n),r=e*s;if(Uu(r)||n===i)return(r+t)/s}},ju=Fu.bind(null,1),Hu=Fu.bind(null,-1),zu=function(t){return t.excludeUntil&&t.excludeUntil>Date.now()},Bu=function(t){return t.excludeUntil&&t.excludeUntil===1/0},Wu=function(t){var e=zu(t);return!t.disabled&&!e},Yu=function(t,e){return e.attributes&&e.attributes[t]},Vu=function(t,e){if(1===t.playlists.length)return!0;var i=e.attributes.BANDWIDTH||Number.MAX_VALUE;return 0===t.playlists.filter(function(t){return!!Wu(t)&&(t.attributes.BANDWIDTH||0)<i}).length},qu={duration:Mu,seekable:function(t,e){var i=e||0,n=Ru(t,e,!0);return null===n?Iu():Iu(i,n)},safeLiveIndex:Nu,getMediaInfoForTime:function(t,e,i,n){var s=void 0,r=void 0,o=t.segments.length,a=e-n;if(a<0){if(i>0)for(s=i-1;s>=0;s--)if(r=t.segments[s],(a+=Hu(r.duration))>0)return{mediaIndex:s,startTime:n-Lu(t,i,s)};return{mediaIndex:0,startTime:e}}if(i<0){for(s=i;s<0;s++)if((a-=t.targetDuration)<0)return{mediaIndex:0,startTime:e};i=0}for(s=i;s<o;s++)if(r=t.segments[s],(a-=ju(r.duration))<0)return{mediaIndex:s,startTime:n+Lu(t,i,s)};return{mediaIndex:o-1,startTime:e}},isEnabled:Wu,isDisabled:function(t){return t.disabled},isBlacklisted:zu,isIncompatible:Bu,playlistEnd:Ru,isAes:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].key)return!0;return!1},isFmp4:function(t){for(var e=0;e<t.segments.length;e++)if(t.segments[e].map)return!0;return!1},hasAttribute:Yu,estimateSegmentRequestTime:function(t,e,i){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;return Yu("BANDWIDTH",i)?(t*i.attributes.BANDWIDTH-8*n)/e:NaN},isLowestEnabledRendition:Vu},$u=cr.xhr,Gu=cr.mergeOptions,Xu=function(){return function t(e,i){e=Gu({timeout:45e3},e);var n=t.beforeRequest||cr.Hls.xhr.beforeRequest;if(n&&"function"==typeof n){var s=n(e);s&&(e=s)}var r=$u(e,function(t,e){var n=r.response;!t&&n&&(r.responseTime=Date.now(),r.roundTripTime=r.responseTime-r.requestTime,r.bytesReceived=n.byteLength||n.length,r.bandwidth||(r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3))),e.headers&&(r.responseHeaders=e.headers),t&&"ETIMEDOUT"===t.code&&(r.timedout=!0),t||r.aborted||200===e.statusCode||206===e.statusCode||0===e.statusCode||(t=new Error("XHR Failed with a response of: "+(r&&(n||r.responseText)))),i(t,r)}),o=r.abort;return r.abort=function(){return r.aborted=!0,o.apply(r,arguments)},r.uri=e.uri,r.requestTime=Date.now(),r}},Ku=function(t,e){return t.start(e)+"-"+t.end(e)},Zu=function(t,e){var i=t.toString(16);return"00".substring(0,2-i.length)+i+(e%2?" ":"")},Qu=function(t){return t>=32&&t<126?String.fromCharCode(t):"."},Ju=function(t){var e={};return Object.keys(t).forEach(function(i){var n=t[i];ArrayBuffer.isView(n)?e[i]={bytes:n.buffer,byteOffset:n.byteOffset,byteLength:n.byteLength}:e[i]=n}),e},tc=function(t){var e=t.byterange||{length:1/0,offset:0};return[e.length,e.offset,t.resolvedUri].join(",")},ec=function(t){for(var e=Array.prototype.slice.call(t),i="",n=0;n<e.length/16;n++)i+=e.slice(16*n,16*n+16).map(Zu).join("")+" "+e.slice(16*n,16*n+16).map(Qu).join("")+"\n";return i},ic=Object.freeze({createTransferableMessage:Ju,initSegmentId:tc,hexDump:ec,tagDump:function(t){var e=t.bytes;return ec(e)},textRanges:function(t){var e="",i=void 0;for(i=0;i<t.length;i++)e+=Ku(t,i)+" ";return e}}),nc=function(t,e,i,n){var s=void 0;if("stream"===e){s=new Date(1e3*n+i.getTime());var r=t.toISOString(),o=i.toISOString(),a=s.toISOString();return o<=r&&r<=a}if("player"===e)return s=n+i,i<=t&&t<=s},sc=function(t,e,i){if(!i.segments||0===i.segments.length)return null;if("player"!==e&&"stream"!==e)return null;for(var n=0,s=0;s<i.segments.length;s++){var r=i.segments[s],o=n+r.duration,a=void 0,l=void 0;"player"===e?(a=r.start,l=n):(a=r.dateTimeObject,l=r.dateTimeObject);var u=void 0!==r.start&&void 0!==r.end&&nc(t,e,a,r.end-r.start),c=nc(t,e,l,r.duration);if(u)return{segment:r,estimatedStart:l,type:"accurate"};if(c)return{segment:r,estimatedStart:l,type:"estimate"};n=o}return null},rc=function(t){var e=t.playlist,i=t.time,n=void 0===i?void 0:i,s=t.callback;if(!s)throw new Error("getStreamTime: callback must be provided");if(!e||void 0===n)return s({message:"getStreamTime: playlist and time must be provided"});var r=function(t,e){return sc(t,"player",e)}(n,e);if(!r)return s({message:"valid streamTime was not found"});if("estimate"===r.type)return s({message:"Accurate streamTime could not be determined. Please seek to e.seekTime and try again",seekTime:r.estimatedStart});var o={mediaSeconds:n};return r.segment.dateTimeObject&&(o.programDateTime=r.segment.dateTimeObject.toISOString()),s(null,o)},oc=function t(e){var i=e.streamTime,n=e.playlist,s=e.retryCount,r=void 0===s?2:s,o=e.seekTo,a=e.pauseAfterSeek,l=void 0===a||a,u=e.tech,c=e.callback;if(!c)throw new Error("seekToStreamTime: callback must be provided");if(void 0===i||!n||!o)return c({message:"seekToStreamTime: streamTime, seekTo and playlist must be provided"});if(!n.endList&&!u.hasStarted_)return c({message:"player must be playing a live stream to start buffering"});if(!function(t){if(!t.segments||0===t.segments.length)return!1;for(var e=0;e<t.segments.length;e++)if(!t.segments[e].dateTimeObject)return!1;return!0}(n))return c({message:"programDateTime tags must be provided in the manifest "+n.resolvedUri});var h=function(t,e){var i=void 0;try{i=new Date(t)}catch(t){return null}return sc(i,"stream",e)}(i,n);if(!h)return c({message:i+" was not found in the stream"});if("estimate"===h.type)return 0===r?c({message:i+" is not buffered yet. Try again"}):t({streamTime:i,playlist:n,retryCount:r-1,seekTo:o,pauseAfterSeek:l,tech:u,callback:c});var d=h.segment,p=function(t,e){var i=void 0,n=void 0;try{i=new Date(t),n=new Date(e)}catch(t){}var s=i.getTime();return(n.getTime()-s)/1e3}(d.dateTimeObject,i),f=d.start+p;u.one("seeked",function(){return c(null,u.currentTime())}),l&&u.pause(),o(f)},ac=function(t,e){var i=[],n=void 0;if(t&&t.length)for(n=0;n<t.length;n++)e(t.start(n),t.end(n))&&i.push([t.start(n),t.end(n)]);return cr.createTimeRanges(i)},lc=function(t,e){return ac(t,function(t,i){return t-1/30<=e&&i+1/30>=e})},uc=function(t,e){return ac(t,function(t){return t-1/30>=e})},cc=function(t){var e=[];if(!t||!t.length)return"";for(var i=0;i<t.length;i++)e.push(t.start(i)+" => "+t.end(i));return e.join(", ")},hc=function(t){for(var e=[],i=0;i<t.length;i++)e.push({start:t.start(i),end:t.end(i)});return e},dc=function(t,e,i){var n=void 0,s=void 0;if(i&&i.cues)for(n=i.cues.length;n--;)(s=i.cues[n]).startTime<=e&&s.endTime>=t&&i.removeCue(s)},pc=function(t){return isNaN(t)||Math.abs(t)===1/0?Number.MAX_VALUE:t},fc=function(t,i,n){var s=e.WebKitDataCue||e.VTTCue;if(i&&i.forEach(function(t){var e=t.stream;this.inbandTextTracks_[e].addCue(new s(t.startTime+this.timestampOffset,t.endTime+this.timestampOffset,t.text))},t),n){var r=pc(t.mediaSource_.duration);if(n.forEach(function(t){var e=t.cueTime+this.timestampOffset;t.frames.forEach(function(t){var i=new s(e,e,t.value||t.url||t.data||"");i.frame=t,i.value=t,function(t){Object.defineProperties(t.frame,{id:{get:function(){return cr.log.warn("cue.frame.id is deprecated. Use cue.value.key instead."),t.value.key}},value:{get:function(){return cr.log.warn("cue.frame.value is deprecated. Use cue.value.data instead."),t.value.data}},privateData:{get:function(){return cr.log.warn("cue.frame.privateData is deprecated. Use cue.value.data instead."),t.value.data}}})}(i),this.metadataTrack_.addCue(i)},this)},t),t.metadataTrack_&&t.metadataTrack_.cues&&t.metadataTrack_.cues.length){for(var o=t.metadataTrack_.cues,a=[],l=0;l<o.length;l++)o[l]&&a.push(o[l]);var u=a.reduce(function(t,e){var i=t[e.startTime]||[];return i.push(e),t[e.startTime]=i,t},{}),c=Object.keys(u).sort(function(t,e){return Number(t)-Number(e)});c.forEach(function(t,e){var i=u[t],n=Number(c[e+1])||r;i.forEach(function(t){t.endTime=n})})}}},mc="undefined"!=typeof window?window:{},gc="undefined"==typeof Symbol?"__target":Symbol(),vc="application/javascript",yc=mc.BlobBuilder||mc.WebKitBlobBuilder||mc.MozBlobBuilder||mc.MSBlobBuilder,_c=mc.URL||mc.webkitURL||_c&&_c.msURL,bc=mc.Worker;function wc(t,e){return function(i){var n=this;if(!e)return new bc(t);if(bc&&!i){var s=Cc(e.toString().replace(/^function.+?{/,"").slice(0,-1));return this[gc]=new bc(s),function(t,e){if(!t||!e)return;var i=t.terminate;t.objURL=e,t.terminate=function(){t.objURL&&_c.revokeObjectURL(t.objURL),i.call(t)}}(this[gc],s),this[gc]}var r={postMessage:function(t){n.onmessage&&setTimeout(function(){n.onmessage({data:t,target:r})})}};e.call(r),this.postMessage=function(t){setTimeout(function(){r.onmessage({data:t,target:n})})},this.isThisThread=!0}}if(bc){var Tc,kc=Cc("self.onmessage = function () {}"),Sc=new Uint8Array(1);try{(Tc=new bc(kc)).postMessage(Sc,[Sc.buffer])}catch(t){bc=null}finally{_c.revokeObjectURL(kc),Tc&&Tc.terminate()}}function Cc(t){try{return _c.createObjectURL(new Blob([t],{type:vc}))}catch(i){var e=new yc;return e.append(t),_c.createObjectURL(e.getBlob(type))}}var xc=new wc("./transmuxer-worker.worker.js",function(t,e){var i=this;!function(){var t,e,n,s,r,o,a,l,u,c,h,d,p,f,m,g,v,y,_,b,w,T,k,S,C,x,E,D,A,P,I,O,M,L,N,R,U,F,j,H,z=Math.pow(2,32)-1;!function(){var t;if(T={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],mvex:[],mvhd:[],sdtp:[],smhd:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],styp:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[]},"undefined"!=typeof Uint8Array){for(t in T)T.hasOwnProperty(t)&&(T[t]=[t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2),t.charCodeAt(3)]);k=new Uint8Array(["i".charCodeAt(0),"s".charCodeAt(0),"o".charCodeAt(0),"m".charCodeAt(0)]),C=new Uint8Array(["a".charCodeAt(0),"v".charCodeAt(0),"c".charCodeAt(0),"1".charCodeAt(0)]),S=new Uint8Array([0,0,0,1]),x=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),E=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]),D={video:x,audio:E},I=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),P=new Uint8Array([0,0,0,0,0,0,0,0]),O=new Uint8Array([0,0,0,0,0,0,0,0]),M=O,L=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),N=O,A=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0])}}(),t=function(t){var e,i,n=[],s=0;for(e=1;e<arguments.length;e++)n.push(arguments[e]);for(e=n.length;e--;)s+=n[e].byteLength;for(i=new Uint8Array(s+8),new DataView(i.buffer,i.byteOffset,i.byteLength).setUint32(0,i.byteLength),i.set(t,4),e=0,s=8;e<n.length;e++)i.set(n[e],s),s+=n[e].byteLength;return i},e=function(){return t(T.dinf,t(T.dref,I))},n=function(e){return t(T.esds,new Uint8Array([0,0,0,0,3,25,0,0,0,4,17,64,21,0,6,0,0,0,218,192,0,0,218,192,5,2,e.audioobjecttype<<3|e.samplingfrequencyindex>>>1,e.samplingfrequencyindex<<7|e.channelcount<<3,6,1,2]))},m=function(e){return t(T.hdlr,D[e])},f=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,2,0,0,0,3,0,1,95,144,e.duration>>>24&255,e.duration>>>16&255,e.duration>>>8&255,255&e.duration,85,196,0,0]);return e.samplerate&&(i[12]=e.samplerate>>>24&255,i[13]=e.samplerate>>>16&255,i[14]=e.samplerate>>>8&255,i[15]=255&e.samplerate),t(T.mdhd,i)},p=function(e){return t(T.mdia,f(e),m(e.type),o(e))},r=function(e){return t(T.mfhd,new Uint8Array([0,0,0,0,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e]))},o=function(i){return t(T.minf,"video"===i.type?t(T.vmhd,A):t(T.smhd,P),e(),v(i))},a=function(e,i){for(var n=[],s=i.length;s--;)n[s]=_(i[s]);return t.apply(null,[T.moof,r(e)].concat(n))},l=function(e){for(var i=e.length,n=[];i--;)n[i]=h(e[i]);return t.apply(null,[T.moov,c(4294967295)].concat(n).concat(u(e)))},u=function(e){for(var i=e.length,n=[];i--;)n[i]=b(e[i]);return t.apply(null,[T.mvex].concat(n))},c=function(e){var i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,2,0,1,95,144,(4278190080&e)>>24,(16711680&e)>>16,(65280&e)>>8,255&e,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return t(T.mvhd,i)},g=function(e){var i,n,s=e.samples||[],r=new Uint8Array(4+s.length);for(n=0;n<s.length;n++)i=s[n].flags,r[n+4]=i.dependsOn<<4|i.isDependedOn<<2|i.hasRedundancy;return t(T.sdtp,r)},v=function(e){return t(T.stbl,y(e),t(T.stts,N),t(T.stsc,M),t(T.stsz,L),t(T.stco,O))},y=function(e){return t(T.stsd,new Uint8Array([0,0,0,0,0,0,0,1]),"video"===e.type?R(e):U(e))},R=function(e){var i,n=e.sps||[],s=e.pps||[],r=[],o=[];for(i=0;i<n.length;i++)r.push((65280&n[i].byteLength)>>>8),r.push(255&n[i].byteLength),r=r.concat(Array.prototype.slice.call(n[i]));for(i=0;i<s.length;i++)o.push((65280&s[i].byteLength)>>>8),o.push(255&s[i].byteLength),o=o.concat(Array.prototype.slice.call(s[i]));return t(T.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,(65280&e.width)>>8,255&e.width,(65280&e.height)>>8,255&e.height,0,72,0,0,0,72,0,0,0,0,0,0,0,1,19,118,105,100,101,111,106,115,45,99,111,110,116,114,105,98,45,104,108,115,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),t(T.avcC,new Uint8Array([1,e.profileIdc,e.profileCompatibility,e.levelIdc,255].concat([n.length]).concat(r).concat([s.length]).concat(o))),t(T.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])))},U=function(e){return t(T.mp4a,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,(65280&e.channelcount)>>8,255&e.channelcount,(65280&e.samplesize)>>8,255&e.samplesize,0,0,0,0,(65280&e.samplerate)>>8,255&e.samplerate,0,0]),n(e))},d=function(e){var i=new Uint8Array([0,0,0,7,0,0,0,0,0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,0,(4278190080&e.duration)>>24,(16711680&e.duration)>>16,(65280&e.duration)>>8,255&e.duration,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,(65280&e.width)>>8,255&e.width,0,0,(65280&e.height)>>8,255&e.height,0,0]);return t(T.tkhd,i)},_=function(e){var i,n,s,r,o,a;return i=t(T.tfhd,new Uint8Array([0,0,0,58,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0])),o=Math.floor(e.baseMediaDecodeTime/(z+1)),a=Math.floor(e.baseMediaDecodeTime%(z+1)),n=t(T.tfdt,new Uint8Array([1,0,0,0,o>>>24&255,o>>>16&255,o>>>8&255,255&o,a>>>24&255,a>>>16&255,a>>>8&255,255&a])),92,"audio"===e.type?(s=w(e,92),t(T.traf,i,n,s)):(r=g(e),s=w(e,r.length+92),t(T.traf,i,n,s,r))},h=function(e){return e.duration=e.duration||4294967295,t(T.trak,d(e),p(e))},b=function(e){var i=new Uint8Array([0,0,0,0,(4278190080&e.id)>>24,(16711680&e.id)>>16,(65280&e.id)>>8,255&e.id,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]);return"video"!==e.type&&(i[i.length-1]=0),t(T.trex,i)},H=function(t,e){var i=0,n=0,s=0,r=0;return t.length&&(void 0!==t[0].duration&&(i=1),void 0!==t[0].size&&(n=2),void 0!==t[0].flags&&(s=4),void 0!==t[0].compositionTimeOffset&&(r=8)),[0,0,i|n|s|r,1,(4278190080&t.length)>>>24,(16711680&t.length)>>>16,(65280&t.length)>>>8,255&t.length,(4278190080&e)>>>24,(16711680&e)>>>16,(65280&e)>>>8,255&e]},j=function(e,i){var n,s,r,o;for(i+=20+16*(s=e.samples||[]).length,n=H(s,i),o=0;o<s.length;o++)r=s[o],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size,r.flags.isLeading<<2|r.flags.dependsOn,r.flags.isDependedOn<<6|r.flags.hasRedundancy<<4|r.flags.paddingValue<<1|r.flags.isNonSyncSample,61440&r.flags.degradationPriority,15&r.flags.degradationPriority,(4278190080&r.compositionTimeOffset)>>>24,(16711680&r.compositionTimeOffset)>>>16,(65280&r.compositionTimeOffset)>>>8,255&r.compositionTimeOffset]);return t(T.trun,new Uint8Array(n))},F=function(e,i){var n,s,r,o;for(i+=20+8*(s=e.samples||[]).length,n=H(s,i),o=0;o<s.length;o++)r=s[o],n=n.concat([(4278190080&r.duration)>>>24,(16711680&r.duration)>>>16,(65280&r.duration)>>>8,255&r.duration,(4278190080&r.size)>>>24,(16711680&r.size)>>>16,(65280&r.size)>>>8,255&r.size]);return t(T.trun,new Uint8Array(n))},w=function(t,e){return"audio"===t.type?F(t,e):j(t,e)};var B,W,Y,V,q,$={ftyp:s=function(){return t(T.ftyp,k,S,k,C)},mdat:function(e){return t(T.mdat,e)},moof:a,moov:l,initSegment:function(t){var e,i=s(),n=l(t);return(e=new Uint8Array(i.byteLength+n.byteLength)).set(i),e.set(n,i.byteLength),e}},G=function(t){return t>>>0};Y=function(t){return B(t,["moov","trak"]).reduce(function(t,e){var i,n,s,r,o;return(i=B(e,["tkhd"])[0])?(n=i[0],r=G(i[s=0===n?12:20]<<24|i[s+1]<<16|i[s+2]<<8|i[s+3]),(o=B(e,["mdia","mdhd"])[0])?(s=0===(n=o[0])?12:20,t[r]=G(o[s]<<24|o[s+1]<<16|o[s+2]<<8|o[s+3]),t):null):null},{})},V=function(t,e){var i,n,s;return i=B(e,["moof","traf"]),n=[].concat.apply([],i.map(function(e){return B(e,["tfhd"]).map(function(i){var n,s;return n=G(i[4]<<24|i[5]<<16|i[6]<<8|i[7]),s=t[n]||9e4,(B(e,["tfdt"]).map(function(t){var e,i;return e=t[0],i=G(t[4]<<24|t[5]<<16|t[6]<<8|t[7]),1===e&&(i*=Math.pow(2,32),i+=G(t[8]<<24|t[9]<<16|t[10]<<8|t[11])),i})[0]||1/0)/s})})),s=Math.min.apply(null,n),isFinite(s)?s:0},q=function(t){var e=B(t,["moov","trak"]),i=[];return e.forEach(function(t){var e=B(t,["mdia","hdlr"]),n=B(t,["tkhd"]);e.forEach(function(t,e){var s,r,o=W(t.subarray(8,12)),a=n[e];"vide"===o&&(r=0===(s=new DataView(a.buffer,a.byteOffset,a.byteLength)).getUint8(0)?s.getUint32(12):s.getUint32(20),i.push(r))})}),i};var X={findBox:B=function(t,e){var i,n,s,r,o,a=[];if(!e.length)return null;for(i=0;i<t.byteLength;)n=G(t[i]<<24|t[i+1]<<16|t[i+2]<<8|t[i+3]),s=W(t.subarray(i+4,i+8)),r=n>1?i+n:t.byteLength,s===e[0]&&(1===e.length?a.push(t.subarray(i+8,r)):(o=B(t.subarray(i+8,r),e.slice(1))).length&&(a=a.concat(o))),i=r;return a},parseType:W=function(t){var e="";return e+=String.fromCharCode(t[0]),e+=String.fromCharCode(t[1]),e+=String.fromCharCode(t[2]),e+=String.fromCharCode(t[3])},timescale:Y,startTime:V,videoTrackIds:q},K=function(){this.init=function(){var t={};this.on=function(e,i){t[e]||(t[e]=[]),t[e]=t[e].concat(i)},this.off=function(e,i){var n;return!!t[e]&&(n=t[e].indexOf(i),t[e]=t[e].slice(),t[e].splice(n,1),n>-1)},this.trigger=function(e){var i,n,s,r;if(i=t[e])if(2===arguments.length)for(s=i.length,n=0;n<s;++n)i[n].call(this,arguments[1]);else{for(r=[],n=arguments.length,n=1;n<arguments.length;++n)r.push(arguments[n]);for(s=i.length,n=0;n<s;++n)i[n].apply(this,r)}},this.dispose=function(){t={}}}};K.prototype.pipe=function(t){return this.on("data",function(e){t.push(e)}),this.on("done",function(e){t.flush(e)}),t},K.prototype.push=function(t){this.trigger("data",t)},K.prototype.flush=function(t){this.trigger("done",t)};var Z,Q,J,tt,et,it,nt,st=K,rt=function(t,e){var i={size:0,flags:{isLeading:0,dependsOn:1,isDependedOn:0,hasRedundancy:0,degradationPriority:0,isNonSyncSample:1}};return i.dataOffset=e,i.compositionTimeOffset=t.pts-t.dts,i.duration=t.duration,i.size=4*t.length,i.size+=t.byteLength,t.keyFrame&&(i.flags.dependsOn=2,i.flags.isNonSyncSample=0),i},ot=function(t){var e,i,n=[],s=[];for(n.byteLength=0,e=0;e<t.length;e++)"access_unit_delimiter_rbsp"===(i=t[e]).nalUnitType?(n.length&&(n.duration=i.dts-n.dts,s.push(n)),(n=[i]).byteLength=i.data.byteLength,n.pts=i.pts,n.dts=i.dts):("slice_layer_without_partitioning_rbsp_idr"===i.nalUnitType&&(n.keyFrame=!0),n.duration=i.dts-n.dts,n.byteLength+=i.data.byteLength,n.push(i));return s.length&&(!n.duration||n.duration<=0)&&(n.duration=s[s.length-1].duration),s.push(n),s},at=function(t){var e,i,n=[],s=[];for(n.byteLength=0,n.nalCount=0,n.duration=0,n.pts=t[0].pts,n.dts=t[0].dts,s.byteLength=0,s.nalCount=0,s.duration=0,s.pts=t[0].pts,s.dts=t[0].dts,e=0;e<t.length;e++)(i=t[e]).keyFrame?(n.length&&(s.push(n),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration),(n=[i]).nalCount=i.length,n.byteLength=i.byteLength,n.pts=i.pts,n.dts=i.dts,n.duration=i.duration):(n.duration+=i.duration,n.nalCount+=i.length,n.byteLength+=i.byteLength,n.push(i));return s.length&&n.duration<=0&&(n.duration=s[s.length-1].duration),s.byteLength+=n.byteLength,s.nalCount+=n.nalCount,s.duration+=n.duration,s.push(n),s},lt=function(t){var e;return!t[0][0].keyFrame&&t.length>1&&(e=t.shift(),t.byteLength-=e.byteLength,t.nalCount-=e.nalCount,t[0][0].dts=e.dts,t[0][0].pts=e.pts,t[0][0].duration+=e.duration),t},ut=function(t,e){var i,n,s,r,o,a=e||0,l=[];for(i=0;i<t.length;i++)for(r=t[i],n=0;n<r.length;n++)o=r[n],a+=(s=rt(o,a)).size,l.push(s);return l},ct=function(t){var e,i,n,s,r,o,a=0,l=t.byteLength,u=t.nalCount,c=new Uint8Array(l+4*u),h=new DataView(c.buffer);for(e=0;e<t.length;e++)for(s=t[e],i=0;i<s.length;i++)for(r=s[i],n=0;n<r.length;n++)o=r[n],h.setUint32(a,o.data.byteLength),a+=4,c.set(o.data,a),a+=o.data.byteLength;return c},ht=[33,16,5,32,164,27],dt=[33,65,108,84,1,2,4,8,168,2,4,8,17,191,252],pt=function(t){for(var e=[];t--;)e.push(0);return e},ft={96000:[ht,[227,64],pt(154),[56]],88200:[ht,[231],pt(170),[56]],64000:[ht,[248,192],pt(240),[56]],48000:[ht,[255,192],pt(268),[55,148,128],pt(54),[112]],44100:[ht,[255,192],pt(268),[55,163,128],pt(84),[112]],32000:[ht,[255,192],pt(268),[55,234],pt(226),[112]],24000:[ht,[255,192],pt(268),[55,255,128],pt(268),[111,112],pt(126),[224]],16000:[ht,[255,192],pt(268),[55,255,128],pt(268),[111,255],pt(269),[223,108],pt(195),[1,192]],12000:[dt,pt(268),[3,127,248],pt(268),[6,255,240],pt(268),[13,255,224],pt(268),[27,253,128],pt(259),[56]],11025:[dt,pt(268),[3,127,248],pt(268),[6,255,240],pt(268),[13,255,224],pt(268),[27,255,192],pt(268),[55,175,128],pt(108),[112]],8000:[dt,pt(268),[3,121,16],pt(47),[7]]},mt=(Z=ft,Object.keys(Z).reduce(function(t,e){return t[e]=new Uint8Array(Z[e].reduce(function(t,e){return t.concat(e)},[])),t},{}));it=function(t,e){return Q(et(t,e))},nt=function(t,e){return J(tt(t),e)};Q=function(t){return 9e4*t},J=function(t,e){return t*e},tt=function(t){return t/9e4},et=function(t,e){return t/e};var gt=it,vt=nt,yt=function(t,e,i,n){var s,r,o,a,l=0,u=0,c=0;if(e.length&&(s=gt(t.baseMediaDecodeTime,t.samplerate),r=Math.ceil(9e4/(t.samplerate/1024)),i&&n&&(l=s-Math.max(i,n),c=(u=Math.floor(l/r))*r),!(u<1||c>45e3))){for((o=mt[t.samplerate])||(o=e[0].data),a=0;a<u;a++)e.splice(a,0,{data:o});t.baseMediaDecodeTime-=Math.floor(vt(c,t.samplerate))}},_t=function(t,e,i){return e.minSegmentDts>=i?t:(e.minSegmentDts=1/0,t.filter(function(t){return t.dts>=i&&(e.minSegmentDts=Math.min(e.minSegmentDts,t.dts),e.minSegmentPts=e.minSegmentDts,!0)}))},bt=function(t){var e,i,n=[];for(e=0;e<t.length;e++)i=t[e],n.push({size:i.data.byteLength,duration:1024});return n},wt=function(t){var e,i,n=0,s=new Uint8Array(function(t){var e,i=0;for(e=0;e<t.length;e++)i+=t[e].data.byteLength;return i}(t));for(e=0;e<t.length;e++)i=t[e],s.set(i.data,n),n+=i.data.byteLength;return s},Tt=function(t){delete t.minSegmentDts,delete t.maxSegmentDts,delete t.minSegmentPts,delete t.maxSegmentPts},kt=function(t,e){var i,n=t.minSegmentDts;return e||(n-=t.timelineStartInfo.dts),i=t.timelineStartInfo.baseMediaDecodeTime,i+=n,i=Math.max(0,i),"audio"===t.type&&(i*=t.samplerate/9e4,i=Math.floor(i)),i},St=function(t,e){"number"==typeof e.pts&&(void 0===t.timelineStartInfo.pts&&(t.timelineStartInfo.pts=e.pts),void 0===t.minSegmentPts?t.minSegmentPts=e.pts:t.minSegmentPts=Math.min(t.minSegmentPts,e.pts),void 0===t.maxSegmentPts?t.maxSegmentPts=e.pts:t.maxSegmentPts=Math.max(t.maxSegmentPts,e.pts)),"number"==typeof e.dts&&(void 0===t.timelineStartInfo.dts&&(t.timelineStartInfo.dts=e.dts),void 0===t.minSegmentDts?t.minSegmentDts=e.dts:t.minSegmentDts=Math.min(t.minSegmentDts,e.dts),void 0===t.maxSegmentDts?t.maxSegmentDts=e.dts:t.maxSegmentDts=Math.max(t.maxSegmentDts,e.dts))},Ct=function(t){for(var e=0,i={payloadType:-1,payloadSize:0},n=0,s=0;e<t.byteLength&&128!==t[e];){for(;255===t[e];)n+=255,e++;for(n+=t[e++];255===t[e];)s+=255,e++;if(s+=t[e++],!i.payload&&4===n){i.payloadType=n,i.payloadSize=s,i.payload=t.subarray(e,e+s);break}e+=s,n=0,s=0}return i},xt=function(t){return 181!==t.payload[0]?null:49!=(t.payload[1]<<8|t.payload[2])?null:"GA94"!==String.fromCharCode(t.payload[3],t.payload[4],t.payload[5],t.payload[6])?null:3!==t.payload[7]?null:t.payload.subarray(8,t.payload.length-1)},Et=function(t,e){var i,n,s,r,o=[];if(!(64&e[0]))return o;for(n=31&e[0],i=0;i<n;i++)r={type:3&e[2+(s=3*i)],pts:t},4&e[s+2]&&(r.ccData=e[s+3]<<8|e[s+4],o.push(r));return o},Dt=function(t){for(var e,i,n=t.byteLength,s=[],r=1;r<n-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(s.push(r+2),r+=2):r++;if(0===s.length)return t;e=n-s.length,i=new Uint8Array(e);var o=0;for(r=0;r<e;o++,r++)o===s[0]&&(o++,s.shift()),i[r]=t[o];return i},At=4,Pt=function t(){t.prototype.init.call(this),this.captionPackets_=[],this.ccStreams_=[new Nt(0,0),new Nt(0,1),new Nt(1,0),new Nt(1,1)],this.reset(),this.ccStreams_.forEach(function(t){t.on("data",this.trigger.bind(this,"data")),t.on("done",this.trigger.bind(this,"done"))},this)};(Pt.prototype=new st).push=function(t){var e,i,n;if("sei_rbsp"===t.nalUnitType&&(e=Ct(t.escapedRBSP)).payloadType===At&&(i=xt(e)))if(t.dts<this.latestDts_)this.ignoreNextEqualDts_=!0;else{if(t.dts===this.latestDts_&&this.ignoreNextEqualDts_)return this.numSameDts_--,void(this.numSameDts_||(this.ignoreNextEqualDts_=!1));n=Et(t.pts,i),this.captionPackets_=this.captionPackets_.concat(n),this.latestDts_!==t.dts&&(this.numSameDts_=0),this.numSameDts_++,this.latestDts_=t.dts}},Pt.prototype.flush=function(){this.captionPackets_.length?(this.captionPackets_.forEach(function(t,e){t.presortIndex=e}),this.captionPackets_.sort(function(t,e){return t.pts===e.pts?t.presortIndex-e.presortIndex:t.pts-e.pts}),this.captionPackets_.forEach(function(t){t.type<2&&this.dispatchCea608Packet(t)},this),this.captionPackets_.length=0,this.ccStreams_.forEach(function(t){t.flush()},this)):this.ccStreams_.forEach(function(t){t.flush()},this)},Pt.prototype.reset=function(){this.latestDts_=null,this.ignoreNextEqualDts_=!1,this.numSameDts_=0,this.activeCea608Channel_=[null,null],this.ccStreams_.forEach(function(t){t.reset()})},Pt.prototype.dispatchCea608Packet=function(t){this.setsChannel1Active(t)?this.activeCea608Channel_[t.type]=0:this.setsChannel2Active(t)&&(this.activeCea608Channel_[t.type]=1),null!==this.activeCea608Channel_[t.type]&&this.ccStreams_[(t.type<<1)+this.activeCea608Channel_[t.type]].push(t)},Pt.prototype.setsChannel1Active=function(t){return 4096==(30720&t.ccData)},Pt.prototype.setsChannel2Active=function(t){return 6144==(30720&t.ccData)};var It={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,304:174,305:176,306:189,307:191,308:8482,309:162,310:163,311:9834,312:224,313:160,314:232,315:226,316:234,317:238,318:244,319:251,544:193,545:201,546:211,547:218,548:220,549:252,550:8216,551:161,552:42,553:39,554:8212,555:169,556:8480,557:8226,558:8220,559:8221,560:192,561:194,562:199,563:200,564:202,565:203,566:235,567:206,568:207,569:239,570:212,571:217,572:249,573:219,574:171,575:187,800:195,801:227,802:205,803:204,804:236,805:210,806:242,807:213,808:245,809:123,810:125,811:92,812:94,813:95,814:124,815:126,816:196,817:228,818:214,819:246,820:223,821:165,822:164,823:9474,824:197,825:229,826:216,827:248,828:9484,829:9488,830:9492,831:9496},Ot=function(t){return null===t?"":(t=It[t]||t,String.fromCharCode(t))},Mt=[4352,4384,4608,4640,5376,5408,5632,5664,5888,5920,4096,4864,4896,5120,5152],Lt=function(){for(var t=[],e=15;e--;)t.push("");return t},Nt=function t(e,i){t.prototype.init.call(this),this.field_=e||0,this.dataChannel_=i||0,this.name_="CC"+(1+(this.field_<<1|this.dataChannel_)),this.setConstants(),this.reset(),this.push=function(t){var e,i,n,s,r;if((e=32639&t.ccData)!==this.lastControlCode_){if(4096==(61440&e)?this.lastControlCode_=e:e!==this.PADDING_&&(this.lastControlCode_=null),n=e>>>8,s=255&e,e!==this.PADDING_)if(e===this.RESUME_CAPTION_LOADING_)this.mode_="popOn";else if(e===this.END_OF_CAPTION_)this.mode_="popOn",this.clearFormatting(t.pts),this.flushDisplayed(t.pts),i=this.displayed_,this.displayed_=this.nonDisplayed_,this.nonDisplayed_=i,this.startPts_=t.pts;else if(e===this.ROLL_UP_2_ROWS_)this.rollUpRows_=2,this.setRollUp(t.pts);else if(e===this.ROLL_UP_3_ROWS_)this.rollUpRows_=3,this.setRollUp(t.pts);else if(e===this.ROLL_UP_4_ROWS_)this.rollUpRows_=4,this.setRollUp(t.pts);else if(e===this.CARRIAGE_RETURN_)this.clearFormatting(t.pts),this.flushDisplayed(t.pts),this.shiftRowsUp_(),this.startPts_=t.pts;else if(e===this.BACKSPACE_)"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1);else if(e===this.ERASE_DISPLAYED_MEMORY_)this.flushDisplayed(t.pts),this.displayed_=Lt();else if(e===this.ERASE_NON_DISPLAYED_MEMORY_)this.nonDisplayed_=Lt();else if(e===this.RESUME_DIRECT_CAPTIONING_)"paintOn"!==this.mode_&&(this.flushDisplayed(t.pts),this.displayed_=Lt()),this.mode_="paintOn",this.startPts_=t.pts;else if(this.isSpecialCharacter(n,s))r=Ot((n=(3&n)<<8)|s),this[this.mode_](t.pts,r),this.column_++;else if(this.isExtCharacter(n,s))"popOn"===this.mode_?this.nonDisplayed_[this.row_]=this.nonDisplayed_[this.row_].slice(0,-1):this.displayed_[this.row_]=this.displayed_[this.row_].slice(0,-1),r=Ot((n=(3&n)<<8)|s),this[this.mode_](t.pts,r),this.column_++;else if(this.isMidRowCode(n,s))this.clearFormatting(t.pts),this[this.mode_](t.pts," "),this.column_++,14==(14&s)&&this.addFormatting(t.pts,["i"]),1==(1&s)&&this.addFormatting(t.pts,["u"]);else if(this.isOffsetControlCode(n,s))this.column_+=3&s;else if(this.isPAC(n,s)){var o=Mt.indexOf(7968&e);"rollUp"===this.mode_&&(o-this.rollUpRows_+1<0&&(o=this.rollUpRows_-1),this.setRollUp(t.pts,o)),o!==this.row_&&(this.clearFormatting(t.pts),this.row_=o),1&s&&-1===this.formatting_.indexOf("u")&&this.addFormatting(t.pts,["u"]),16==(16&e)&&(this.column_=4*((14&e)>>1)),this.isColorPAC(s)&&14==(14&s)&&this.addFormatting(t.pts,["i"])}else this.isNormalChar(n)&&(0===s&&(s=null),r=Ot(n),r+=Ot(s),this[this.mode_](t.pts,r),this.column_+=r.length)}else this.lastControlCode_=null}};Nt.prototype=new st,Nt.prototype.flushDisplayed=function(t){var e=this.displayed_.map(function(t){try{return t.trim()}catch(t){return console.error("Skipping malformed caption."),""}}).join("\n").replace(/^\n+|\n+$/g,"");e.length&&this.trigger("data",{startPts:this.startPts_,endPts:t,text:e,stream:this.name_})},Nt.prototype.reset=function(){this.mode_="popOn",this.topRow_=0,this.startPts_=0,this.displayed_=Lt(),this.nonDisplayed_=Lt(),this.lastControlCode_=null,this.column_=0,this.row_=14,this.rollUpRows_=2,this.formatting_=[]},Nt.prototype.setConstants=function(){0===this.dataChannel_?(this.BASE_=16,this.EXT_=17,this.CONTROL_=(20|this.field_)<<8,this.OFFSET_=23):1===this.dataChannel_&&(this.BASE_=24,this.EXT_=25,this.CONTROL_=(28|this.field_)<<8,this.OFFSET_=31),this.PADDING_=0,this.RESUME_CAPTION_LOADING_=32|this.CONTROL_,this.END_OF_CAPTION_=47|this.CONTROL_,this.ROLL_UP_2_ROWS_=37|this.CONTROL_,this.ROLL_UP_3_ROWS_=38|this.CONTROL_,this.ROLL_UP_4_ROWS_=39|this.CONTROL_,this.CARRIAGE_RETURN_=45|this.CONTROL_,this.RESUME_DIRECT_CAPTIONING_=41|this.CONTROL_,this.BACKSPACE_=33|this.CONTROL_,this.ERASE_DISPLAYED_MEMORY_=44|this.CONTROL_,this.ERASE_NON_DISPLAYED_MEMORY_=46|this.CONTROL_},Nt.prototype.isSpecialCharacter=function(t,e){return t===this.EXT_&&e>=48&&e<=63},Nt.prototype.isExtCharacter=function(t,e){return(t===this.EXT_+1||t===this.EXT_+2)&&e>=32&&e<=63},Nt.prototype.isMidRowCode=function(t,e){return t===this.EXT_&&e>=32&&e<=47},Nt.prototype.isOffsetControlCode=function(t,e){return t===this.OFFSET_&&e>=33&&e<=35},Nt.prototype.isPAC=function(t,e){return t>=this.BASE_&&t<this.BASE_+8&&e>=64&&e<=127},Nt.prototype.isColorPAC=function(t){return t>=64&&t<=79||t>=96&&t<=127},Nt.prototype.isNormalChar=function(t){return t>=32&&t<=127},Nt.prototype.setRollUp=function(t,e){if("rollUp"!==this.mode_&&(this.row_=14,this.mode_="rollUp",this.flushDisplayed(t),this.nonDisplayed_=Lt(),this.displayed_=Lt()),void 0!==e&&e!==this.row_)for(var i=0;i<this.rollUpRows_;i++)this.displayed_[e-i]=this.displayed_[this.row_-i],this.displayed_[this.row_-i]="";void 0===e&&(e=this.row_),this.topRow_=e-this.rollUpRows_+1},Nt.prototype.addFormatting=function(t,e){this.formatting_=this.formatting_.concat(e);var i=e.reduce(function(t,e){return t+"<"+e+">"},"");this[this.mode_](t,i)},Nt.prototype.clearFormatting=function(t){if(this.formatting_.length){var e=this.formatting_.reverse().reduce(function(t,e){return t+"</"+e+">"},"");this.formatting_=[],this[this.mode_](t,e)}},Nt.prototype.popOn=function(t,e){var i=this.nonDisplayed_[this.row_];i+=e,this.nonDisplayed_[this.row_]=i},Nt.prototype.rollUp=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i},Nt.prototype.shiftRowsUp_=function(){var t;for(t=0;t<this.topRow_;t++)this.displayed_[t]="";for(t=this.row_+1;t<15;t++)this.displayed_[t]="";for(t=this.topRow_;t<this.row_;t++)this.displayed_[t]=this.displayed_[t+1];this.displayed_[this.row_]=""},Nt.prototype.paintOn=function(t,e){var i=this.displayed_[this.row_];i+=e,this.displayed_[this.row_]=i};var Rt={CaptionStream:Pt,Cea608Stream:Nt},Ut={H264_STREAM_TYPE:27,ADTS_STREAM_TYPE:15,METADATA_STREAM_TYPE:21},Ft=function(t,e){var i=1;for(t>e&&(i=-1);Math.abs(e-t)>4294967296;)t+=8589934592*i;return t},jt=function t(e){var i,n;t.prototype.init.call(this),this.type_=e,this.push=function(t){t.type===this.type_&&(void 0===n&&(n=t.dts),t.dts=Ft(t.dts,n),t.pts=Ft(t.pts,n),i=t.dts,this.trigger("data",t))},this.flush=function(){n=i,this.trigger("done")},this.discontinuity=function(){n=void 0,i=void 0}};jt.prototype=new st;var Ht,zt=jt,Bt=function(t,e,i){var n,s="";for(n=e;n<i;n++)s+="%"+("00"+t[n].toString(16)).slice(-2);return s},Wt=function(t,e,i){return decodeURIComponent(Bt(t,e,i))},Yt=function(t){return t[0]<<21|t[1]<<14|t[2]<<7|t[3]},Vt={TXXX:function(t){var e;if(3===t.data[0]){for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Wt(t.data,1,e),t.value=Wt(t.data,e+1,t.data.length).replace(/\0*$/,"");break}t.data=t.value}},WXXX:function(t){var e;if(3===t.data[0])for(e=1;e<t.data.length;e++)if(0===t.data[e]){t.description=Wt(t.data,1,e),t.url=Wt(t.data,e+1,t.data.length);break}},PRIV:function(t){var e,i;for(e=0;e<t.data.length;e++)if(0===t.data[e]){t.owner=(i=t.data,unescape(Bt(i,0,e)));break}t.privateData=t.data.subarray(e+1),t.data=t.privateData}};(Ht=function(t){var e,i={debug:!(!t||!t.debug),descriptor:t&&t.descriptor},n=0,s=[],r=0;if(Ht.prototype.init.call(this),this.dispatchType=Ut.METADATA_STREAM_TYPE.toString(16),i.descriptor)for(e=0;e<i.descriptor.length;e++)this.dispatchType+=("00"+i.descriptor[e].toString(16)).slice(-2);this.push=function(t){var e,o,a,l,u;if("timed-metadata"===t.type)if(t.dataAlignmentIndicator&&(r=0,s.length=0),0===s.length&&(t.data.length<10||t.data[0]!=="I".charCodeAt(0)||t.data[1]!=="D".charCodeAt(0)||t.data[2]!=="3".charCodeAt(0)))i.debug&&console.log("Skipping unrecognized metadata packet");else if(s.push(t),r+=t.data.byteLength,1===s.length&&(n=Yt(t.data.subarray(6,10)),n+=10),!(r<n)){for(e={data:new Uint8Array(n),frames:[],pts:s[0].pts,dts:s[0].dts},u=0;u<n;)e.data.set(s[0].data.subarray(0,n-u),u),u+=s[0].data.byteLength,r-=s[0].data.byteLength,s.shift();o=10,64&e.data[5]&&(o+=4,o+=Yt(e.data.subarray(10,14)),n-=Yt(e.data.subarray(16,20)));do{if((a=Yt(e.data.subarray(o+4,o+8)))<1)return console.log("Malformed ID3 frame encountered. Skipping metadata parsing.");if((l={id:String.fromCharCode(e.data[o],e.data[o+1],e.data[o+2],e.data[o+3]),data:e.data.subarray(o+10,o+a+10)}).key=l.id,Vt[l.id]&&(Vt[l.id](l),"com.apple.streaming.transportStreamTimestamp"===l.owner)){var c=l.data,h=(1&c[3])<<30|c[4]<<22|c[5]<<14|c[6]<<6|c[7]>>>2;h*=4,h+=3&c[7],l.timeStamp=h,void 0===e.pts&&void 0===e.dts&&(e.pts=l.timeStamp,e.dts=l.timeStamp),this.trigger("timestamp",l)}e.frames.push(l),o+=10,o+=a}while(o<n);this.trigger("data",e)}}}).prototype=new st;var qt,$t,Gt,Xt=Ht,Kt=zt;(qt=function(){var t=new Uint8Array(188),e=0;qt.prototype.init.call(this),this.push=function(i){var n,s=0,r=188;for(e?((n=new Uint8Array(i.byteLength+e)).set(t.subarray(0,e)),n.set(i,e),e=0):n=i;r<n.byteLength;)71!==n[s]||71!==n[r]?(s++,r++):(this.trigger("data",n.subarray(s,r)),s+=188,r+=188);s<n.byteLength&&(t.set(n.subarray(s),0),e=n.byteLength-s)},this.flush=function(){188===e&&71===t[0]&&(this.trigger("data",t),e=0),this.trigger("done")}}).prototype=new st,($t=function(){var t,e,i,n;$t.prototype.init.call(this),n=this,this.packetsWaitingForPmt=[],this.programMapTable=void 0,t=function(t,n){var s=0;n.payloadUnitStartIndicator&&(s+=t[s]+1),"pat"===n.type?e(t.subarray(s),n):i(t.subarray(s),n)},e=function(t,e){e.section_number=t[7],e.last_section_number=t[8],n.pmtPid=(31&t[10])<<8|t[11],e.pmtPid=n.pmtPid},i=function(t,e){var i,s;if(1&t[5]){for(n.programMapTable={video:null,audio:null,"timed-metadata":{}},i=3+((15&t[1])<<8|t[2])-4,s=12+((15&t[10])<<8|t[11]);s<i;){var r=t[s],o=(31&t[s+1])<<8|t[s+2];r===Ut.H264_STREAM_TYPE&&null===n.programMapTable.video?n.programMapTable.video=o:r===Ut.ADTS_STREAM_TYPE&&null===n.programMapTable.audio?n.programMapTable.audio=o:r===Ut.METADATA_STREAM_TYPE&&(n.programMapTable["timed-metadata"][o]=r),s+=5+((15&t[s+3])<<8|t[s+4])}e.programMapTable=n.programMapTable}},this.push=function(e){var i={},n=4;if(i.payloadUnitStartIndicator=!!(64&e[1]),i.pid=31&e[1],i.pid<<=8,i.pid|=e[2],(48&e[3])>>>4>1&&(n+=e[n]+1),0===i.pid)i.type="pat",t(e.subarray(n),i),this.trigger("data",i);else if(i.pid===this.pmtPid)for(i.type="pmt",t(e.subarray(n),i),this.trigger("data",i);this.packetsWaitingForPmt.length;)this.processPes_.apply(this,this.packetsWaitingForPmt.shift());else void 0===this.programMapTable?this.packetsWaitingForPmt.push([e,n,i]):this.processPes_(e,n,i)},this.processPes_=function(t,e,i){i.pid===this.programMapTable.video?i.streamType=Ut.H264_STREAM_TYPE:i.pid===this.programMapTable.audio?i.streamType=Ut.ADTS_STREAM_TYPE:i.streamType=this.programMapTable["timed-metadata"][i.pid],i.type="pes",i.data=t.subarray(e),this.trigger("data",i)}}).prototype=new st,$t.STREAM_TYPES={h264:27,adts:15},(Gt=function(){var t=this,e={data:[],size:0},i={data:[],size:0},n={data:[],size:0},s=function(e,i,n){var s,r,o=new Uint8Array(e.size),a={type:i},l=0,u=0;if(e.data.length&&!(e.size<9)){for(a.trackId=e.data[0].pid,l=0;l<e.data.length;l++)r=e.data[l],o.set(r.data,u),u+=r.data.byteLength;var c,h,d;c=o,(h=a).packetLength=6+(c[4]<<8|c[5]),h.dataAlignmentIndicator=0!=(4&c[6]),192&(d=c[7])&&(h.pts=(14&c[9])<<27|(255&c[10])<<20|(254&c[11])<<12|(255&c[12])<<5|(254&c[13])>>>3,h.pts*=4,h.pts+=(6&c[13])>>>1,h.dts=h.pts,64&d&&(h.dts=(14&c[14])<<27|(255&c[15])<<20|(254&c[16])<<12|(255&c[17])<<5|(254&c[18])>>>3,h.dts*=4,h.dts+=(6&c[18])>>>1)),h.data=c.subarray(9+c[8]),s="video"===i||a.packetLength<=e.size,(n||s)&&(e.size=0,e.data.length=0),s&&t.trigger("data",a)}};Gt.prototype.init.call(this),this.push=function(r){({pat:function(){},pes:function(){var t,o;switch(r.streamType){case Ut.H264_STREAM_TYPE:case Ut.H264_STREAM_TYPE:t=e,o="video";break;case Ut.ADTS_STREAM_TYPE:t=i,o="audio";break;case Ut.METADATA_STREAM_TYPE:t=n,o="timed-metadata";break;default:return}r.payloadUnitStartIndicator&&s(t,o,!0),t.data.push(r),t.size+=r.data.byteLength},pmt:function(){var e={type:"metadata",tracks:[]},i=r.programMapTable;null!==i.video&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.video,codec:"avc",type:"video"}),null!==i.audio&&e.tracks.push({timelineStartInfo:{baseMediaDecodeTime:0},id:+i.audio,codec:"adts",type:"audio"}),t.trigger("data",e)}})[r.type]()},this.flush=function(){s(e,"video"),s(i,"audio"),s(n,"timed-metadata"),this.trigger("done")}}).prototype=new st;var Zt={PAT_PID:0,MP2T_PACKET_LENGTH:188,TransportPacketStream:qt,TransportParseStream:$t,ElementaryStream:Gt,TimestampRolloverStream:Kt,CaptionStream:Rt.CaptionStream,Cea608Stream:Rt.Cea608Stream,MetadataStream:Xt};for(var Qt in Ut)Ut.hasOwnProperty(Qt)&&(Zt[Qt]=Ut[Qt]);var Jt,te=Zt,ee=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];(Jt=function(){var t;Jt.prototype.init.call(this),this.push=function(e){var i,n,s,r,o,a,l=0,u=0;if("audio"===e.type)for(t?(r=t,(t=new Uint8Array(r.byteLength+e.data.byteLength)).set(r),t.set(e.data,r.byteLength)):t=e.data;l+5<t.length;)if(255===t[l]&&240==(246&t[l+1])){if(n=2*(1&~t[l+1]),i=(3&t[l+3])<<11|t[l+4]<<3|(224&t[l+5])>>5,a=9e4*(o=1024*(1+(3&t[l+6])))/ee[(60&t[l+2])>>>2],s=l+i,t.byteLength<s)return;if(this.trigger("data",{pts:e.pts+u*a,dts:e.dts+u*a,sampleCount:o,audioobjecttype:1+(t[l+2]>>>6&3),channelcount:(1&t[l+2])<<2|(192&t[l+3])>>>6,samplerate:ee[(60&t[l+2])>>>2],samplingfrequencyindex:(60&t[l+2])>>>2,samplesize:16,data:t.subarray(l+7+n,s)}),t.byteLength===s)return void(t=void 0);u++,t=t.subarray(s)}else l++},this.flush=function(){this.trigger("done")}}).prototype=new st;var ie,ne,se,re=Jt,oe=function(t){var e=t.byteLength,i=0,n=0;this.length=function(){return 8*e},this.bitsAvailable=function(){return 8*e+n},this.loadWord=function(){var s=t.byteLength-e,r=new Uint8Array(4),o=Math.min(4,e);if(0===o)throw new Error("no bytes available");r.set(t.subarray(s,s+o)),i=new DataView(r.buffer).getUint32(0),n=8*o,e-=o},this.skipBits=function(t){var s;n>t?(i<<=t,n-=t):(t-=n,t-=8*(s=Math.floor(t/8)),e-=s,this.loadWord(),i<<=t,n-=t)},this.readBits=function(t){var s=Math.min(n,t),r=i>>>32-s;return(n-=s)>0?i<<=s:e>0&&this.loadWord(),(s=t-s)>0?r<<s|this.readBits(s):r},this.skipLeadingZeros=function(){var t;for(t=0;t<n;++t)if(0!=(i&2147483648>>>t))return i<<=t,n-=t,t;return this.loadWord(),t+this.skipLeadingZeros()},this.skipUnsignedExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.skipExpGolomb=function(){this.skipBits(1+this.skipLeadingZeros())},this.readUnsignedExpGolomb=function(){var t=this.skipLeadingZeros();return this.readBits(t+1)-1},this.readExpGolomb=function(){var t=this.readUnsignedExpGolomb();return 1&t?1+t>>>1:-1*(t>>>1)},this.readBoolean=function(){return 1===this.readBits(1)},this.readUnsignedByte=function(){return this.readBits(8)},this.loadWord()};(ne=function(){var t,e,i=0;ne.prototype.init.call(this),this.push=function(n){var s;for(e?((s=new Uint8Array(e.byteLength+n.data.byteLength)).set(e),s.set(n.data,e.byteLength),e=s):e=n.data;i<e.byteLength-3;i++)if(1===e[i+2]){t=i+5;break}for(;t<e.byteLength;)switch(e[t]){case 0:if(0!==e[t-1]){t+=2;break}if(0!==e[t-2]){t++;break}i+3!==t-2&&this.trigger("data",e.subarray(i+3,t-2));do{t++}while(1!==e[t]&&t<e.length);i=t-2,t+=3;break;case 1:if(0!==e[t-1]||0!==e[t-2]){t+=3;break}this.trigger("data",e.subarray(i+3,t-2)),i=t-2,t+=3;break;default:t+=3}e=e.subarray(i),t-=i,i=0},this.flush=function(){e&&e.byteLength>3&&this.trigger("data",e.subarray(i+3)),e=null,i=0,this.trigger("done")}}).prototype=new st,se={100:!0,110:!0,122:!0,244:!0,44:!0,83:!0,86:!0,118:!0,128:!0,138:!0,139:!0,134:!0},(ie=function(){var t,e,i,n,s,r,o,a=new ne;ie.prototype.init.call(this),t=this,this.push=function(t){"video"===t.type&&(e=t.trackId,i=t.pts,n=t.dts,a.push(t))},a.on("data",function(o){var a={trackId:e,pts:i,dts:n,data:o};switch(31&o[0]){case 5:a.nalUnitType="slice_layer_without_partitioning_rbsp_idr";break;case 6:a.nalUnitType="sei_rbsp",a.escapedRBSP=s(o.subarray(1));break;case 7:a.nalUnitType="seq_parameter_set_rbsp",a.escapedRBSP=s(o.subarray(1)),a.config=r(a.escapedRBSP);break;case 8:a.nalUnitType="pic_parameter_set_rbsp";break;case 9:a.nalUnitType="access_unit_delimiter_rbsp"}t.trigger("data",a)}),a.on("done",function(){t.trigger("done")}),this.flush=function(){a.flush()},o=function(t,e){var i,n=8,s=8;for(i=0;i<t;i++)0!==s&&(s=(n+e.readExpGolomb()+256)%256),n=0===s?n:s},s=function(t){for(var e,i,n=t.byteLength,s=[],r=1;r<n-2;)0===t[r]&&0===t[r+1]&&3===t[r+2]?(s.push(r+2),r+=2):r++;if(0===s.length)return t;e=n-s.length,i=new Uint8Array(e);var o=0;for(r=0;r<e;o++,r++)o===s[0]&&(o++,s.shift()),i[r]=t[o];return i},r=function(t){var e,i,n,s,r,a,l,u,c,h,d,p,f,m=0,g=0,v=0,y=0,_=1;if(i=(e=new oe(t)).readUnsignedByte(),s=e.readUnsignedByte(),n=e.readUnsignedByte(),e.skipUnsignedExpGolomb(),se[i]&&(3===(r=e.readUnsignedExpGolomb())&&e.skipBits(1),e.skipUnsignedExpGolomb(),e.skipUnsignedExpGolomb(),e.skipBits(1),e.readBoolean()))for(d=3!==r?8:12,f=0;f<d;f++)e.readBoolean()&&o(f<6?16:64,e);if(e.skipUnsignedExpGolomb(),0===(a=e.readUnsignedExpGolomb()))e.readUnsignedExpGolomb();else if(1===a)for(e.skipBits(1),e.skipExpGolomb(),e.skipExpGolomb(),l=e.readUnsignedExpGolomb(),f=0;f<l;f++)e.skipExpGolomb();if(e.skipUnsignedExpGolomb(),e.skipBits(1),u=e.readUnsignedExpGolomb(),c=e.readUnsignedExpGolomb(),0===(h=e.readBits(1))&&e.skipBits(1),e.skipBits(1),e.readBoolean()&&(m=e.readUnsignedExpGolomb(),g=e.readUnsignedExpGolomb(),v=e.readUnsignedExpGolomb(),y=e.readUnsignedExpGolomb()),e.readBoolean()&&e.readBoolean()){switch(e.readUnsignedByte()){case 1:p=[1,1];break;case 2:p=[12,11];break;case 3:p=[10,11];break;case 4:p=[16,11];break;case 5:p=[40,33];break;case 6:p=[24,11];break;case 7:p=[20,11];break;case 8:p=[32,11];break;case 9:p=[80,33];break;case 10:p=[18,11];break;case 11:p=[15,11];break;case 12:p=[64,33];break;case 13:p=[160,99];break;case 14:p=[4,3];break;case 15:p=[3,2];break;case 16:p=[2,1];break;case 255:p=[e.readUnsignedByte()<<8|e.readUnsignedByte(),e.readUnsignedByte()<<8|e.readUnsignedByte()]}p&&(_=p[0]/p[1])}return{profileIdc:i,levelIdc:n,profileCompatibility:s,width:Math.ceil((16*(u+1)-2*m-2*g)*_),height:(2-h)*(c+1)*16-2*v-2*y}}}).prototype=new st;var ae,le={H264Stream:ie,NalByteStream:ne},ue=function(t){return t[0]==="I".charCodeAt(0)&&t[1]==="D".charCodeAt(0)&&t[2]==="3".charCodeAt(0)},ce=function(t,e){var i=t[e+6]<<21|t[e+7]<<14|t[e+8]<<7|t[e+9];return(16&t[e+5])>>4?i+20:i+10},he=function(t,e){var i=(224&t[e+5])>>5,n=t[e+4]<<3;return 6144&t[e+3]|n|i};(ae=function(){var t=new Uint8Array,e=0;ae.prototype.init.call(this),this.setTimestamp=function(t){e=t},this.push=function(i){var n,s,r,o,a=0,l=0;for(t.length?(o=t.length,(t=new Uint8Array(i.byteLength+o)).set(t.subarray(0,o)),t.set(i,o)):t=i;t.length-l>=3;)if(t[l]!=="I".charCodeAt(0)||t[l+1]!=="D".charCodeAt(0)||t[l+2]!=="3".charCodeAt(0))if(255!=(255&t[l])||240!=(240&t[l+1]))l++;else{if(t.length-l<7)break;if(l+(a=he(t,l))>t.length)break;r={type:"audio",data:t.subarray(l,l+a),pts:e,dts:e},this.trigger("data",r),l+=a}else{if(t.length-l<10)break;if(l+(a=ce(t,l))>t.length)break;s={type:"timed-metadata",data:t.subarray(l,l+a)},this.trigger("data",s),l+=a}n=t.length-l,t=n>0?t.subarray(l):new Uint8Array}}).prototype=new st;var de,pe,fe,me,ge=ae,ve=le.H264Stream,ye=ue,_e=["audioobjecttype","channelcount","samplerate","samplingfrequencyindex","samplesize"],be=["width","height","profileIdc","levelIdc","profileCompatibility"],we=function(t,e){var i;if(t.length!==e.length)return!1;for(i=0;i<t.length;i++)if(t[i]!==e[i])return!1;return!0};(pe=function(t,e){var i=[],n=0,s=0,r=0,o=1/0;e=e||{},pe.prototype.init.call(this),this.push=function(e){St(t,e),t&&_e.forEach(function(i){t[i]=e[i]}),i.push(e)},this.setEarliestDts=function(e){s=e-t.timelineStartInfo.baseMediaDecodeTime},this.setVideoBaseMediaDecodeTime=function(t){o=t},this.setAudioAppendStart=function(t){r=t},this.flush=function(){var a,l,u,c;0!==i.length?(a=_t(i,t,s),t.baseMediaDecodeTime=kt(t,e.keepOriginalTimestamps),yt(t,a,r,o),t.samples=bt(a),u=$.mdat(wt(a)),i=[],l=$.moof(n,[t]),c=new Uint8Array(l.byteLength+u.byteLength),n++,c.set(l),c.set(u,l.byteLength),Tt(t),this.trigger("data",{track:t,boxes:c}),this.trigger("done","AudioSegmentStream")):this.trigger("done","AudioSegmentStream")}}).prototype=new st,(de=function(t,e){var i,n,s=0,r=[],o=[];e=e||{},de.prototype.init.call(this),delete t.minPTS,this.gopCache_=[],this.push=function(e){St(t,e),"seq_parameter_set_rbsp"!==e.nalUnitType||i||(i=e.config,t.sps=[e.data],be.forEach(function(e){t[e]=i[e]},this)),"pic_parameter_set_rbsp"!==e.nalUnitType||n||(n=e.data,t.pps=[e.data]),r.push(e)},this.flush=function(){for(var i,n,a,l,u,c;r.length&&"access_unit_delimiter_rbsp"!==r[0].nalUnitType;)r.shift();if(0===r.length)return this.resetStream_(),void this.trigger("done","VideoSegmentStream");if(i=ot(r),(a=at(i))[0][0].keyFrame||((n=this.getGopForFusion_(r[0],t))?(a.unshift(n),a.byteLength+=n.byteLength,a.nalCount+=n.nalCount,a.pts=n.pts,a.dts=n.dts,a.duration+=n.duration):a=lt(a)),o.length){var h;if(!(h=e.alignGopsAtEnd?this.alignGopsAtEnd_(a):this.alignGopsAtStart_(a)))return this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.resetStream_(),void this.trigger("done","VideoSegmentStream");Tt(t),a=h}St(t,a),t.samples=ut(a),u=$.mdat(ct(a)),t.baseMediaDecodeTime=kt(t,e.keepOriginalTimestamps),this.trigger("processedGopsInfo",a.map(function(t){return{pts:t.pts,dts:t.dts,byteLength:t.byteLength}})),this.gopCache_.unshift({gop:a.pop(),pps:t.pps,sps:t.sps}),this.gopCache_.length=Math.min(6,this.gopCache_.length),r=[],this.trigger("baseMediaDecodeTime",t.baseMediaDecodeTime),this.trigger("timelineStartInfo",t.timelineStartInfo),l=$.moof(s,[t]),c=new Uint8Array(l.byteLength+u.byteLength),s++,c.set(l),c.set(u,l.byteLength),this.trigger("data",{track:t,boxes:c}),this.resetStream_(),this.trigger("done","VideoSegmentStream")},this.resetStream_=function(){Tt(t),i=void 0,n=void 0},this.getGopForFusion_=function(e){var i,n,s,r,o,a=1/0;for(o=0;o<this.gopCache_.length;o++)s=(r=this.gopCache_[o]).gop,t.pps&&we(t.pps[0],r.pps[0])&&t.sps&&we(t.sps[0],r.sps[0])&&(s.dts<t.timelineStartInfo.dts||(i=e.dts-s.dts-s.duration)>=-1e4&&i<=45e3&&(!n||a>i)&&(n=r,a=i));return n?n.gop:null},this.alignGopsAtStart_=function(t){var e,i,n,s,r,a,l,u;for(r=t.byteLength,a=t.nalCount,l=t.duration,e=i=0;e<o.length&&i<t.length&&(n=o[e],s=t[i],n.pts!==s.pts);)s.pts>n.pts?e++:(i++,r-=s.byteLength,a-=s.nalCount,l-=s.duration);return 0===i?t:i===t.length?null:((u=t.slice(i)).byteLength=r,u.duration=l,u.nalCount=a,u.pts=u[0].pts,u.dts=u[0].dts,u)},this.alignGopsAtEnd_=function(t){var e,i,n,s,r,a,l;for(e=o.length-1,i=t.length-1,r=null,a=!1;e>=0&&i>=0;){if(n=o[e],s=t[i],n.pts===s.pts){a=!0;break}n.pts>s.pts?e--:(e===o.length-1&&(r=i),i--)}if(!a&&null===r)return null;if(0===(l=a?i:r))return t;var u=t.slice(l),c=u.reduce(function(t,e){return t.byteLength+=e.byteLength,t.duration+=e.duration,t.nalCount+=e.nalCount,t},{byteLength:0,duration:0,nalCount:0});return u.byteLength=c.byteLength,u.duration=c.duration,u.nalCount=c.nalCount,u.pts=u[0].pts,u.dts=u[0].dts,u},this.alignGopsWith=function(t){o=t}}).prototype=new st,(me=function(t,e){this.numberOfTracks=0,this.metadataStream=e,void 0!==(t=t||{}).remux?this.remuxTracks=!!t.remux:this.remuxTracks=!0,"boolean"==typeof t.keepOriginalTimestamps&&(this.keepOriginalTimestamps=t.keepOriginalTimestamps),this.pendingTracks=[],this.videoTrack=null,this.pendingBoxes=[],this.pendingCaptions=[],this.pendingMetadata=[],this.pendingBytes=0,this.emittedTracks=0,me.prototype.init.call(this),this.push=function(t){return t.text?this.pendingCaptions.push(t):t.frames?this.pendingMetadata.push(t):(this.pendingTracks.push(t.track),this.pendingBoxes.push(t.boxes),this.pendingBytes+=t.boxes.byteLength,"video"===t.track.type&&(this.videoTrack=t.track),void("audio"===t.track.type&&(this.audioTrack=t.track)))}}).prototype=new st,me.prototype.flush=function(t){var e,i,n,s,r=0,o={captions:[],captionStreams:{},metadata:[],info:{}},a=0;if(this.pendingTracks.length<this.numberOfTracks){if("VideoSegmentStream"!==t&&"AudioSegmentStream"!==t)return;if(this.remuxTracks)return;if(0===this.pendingTracks.length)return this.emittedTracks++,void(this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0))}for(this.videoTrack?(a=this.videoTrack.timelineStartInfo.pts,be.forEach(function(t){o.info[t]=this.videoTrack[t]},this)):this.audioTrack&&(a=this.audioTrack.timelineStartInfo.pts,_e.forEach(function(t){o.info[t]=this.audioTrack[t]},this)),1===this.pendingTracks.length?o.type=this.pendingTracks[0].type:o.type="combined",this.emittedTracks+=this.pendingTracks.length,n=$.initSegment(this.pendingTracks),o.initSegment=new Uint8Array(n.byteLength),o.initSegment.set(n),o.data=new Uint8Array(this.pendingBytes),s=0;s<this.pendingBoxes.length;s++)o.data.set(this.pendingBoxes[s],r),r+=this.pendingBoxes[s].byteLength;for(s=0;s<this.pendingCaptions.length;s++)(e=this.pendingCaptions[s]).startTime=e.startPts,this.keepOriginalTimestamps||(e.startTime-=a),e.startTime/=9e4,e.endTime=e.endPts,this.keepOriginalTimestamps||(e.endTime-=a),e.endTime/=9e4,o.captionStreams[e.stream]=!0,o.captions.push(e);for(s=0;s<this.pendingMetadata.length;s++)(i=this.pendingMetadata[s]).cueTime=i.pts,this.keepOriginalTimestamps||(i.cueTime-=a),i.cueTime/=9e4,o.metadata.push(i);o.metadata.dispatchType=this.metadataStream.dispatchType,this.pendingTracks.length=0,this.videoTrack=null,this.pendingBoxes.length=0,this.pendingCaptions.length=0,this.pendingBytes=0,this.pendingMetadata.length=0,this.trigger("data",o),this.emittedTracks>=this.numberOfTracks&&(this.trigger("done"),this.emittedTracks=0)},(fe=function(t){var e,i,n=this,s=!0;fe.prototype.init.call(this),t=t||{},this.baseMediaDecodeTime=t.baseMediaDecodeTime||0,this.transmuxPipeline_={},this.setupAacPipeline=function(){var e={};this.transmuxPipeline_=e,e.type="aac",e.metadataStream=new te.MetadataStream,e.aacStream=new ge,e.audioTimestampRolloverStream=new te.TimestampRolloverStream("audio"),e.timedMetadataTimestampRolloverStream=new te.TimestampRolloverStream("timed-metadata"),e.adtsStream=new re,e.coalesceStream=new me(t,e.metadataStream),e.headOfPipeline=e.aacStream,e.aacStream.pipe(e.audioTimestampRolloverStream).pipe(e.adtsStream),e.aacStream.pipe(e.timedMetadataTimestampRolloverStream).pipe(e.metadataStream).pipe(e.coalesceStream),e.metadataStream.on("timestamp",function(t){e.aacStream.setTimestamp(t.timeStamp)}),e.aacStream.on("data",function(s){"timed-metadata"!==s.type||e.audioSegmentStream||(i=i||{timelineStartInfo:{baseMediaDecodeTime:n.baseMediaDecodeTime},codec:"adts",type:"audio"},e.coalesceStream.numberOfTracks++,e.audioSegmentStream=new pe(i,t),e.adtsStream.pipe(e.audioSegmentStream).pipe(e.coalesceStream))}),e.coalesceStream.on("data",this.trigger.bind(this,"data")),e.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setupTsPipeline=function(){var s={};this.transmuxPipeline_=s,s.type="ts",s.metadataStream=new te.MetadataStream,s.packetStream=new te.TransportPacketStream,s.parseStream=new te.TransportParseStream,s.elementaryStream=new te.ElementaryStream,s.videoTimestampRolloverStream=new te.TimestampRolloverStream("video"),s.audioTimestampRolloverStream=new te.TimestampRolloverStream("audio"),s.timedMetadataTimestampRolloverStream=new te.TimestampRolloverStream("timed-metadata"),s.adtsStream=new re,s.h264Stream=new ve,s.captionStream=new te.CaptionStream,s.coalesceStream=new me(t,s.metadataStream),s.headOfPipeline=s.packetStream,s.packetStream.pipe(s.parseStream).pipe(s.elementaryStream),s.elementaryStream.pipe(s.videoTimestampRolloverStream).pipe(s.h264Stream),s.elementaryStream.pipe(s.audioTimestampRolloverStream).pipe(s.adtsStream),s.elementaryStream.pipe(s.timedMetadataTimestampRolloverStream).pipe(s.metadataStream).pipe(s.coalesceStream),s.h264Stream.pipe(s.captionStream).pipe(s.coalesceStream),s.elementaryStream.on("data",function(r){var o;if("metadata"===r.type){for(o=r.tracks.length;o--;)e||"video"!==r.tracks[o].type?i||"audio"!==r.tracks[o].type||((i=r.tracks[o]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime):(e=r.tracks[o]).timelineStartInfo.baseMediaDecodeTime=n.baseMediaDecodeTime;e&&!s.videoSegmentStream&&(s.coalesceStream.numberOfTracks++,s.videoSegmentStream=new de(e,t),s.videoSegmentStream.on("timelineStartInfo",function(t){i&&(i.timelineStartInfo=t,s.audioSegmentStream.setEarliestDts(t.dts))}),s.videoSegmentStream.on("processedGopsInfo",n.trigger.bind(n,"gopInfo")),s.videoSegmentStream.on("baseMediaDecodeTime",function(t){i&&s.audioSegmentStream.setVideoBaseMediaDecodeTime(t)}),s.h264Stream.pipe(s.videoSegmentStream).pipe(s.coalesceStream)),i&&!s.audioSegmentStream&&(s.coalesceStream.numberOfTracks++,s.audioSegmentStream=new pe(i,t),s.adtsStream.pipe(s.audioSegmentStream).pipe(s.coalesceStream))}}),s.coalesceStream.on("data",this.trigger.bind(this,"data")),s.coalesceStream.on("done",this.trigger.bind(this,"done"))},this.setBaseMediaDecodeTime=function(n){var s=this.transmuxPipeline_;t.keepOriginalTimestamps||(this.baseMediaDecodeTime=n),i&&(i.timelineStartInfo.dts=void 0,i.timelineStartInfo.pts=void 0,Tt(i),t.keepOriginalTimestamps||(i.timelineStartInfo.baseMediaDecodeTime=n),s.audioTimestampRolloverStream&&s.audioTimestampRolloverStream.discontinuity()),e&&(s.videoSegmentStream&&(s.videoSegmentStream.gopCache_=[],s.videoTimestampRolloverStream.discontinuity()),e.timelineStartInfo.dts=void 0,e.timelineStartInfo.pts=void 0,Tt(e),s.captionStream.reset(),t.keepOriginalTimestamps||(e.timelineStartInfo.baseMediaDecodeTime=n)),s.timedMetadataTimestampRolloverStream&&s.timedMetadataTimestampRolloverStream.discontinuity()},this.setAudioAppendStart=function(t){i&&this.transmuxPipeline_.audioSegmentStream.setAudioAppendStart(t)},this.alignGopsWith=function(t){e&&this.transmuxPipeline_.videoSegmentStream&&this.transmuxPipeline_.videoSegmentStream.alignGopsWith(t)},this.push=function(t){if(s){var e=ye(t);e&&"aac"!==this.transmuxPipeline_.type?this.setupAacPipeline():e||"ts"===this.transmuxPipeline_.type||this.setupTsPipeline(),s=!1}this.transmuxPipeline_.headOfPipeline.push(t)},this.flush=function(){s=!0,this.transmuxPipeline_.headOfPipeline.flush()},this.resetCaptions=function(){this.transmuxPipeline_.captionStream&&this.transmuxPipeline_.captionStream.reset()}}).prototype=new st;var Te,ke,Se={Transmuxer:fe,VideoSegmentStream:de,AudioSegmentStream:pe,AUDIO_PROPERTIES:_e,VIDEO_PROPERTIES:be},Ce=X.parseType,xe=function(t){return new Date(1e3*t-20828448e5)},Ee=function(t){return{isLeading:(12&t[0])>>>2,dependsOn:3&t[0],isDependedOn:(192&t[1])>>>6,hasRedundancy:(48&t[1])>>>4,paddingValue:(14&t[1])>>>1,isNonSyncSample:1&t[1],degradationPriority:t[2]<<8|t[3]}},De=function(t){var e,i,n=new DataView(t.buffer,t.byteOffset,t.byteLength),s=[];for(e=0;e+4<t.length;e+=i)if(i=n.getUint32(e),e+=4,i<=0)s.push("<span style='color:red;'>MALFORMED DATA</span>");else switch(31&t[e]){case 1:s.push("slice_layer_without_partitioning_rbsp");break;case 5:s.push("slice_layer_without_partitioning_rbsp_idr");break;case 6:s.push("sei_rbsp");break;case 7:s.push("seq_parameter_set_rbsp");break;case 8:s.push("pic_parameter_set_rbsp");break;case 9:s.push("access_unit_delimiter_rbsp");break;default:s.push("UNKNOWN NAL - "+t[e]&31)}return s},Ae={avc1:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{dataReferenceIndex:e.getUint16(6),width:e.getUint16(24),height:e.getUint16(26),horizresolution:e.getUint16(28)+e.getUint16(30)/16,vertresolution:e.getUint16(32)+e.getUint16(34)/16,frameCount:e.getUint16(40),depth:e.getUint16(74),config:Te(t.subarray(78,t.byteLength))}},avcC:function(t){var e,i,n,s,r=new DataView(t.buffer,t.byteOffset,t.byteLength),o={configurationVersion:t[0],avcProfileIndication:t[1],profileCompatibility:t[2],avcLevelIndication:t[3],lengthSizeMinusOne:3&t[4],sps:[],pps:[]},a=31&t[5];for(n=6,s=0;s<a;s++)i=r.getUint16(n),n+=2,o.sps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;for(e=t[n],n++,s=0;s<e;s++)i=r.getUint16(n),n+=2,o.pps.push(new Uint8Array(t.subarray(n,n+i))),n+=i;return o},btrt:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{bufferSizeDB:e.getUint32(0),maxBitrate:e.getUint32(4),avgBitrate:e.getUint32(8)}},esds:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),esId:t[6]<<8|t[7],streamPriority:31&t[8],decoderConfig:{objectProfileIndication:t[11],streamType:t[12]>>>2&63,bufferSize:t[13]<<16|t[14]<<8|t[15],maxBitrate:t[16]<<24|t[17]<<16|t[18]<<8|t[19],avgBitrate:t[20]<<24|t[21]<<16|t[22]<<8|t[23],decoderConfigDescriptor:{tag:t[24],length:t[25],audioObjectType:t[26]>>>3&31,samplingFrequencyIndex:(7&t[26])<<1|t[27]>>>7&1,channelConfiguration:t[27]>>>3&15}}}},ftyp:function(t){for(var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={majorBrand:Ce(t.subarray(0,4)),minorVersion:e.getUint32(4),compatibleBrands:[]},n=8;n<t.byteLength;)i.compatibleBrands.push(Ce(t.subarray(n,n+4))),n+=4;return i},dinf:function(t){return{boxes:Te(t)}},dref:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),dataReferences:Te(t.subarray(8))}},hdlr:function(t){var e={version:new DataView(t.buffer,t.byteOffset,t.byteLength).getUint8(0),flags:new Uint8Array(t.subarray(1,4)),handlerType:Ce(t.subarray(8,12)),name:""},i=8;for(i=24;i<t.byteLength;i++){if(0===t[i]){i++;break}e.name+=String.fromCharCode(t[i])}return e.name=decodeURIComponent(escape(e.name)),e},mdat:function(t){return{byteLength:t.byteLength,nals:De(t)}},mdhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=4,s={version:i.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),language:""};return 1===s.version?(n+=4,s.creationTime=xe(i.getUint32(n)),n+=8,s.modificationTime=xe(i.getUint32(n)),n+=4,s.timescale=i.getUint32(n),n+=8,s.duration=i.getUint32(n)):(s.creationTime=xe(i.getUint32(n)),n+=4,s.modificationTime=xe(i.getUint32(n)),n+=4,s.timescale=i.getUint32(n),n+=4,s.duration=i.getUint32(n)),n+=4,e=i.getUint16(n),s.language+=String.fromCharCode(96+(e>>10)),s.language+=String.fromCharCode(96+((992&e)>>5)),s.language+=String.fromCharCode(96+(31&e)),s},mdia:function(t){return{boxes:Te(t)}},mfhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sequenceNumber:t[4]<<24|t[5]<<16|t[6]<<8|t[7]}},minf:function(t){return{boxes:Te(t)}},mp4a:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i={dataReferenceIndex:e.getUint16(6),channelcount:e.getUint16(16),samplesize:e.getUint16(18),samplerate:e.getUint16(24)+e.getUint16(26)/65536};return t.byteLength>28&&(i.streamDescriptor=Te(t.subarray(28))[0]),i},moof:function(t){return{boxes:Te(t)}},moov:function(t){return{boxes:Te(t)}},mvex:function(t){return{boxes:Te(t)}},mvhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=xe(e.getUint32(i)),i+=8,n.modificationTime=xe(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=8,n.duration=e.getUint32(i)):(n.creationTime=xe(e.getUint32(i)),i+=4,n.modificationTime=xe(e.getUint32(i)),i+=4,n.timescale=e.getUint32(i),i+=4,n.duration=e.getUint32(i)),i+=4,n.rate=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,i+=8,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,i+=24,n.nextTrackId=e.getUint32(i),n},pdin:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4)),rate:e.getUint32(4),initialDelay:e.getUint32(8)}},sdtp:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]};for(e=4;e<t.byteLength;e++)i.samples.push({dependsOn:(48&t[e])>>4,isDependedOn:(12&t[e])>>2,hasRedundancy:3&t[e]});return i},sidx:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),references:[],referenceId:i.getUint32(4),timescale:i.getUint32(8),earliestPresentationTime:i.getUint32(12),firstOffset:i.getUint32(16)},s=i.getUint16(22);for(e=24;s;e+=12,s--)n.references.push({referenceType:(128&t[e])>>>7,referencedSize:2147483647&i.getUint32(e),subsegmentDuration:i.getUint32(e+4),startsWithSap:!!(128&t[e+8]),sapType:(112&t[e+8])>>>4,sapDeltaTime:268435455&i.getUint32(e+8)});return n},smhd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),balance:t[4]+t[5]/256}},stbl:function(t){return{boxes:Te(t)}},stco:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),chunkOffsets:[]},s=i.getUint32(4);for(e=8;s;e+=4,s--)n.chunkOffsets.push(i.getUint32(e));return n},stsc:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=i.getUint32(4),s={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleToChunks:[]};for(e=8;n;e+=12,n--)s.sampleToChunks.push({firstChunk:i.getUint32(e),samplesPerChunk:i.getUint32(e+4),sampleDescriptionIndex:i.getUint32(e+8)});return s},stsd:function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleDescriptions:Te(t.subarray(8))}},stsz:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),sampleSize:i.getUint32(4),entries:[]};for(e=12;e<t.byteLength;e+=4)n.entries.push(i.getUint32(e));return n},stts:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),timeToSamples:[]},s=i.getUint32(4);for(e=8;s;e+=8,s--)n.timeToSamples.push({sampleCount:i.getUint32(e),sampleDelta:i.getUint32(e+4)});return n},styp:function(t){return Ae.ftyp(t)},tfdt:function(t){var e={version:t[0],flags:new Uint8Array(t.subarray(1,4)),baseMediaDecodeTime:t[4]<<24|t[5]<<16|t[6]<<8|t[7]};return 1===e.version&&(e.baseMediaDecodeTime*=Math.pow(2,32),e.baseMediaDecodeTime+=t[8]<<24|t[9]<<16|t[10]<<8|t[11]),e},tfhd:function(t){var e,i=new DataView(t.buffer,t.byteOffset,t.byteLength),n={version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:i.getUint32(4)},s=1&n.flags[2],r=2&n.flags[2],o=8&n.flags[2],a=16&n.flags[2],l=32&n.flags[2],u=65536&n.flags[0],c=131072&n.flags[0];return e=8,s&&(e+=4,n.baseDataOffset=i.getUint32(12),e+=4),r&&(n.sampleDescriptionIndex=i.getUint32(e),e+=4),o&&(n.defaultSampleDuration=i.getUint32(e),e+=4),a&&(n.defaultSampleSize=i.getUint32(e),e+=4),l&&(n.defaultSampleFlags=i.getUint32(e)),u&&(n.durationIsEmpty=!0),!s&&c&&(n.baseDataOffsetIsMoof=!0),n},tkhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength),i=4,n={version:e.getUint8(0),flags:new Uint8Array(t.subarray(1,4))};return 1===n.version?(i+=4,n.creationTime=xe(e.getUint32(i)),i+=8,n.modificationTime=xe(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=8,n.duration=e.getUint32(i)):(n.creationTime=xe(e.getUint32(i)),i+=4,n.modificationTime=xe(e.getUint32(i)),i+=4,n.trackId=e.getUint32(i),i+=4,i+=4,n.duration=e.getUint32(i)),i+=4,i+=8,n.layer=e.getUint16(i),i+=2,n.alternateGroup=e.getUint16(i),i+=2,n.volume=e.getUint8(i)+e.getUint8(i+1)/8,i+=2,i+=2,n.matrix=new Uint32Array(t.subarray(i,i+36)),i+=36,n.width=e.getUint16(i)+e.getUint16(i+2)/16,i+=4,n.height=e.getUint16(i)+e.getUint16(i+2)/16,n},traf:function(t){return{boxes:Te(t)}},trak:function(t){return{boxes:Te(t)}},trex:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),trackId:e.getUint32(4),defaultSampleDescriptionIndex:e.getUint32(8),defaultSampleDuration:e.getUint32(12),defaultSampleSize:e.getUint32(16),sampleDependsOn:3&t[20],sampleIsDependedOn:(192&t[21])>>6,sampleHasRedundancy:(48&t[21])>>4,samplePaddingValue:(14&t[21])>>1,sampleIsDifferenceSample:!!(1&t[21]),sampleDegradationPriority:e.getUint16(22)}},trun:function(t){var e,i={version:t[0],flags:new Uint8Array(t.subarray(1,4)),samples:[]},n=new DataView(t.buffer,t.byteOffset,t.byteLength),s=1&i.flags[2],r=4&i.flags[2],o=1&i.flags[1],a=2&i.flags[1],l=4&i.flags[1],u=8&i.flags[1],c=n.getUint32(4),h=8;for(s&&(i.dataOffset=n.getInt32(h),h+=4),r&&c&&(e={flags:Ee(t.subarray(h,h+4))},h+=4,o&&(e.duration=n.getUint32(h),h+=4),a&&(e.size=n.getUint32(h),h+=4),u&&(e.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(e),c--);c--;)e={},o&&(e.duration=n.getUint32(h),h+=4),a&&(e.size=n.getUint32(h),h+=4),l&&(e.flags=Ee(t.subarray(h,h+4)),h+=4),u&&(e.compositionTimeOffset=n.getUint32(h),h+=4),i.samples.push(e);return i},"url ":function(t){return{version:t[0],flags:new Uint8Array(t.subarray(1,4))}},vmhd:function(t){var e=new DataView(t.buffer,t.byteOffset,t.byteLength);return{version:t[0],flags:new Uint8Array(t.subarray(1,4)),graphicsmode:e.getUint16(4),opcolor:new Uint16Array([e.getUint16(6),e.getUint16(8),e.getUint16(10)])}}},Pe={inspect:Te=function(t){for(var e,i,n,s,r,o=0,a=[],l=new ArrayBuffer(t.length),u=new Uint8Array(l),c=0;c<t.length;++c)u[c]=t[c];for(e=new DataView(l);o<t.byteLength;)i=e.getUint32(o),n=Ce(t.subarray(o+4,o+8)),s=i>1?o+i:t.byteLength,(r=(Ae[n]||function(t){return{data:t}})(t.subarray(o+8,s))).size=i,r.type=n,a.push(r),o=s;return a},textify:ke=function(t,e){var i;return e=e||0,i=new Array(2*e+1).join(" "),t.map(function(t,n){return i+t.type+"\n"+Object.keys(t).filter(function(t){return"type"!==t&&"boxes"!==t}).map(function(e){var n=i+"  "+e+": ",s=t[e];if(s instanceof Uint8Array||s instanceof Uint32Array){var r=Array.prototype.slice.call(new Uint8Array(s.buffer,s.byteOffset,s.byteLength)).map(function(t){return" "+("00"+t.toString(16)).slice(-2)}).join("").match(/.{1,24}/g);return r?1===r.length?n+"<"+r.join("").slice(1)+">":n+"<\n"+r.map(function(t){return i+"  "+t}).join("\n")+"\n"+i+"  >":n+"<>"}return n+JSON.stringify(s,null,2).split("\n").map(function(t,e){return 0===e?t:i+"  "+t}).join("\n")}).join("\n")+(t.boxes?"\n"+ke(t.boxes,e+1):"")}).join("\n")},parseTfdt:Ae.tfdt,parseHdlr:Ae.hdlr,parseTfhd:Ae.tfhd,parseTrun:Ae.trun},Ie=Dt,Oe=Rt.CaptionStream,Me=function(t,e){for(var i=t,n=0;n<e.length;n++){var s=e[n];if(i<s.size)return s;i-=s.size}return null},Le=function(t,e){var i=X.findBox(t,["moof","traf"]),n=X.findBox(t,["mdat"]),s={},r=[];return n.forEach(function(t,e){var n=i[e];r.push({mdat:t,traf:n})}),r.forEach(function(t){var i,n=t.mdat,r=t.traf,o=X.findBox(r,["tfhd"]),a=Pe.parseTfhd(o[0]),l=a.trackId,u=X.findBox(r,["tfdt"]),c=u.length>0?Pe.parseTfdt(u[0]).baseMediaDecodeTime:0,h=X.findBox(r,["trun"]);e===l&&h.length>0&&(i=function(t,e,i){var n,s,r,o,a=new DataView(t.buffer,t.byteOffset,t.byteLength),l=[];for(s=0;s+4<t.length;s+=r)if(r=a.getUint32(s),s+=4,!(r<=0))switch(31&t[s]){case 6:var u=t.subarray(s+1,s+1+r),c=Me(s,e);n={nalUnitType:"sei_rbsp",size:r,data:u,escapedRBSP:Ie(u),trackId:i},c?(n.pts=c.pts,n.dts=c.dts,o=c):(n.pts=o.pts,n.dts=o.dts),l.push(n)}return l}(n,function(t,e,i){var n=e,s=i.defaultSampleDuration||0,r=i.defaultSampleSize||0,o=i.trackId,a=[];return t.forEach(function(t){var e=Pe.parseTrun(t).samples;e.forEach(function(t){void 0===t.duration&&(t.duration=s),void 0===t.size&&(t.size=r),t.trackId=o,t.dts=n,void 0===t.compositionTimeOffset&&(t.compositionTimeOffset=0),t.pts=n+t.compositionTimeOffset,n+=t.duration}),a=a.concat(e)}),a}(h,c,a),l),s[l]||(s[l]=[]),s[l]=s[l].concat(i))}),s},Ne={generator:$,probe:X,Transmuxer:Se.Transmuxer,AudioSegmentStream:Se.AudioSegmentStream,VideoSegmentStream:Se.VideoSegmentStream,CaptionParser:function(){var t,e,i,n,s,r=!1;this.isInitialized=function(){return r},this.init=function(){t=new Oe,r=!0,t.on("data",function(t){t.startTime=t.startPts/n,t.endTime=t.endPts/n,s.captions.push(t),s.captionStreams[t.stream]=!0})},this.isNewInit=function(t,e){return!(t&&0===t.length||e&&"object"==typeof e&&0===Object.keys(e).length||i===t[0]&&n===e[i])},this.parse=function(t,r,o){var a;if(!this.isInitialized())return null;if(!r||!o)return null;if(this.isNewInit(r,o))i=r[0],n=o[i];else if(!i||!n)return e.push(t),null;for(;e.length>0;){var l=e.shift();this.parse(l,r,o)}return null!==(a=function(t,e,i){return e?{seiNals:Le(t,e)[e],timescale:i}:null}(t,i,n))&&a.seiNals?(this.pushNals(a.seiNals),this.flushStream(),s):null},this.pushNals=function(e){if(!this.isInitialized()||!e||0===e.length)return null;e.forEach(function(e){t.push(e)})},this.flushStream=function(){if(!this.isInitialized())return null;t.flush()},this.clearParsedCaptions=function(){s.captions=[],s.captionStreams={}},this.resetCaptionStream=function(){if(!this.isInitialized())return null;t.reset()},this.clearAllCaptions=function(){this.clearParsedCaptions(),this.resetCaptionStream()},this.reset=function(){e=[],i=null,n=null,s?this.clearParsedCaptions():s={captions:[],captionStreams:{}},this.resetCaptionStream()},this.reset()}},Re=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},Ue=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),Fe=function(){function t(e,i){Re(this,t),this.options=i||{},this.self=e,this.init()}return Ue(t,[{key:"init",value:function(){var t,e;this.transmuxer&&this.transmuxer.dispose(),this.transmuxer=new Ne.Transmuxer(this.options),t=this.self,(e=this.transmuxer).on("data",function(e){var i=e.initSegment;e.initSegment={data:i.buffer,byteOffset:i.byteOffset,byteLength:i.byteLength};var n=e.data;e.data=n.buffer,t.postMessage({action:"data",segment:e,byteOffset:n.byteOffset,byteLength:n.byteLength},[e.data])}),e.captionStream&&e.captionStream.on("data",function(e){t.postMessage({action:"caption",data:e})}),e.on("done",function(e){t.postMessage({action:"done"})}),e.on("gopInfo",function(e){t.postMessage({action:"gopInfo",gopInfo:e})})}},{key:"push",value:function(t){var e=new Uint8Array(t.data,t.byteOffset,t.byteLength);this.transmuxer.push(e)}},{key:"reset",value:function(){this.init()}},{key:"setTimestampOffset",value:function(t){var e=t.timestampOffset||0;this.transmuxer.setBaseMediaDecodeTime(Math.round(9e4*e))}},{key:"setAudioAppendStart",value:function(t){this.transmuxer.setAudioAppendStart(Math.ceil(9e4*t.appendStart))}},{key:"flush",value:function(t){this.transmuxer.flush()}},{key:"resetCaptions",value:function(){this.transmuxer.resetCaptions()}},{key:"alignGopsWith",value:function(t){this.transmuxer.alignGopsWith(t.gopsToAlignWith.slice())}}]),t}();new function(t){t.onmessage=function(e){"init"===e.data.action&&e.data.options?this.messageHandlers=new Fe(t,e.data.options):(this.messageHandlers||(this.messageHandlers=new Fe(t)),e.data&&e.data.action&&"init"!==e.data.action&&this.messageHandlers[e.data.action]&&this.messageHandlers[e.data.action](e.data))}}(i)}()}),Ec={videoCodec:"avc1",videoObjectTypeIndicator:".4d400d",audioProfile:"2"},Dc=function(t){return t.map(function(t){return t.replace(/avc1\.(\d+)\.(\d+)/i,function(t,e,i){return"avc1."+("00"+Number(e).toString(16)).slice(-2)+"00"+("00"+Number(i).toString(16)).slice(-2)})})},Ac=function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i={codecCount:0};return i.codecCount=e.split(",").length,i.codecCount=i.codecCount||2,(t=/(^|\s|,)+(avc[13])([^ ,]*)/i.exec(e))&&(i.videoCodec=t[2],i.videoObjectTypeIndicator=t[3]),i.audioProfile=/(^|\s|,)+mp4a.[0-9A-Fa-f]+\.([0-9A-Fa-f]+)/i.exec(e),i.audioProfile=i.audioProfile&&i.audioProfile[2],i},Pc=function(t,e,i){return t+"/"+e+'; codecs="'+i.filter(function(t){return!!t}).join(", ")+'"'},Ic=function(t,e){var i=function(t){return t.segments&&t.segments.length&&t.segments[0].map?"mp4":"mp2t"}(e),n=function(t){var e=t.attributes||{};return e.CODECS?Ac(e.CODECS):Ec}(e),s=e.attributes||{},r=!0,o=!1;if(!e)return[];if(t.mediaGroups.AUDIO&&s.AUDIO){var a=t.mediaGroups.AUDIO[s.AUDIO];if(a)for(var l in o=!0,r=!1,a)if(!a[l].uri&&!a[l].playlists){r=!0;break}}o&&!n.audioProfile&&(r||(n.audioProfile=function(t,e){if(!t.mediaGroups.AUDIO||!e)return null;var i=t.mediaGroups.AUDIO[e];if(!i)return null;for(var n in i){var s=i[n];if(s.default&&s.playlists)return Ac(s.playlists[0].attributes.CODECS).audioProfile}return null}(t,s.AUDIO)),n.audioProfile||(cr.log.warn("Multiple audio tracks present but no audio codec string is specified. Attempting to use the default audio codec (mp4a.40.2)"),n.audioProfile=Ec.audioProfile));var u={};n.videoCodec&&(u.video=""+n.videoCodec+n.videoObjectTypeIndicator),n.audioProfile&&(u.audio="mp4a.40."+n.audioProfile);var c=Pc("audio",i,[u.audio]),h=Pc("video",i,[u.video]),d=Pc("video",i,[u.video,u.audio]);return o?!r&&u.video?[h,c]:r||u.video?[d,c]:[c,c]:u.video?[d]:[c]},Oc=function(t){return/mp4a\.\d+.\d+/i.test(t)},Mc=function(t){return/avc1\.[\da-f]+/i.test(t)},Lc=function(t,e,i){if(null==e||!t.length)return[];var n=Math.ceil(9e4*(e-i+3)),s=void 0;for(s=0;s<t.length&&!(t[s].pts>n);s++);return t.slice(s)},Nc=function(t,e,i){var n=null,s=null,r=0,o=[],a=[];if(!t&&!e)return cr.createTimeRange();if(!t)return e.buffered;if(!e)return t.buffered;if(i)return t.buffered;if(0===t.buffered.length&&0===e.buffered.length)return cr.createTimeRange();for(var l=t.buffered,u=e.buffered,c=l.length;c--;)o.push({time:l.start(c),type:"start"}),o.push({time:l.end(c),type:"end"});for(c=u.length;c--;)o.push({time:u.start(c),type:"start"}),o.push({time:u.end(c),type:"end"});for(o.sort(function(t,e){return t.time-e.time}),c=0;c<o.length;c++)"start"===o[c].type?2===++r&&(n=o[c].time):"end"===o[c].type&&1===--r&&(s=o[c].time),null!==n&&null!==s&&(a.push([n,s]),n=null,s=null);return cr.createTimeRanges(a)},Rc=function(t){function e(t,i){vu(this,e);var n=bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,cr.EventTarget));n.timestampOffset_=0,n.pendingBuffers_=[],n.bufferUpdating_=!1,n.mediaSource_=t,n.codecs_=i,n.audioCodec_=null,n.videoCodec_=null,n.audioDisabled_=!1,n.appendAudioInitSegment_=!0,n.gopBuffer_=[],n.timeMapping_=0,n.safeAppend_=cr.browser.IE_VERSION>=11;var s={remux:!1,alignGopsAtEnd:n.safeAppend_};return n.codecs_.forEach(function(t){Oc(t)?n.audioCodec_=t:Mc(t)&&(n.videoCodec_=t)}),n.transmuxer_=new xc,n.transmuxer_.postMessage({action:"init",options:s}),n.transmuxer_.onmessage=function(t){return"data"===t.data.action?n.data_(t):"done"===t.data.action?n.done_(t):"gopInfo"===t.data.action?n.appendGopInfo_(t):void 0},Object.defineProperty(n,"timestampOffset",{get:function(){return this.timestampOffset_},set:function(t){"number"==typeof t&&t>=0&&(this.timestampOffset_=t,this.appendAudioInitSegment_=!0,this.gopBuffer_.length=0,this.timeMapping_=0,this.transmuxer_.postMessage({action:"setTimestampOffset",timestampOffset:t}))}}),Object.defineProperty(n,"appendWindowStart",{get:function(){return(this.videoBuffer_||this.audioBuffer_).appendWindowStart},set:function(t){this.videoBuffer_&&(this.videoBuffer_.appendWindowStart=t),this.audioBuffer_&&(this.audioBuffer_.appendWindowStart=t)}}),Object.defineProperty(n,"updating",{get:function(){return!!(this.bufferUpdating_||!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.updating||this.videoBuffer_&&this.videoBuffer_.updating)}}),Object.defineProperty(n,"buffered",{get:function(){return Nc(this.videoBuffer_,this.audioBuffer_,this.audioDisabled_)}}),n}return _u(e,t),yu(e,[{key:"data_",value:function(t){var e=t.data.segment;e.data=new Uint8Array(e.data,t.data.byteOffset,t.data.byteLength),e.initSegment=new Uint8Array(e.initSegment.data,e.initSegment.byteOffset,e.initSegment.byteLength),function(t,e,i){var n=e.player_;if(i.captions&&i.captions.length)for(var s in t.inbandTextTracks_||(t.inbandTextTracks_={}),i.captionStreams)if(!t.inbandTextTracks_[s]){n.tech_.trigger({type:"usage",name:"hls-608"});var r=n.textTracks().getTrackById(s);t.inbandTextTracks_[s]=r||n.addRemoteTextTrack({kind:"captions",id:s,label:s},!1).track}i.metadata&&i.metadata.length&&!t.metadataTrack_&&(t.metadataTrack_=n.addRemoteTextTrack({kind:"metadata",label:"Timed Metadata"},!1).track,t.metadataTrack_.inBandMetadataTrackDispatchType=i.metadata.dispatchType)}(this,this.mediaSource_,e),this.pendingBuffers_.push(e)}},{key:"done_",value:function(t){"closed"!==this.mediaSource_.readyState?this.processPendingSegments_():this.pendingBuffers_.length=0}},{key:"createRealSourceBuffers_",value:function(){var t=this,e=["audio","video"];e.forEach(function(i){if(t[i+"Codec_"]&&!t[i+"Buffer_"]){var n=null;if(t.mediaSource_[i+"Buffer_"])(n=t.mediaSource_[i+"Buffer_"]).updating=!1;else{var s=i+'/mp4;codecs="'+t[i+"Codec_"]+'"';n=function(t,e){var i=t.addSourceBuffer(e),n=Object.create(null);n.updating=!1,n.realBuffer_=i;var s=function(t){"function"==typeof i[t]?n[t]=function(){return i[t].apply(i,arguments)}:void 0===n[t]&&Object.defineProperty(n,t,{get:function(){return i[t]},set:function(e){return i[t]=e}})};for(var r in i)s(r);return n}(t.mediaSource_.nativeMediaSource_,s),t.mediaSource_[i+"Buffer_"]=n}t[i+"Buffer_"]=n,["update","updatestart","updateend"].forEach(function(s){n.addEventListener(s,function(){if("audio"!==i||!t.audioDisabled_)return"updateend"===s&&(t[i+"Buffer_"].updating=!1),e.every(function(e){return!("audio"!==e||!t.audioDisabled_)||(i===e||!t[e+"Buffer_"]||!t[e+"Buffer_"].updating)})?t.trigger(s):void 0})})}})}},{key:"appendBuffer",value:function(t){if(this.bufferUpdating_=!0,this.audioBuffer_&&this.audioBuffer_.buffered.length){var e=this.audioBuffer_.buffered;this.transmuxer_.postMessage({action:"setAudioAppendStart",appendStart:e.end(e.length-1)})}this.videoBuffer_&&this.transmuxer_.postMessage({action:"alignGopsWith",gopsToAlignWith:Lc(this.gopBuffer_,this.mediaSource_.player_?this.mediaSource_.player_.currentTime():null,this.timeMapping_)}),this.transmuxer_.postMessage({action:"push",data:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength},[t.buffer]),this.transmuxer_.postMessage({action:"flush"})}},{key:"appendGopInfo_",value:function(t){this.gopBuffer_=function(t,e,i){if(!e.length)return t;if(i)return e.slice();for(var n=e[0].pts,s=0;s<t.length&&!(t[s].pts>=n);s++);return t.slice(0,s).concat(e)}(this.gopBuffer_,t.data.gopInfo,this.safeAppend_)}},{key:"remove",value:function(t,e){if(this.videoBuffer_&&(this.videoBuffer_.updating=!0,this.videoBuffer_.remove(t,e),this.gopBuffer_=function(t,e,i,n){for(var s=Math.ceil(9e4*(e-n)),r=Math.ceil(9e4*(i-n)),o=t.slice(),a=t.length;a--&&!(t[a].pts<=r););if(-1===a)return o;for(var l=a+1;l--&&!(t[l].pts<=s););return l=Math.max(l,0),o.splice(l,a-l+1),o}(this.gopBuffer_,t,e,this.timeMapping_)),!this.audioDisabled_&&this.audioBuffer_&&(this.audioBuffer_.updating=!0,this.audioBuffer_.remove(t,e)),dc(t,e,this.metadataTrack_),this.inbandTextTracks_)for(var i in this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[i])}},{key:"processPendingSegments_",value:function(){var t={video:{segments:[],bytes:0},audio:{segments:[],bytes:0},captions:[],metadata:[]};t=this.pendingBuffers_.reduce(function(t,e){var i=e.type,n=e.data,s=e.initSegment;return t[i].segments.push(n),t[i].bytes+=n.byteLength,t[i].initSegment=s,e.captions&&(t.captions=t.captions.concat(e.captions)),e.info&&(t[i].info=e.info),e.metadata&&(t.metadata=t.metadata.concat(e.metadata)),t},t),this.videoBuffer_||this.audioBuffer_||(0===t.video.bytes&&(this.videoCodec_=null),0===t.audio.bytes&&(this.audioCodec_=null),this.createRealSourceBuffers_()),t.audio.info&&this.mediaSource_.trigger({type:"audioinfo",info:t.audio.info}),t.video.info&&this.mediaSource_.trigger({type:"videoinfo",info:t.video.info}),this.appendAudioInitSegment_&&(!this.audioDisabled_&&this.audioBuffer_&&(t.audio.segments.unshift(t.audio.initSegment),t.audio.bytes+=t.audio.initSegment.byteLength),this.appendAudioInitSegment_=!1);var e=!1;this.videoBuffer_&&t.video.bytes?(t.video.segments.unshift(t.video.initSegment),t.video.bytes+=t.video.initSegment.byteLength,this.concatAndAppendSegments_(t.video,this.videoBuffer_),fc(this,t.captions,t.metadata)):!this.videoBuffer_||!this.audioDisabled_&&this.audioBuffer_||(e=!0),!this.audioDisabled_&&this.audioBuffer_&&this.concatAndAppendSegments_(t.audio,this.audioBuffer_),this.pendingBuffers_.length=0,e&&this.trigger("updateend"),this.bufferUpdating_=!1}},{key:"concatAndAppendSegments_",value:function(t,e){var i=0,n=void 0;if(t.bytes){n=new Uint8Array(t.bytes),t.segments.forEach(function(t){n.set(t,i),i+=t.byteLength});try{e.updating=!0,e.appendBuffer(n)}catch(t){this.mediaSource_.player_&&this.mediaSource_.player_.error({code:-3,type:"APPEND_BUFFER_ERR",message:t.message,originalError:t})}}}},{key:"abort",value:function(){this.videoBuffer_&&this.videoBuffer_.abort(),!this.audioDisabled_&&this.audioBuffer_&&this.audioBuffer_.abort(),this.transmuxer_&&this.transmuxer_.postMessage({action:"reset"}),this.pendingBuffers_.length=0,this.bufferUpdating_=!1}}]),e}(cr.EventTarget),Uc=function(i){function n(){vu(this,n);var i=bu(this,(n.__proto__||Object.getPrototypeOf(n)).call(this)),s=void 0;for(s in i.nativeMediaSource_=new e.MediaSource,i.nativeMediaSource_)s in n.prototype||"function"!=typeof i.nativeMediaSource_[s]||(i[s]=i.nativeMediaSource_[s].bind(i.nativeMediaSource_));return i.duration_=NaN,Object.defineProperty(i,"duration",{get:function(){return this.duration_===1/0?this.duration_:this.nativeMediaSource_.duration},set:function(t){this.duration_=t,t===1/0||(this.nativeMediaSource_.duration=t)}}),Object.defineProperty(i,"seekable",{get:function(){return this.duration_===1/0?cr.createTimeRanges([[0,this.nativeMediaSource_.duration]]):this.nativeMediaSource_.seekable}}),Object.defineProperty(i,"readyState",{get:function(){return this.nativeMediaSource_.readyState}}),Object.defineProperty(i,"activeSourceBuffers",{get:function(){return this.activeSourceBuffers_}}),i.sourceBuffers=[],i.activeSourceBuffers_=[],i.updateActiveSourceBuffers_=function(){if(i.activeSourceBuffers_.length=0,1===i.sourceBuffers.length){var t=i.sourceBuffers[0];return t.appendAudioInitSegment_=!0,t.audioDisabled_=!t.audioCodec_,void i.activeSourceBuffers_.push(t)}for(var e=!1,n=!0,s=0;s<i.player_.audioTracks().length;s++){var r=i.player_.audioTracks()[s];if(r.enabled&&"main"!==r.kind){e=!0,n=!1;break}}i.sourceBuffers.forEach(function(t,s){if(t.appendAudioInitSegment_=!0,t.videoCodec_&&t.audioCodec_)t.audioDisabled_=e;else if(t.videoCodec_&&!t.audioCodec_)t.audioDisabled_=!0,n=!1;else if(!t.videoCodec_&&t.audioCodec_&&(t.audioDisabled_=s?n:!n,t.audioDisabled_))return;i.activeSourceBuffers_.push(t)})},i.onPlayerMediachange_=function(){i.sourceBuffers.forEach(function(t){t.appendAudioInitSegment_=!0})},i.onHlsReset_=function(){i.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.postMessage({action:"resetCaptions"})})},i.onHlsSegmentTimeMapping_=function(t){i.sourceBuffers.forEach(function(e){return e.timeMapping_=t.mapping})},["sourceopen","sourceclose","sourceended"].forEach(function(t){this.nativeMediaSource_.addEventListener(t,this.trigger.bind(this))},i),i.on("sourceopen",function(e){var n=t.querySelector('[src="'+i.url_+'"]');n&&(i.player_=cr(n.parentNode),i.player_&&(i.player_.tech_.on("hls-reset",i.onHlsReset_),i.player_.tech_.on("hls-segment-time-mapping",i.onHlsSegmentTimeMapping_),i.player_.audioTracks&&i.player_.audioTracks()&&(i.player_.audioTracks().on("change",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("addtrack",i.updateActiveSourceBuffers_),i.player_.audioTracks().on("removetrack",i.updateActiveSourceBuffers_)),i.player_.on("mediachange",i.onPlayerMediachange_)))}),i.on("sourceended",function(t){for(var e=pc(i.duration),n=0;n<i.sourceBuffers.length;n++){var s=i.sourceBuffers[n],r=s.metadataTrack_&&s.metadataTrack_.cues;r&&r.length&&(r[r.length-1].endTime=e)}}),i.on("sourceclose",function(t){this.sourceBuffers.forEach(function(t){t.transmuxer_&&t.transmuxer_.terminate()}),this.sourceBuffers.length=0,this.player_&&(this.player_.audioTracks&&this.player_.audioTracks()&&(this.player_.audioTracks().off("change",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("addtrack",this.updateActiveSourceBuffers_),this.player_.audioTracks().off("removetrack",this.updateActiveSourceBuffers_)),this.player_.el_&&this.player_.off("mediachange",this.onPlayerMediachange_),this.player_.tech_&&this.player_.tech_.el_&&(this.player_.tech_.off("hls-reset",this.onHlsReset_),this.player_.tech_.off("hls-segment-time-mapping",this.onHlsSegmentTimeMapping_)))}),i}return _u(n,i),yu(n,[{key:"addSeekableRange_",value:function(t,e){var i=void 0;if(this.duration!==1/0)throw(i=new Error("MediaSource.addSeekableRange() can only be invoked when the duration is Infinity")).name="InvalidStateError",i.code=11,i;(e>this.nativeMediaSource_.duration||isNaN(this.nativeMediaSource_.duration))&&(this.nativeMediaSource_.duration=e)}},{key:"addSourceBuffer",value:function(t){var e=void 0,i=function(t){var e={type:"",parameters:{}},i=t.trim().split(";");return e.type=i.shift().trim(),i.forEach(function(t){var i=t.trim().split("=");if(i.length>1){var n=i[0].replace(/"/g,"").trim(),s=i[1].replace(/"/g,"").trim();e.parameters[n]=s}}),e}(t);if(/^(video|audio)\/mp2t$/i.test(i.type)){var n=[];i.parameters&&i.parameters.codecs&&(n=i.parameters.codecs.split(","),n=(n=Dc(n)).filter(function(t){return Oc(t)||Mc(t)})),0===n.length&&(n=["avc1.4d400d","mp4a.40.2"]),e=new Rc(this,n),0!==this.sourceBuffers.length&&(this.sourceBuffers[0].createRealSourceBuffers_(),e.createRealSourceBuffers_(),this.sourceBuffers[0].audioDisabled_=!0)}else e=this.nativeMediaSource_.addSourceBuffer(t);return this.sourceBuffers.push(e),e}}]),n}(cr.EventTarget),Fc=0;cr.mediaSources={};var jc=function(t,e){var i=cr.mediaSources[t];if(!i)throw new Error("Media Source not found (Video.js)");i.trigger({type:"sourceopen",swfId:e})},Hc=function(){return!!e.MediaSource&&!!e.MediaSource.isTypeSupported&&e.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')},zc=function(){if(this.MediaSource={open:jc,supportsNativeMediaSources:Hc},Hc())return new Uc;throw new Error("Cannot use create a virtual MediaSource for this video")};zc.open=jc,zc.supportsNativeMediaSources=Hc;var Bc={createObjectURL:function(t){var i=void 0;return t instanceof Uc?(i=e.URL.createObjectURL(t.nativeMediaSource_),t.url_=i,i):t instanceof Uc?(i="blob:vjs-media-source/"+Fc,Fc++,cr.mediaSources[i]=t,i):(i=e.URL.createObjectURL(t),t.url_=i,i)}};cr.MediaSource=zc,cr.URL=Bc;var Wc=cr.EventTarget,Yc=cr.mergeOptions,Vc=function(t,e){for(var i=Yc(t,{duration:e.duration,minimumUpdatePeriod:e.minimumUpdatePeriod}),n=0;n<e.playlists.length;n++){var s=xu(i,e.playlists[n]);s&&(i=s)}return Cu(e,function(t,e,n,s){if(t.playlists&&t.playlists.length){var r=t.playlists[0].uri,o=xu(i,t.playlists[0]);o&&((i=o).mediaGroups[e][n][s].playlists[0]=i.playlists[r])}}),i},qc=function(t){function i(t,n,s,r){vu(this,i);var o=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(o.hls_=n,o.withCredentials=s,!t)throw new Error("A non-empty playlist URL or playlist is required");return o.on("minimumUpdatePeriod",function(){o.refreshXml_()}),o.on("mediaupdatetimeout",function(){o.refreshMedia_()}),"string"==typeof t?(o.srcUrl=t,o.state="HAVE_NOTHING",bu(o)):(o.masterPlaylistLoader_=r,o.state="HAVE_METADATA",o.started=!0,o.media(t),e.setTimeout(function(){o.trigger("loadedmetadata")},0),o)}return _u(i,Wc),yu(i,[{key:"dispose",value:function(){this.stopRequest(),e.clearTimeout(this.mediaUpdateTimeout)}},{key:"stopRequest",value:function(){if(this.request){var t=this.request;this.request=null,t.onreadystatechange=null,t.abort()}}},{key:"media",value:function(t){if(!t)return this.media_;if("HAVE_NOTHING"===this.state)throw new Error("Cannot switch media playlist from "+this.state);var e=this.state;if("string"==typeof t){if(!this.master.playlists[t])throw new Error("Unknown playlist URI: "+t);t=this.master.playlists[t]}var i=!this.media_||t.uri!==this.media_.uri;this.state="HAVE_METADATA",i&&(this.media_&&this.trigger("mediachanging"),this.media_=t,this.refreshMedia_(),"HAVE_MASTER"!==e&&this.trigger("mediachange"))}},{key:"pause",value:function(){this.stopRequest(),e.clearTimeout(this.mediaUpdateTimeout),"HAVE_NOTHING"===this.state&&(this.started=!1)}},{key:"load",value:function(t){var i=this;e.clearTimeout(this.mediaUpdateTimeout);var n=this.media();if(t){var s=n?n.targetDuration/2*1e3:5e3;this.mediaUpdateTimeout=e.setTimeout(function(){return i.load()},s)}else this.started?this.trigger("loadedplaylist"):this.start()}},{key:"parseMasterXml",value:function(){var t=mo(this.masterXml_,{manifestUri:this.srcUrl,clientOffset:this.clientOffset_});t.uri=this.srcUrl;for(var e=0;e<t.playlists.length;e++){var i="placeholder-uri-"+e;t.playlists[e].uri=i,t.playlists[i]=t.playlists[e]}return Cu(t,function(e,i,n,s){if(e.playlists&&e.playlists.length){var r="placeholder-uri-"+i+"-"+n+"-"+s;e.playlists[0].uri=r,t.playlists[r]=e.playlists[0]}}),Eu(t),Du(t),t}},{key:"start",value:function(){var t=this;this.started=!0,this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(e,i){if(t.request){if(t.request=null,e)return t.error={status:i.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:i.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=i.responseText,i.responseHeaders&&i.responseHeaders.date?t.masterLoaded_=Date.parse(i.responseHeaders.date):t.masterLoaded_=Date.now(),t.syncClientServerClock_(t.onClientServerClockSync_.bind(t))}})}},{key:"syncClientServerClock_",value:function(t){var e=this,i=go(this.masterXml_);return null===i?(this.clientOffset_=this.masterLoaded_-Date.now(),t()):"DIRECT"===i.method?(this.clientOffset_=i.value-Date.now(),t()):void(this.request=this.hls_.xhr({uri:gu(this.srcUrl,i.value),method:i.method,withCredentials:this.withCredentials},function(n,s){if(e.request){if(n)return e.clientOffset_=e.masterLoaded_-Date.now(),t();var r=void 0;r="HEAD"===i.method?s.responseHeaders&&s.responseHeaders.date?Date.parse(s.responseHeaders.date):e.masterLoaded_:Date.parse(s.responseText),e.clientOffset_=r-Date.now(),t()}}))}},{key:"onClientServerClockSync_",value:function(){var t=this;this.master=this.parseMasterXml(),this.state="HAVE_MASTER",this.trigger("loadedplaylist"),this.media_||this.media(this.master.playlists[0]),e.setTimeout(function(){t.trigger("loadedmetadata")},0),this.master.minimumUpdatePeriod&&e.setTimeout(function(){t.trigger("minimumUpdatePeriod")},this.master.minimumUpdatePeriod)}},{key:"refreshXml_",value:function(){var t=this;this.request=this.hls_.xhr({uri:this.srcUrl,withCredentials:this.withCredentials},function(i,n){if(t.request){if(t.request=null,i)return t.error={status:n.status,message:"DASH playlist request error at URL: "+t.srcUrl,responseText:n.responseText,code:2},"HAVE_NOTHING"===t.state&&(t.started=!1),t.trigger("error");t.masterXml_=n.responseText;var s=t.parseMasterXml();t.master=Vc(t.master,s),e.setTimeout(function(){t.trigger("minimumUpdatePeriod")},t.master.minimumUpdatePeriod)}})}},{key:"refreshMedia_",value:function(){var t=this,i=void 0,n=void 0;this.masterPlaylistLoader_?(i=this.masterPlaylistLoader_.master,n=this.masterPlaylistLoader_.parseMasterXml()):(i=this.master,n=this.parseMasterXml());var s=Vc(i,n);s?(this.masterPlaylistLoader_?this.masterPlaylistLoader_.master=s:this.master=s,this.media_=s.playlists[this.media_.uri]):this.trigger("playlistunchanged"),this.media().endList||(this.mediaUpdateTimeout=e.setTimeout(function(){t.trigger("mediaupdatetimeout")},Au(this.media(),!!s))),this.trigger("loadedplaylist")}}]),i}(),$c=function(t){return cr.log.debug?cr.log.debug.bind(cr,"VHS:",t+" >"):function(){}};function Gc(){}var Xc=function(){function t(e,i,n,s){vu(this,t),this.callbacks_=[],this.pendingCallback_=null,this.timestampOffset_=0,this.mediaSource=e,this.processedAppend_=!1,this.type_=n,this.mimeType_=i,this.logger_=$c("SourceUpdater["+n+"]["+i+"]"),"closed"===e.readyState?e.addEventListener("sourceopen",this.createSourceBuffer_.bind(this,i,s)):this.createSourceBuffer_(i,s)}return yu(t,[{key:"createSourceBuffer_",value:function(t,e){var i=this;this.sourceBuffer_=this.mediaSource.addSourceBuffer(t),this.logger_("created SourceBuffer"),e&&(e.trigger("sourcebufferadded"),this.mediaSource.sourceBuffers.length<2)?e.on("sourcebufferadded",function(){i.start_()}):this.start_()}},{key:"start_",value:function(){var t=this;this.started_=!0,this.onUpdateendCallback_=function(){var e=t.pendingCallback_;t.pendingCallback_=null,t.logger_("buffered ["+cc(t.buffered())+"]"),e&&e(),t.runCallback_()},this.sourceBuffer_.addEventListener("updateend",this.onUpdateendCallback_),this.runCallback_()}},{key:"abort",value:function(t){var e=this;this.processedAppend_&&this.queueCallback_(function(){e.sourceBuffer_.abort()},t)}},{key:"appendBuffer",value:function(t,e){var i=this;this.processedAppend_=!0,this.queueCallback_(function(){i.sourceBuffer_.appendBuffer(t)},e)}},{key:"buffered",value:function(){return this.sourceBuffer_?this.sourceBuffer_.buffered:cr.createTimeRanges()}},{key:"remove",value:function(t,e){var i=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gc;this.processedAppend_&&this.queueCallback_(function(){i.logger_("remove ["+t+" => "+e+"]"),i.sourceBuffer_.remove(t,e)},n)}},{key:"updating",value:function(){return!this.sourceBuffer_||this.sourceBuffer_.updating||this.pendingCallback_}},{key:"timestampOffset",value:function(t){var e=this;return void 0!==t&&(this.queueCallback_(function(){e.sourceBuffer_.timestampOffset=t}),this.timestampOffset_=t),this.timestampOffset_}},{key:"queueCallback_",value:function(t,e){this.callbacks_.push([t.bind(this),e]),this.runCallback_()}},{key:"runCallback_",value:function(){var t=void 0;!this.updating()&&this.callbacks_.length&&this.started_&&(t=this.callbacks_.shift(),this.pendingCallback_=t[1],t[0]())}},{key:"dispose",value:function(){this.sourceBuffer_.removeEventListener("updateend",this.onUpdateendCallback_),this.sourceBuffer_&&"open"===this.mediaSource.readyState&&this.sourceBuffer_.abort()}}]),t}(),Kc={GOAL_BUFFER_LENGTH:30,MAX_GOAL_BUFFER_LENGTH:60,GOAL_BUFFER_LENGTH_RATE:1,INITIAL_BANDWIDTH:4194304,BANDWIDTH_VARIANCE:1.2,BUFFER_LOW_WATER_LINE:0,MAX_BUFFER_LOW_WATER_LINE:30,BUFFER_LOW_WATER_LINE_RATE:1},Zc=2,Qc=-101,Jc=-102,th=function(t){var e,i,n={};return t.byterange&&(n.Range=(e=t.byterange,i=e.offset+e.length-1,"bytes="+e.offset+"-"+i)),n},eh=function(t){t.forEach(function(t){t.abort()})},ih=function(t,e){return e.timedout?{status:e.status,message:"HLS request timed-out at URL: "+e.uri,code:Qc,xhr:e}:e.aborted?{status:e.status,message:"HLS request aborted at URL: "+e.uri,code:Jc,xhr:e}:t?{status:e.status,message:"HLS request errored at URL: "+e.uri,code:Zc,xhr:e}:null},nh=function(t,e,i){var n=0,s=!1;return function(r,o){if(!s)return r?(s=!0,eh(t),i(r,o)):(n+=1)===t.length?(o.endOfAllRequests=Date.now(),o.encryptedBytes?function(t,e,i){t.addEventListener("message",function n(s){if(s.data.source===e.requestId){t.removeEventListener("message",n);var r=s.data.decrypted;return e.bytes=new Uint8Array(r.bytes,r.byteOffset,r.byteLength),i(null,e)}}),t.postMessage(Ju({source:e.requestId,encrypted:e.encryptedBytes,key:e.key.bytes,iv:e.key.iv}),[e.encryptedBytes.buffer,e.key.bytes.buffer])}(e,o,i):i(null,o)):void 0}},sh=function(t,e){return function(i){var n,s,r;return t.stats=cr.mergeOptions(t.stats,(s=(n=i).target,(r={bandwidth:1/0,bytesReceived:0,roundTripTime:Date.now()-s.requestTime||0}).bytesReceived=n.loaded,r.bandwidth=Math.floor(r.bytesReceived/r.roundTripTime*8*1e3),r)),!t.stats.firstBytesReceivedAt&&t.stats.bytesReceived&&(t.stats.firstBytesReceivedAt=Date.now()),e(i,t)}},rh=function(t,e,i,n,s,r,o){var a=[],l=nh(a,i,o);if(s.key){var u=t(cr.mergeOptions(e,{uri:s.key.resolvedUri,responseType:"arraybuffer"}),function(t,e){return function(i,n){var s=n.response,r=ih(i,n);if(r)return e(r,t);if(16!==s.byteLength)return e({status:n.status,message:"Invalid HLS key at URL: "+n.uri,code:Zc,xhr:n},t);var o=new DataView(s);return t.key.bytes=new Uint32Array([o.getUint32(0),o.getUint32(4),o.getUint32(8),o.getUint32(12)]),e(null,t)}}(s,l));a.push(u)}if(s.map&&!s.map.bytes){var c=t(cr.mergeOptions(e,{uri:s.map.resolvedUri,responseType:"arraybuffer",headers:th(s.map)}),function(t,e,i){return function(n,s){var r=s.response,o=ih(n,s);return o?i(o,t):0===r.byteLength?i({status:s.status,message:"Empty HLS segment content at URL: "+s.uri,code:Zc,xhr:s},t):(t.map.bytes=new Uint8Array(s.response),e.isInitialized()||e.init(),t.map.timescales=sa.timescale(t.map.bytes),t.map.videoTrackIds=sa.videoTrackIds(t.map.bytes),i(null,t))}}(s,n,l));a.push(c)}var h=t(cr.mergeOptions(e,{uri:s.resolvedUri,responseType:"arraybuffer",headers:th(s)}),function(t,e,i){return function(n,s){var r=s.response,o=ih(n,s),a=void 0;return o?i(o,t):0===r.byteLength?i({status:s.status,message:"Empty HLS segment content at URL: "+s.uri,code:Zc,xhr:s},t):(t.stats=function(t){return{bandwidth:t.bandwidth,bytesReceived:t.bytesReceived||0,roundTripTime:t.roundTripTime||0}}(s),t.key?t.encryptedBytes=new Uint8Array(s.response):t.bytes=new Uint8Array(s.response),t.map&&t.map.bytes&&(e.isInitialized()||e.init(),(a=e.parse(t.bytes,t.map.videoTrackIds,t.map.timescales))&&a.captions&&(t.captionStreams=a.captionStreams,t.fmp4Captions=a.captions)),i(null,t))}}(s,n,l));return h.addEventListener("progress",sh(s,r)),a.push(h),function(){return eh(a)}},oh=function(t,i){var n;return t&&(n=e.getComputedStyle(t))?n[i]:""},ah=function(t,e){var i=t.slice();t.sort(function(t,n){var s=e(t,n);return 0===s?i.indexOf(t)-i.indexOf(n):s})},lh=function(t,i){var n=void 0,s=void 0;return t.attributes.BANDWIDTH&&(n=t.attributes.BANDWIDTH),n=n||e.Number.MAX_VALUE,i.attributes.BANDWIDTH&&(s=i.attributes.BANDWIDTH),n-(s=s||e.Number.MAX_VALUE)},uh=function(t,e,i){if(!t||!e)return!1;var n=i===t.segments.length;return t.endList&&"open"===e.readyState&&n},ch=function(t){return"number"==typeof t&&isFinite(t)},hh=function(t){function i(t){vu(this,i);var e=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));if(!t)throw new TypeError("Initialization settings are required");if("function"!=typeof t.currentTime)throw new TypeError("No currentTime getter specified");if(!t.mediaSource)throw new TypeError("No MediaSource specified");return e.bandwidth=t.bandwidth,e.throughput={rate:0,count:0},e.roundTrip=NaN,e.resetStats_(),e.mediaIndex=null,e.hasPlayed_=t.hasPlayed,e.currentTime_=t.currentTime,e.seekable_=t.seekable,e.seeking_=t.seeking,e.duration_=t.duration,e.mediaSource_=t.mediaSource,e.hls_=t.hls,e.loaderType_=t.loaderType,e.startingMedia_=void 0,e.segmentMetadataTrack_=t.segmentMetadataTrack,e.goalBufferLength_=t.goalBufferLength,e.sourceType_=t.sourceType,e.inbandTextTracks_=t.inbandTextTracks,e.state_="INIT",e.checkBufferTimeout_=null,e.error_=void 0,e.currentTimeline_=-1,e.pendingSegment_=null,e.mimeType_=null,e.sourceUpdater_=null,e.xhrOptions_=null,e.activeInitSegmentId_=null,e.initSegments_={},e.captionParser_=new $l,e.decrypter_=t.decrypter,e.syncController_=t.syncController,e.syncPoint_={segmentIndex:0,time:0},e.syncController_.on("syncinfoupdate",function(){return e.trigger("syncinfoupdate")}),e.mediaSource_.addEventListener("sourceopen",function(){return e.ended_=!1}),e.fetchAtBuffer_=!1,e.logger_=$c("SegmentLoader["+e.loaderType_+"]"),Object.defineProperty(e,"state",{get:function(){return this.state_},set:function(t){t!==this.state_&&(this.logger_(this.state_+" -> "+t),this.state_=t)}}),e}return _u(i,t),yu(i,[{key:"resetStats_",value:function(){this.mediaBytesTransferred=0,this.mediaRequests=0,this.mediaRequestsAborted=0,this.mediaRequestsTimedout=0,this.mediaRequestsErrored=0,this.mediaTransferDuration=0,this.mediaSecondsLoaded=0}},{key:"dispose",value:function(){this.state="DISPOSED",this.pause(),this.abort_(),this.sourceUpdater_&&this.sourceUpdater_.dispose(),this.resetStats_(),this.captionParser_.reset()}},{key:"abort",value:function(){"WAITING"===this.state?(this.abort_(),this.state="READY",this.paused()||this.monitorBuffer_()):this.pendingSegment_&&(this.pendingSegment_=null)}},{key:"abort_",value:function(){this.pendingSegment_&&this.pendingSegment_.abortRequests(),this.pendingSegment_=null}},{key:"error",value:function(t){return void 0!==t&&(this.error_=t),this.pendingSegment_=null,this.error_}},{key:"endOfStream",value:function(){this.ended_=!0,this.pause(),this.trigger("ended")}},{key:"buffered_",value:function(){return this.sourceUpdater_?this.sourceUpdater_.buffered():cr.createTimeRanges()}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=tc(t),n=this.initSegments_[i];return e&&!n&&t.bytes&&(this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:t.bytes,timescales:t.timescales,videoTrackIds:t.videoTrackIds}),n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&(this.sourceUpdater_||this.mimeType_&&"INIT"===this.state)&&!this.paused()}},{key:"load",value:function(){if(this.monitorBuffer_(),this.playlist_){if(this.syncController_.setDateTimeMapping(this.playlist_),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();!this.couldBeginLoading_()||"READY"!==this.state&&"INIT"!==this.state||(this.state="READY")}}},{key:"init_",value:function(){return this.state="READY",this.sourceUpdater_=new Xc(this.mediaSource_,this.mimeType_,this.loaderType_,this.sourceBufferEmitter_),this.resetEverything(),this.monitorBuffer_()}},{key:"playlist",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(t){var i=this.playlist_,n=this.pendingSegment_;this.playlist_=t,this.xhrOptions_=e,this.hasPlayed_()||(t.syncInfo={mediaSequence:t.mediaSequence,time:0});var s=i?i.id:null;if(this.logger_("playlist update ["+s+" => "+t.id+"]"),this.trigger("syncinfoupdate"),"INIT"===this.state&&this.couldBeginLoading_())return this.init_();if(i&&i.uri===t.uri){var r=t.mediaSequence-i.mediaSequence;this.logger_("live window shift ["+r+"]"),null!==this.mediaIndex&&(this.mediaIndex-=r),n&&(n.mediaIndex-=r,n.mediaIndex>=0&&(n.segment=t.segments[n.mediaIndex])),this.syncController_.saveExpiredSegmentInfo(i,t)}else null!==this.mediaIndex&&this.resyncLoader()}}},{key:"pause",value:function(){this.checkBufferTimeout_&&(e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=null)}},{key:"paused",value:function(){return null===this.checkBufferTimeout_}},{key:"mimeType",value:function(t,e){this.mimeType_||(this.mimeType_=t,this.sourceBufferEmitter_=e,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_())}},{key:"resetEverything",value:function(t){this.ended_=!1,this.resetLoader(),this.remove(0,this.duration_(),t),this.captionParser_.clearAllCaptions(),this.trigger("reseteverything")}},{key:"resetLoader",value:function(){this.fetchAtBuffer_=!1,this.resyncLoader()}},{key:"resyncLoader",value:function(){this.mediaIndex=null,this.syncPoint_=null,this.abort()}},{key:"remove",value:function(t,e,i){if(this.sourceUpdater_&&this.sourceUpdater_.remove(t,e,i),dc(t,e,this.segmentMetadataTrack_),this.inbandTextTracks_)for(var n in this.inbandTextTracks_)dc(t,e,this.inbandTextTracks_[n])}},{key:"monitorBuffer_",value:function(){this.checkBufferTimeout_&&e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=e.setTimeout(this.monitorBufferTick_.bind(this),1)}},{key:"monitorBufferTick_",value:function(){"READY"===this.state&&this.fillBuffer_(),this.checkBufferTimeout_&&e.clearTimeout(this.checkBufferTimeout_),this.checkBufferTimeout_=e.setTimeout(this.monitorBufferTick_.bind(this),500)}},{key:"fillBuffer_",value:function(){if(!this.sourceUpdater_.updating()){this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var t=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(t)uh(this.playlist_,this.mediaSource_,t.mediaIndex)?this.endOfStream():(t.mediaIndex!==this.playlist_.segments.length-1||"ended"!==this.mediaSource_.readyState||this.seeking_())&&((t.timeline!==this.currentTimeline_||null!==t.startOfSegment&&t.startOfSegment<this.sourceUpdater_.timestampOffset())&&(this.syncController_.reset(),t.timestampOffset=t.startOfSegment,this.captionParser_.clearAllCaptions()),this.loadSegment_(t))}}},{key:"checkBuffer_",value:function(t,e,i,n,s,r){var o=0,a=void 0;t.length&&(o=t.end(t.length-1));var l=Math.max(0,o-s);if(!e.segments.length)return null;if(l>=this.goalBufferLength_())return null;if(!n&&l>=1)return null;if(null===r)return i=this.getSyncSegmentCandidate_(e),this.generateSegmentInfo_(e,i,null,!0);if(null!==i){var u=e.segments[i];return a=u&&u.end?u.end:o,this.generateSegmentInfo_(e,i+1,a,!1)}if(this.fetchAtBuffer_){var c=qu.getMediaInfoForTime(e,o,r.segmentIndex,r.time);i=c.mediaIndex,a=c.startTime}else{var h=qu.getMediaInfoForTime(e,s,r.segmentIndex,r.time);i=h.mediaIndex,a=h.startTime}return this.generateSegmentInfo_(e,i,a,!1)}},{key:"getSyncSegmentCandidate_",value:function(t){var e=this;if(-1===this.currentTimeline_)return 0;var i=t.segments.map(function(t,e){return{timeline:t.timeline,segmentIndex:e}}).filter(function(t){return t.timeline===e.currentTimeline_});return i.length?i[Math.min(i.length-1,1)].segmentIndex:Math.max(t.segments.length-1,0)}},{key:"generateSegmentInfo_",value:function(t,e,i,n){if(e<0||e>=t.segments.length)return null;var s=t.segments[e];return{requestId:"segment-loader-"+Math.random(),uri:s.resolvedUri,mediaIndex:e,isSyncRequest:n,startOfSegment:i,playlist:t,bytes:null,encryptedBytes:null,timestampOffset:null,timeline:s.timeline,duration:s.duration,segment:s}}},{key:"abortRequestEarly_",value:function(t){if(this.hls_.tech_.paused()||!this.xhrOptions_.timeout||!this.playlist_.attributes.BANDWIDTH)return!1;if(Date.now()-(t.firstBytesReceivedAt||Date.now())<1e3)return!1;var e=this.currentTime_(),i=t.bandwidth,n=this.pendingSegment_.duration,s=qu.estimateSegmentRequestTime(n,i,this.playlist_,t.bytesReceived),r=function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return((t.length?t.end(t.length-1):0)-e)/i}(this.buffered_(),e,this.hls_.tech_.playbackRate())-1;if(s<=r)return!1;var o=function(t){var e=t.master,i=t.currentTime,n=t.bandwidth,s=t.duration,r=t.segmentDuration,o=t.timeUntilRebuffer,a=t.currentTimeline,l=t.syncController,u=e.playlists.filter(function(t){return!qu.isIncompatible(t)}),c=u.filter(qu.isEnabled);c.length||(c=u.filter(function(t){return!qu.isDisabled(t)}));var h=c.filter(qu.hasAttribute.bind(null,"BANDWIDTH")).map(function(t){var e=l.getSyncPoint(t,s,a,i)?1:2;return{playlist:t,rebufferingImpact:qu.estimateSegmentRequestTime(r,n,t)*e-o}}),d=h.filter(function(t){return t.rebufferingImpact<=0});return ah(d,function(t,e){return lh(e.playlist,t.playlist)}),d.length?d[0]:(ah(h,function(t,e){return t.rebufferingImpact-e.rebufferingImpact}),h[0]||null)}({master:this.hls_.playlists.master,currentTime:e,bandwidth:i,duration:this.duration_(),segmentDuration:n,timeUntilRebuffer:r,currentTimeline:this.currentTimeline_,syncController:this.syncController_});if(o){var a=s-r-o.rebufferingImpact,l=.5;return r<=1/30&&(l=1),!o.playlist||o.playlist.uri===this.playlist_.uri||a<l?!1:(this.bandwidth=o.playlist.attributes.BANDWIDTH*Kc.BANDWIDTH_VARIANCE+1,this.abort(),this.trigger("earlyabort"),!0)}}},{key:"handleProgress_",value:function(t,e){this.pendingSegment_&&e.requestId===this.pendingSegment_.requestId&&!this.abortRequestEarly_(e.stats)&&this.trigger("progress")}},{key:"loadSegment_",value:function(t){this.state="WAITING",this.pendingSegment_=t,this.trimBackBuffer_(t),t.abortRequests=rh(this.hls_.xhr,this.xhrOptions_,this.decrypter_,this.captionParser_,this.createSimplifiedSegmentObj_(t),this.handleProgress_.bind(this),this.segmentRequestFinished_.bind(this))}},{key:"trimBackBuffer_",value:function(t){var e=function(t,e,i){var n=void 0;return n=t.length&&t.start(0)>0&&t.start(0)<e?t.start(0):e-30,Math.min(n,e-i)}(this.seekable_(),this.currentTime_(),this.playlist_.targetDuration||10);e>0&&this.remove(0,e)}},{key:"createSimplifiedSegmentObj_",value:function(t){var e=t.segment,i={resolvedUri:e.resolvedUri,byterange:e.byterange,requestId:t.requestId};if(e.key){var n=e.key.iv||new Uint32Array([0,0,0,t.mediaIndex+t.playlist.mediaSequence]);i.key={resolvedUri:e.key.resolvedUri,iv:n}}return e.map&&(i.map=this.initSegment(e.map)),i}},{key:"segmentRequestFinished_",value:function(t,e){if(this.mediaRequests+=1,e.stats&&(this.mediaBytesTransferred+=e.stats.bytesReceived,this.mediaTransferDuration+=e.stats.roundTripTime),this.pendingSegment_){if(e.requestId===this.pendingSegment_.requestId){if(t)return this.pendingSegment_=null,this.state="READY",t.code===Jc?void(this.mediaRequestsAborted+=1):(this.pause(),t.code===Qc?(this.mediaRequestsTimedout+=1,this.bandwidth=1,this.roundTrip=NaN,void this.trigger("bandwidthupdate")):(this.mediaRequestsErrored+=1,this.error(t),void this.trigger("error")));this.bandwidth=e.stats.bandwidth,this.roundTrip=e.stats.roundTripTime,e.map&&(e.map=this.initSegment(e.map,!0)),this.processSegmentResponse_(e)}}else this.mediaRequestsAborted+=1}},{key:"processSegmentResponse_",value:function(t){var e=this.pendingSegment_;e.bytes=t.bytes,t.map&&(e.segment.map.bytes=t.map.bytes),e.endOfAllRequests=t.endOfAllRequests,t.fmp4Captions&&(!function(t,e,i){for(var n in i)if(!t[n]){e.trigger({type:"usage",name:"hls-608"});var s=e.textTracks().getTrackById(n);t[n]=s||e.addRemoteTextTrack({kind:"captions",id:n,label:n},!1).track}}(this.inbandTextTracks_,this.hls_.tech_,t.captionStreams),function(t){var e=t.inbandTextTracks,i=t.captionArray,n=t.timestampOffset;if(i){var s=window.WebKitDataCue||window.VTTCue;i.forEach(function(t){var i=t.stream,r=t.startTime,o=t.endTime;e[i]&&(r+=n,o+=n,e[i].addCue(new s(r,o,t.text)))})}}({inbandTextTracks:this.inbandTextTracks_,captionArray:t.fmp4Captions,timestampOffset:0}),this.captionParser_.clearParsedCaptions()),this.handleSegment_()}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_){var e=this.pendingSegment_,i=e.segment,n=this.syncController_.probeSegmentInfo(e);void 0===this.startingMedia_&&n&&(n.containsAudio||n.containsVideo)&&(this.startingMedia_={containsAudio:n.containsAudio,containsVideo:n.containsVideo});var s,r,o,a=(s=this.loaderType_,r=this.startingMedia_,o=n,"main"===s&&r&&o?o.containsAudio||o.containsVideo?r.containsVideo&&!o.containsVideo?"Only audio found in segment when we expected video. We can't switch to audio only from a stream that had video. To get rid of this message, please add codec information to the manifest.":!r.containsVideo&&o.containsVideo?"Video found in segment when we expected only audio. We can't switch to a stream with video from an audio only stream. To get rid of this message, please add codec information to the manifest.":null:"Neither audio nor video found in segment.":null);if(a)return this.error({message:a,blacklistDuration:1/0}),void this.trigger("error");if(e.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");null!==e.timestampOffset&&e.timestampOffset!==this.sourceUpdater_.timestampOffset()&&(this.sourceUpdater_.timestampOffset(e.timestampOffset),this.trigger("timestampoffset"));var l=this.syncController_.mappingForTimeline(e.timeline);if(null!==l&&this.trigger({type:"segmenttimemapping",mapping:l}),this.state="APPENDING",i.map){var u=tc(i.map);if(!this.activeInitSegmentId_||this.activeInitSegmentId_!==u){var c=this.initSegment(i.map);this.sourceUpdater_.appendBuffer(c.bytes,function(){t.activeInitSegmentId_=u})}}e.byteLength=e.bytes.byteLength,"number"==typeof i.start&&"number"==typeof i.end?this.mediaSecondsLoaded+=i.end-i.start:this.mediaSecondsLoaded+=i.duration,this.logger_(function(t){var e=t.segment,i=e.start,n=e.end,s=t.playlist,r=s.mediaSequence,o=s.id,a=s.segments,l=void 0===a?[]:a,u=t.mediaIndex,c=t.timeline;return["appending ["+u+"] of ["+r+", "+(r+l.length)+"] from playlist ["+o+"]","["+i+" => "+n+"] in timeline ["+c+"]"].join(" ")}(e)),this.sourceUpdater_.appendBuffer(e.bytes,this.handleUpdateEnd_.bind(this))}else this.state="READY"}},{key:"handleUpdateEnd_",value:function(){if(!this.pendingSegment_)return this.state="READY",void(this.paused()||this.monitorBuffer_());var t=this.pendingSegment_,e=t.segment,i=null!==this.mediaIndex;(this.pendingSegment_=null,this.recordThroughput_(t),this.addSegmentMetadataCue_(t),this.state="READY",this.mediaIndex=t.mediaIndex,this.fetchAtBuffer_=!0,this.currentTimeline_=t.timeline,this.trigger("syncinfoupdate"),e.end&&this.currentTime_()-e.end>3*t.playlist.targetDuration)?this.resetEverything():(i&&this.trigger("bandwidthupdate"),this.trigger("progress"),uh(t.playlist,this.mediaSource_,t.mediaIndex+1)&&this.endOfStream(),this.paused()||this.monitorBuffer_())}},{key:"recordThroughput_",value:function(t){var e=this.throughput.rate,i=Date.now()-t.endOfAllRequests+1,n=Math.floor(t.byteLength/i*8*1e3);this.throughput.rate+=(n-e)/++this.throughput.count}},{key:"addSegmentMetadataCue_",value:function(t){if(this.segmentMetadataTrack_){var i=t.segment,n=i.start,s=i.end;if(ch(n)&&ch(s)){dc(n,s,this.segmentMetadataTrack_);var r=e.WebKitDataCue||e.VTTCue,o={dateTimeObject:i.dateTimeObject,dateTimeString:i.dateTimeString,bandwidth:t.playlist.attributes.BANDWIDTH,resolution:t.playlist.attributes.RESOLUTION,codecs:t.playlist.attributes.CODECS,byteLength:t.byteLength,uri:t.uri,timeline:t.timeline,playlist:t.playlist.uri,start:n,end:s},a=new r(n,s,JSON.stringify(o));a.value=o,this.segmentMetadataTrack_.addCue(a)}}}}]),i}(cr.EventTarget),dh=function(t){return decodeURIComponent(escape(String.fromCharCode.apply(null,t)))},ph=new Uint8Array("\n\n".split("").map(function(t){return t.charCodeAt(0)})),fh=function(t){function i(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};vu(this,i);var n=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,t,e));return n.mediaSource_=null,n.subtitlesTrack_=null,n}return _u(i,hh),yu(i,[{key:"buffered_",value:function(){if(!this.subtitlesTrack_||!this.subtitlesTrack_.cues.length)return cr.createTimeRanges();var t=this.subtitlesTrack_.cues,e=t[0].startTime,i=t[t.length-1].startTime;return cr.createTimeRanges([[e,i]])}},{key:"initSegment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!t)return null;var i=tc(t),n=this.initSegments_[i];if(e&&!n&&t.bytes){var s=ph.byteLength+t.bytes.byteLength,r=new Uint8Array(s);r.set(t.bytes),r.set(ph,t.bytes.byteLength),this.initSegments_[i]=n={resolvedUri:t.resolvedUri,byterange:t.byterange,bytes:r}}return n||t}},{key:"couldBeginLoading_",value:function(){return this.playlist_&&this.subtitlesTrack_&&!this.paused()}},{key:"init_",value:function(){return this.state="READY",this.resetEverything(),this.monitorBuffer_()}},{key:"track",value:function(t){return void 0===t?this.subtitlesTrack_:(this.subtitlesTrack_=t,"INIT"===this.state&&this.couldBeginLoading_()&&this.init_(),this.subtitlesTrack_)}},{key:"remove",value:function(t,e){dc(t,e,this.subtitlesTrack_)}},{key:"fillBuffer_",value:function(){var t=this;this.syncPoint_||(this.syncPoint_=this.syncController_.getSyncPoint(this.playlist_,this.duration_(),this.currentTimeline_,this.currentTime_()));var e=this.checkBuffer_(this.buffered_(),this.playlist_,this.mediaIndex,this.hasPlayed_(),this.currentTime_(),this.syncPoint_);if(e=this.skipEmptySegments_(e)){if(null===this.syncController_.timestampOffsetForTimeline(e.timeline)){return this.syncController_.one("timestampoffset",function(){t.state="READY",t.paused()||t.monitorBuffer_()}),void(this.state="WAITING_ON_TIMELINE")}this.loadSegment_(e)}}},{key:"skipEmptySegments_",value:function(t){for(;t&&t.segment.empty;)t=this.generateSegmentInfo_(t.playlist,t.mediaIndex+1,t.startOfSegment+t.duration,t.isSyncRequest);return t}},{key:"handleSegment_",value:function(){var t=this;if(this.pendingSegment_&&this.subtitlesTrack_){this.state="APPENDING";var i=this.pendingSegment_,n=i.segment;if("function"!=typeof e.WebVTT&&this.subtitlesTrack_&&this.subtitlesTrack_.tech_){var s=function(){t.handleSegment_()};return this.state="WAITING_ON_VTTJS",this.subtitlesTrack_.tech_.one("vttjsloaded",s),void this.subtitlesTrack_.tech_.one("vttjserror",function(){t.subtitlesTrack_.tech_.off("vttjsloaded",s),t.error({message:"Error loading vtt.js"}),t.state="READY",t.pause(),t.trigger("error")})}n.requested=!0;try{this.parseVTTCues_(i)}catch(t){return this.error({message:t.message}),this.state="READY",this.pause(),this.trigger("error")}if(this.updateTimeMapping_(i,this.syncController_.timelines[i.timeline],this.playlist_),i.isSyncRequest)return this.trigger("syncinfoupdate"),this.pendingSegment_=null,void(this.state="READY");i.byteLength=i.bytes.byteLength,this.mediaSecondsLoaded+=n.duration,i.cues.length&&this.remove(i.cues[0].endTime,i.cues[i.cues.length-1].endTime),i.cues.forEach(function(e){t.subtitlesTrack_.addCue(e)}),this.handleUpdateEnd_()}else this.state="READY"}},{key:"parseVTTCues_",value:function(t){var i=void 0,n=!1;"function"==typeof e.TextDecoder?i=new e.TextDecoder("utf8"):(i=e.WebVTT.StringDecoder(),n=!0);var s=new e.WebVTT.Parser(e,e.vttjs,i);if(t.cues=[],t.timestampmap={MPEGTS:0,LOCAL:0},s.oncue=t.cues.push.bind(t.cues),s.ontimestampmap=function(e){return t.timestampmap=e},s.onparsingerror=function(t){cr.log.warn("Error encountered when parsing cues: "+t.message)},t.segment.map){var r=t.segment.map.bytes;n&&(r=dh(r)),s.parse(r)}var o=t.bytes;n&&(o=dh(o)),s.parse(o),s.flush()}},{key:"updateTimeMapping_",value:function(t,e,i){var n=t.segment;if(e)if(t.cues.length){var s=t.timestampmap,r=s.MPEGTS/9e4-s.LOCAL+e.mapping;if(t.cues.forEach(function(t){t.startTime+=r,t.endTime+=r}),!i.syncInfo){var o=t.cues[0].startTime,a=t.cues[t.cues.length-1].startTime;i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:Math.min(o,a-n.duration)}}}else n.empty=!0}}]),i}(),mh=function(t,e){for(var i=t.cues,n=0;n<i.length;n++){var s=i[n];if(e>=s.adStartTime&&e<=s.adEndTime)return s}return null},gh=su,vh=[{name:"VOD",run:function(t,e,i,n,s){if(i!==1/0){return{time:0,segmentIndex:0}}return null}},{name:"ProgramDateTime",run:function(t,e,i,n,s){if(!t.datetimeToDisplayTime)return null;var r=e.segments||[],o=null,a=null;s=s||0;for(var l=0;l<r.length;l++){var u=r[l];if(u.dateTimeObject){var c=u.dateTimeObject.getTime()/1e3+t.datetimeToDisplayTime,h=Math.abs(s-c);if(null!==a&&a<h)break;a=h,o={time:c,segmentIndex:l}}}return o}},{name:"Segment",run:function(t,e,i,n,s){var r=e.segments||[],o=null,a=null;s=s||0;for(var l=0;l<r.length;l++){var u=r[l];if(u.timeline===n&&void 0!==u.start){var c=Math.abs(s-u.start);if(null!==a&&a<c)break;(!o||null===a||a>=c)&&(a=c,o={time:u.start,segmentIndex:l})}}return o}},{name:"Discontinuity",run:function(t,e,i,n,s){var r=null;if(s=s||0,e.discontinuityStarts&&e.discontinuityStarts.length)for(var o=null,a=0;a<e.discontinuityStarts.length;a++){var l=e.discontinuityStarts[a],u=e.discontinuitySequence+a+1,c=t.discontinuities[u];if(c){var h=Math.abs(s-c.time);if(null!==o&&o<h)break;(!r||null===o||o>=h)&&(o=h,r={time:c.time,segmentIndex:l})}}return r}},{name:"Playlist",run:function(t,e,i,n,s){return e.syncInfo?{time:e.syncInfo.time,segmentIndex:e.syncInfo.mediaSequence-e.mediaSequence}:null}}],yh=function(t){function e(){vu(this,e);var t=bu(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.inspectCache_=void 0,t.timelines=[],t.discontinuities=[],t.datetimeToDisplayTime=null,t.logger_=$c("SyncController"),t}return _u(e,t),yu(e,[{key:"getSyncPoint",value:function(t,e,i,n){var s=this.runStrategies_(t,e,i,n);return s.length?this.selectSyncPoint_(s,{key:"time",value:n}):null}},{key:"getExpiredTime",value:function(t,e){if(!t||!t.segments)return null;var i=this.runStrategies_(t,e,t.discontinuitySequence,0);if(!i.length)return null;var n=this.selectSyncPoint_(i,{key:"segmentIndex",value:0});return n.segmentIndex>0&&(n.time*=-1),Math.abs(n.time+Lu(t,n.segmentIndex,0))}},{key:"runStrategies_",value:function(t,e,i,n){for(var s=[],r=0;r<vh.length;r++){var o=vh[r],a=o.run(this,t,e,i,n);a&&(a.strategy=o.name,s.push({strategy:o.name,syncPoint:a}))}return s}},{key:"selectSyncPoint_",value:function(t,e){for(var i=t[0].syncPoint,n=Math.abs(t[0].syncPoint[e.key]-e.value),s=t[0].strategy,r=1;r<t.length;r++){var o=Math.abs(t[r].syncPoint[e.key]-e.value);o<n&&(n=o,i=t[r].syncPoint,s=t[r].strategy)}return this.logger_("syncPoint for ["+e.key+": "+e.value+"] chosen with strategy ["+s+"]: [time:"+i.time+", segmentIndex:"+i.segmentIndex+"]"),i}},{key:"saveExpiredSegmentInfo",value:function(t,e){for(var i=e.mediaSequence-t.mediaSequence-1;i>=0;i--){var n=t.segments[i];if(n&&void 0!==n.start){e.syncInfo={mediaSequence:t.mediaSequence+i,time:n.start},this.logger_("playlist refresh sync: [time:"+e.syncInfo.time+", mediaSequence: "+e.syncInfo.mediaSequence+"]"),this.trigger("syncinfoupdate");break}}}},{key:"setDateTimeMapping",value:function(t){if(!this.datetimeToDisplayTime&&t.segments&&t.segments.length&&t.segments[0].dateTimeObject){var e=t.segments[0].dateTimeObject.getTime()/1e3;this.datetimeToDisplayTime=-e}}},{key:"reset",value:function(){this.inspectCache_=void 0}},{key:"probeSegmentInfo",value:function(t){var e=t.segment,i=t.playlist,n=void 0;return(n=e.map?this.probeMp4Segment_(t):this.probeTsSegment_(t))&&this.calculateSegmentTimeMapping_(t,n)&&(this.saveDiscontinuitySyncInfo_(t),i.syncInfo||(i.syncInfo={mediaSequence:i.mediaSequence+t.mediaIndex,time:e.start})),n}},{key:"probeMp4Segment_",value:function(t){var e=t.segment,i=sa.timescale(e.map.bytes),n=sa.startTime(i,t.bytes);return null!==t.timestampOffset&&(t.timestampOffset-=n),{start:n,end:n+e.duration}}},{key:"probeTsSegment_",value:function(t){var e=gh(t.bytes,this.inspectCache_),i=void 0,n=void 0;return e?(e.video&&2===e.video.length?(this.inspectCache_=e.video[1].dts,i=e.video[0].dtsTime,n=e.video[1].dtsTime):e.audio&&2===e.audio.length&&(this.inspectCache_=e.audio[1].dts,i=e.audio[0].dtsTime,n=e.audio[1].dtsTime),{start:i,end:n,containsVideo:e.video&&2===e.video.length,containsAudio:e.audio&&2===e.audio.length}):null}},{key:"timestampOffsetForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].time}},{key:"mappingForTimeline",value:function(t){return void 0===this.timelines[t]?null:this.timelines[t].mapping}},{key:"calculateSegmentTimeMapping_",value:function(t,e){var i=t.segment,n=this.timelines[t.timeline];if(null!==t.timestampOffset)n={time:t.startOfSegment,mapping:t.startOfSegment-e.start},this.timelines[t.timeline]=n,this.trigger("timestampoffset"),this.logger_("time mapping for timeline "+t.timeline+": [time: "+n.time+"] [mapping: "+n.mapping+"]"),i.start=t.startOfSegment,i.end=e.end+n.mapping;else{if(!n)return!1;i.start=e.start+n.mapping,i.end=e.end+n.mapping}return!0}},{key:"saveDiscontinuitySyncInfo_",value:function(t){var e=t.playlist,i=t.segment;if(i.discontinuity)this.discontinuities[i.timeline]={time:i.start,accuracy:0};else if(e.discontinuityStarts&&e.discontinuityStarts.length)for(var n=0;n<e.discontinuityStarts.length;n++){var s=e.discontinuityStarts[n],r=e.discontinuitySequence+n+1,o=s-t.mediaIndex,a=Math.abs(o);if(!this.discontinuities[r]||this.discontinuities[r].accuracy>a){var l=void 0;l=o<0?i.start-Lu(e,t.mediaIndex,s):i.end+Lu(e,t.mediaIndex+1,s),this.discontinuities[r]={time:l,accuracy:a}}}}}]),e}(cr.EventTarget),_h=new wc("./decrypter-worker.worker.js",function(t,e){var i=this;!function(){var t=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},e=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e},s=function(){var t=[[[],[],[],[],[]],[[],[],[],[],[]]],e=t[0],i=t[1],n=e[4],s=i[4],r=void 0,o=void 0,a=void 0,l=[],u=[],c=void 0,h=void 0,d=void 0,p=void 0,f=void 0;for(r=0;r<256;r++)u[(l[r]=r<<1^283*(r>>7))^r]=r;for(o=a=0;!n[o];o^=c||1,a=u[a]||1)for(d=(d=a^a<<1^a<<2^a<<3^a<<4)>>8^255&d^99,n[o]=d,s[d]=o,f=16843009*l[h=l[c=l[o]]]^65537*h^257*c^16843008*o,p=257*l[d]^16843008*d,r=0;r<4;r++)e[r][o]=p=p<<24^p>>>8,i[r][d]=f=f<<24^f>>>8;for(r=0;r<5;r++)e[r]=e[r].slice(0),i[r]=i[r].slice(0);return t},r=null,o=function(){function e(i){t(this,e),r||(r=s()),this._tables=[[r[0][0].slice(),r[0][1].slice(),r[0][2].slice(),r[0][3].slice(),r[0][4].slice()],[r[1][0].slice(),r[1][1].slice(),r[1][2].slice(),r[1][3].slice(),r[1][4].slice()]];var n=void 0,o=void 0,a=void 0,l=void 0,u=void 0,c=this._tables[0][4],h=this._tables[1],d=i.length,p=1;if(4!==d&&6!==d&&8!==d)throw new Error("Invalid aes key size");for(l=i.slice(0),u=[],this._key=[l,u],n=d;n<4*d+28;n++)a=l[n-1],(n%d==0||8===d&&n%d==4)&&(a=c[a>>>24]<<24^c[a>>16&255]<<16^c[a>>8&255]<<8^c[255&a],n%d==0&&(a=a<<8^a>>>24^p<<24,p=p<<1^283*(p>>7))),l[n]=l[n-d]^a;for(o=0;n;o++,n--)a=l[3&o?n:n-4],u[o]=n<=4||o<4?a:h[0][c[a>>>24]]^h[1][c[a>>16&255]]^h[2][c[a>>8&255]]^h[3][c[255&a]]}return e.prototype.decrypt=function(t,e,i,n,s,r){var o=this._key[1],a=t^o[0],l=n^o[1],u=i^o[2],c=e^o[3],h=void 0,d=void 0,p=void 0,f=o.length/4-2,m=void 0,g=4,v=this._tables[1],y=v[0],_=v[1],b=v[2],w=v[3],T=v[4];for(m=0;m<f;m++)h=y[a>>>24]^_[l>>16&255]^b[u>>8&255]^w[255&c]^o[g],d=y[l>>>24]^_[u>>16&255]^b[c>>8&255]^w[255&a]^o[g+1],p=y[u>>>24]^_[c>>16&255]^b[a>>8&255]^w[255&l]^o[g+2],c=y[c>>>24]^_[a>>16&255]^b[l>>8&255]^w[255&u]^o[g+3],g+=4,a=h,l=d,u=p;for(m=0;m<4;m++)s[(3&-m)+r]=T[a>>>24]<<24^T[l>>16&255]<<16^T[u>>8&255]<<8^T[255&c]^o[g++],h=a,a=l,l=u,u=c,c=h},e}(),a=function(){function e(){t(this,e),this.listeners={}}return e.prototype.on=function(t,e){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push(e)},e.prototype.off=function(t,e){if(!this.listeners[t])return!1;var i=this.listeners[t].indexOf(e);return this.listeners[t].splice(i,1),i>-1},e.prototype.trigger=function(t){var e=this.listeners[t];if(e)if(2===arguments.length)for(var i=e.length,n=0;n<i;++n)e[n].call(this,arguments[1]);else for(var s=Array.prototype.slice.call(arguments,1),r=e.length,o=0;o<r;++o)e[o].apply(this,s)},e.prototype.dispose=function(){this.listeners={}},e.prototype.pipe=function(t){this.on("data",function(e){t.push(e)})},e}(),l=function(e){function i(){t(this,i);var s=n(this,e.call(this,a));return s.jobs=[],s.delay=1,s.timeout_=null,s}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(i,e),i.prototype.processJob_=function(){this.jobs.shift()(),this.jobs.length?this.timeout_=setTimeout(this.processJob_.bind(this),this.delay):this.timeout_=null},i.prototype.push=function(t){this.jobs.push(t),this.timeout_||(this.timeout_=setTimeout(this.processJob_.bind(this),this.delay))},i}(a),u=function(t){return t<<24|(65280&t)<<8|(16711680&t)>>8|t>>>24},c=function(){function i(e,n,s,r){t(this,i);var o=i.STEP,a=new Int32Array(e.buffer),c=new Uint8Array(e.byteLength),h=0;for(this.asyncStream_=new l,this.asyncStream_.push(this.decryptChunk_(a.subarray(h,h+o),n,s,c)),h=o;h<a.length;h+=o)s=new Uint32Array([u(a[h-4]),u(a[h-3]),u(a[h-2]),u(a[h-1])]),this.asyncStream_.push(this.decryptChunk_(a.subarray(h,h+o),n,s,c));this.asyncStream_.push(function(){var t;r(null,(t=c).subarray(0,t.byteLength-t[t.byteLength-1]))})}return i.prototype.decryptChunk_=function(t,e,i,n){return function(){var s=function(t,e,i){var n=new Int32Array(t.buffer,t.byteOffset,t.byteLength>>2),s=new o(Array.prototype.slice.call(e)),r=new Uint8Array(t.byteLength),a=new Int32Array(r.buffer),l=void 0,c=void 0,h=void 0,d=void 0,p=void 0,f=void 0,m=void 0,g=void 0,v=void 0;for(l=i[0],c=i[1],h=i[2],d=i[3],v=0;v<n.length;v+=4)p=u(n[v]),f=u(n[v+1]),m=u(n[v+2]),g=u(n[v+3]),s.decrypt(p,f,m,g,a,v),a[v]=u(a[v]^l),a[v+1]=u(a[v+1]^c),a[v+2]=u(a[v+2]^h),a[v+3]=u(a[v+3]^d),l=p,c=f,h=m,d=g;return r}(t,e,i);n.set(s,t.byteOffset)}},e(i,null,[{key:"STEP",get:function(){return 32e3}}]),i}();new function(t){t.onmessage=function(e){var i=e.data,n=new Uint8Array(i.encrypted.bytes,i.encrypted.byteOffset,i.encrypted.byteLength),s=new Uint32Array(i.key.bytes,i.key.byteOffset,i.key.byteLength/4),r=new Uint32Array(i.iv.bytes,i.iv.byteOffset,i.iv.byteLength/4);new c(n,s,r,function(e,n){var s,r;t.postMessage((s={source:i.source,decrypted:n},r={},Object.keys(s).forEach(function(t){var e=s[t];ArrayBuffer.isView(e)?r[t]={bytes:e.buffer,byteOffset:e.byteOffset,byteLength:e.byteLength}:r[t]=e}),r),[n.buffer])})}}(i)}()}),bh=function(t){var e=t.default?"main":"alternative";return t.characteristics&&t.characteristics.indexOf("public.accessibility.describes-video")>=0&&(e="main-desc"),e},wh=function(t,e){t.abort(),t.pause(),e&&e.activePlaylistLoader&&(e.activePlaylistLoader.pause(),e.activePlaylistLoader=null)},Th=function(t,e){e.activePlaylistLoader=t,t.load()},kh={AUDIO:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t],s=e.blacklistCurrentPlaylist;wh(i,n);var r=n.activeTrack(),o=n.activeGroup(),a=(o.filter(function(t){return t.default})[0]||o[0]).id,l=n.tracks[a];if(r!==l){for(var u in cr.log.warn("Problem encountered loading the alternate audio track.Switching back to default."),n.tracks)n.tracks[u].enabled=n.tracks[u]===l;n.onTrackChanged()}else s({message:"Problem encountered loading the default audio track."})}},SUBTITLES:function(t,e){return function(){var i=e.segmentLoaders[t],n=e.mediaTypes[t];cr.log.warn("Problem encountered loading the subtitle track.Disabling subtitle track."),wh(i,n);var s=n.activeTrack();s&&(s.mode="disabled"),n.onTrackChanged()}}},Sh={AUDIO:function(t,e,i){if(e){var n=i.tech,s=i.requestOptions,r=i.segmentLoaders[t];e.on("loadedmetadata",function(){var t=e.media();r.playlist(t,s),(!n.paused()||t.endList&&"none"!==n.preload())&&r.load()}),e.on("loadedplaylist",function(){r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",kh[t](t,i))}},SUBTITLES:function(t,e,i){var n=i.tech,s=i.requestOptions,r=i.segmentLoaders[t],o=i.mediaTypes[t];e.on("loadedmetadata",function(){var t=e.media();r.playlist(t,s),r.track(o.activeTrack()),(!n.paused()||t.endList&&"none"!==n.preload())&&r.load()}),e.on("loadedplaylist",function(){r.playlist(e.media(),s),n.paused()||r.load()}),e.on("error",kh[t](t,i))}},Ch=function(t,e){return function(i){return i.attributes[t]===e}},xh=function(t){return function(e){return e.resolvedUri===t}},Eh={AUDIO:function(t,e){var i=e.hls,n=e.sourceType,s=e.segmentLoaders[t],r=e.requestOptions.withCredentials,o=e.master,a=o.mediaGroups,l=o.playlists,u=e.mediaTypes[t],c=u.groups,h=u.tracks,d=e.masterPlaylistLoader;for(var p in a[t]&&0!==Object.keys(a[t]).length||(a[t]={main:{default:{default:!0}}}),a[t]){c[p]||(c[p]=[]);var f=l.filter(Ch(t,p));for(var m in a[t][p]){var g=a[t][p][m];f.filter(xh(g.resolvedUri)).length&&delete g.resolvedUri;var v=void 0;if(v=g.resolvedUri?new Pu(g.resolvedUri,i,r):g.playlists&&"dash"===n?new qc(g.playlists[0],i,r,d):null,g=cr.mergeOptions({id:m,playlistLoader:v},g),Sh[t](t,g.playlistLoader,e),c[p].push(g),void 0===h[m]){var y=new cr.AudioTrack({id:m,kind:bh(g),enabled:!1,language:g.language,default:g.default,label:m});h[m]=y}}}s.on("error",kh[t](t,e))},SUBTITLES:function(t,e){var i=e.tech,n=e.hls,s=e.sourceType,r=e.segmentLoaders[t],o=e.requestOptions.withCredentials,a=e.master.mediaGroups,l=e.mediaTypes[t],u=l.groups,c=l.tracks,h=e.masterPlaylistLoader;for(var d in a[t])for(var p in u[d]||(u[d]=[]),a[t][d])if(!a[t][d][p].forced){var f=a[t][d][p],m=void 0;if("hls"===s?m=new Pu(f.resolvedUri,n,o):"dash"===s&&(m=new qc(f.playlists[0],n,o,h)),f=cr.mergeOptions({id:p,playlistLoader:m},f),Sh[t](t,f.playlistLoader,e),u[d].push(f),void 0===c[p]){var g=i.addRemoteTextTrack({id:p,kind:"subtitles",default:f.default&&f.autoselect,language:f.language,label:p},!1).track;c[p]=g}}r.on("error",kh[t](t,e))},"CLOSED-CAPTIONS":function(t,e){var i=e.tech,n=e.master.mediaGroups,s=e.mediaTypes[t],r=s.groups,o=s.tracks;for(var a in n[t])for(var l in r[a]||(r[a]=[]),n[t][a]){var u=n[t][a][l];if(u.instreamId.match(/CC\d/)&&(r[a].push(cr.mergeOptions({id:l},u)),void 0===o[l])){var c=i.addRemoteTextTrack({id:u.instreamId,kind:"captions",default:u.default&&u.autoselect,language:u.language,label:l},!1).track;o[l]=c}}}},Dh={AUDIO:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if(i[n].enabled)return i[n];return null}},SUBTITLES:function(t,e){return function(){var i=e.mediaTypes[t].tracks;for(var n in i)if("showing"===i[n].mode)return i[n];return null}}},Ah=function(t){["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){Eh[e](e,t)});var e=t.mediaTypes,i=t.masterPlaylistLoader,n=t.tech,s=t.hls;["AUDIO","SUBTITLES"].forEach(function(i){e[i].activeGroup=function(t,e){return function(i){var n=e.masterPlaylistLoader,s=e.mediaTypes[t].groups,r=n.media();if(!r)return null;var o=null;return r.attributes[t]&&(o=s[r.attributes[t]]),o=o||s.main,void 0===i?o:null===i?null:o.filter(function(t){return t.id===i.id})[0]||null}}(i,t),e[i].activeTrack=Dh[i](i,t),e[i].onGroupChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],s=i.main,r=e.mediaTypes[t],o=r.activeTrack(),a=r.activeGroup(o),l=r.activePlaylistLoader;wh(n,r),a&&(a.playlistLoader?(n.resyncLoader(),Th(a.playlistLoader,r)):l&&s.resetEverything())}}(i,t),e[i].onTrackChanged=function(t,e){return function(){var i=e.segmentLoaders,n=i[t],s=i.main,r=e.mediaTypes[t],o=r.activeTrack(),a=r.activeGroup(o),l=r.activePlaylistLoader;wh(n,r),a&&(a.playlistLoader?l!==a.playlistLoader?(n.track&&n.track(o),n.resetEverything(),Th(a.playlistLoader,r)):Th(a.playlistLoader,r):s.resetEverything())}}(i,t)});var r=e.AUDIO.activeGroup(),o=(r.filter(function(t){return t.default})[0]||r[0]).id;e.AUDIO.tracks[o].enabled=!0,e.AUDIO.onTrackChanged(),i.on("mediachange",function(){["AUDIO","SUBTITLES"].forEach(function(t){return e[t].onGroupChanged()})});var a=function(){e.AUDIO.onTrackChanged(),n.trigger({type:"usage",name:"hls-audio-change"})};for(var l in n.audioTracks().addEventListener("change",a),n.remoteTextTracks().addEventListener("change",e.SUBTITLES.onTrackChanged),s.on("dispose",function(){n.audioTracks().removeEventListener("change",a),n.remoteTextTracks().removeEventListener("change",e.SUBTITLES.onTrackChanged)}),n.clearTracks("audio"),e.AUDIO.tracks)n.audioTracks().addTrack(e.AUDIO.tracks[l])},Ph=function(){var t={};return["AUDIO","SUBTITLES","CLOSED-CAPTIONS"].forEach(function(e){t[e]={groups:{},tracks:{},activePlaylistLoader:null,activeGroup:Gc,activeTrack:Gc,onGroupChanged:Gc,onTrackChanged:Gc}}),t},Ih=void 0,Oh=["mediaRequests","mediaRequestsAborted","mediaRequestsTimedout","mediaRequestsErrored","mediaTransferDuration","mediaBytesTransferred"],Mh=function(t){return this.audioSegmentLoader_[t]+this.mainSegmentLoader_[t]},Lh=function(t){function i(t){vu(this,i);var e=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this)),n=t.url,s=t.withCredentials,r=t.tech,o=t.bandwidth,a=t.externHls,l=t.useCueTags,u=t.blacklistDuration,c=t.enableLowInitialPlaylist,h=t.sourceType,d=t.seekTo;if(!n)throw new Error("A non-empty playlist URL is required");Ih=a,e.withCredentials=s,e.tech_=r,e.hls_=r.hls,e.seekTo_=d,e.sourceType_=h,e.useCueTags_=l,e.blacklistDuration=u,e.enableLowInitialPlaylist=c,e.useCueTags_&&(e.cueTagsTrack_=e.tech_.addTextTrack("metadata","ad-cues"),e.cueTagsTrack_.inBandMetadataTrackDispatchType=""),e.requestOptions_={withCredentials:e.withCredentials,timeout:null},e.mediaTypes_=Ph(),e.mediaSource=new cr.MediaSource,e.mediaSource.addEventListener("sourceopen",e.handleSourceOpen_.bind(e)),e.seekable_=cr.createTimeRanges(),e.hasPlayed_=function(){return!1},e.syncController_=new yh(t),e.segmentMetadataTrack_=r.addRemoteTextTrack({kind:"metadata",label:"segment-metadata"},!1).track,e.decrypter_=new _h,e.inbandTextTracks_={};var p={hls:e.hls_,mediaSource:e.mediaSource,currentTime:e.tech_.currentTime.bind(e.tech_),seekable:function(){return e.seekable()},seeking:function(){return e.tech_.seeking()},duration:function(){return e.mediaSource.duration},hasPlayed:function(){return e.hasPlayed_()},goalBufferLength:function(){return e.goalBufferLength()},bandwidth:o,syncController:e.syncController_,decrypter:e.decrypter_,sourceType:e.sourceType_,inbandTextTracks:e.inbandTextTracks_};return e.masterPlaylistLoader_="dash"===e.sourceType_?new qc(n,e.hls_,e.withCredentials):new Pu(n,e.hls_,e.withCredentials),e.setupMasterPlaylistLoaderListeners_(),e.mainSegmentLoader_=new hh(cr.mergeOptions(p,{segmentMetadataTrack:e.segmentMetadataTrack_,loaderType:"main"}),t),e.audioSegmentLoader_=new hh(cr.mergeOptions(p,{loaderType:"audio"}),t),e.subtitleSegmentLoader_=new fh(cr.mergeOptions(p,{loaderType:"vtt"}),t),e.setupSegmentLoaderListeners_(),Oh.forEach(function(t){e[t+"_"]=Mh.bind(e,t)}),e.logger_=$c("MPC"),e.masterPlaylistLoader_.load(),e}return _u(i,t),yu(i,[{key:"setupMasterPlaylistLoaderListeners_",value:function(){var t=this;this.masterPlaylistLoader_.on("loadedmetadata",function(){var e=t.masterPlaylistLoader_.media(),i=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Vu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,e.endList&&"none"!==t.tech_.preload()&&(t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load()),Ah({sourceType:t.sourceType_,segmentLoaders:{AUDIO:t.audioSegmentLoader_,SUBTITLES:t.subtitleSegmentLoader_,main:t.mainSegmentLoader_},tech:t.tech_,requestOptions:t.requestOptions_,masterPlaylistLoader:t.masterPlaylistLoader_,hls:t.hls_,master:t.master(),mediaTypes:t.mediaTypes_,blacklistCurrentPlaylist:t.blacklistCurrentPlaylist.bind(t)}),t.triggerPresenceUsage_(t.master(),e);try{t.setupSourceBuffers_()}catch(e){return cr.log.warn("Failed to create SourceBuffers",e),t.mediaSource.endOfStream("decode")}t.setupFirstPlay(),t.trigger("selectedinitialmedia")}),this.masterPlaylistLoader_.on("loadedplaylist",function(){var e=t.masterPlaylistLoader_.media();if(!e){t.excludeUnsupportedVariants_();var i=void 0;return t.enableLowInitialPlaylist&&(i=t.selectInitialPlaylist()),i||(i=t.selectPlaylist()),t.initialMedia_=i,void t.masterPlaylistLoader_.media(t.initialMedia_)}if(t.useCueTags_&&t.updateAdCues_(e),t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.updateDuration(),t.tech_.paused()||(t.mainSegmentLoader_.load(),t.audioSegmentLoader_&&t.audioSegmentLoader_.load()),!e.endList){var n=function(){var e=t.seekable();0!==e.length&&t.mediaSource.addSeekableRange_(e.start(0),e.end(0))};if(t.duration()!==1/0){t.tech_.one("durationchange",function e(){t.duration()===1/0?n():t.tech_.one("durationchange",e)})}else n()}}),this.masterPlaylistLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.masterPlaylistLoader_.error)}),this.masterPlaylistLoader_.on("mediachanging",function(){t.mainSegmentLoader_.abort(),t.mainSegmentLoader_.pause()}),this.masterPlaylistLoader_.on("mediachange",function(){var e=t.masterPlaylistLoader_.media(),i=1.5*t.masterPlaylistLoader_.targetDuration*1e3;Vu(t.masterPlaylistLoader_.master,t.masterPlaylistLoader_.media())?t.requestOptions_.timeout=0:t.requestOptions_.timeout=i,t.mainSegmentLoader_.playlist(e,t.requestOptions_),t.mainSegmentLoader_.load(),t.tech_.trigger({type:"mediachange",bubbles:!0})}),this.masterPlaylistLoader_.on("playlistunchanged",function(){var e=t.masterPlaylistLoader_.media();t.stuckAtPlaylistEnd_(e)&&(t.blacklistCurrentPlaylist({message:"Playlist no longer updating."}),t.tech_.trigger("playliststuck"))}),this.masterPlaylistLoader_.on("renditiondisabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-disabled"})}),this.masterPlaylistLoader_.on("renditionenabled",function(){t.tech_.trigger({type:"usage",name:"hls-rendition-enabled"})})}},{key:"triggerPresenceUsage_",value:function(t,e){var i=t.mediaGroups||{},n=!0,s=Object.keys(i.AUDIO);for(var r in i.AUDIO)for(var o in i.AUDIO[r]){i.AUDIO[r][o].uri||(n=!1)}n&&this.tech_.trigger({type:"usage",name:"hls-demuxed"}),Object.keys(i.SUBTITLES).length&&this.tech_.trigger({type:"usage",name:"hls-webvtt"}),Ih.Playlist.isAes(e)&&this.tech_.trigger({type:"usage",name:"hls-aes"}),Ih.Playlist.isFmp4(e)&&this.tech_.trigger({type:"usage",name:"hls-fmp4"}),s.length&&Object.keys(i.AUDIO[s[0]]).length>1&&this.tech_.trigger({type:"usage",name:"hls-alternate-audio"}),this.useCueTags_&&this.tech_.trigger({type:"usage",name:"hls-playlist-cue-tags"})}},{key:"setupSegmentLoaderListeners_",value:function(){var t=this;this.mainSegmentLoader_.on("bandwidthupdate",function(){var e=t.selectPlaylist(),i=t.masterPlaylistLoader_.media(),n=t.tech_.buffered(),s=n.length?n.end(n.length-1)-t.tech_.currentTime():0,r=t.bufferLowWaterLine();(!i.endList||t.duration()<Kc.MAX_BUFFER_LOW_WATER_LINE||e.attributes.BANDWIDTH<i.attributes.BANDWIDTH||s>=r)&&t.masterPlaylistLoader_.media(e),t.tech_.trigger("bandwidthupdate")}),this.mainSegmentLoader_.on("progress",function(){t.trigger("progress")}),this.mainSegmentLoader_.on("error",function(){t.blacklistCurrentPlaylist(t.mainSegmentLoader_.error())}),this.mainSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("timestampoffset",function(){t.tech_.trigger({type:"usage",name:"hls-timestamp-offset"})}),this.audioSegmentLoader_.on("syncinfoupdate",function(){t.onSyncInfoUpdate_()}),this.mainSegmentLoader_.on("ended",function(){t.onEndOfStream()}),this.mainSegmentLoader_.on("earlyabort",function(){t.blacklistCurrentPlaylist({message:"Aborted early because there isn't enough bandwidth to complete the request without rebuffering."},120)}),this.mainSegmentLoader_.on("reseteverything",function(){t.tech_.trigger("hls-reset")}),this.mainSegmentLoader_.on("segmenttimemapping",function(e){t.tech_.trigger({type:"hls-segment-time-mapping",mapping:e.mapping})}),this.audioSegmentLoader_.on("ended",function(){t.onEndOfStream()})}},{key:"mediaSecondsLoaded_",value:function(){return Math.max(this.audioSegmentLoader_.mediaSecondsLoaded+this.mainSegmentLoader_.mediaSecondsLoaded)}},{key:"load",value:function(){this.mainSegmentLoader_.load(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.load(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.load()}},{key:"smoothQualityChange_",value:function(){var t=this.selectPlaylist();t!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(t),this.mainSegmentLoader_.resetLoader())}},{key:"fastQualityChange_",value:function(){var t=this,e=this.selectPlaylist();e!==this.masterPlaylistLoader_.media()&&(this.masterPlaylistLoader_.media(e),this.mainSegmentLoader_.resetEverything(function(){cr.browser.IE_VERSION||cr.browser.IS_EDGE?t.tech_.setCurrentTime(t.tech_.currentTime()+.04):t.tech_.setCurrentTime(t.tech_.currentTime())}))}},{key:"play",value:function(){if(!this.setupFirstPlay()){this.tech_.ended()&&this.seekTo_(0),this.hasPlayed_()&&this.load();var t=this.tech_.seekable();return this.tech_.duration()===1/0&&this.tech_.currentTime()<t.start(0)?this.seekTo_(t.end(t.length-1)):void 0}}},{key:"setupFirstPlay",value:function(){var t=this,e=this.masterPlaylistLoader_.media();if(!e||this.tech_.paused()||this.hasPlayed_())return!1;if(!e.endList){var i=this.seekable();if(!i.length)return!1;if(cr.browser.IE_VERSION&&0===this.tech_.readyState())return this.tech_.one("loadedmetadata",function(){t.trigger("firstplay"),t.seekTo_(i.end(0)),t.hasPlayed_=function(){return!0}}),!1;this.trigger("firstplay"),this.seekTo_(i.end(0))}return this.hasPlayed_=function(){return!0},this.load(),!0}},{key:"handleSourceOpen_",value:function(){try{this.setupSourceBuffers_()}catch(t){return cr.log.warn("Failed to create Source Buffers",t),this.mediaSource.endOfStream("decode")}if(this.tech_.autoplay()){var t=this.tech_.play();void 0!==t&&"function"==typeof t.then&&t.then(null,function(t){})}this.trigger("sourceopen")}},{key:"onEndOfStream",value:function(){var t=this.mainSegmentLoader_.ended_;this.mediaTypes_.AUDIO.activePlaylistLoader&&(t=!this.mainSegmentLoader_.startingMedia_||this.mainSegmentLoader_.startingMedia_.containsVideo?t&&this.audioSegmentLoader_.ended_:this.audioSegmentLoader_.ended_),t&&this.mediaSource.endOfStream()}},{key:"stuckAtPlaylistEnd_",value:function(t){if(!this.seekable().length)return!1;var e=this.syncController_.getExpiredTime(t,this.mediaSource.duration);if(null===e)return!1;var i=Ih.Playlist.playlistEnd(t,e),n=this.tech_.currentTime(),s=this.tech_.buffered();if(!s.length)return i-n<=.1;var r=s.end(s.length-1);return r-n<=.1&&i-r<=.1}},{key:"blacklistCurrentPlaylist",value:function(){var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments[1],n=void 0;if(n=e.playlist||this.masterPlaylistLoader_.media(),i=i||e.blacklistDuration||this.blacklistDuration,!n){this.error=e;try{return this.mediaSource.endOfStream("network")}catch(t){return this.trigger("error")}}var s=1===this.masterPlaylistLoader_.master.playlists.filter(Wu).length;return s?(cr.log.warn("Problem encountered with the current HLS playlist. Trying again since it is the final playlist."),this.tech_.trigger("retryplaylist"),this.masterPlaylistLoader_.load(s)):(n.excludeUntil=Date.now()+1e3*i,this.tech_.trigger("blacklistplaylist"),this.tech_.trigger({type:"usage",name:"hls-rendition-blacklisted"}),t=this.selectPlaylist(),cr.log.warn("Problem encountered with the current HLS playlist."+(e.message?" "+e.message:"")+" Switching to another playlist."),this.masterPlaylistLoader_.media(t))}},{key:"pauseLoading",value:function(){this.mainSegmentLoader_.pause(),this.mediaTypes_.AUDIO.activePlaylistLoader&&this.audioSegmentLoader_.pause(),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&this.subtitleSegmentLoader_.pause()}},{key:"setCurrentTime",value:function(t){var e=lc(this.tech_.buffered(),t);return this.masterPlaylistLoader_&&this.masterPlaylistLoader_.media()&&this.masterPlaylistLoader_.media().segments?e&&e.length?t:(this.mainSegmentLoader_.resetEverything(),this.mainSegmentLoader_.abort(),this.mediaTypes_.AUDIO.activePlaylistLoader&&(this.audioSegmentLoader_.resetEverything(),this.audioSegmentLoader_.abort()),this.mediaTypes_.SUBTITLES.activePlaylistLoader&&(this.subtitleSegmentLoader_.resetEverything(),this.subtitleSegmentLoader_.abort()),void this.load()):0}},{key:"duration",value:function(){return this.masterPlaylistLoader_?this.mediaSource?this.mediaSource.duration:Ih.Playlist.duration(this.masterPlaylistLoader_.media()):0}},{key:"seekable",value:function(){return this.seekable_}},{key:"onSyncInfoUpdate_",value:function(){var t=void 0,e=void 0;if(this.masterPlaylistLoader_){var i=this.masterPlaylistLoader_.media();if(i){var n=this.syncController_.getExpiredTime(i,this.mediaSource.duration);if(null!==n&&0!==(t=Ih.Playlist.seekable(i,n)).length){if(this.mediaTypes_.AUDIO.activePlaylistLoader){if(i=this.mediaTypes_.AUDIO.activePlaylistLoader.media(),null===(n=this.syncController_.getExpiredTime(i,this.mediaSource.duration)))return;if(0===(e=Ih.Playlist.seekable(i,n)).length)return}e?e.start(0)>t.end(0)||t.start(0)>e.end(0)?this.seekable_=t:this.seekable_=cr.createTimeRanges([[e.start(0)>t.start(0)?e.start(0):t.start(0),e.end(0)<t.end(0)?e.end(0):t.end(0)]]):this.seekable_=t,this.logger_("seekable updated ["+cc(this.seekable_)+"]"),this.tech_.trigger("seekablechanged")}}}}},{key:"updateDuration",value:function(){var t=this,e=this.mediaSource.duration,i=Ih.Playlist.duration(this.masterPlaylistLoader_.media()),n=this.tech_.buffered(),s=function e(){t.mediaSource.duration=i,t.tech_.trigger("durationchange"),t.mediaSource.removeEventListener("sourceopen",e)};n.length>0&&(i=Math.max(i,n.end(n.length-1))),e!==i&&("open"!==this.mediaSource.readyState?this.mediaSource.addEventListener("sourceopen",s):s())}},{key:"dispose",value:function(){var t=this;this.decrypter_.terminate(),this.masterPlaylistLoader_.dispose(),this.mainSegmentLoader_.dispose(),["AUDIO","SUBTITLES"].forEach(function(e){var i=t.mediaTypes_[e].groups;for(var n in i)i[n].forEach(function(t){t.playlistLoader&&t.playlistLoader.dispose()})}),this.audioSegmentLoader_.dispose(),this.subtitleSegmentLoader_.dispose()}},{key:"master",value:function(){return this.masterPlaylistLoader_.master}},{key:"media",value:function(){return this.masterPlaylistLoader_.media()||this.initialMedia_}},{key:"setupSourceBuffers_",value:function(){var t,e=this.masterPlaylistLoader_.media();if(e&&"open"===this.mediaSource.readyState){if((t=Ic(this.masterPlaylistLoader_.master,e)).length<1)return this.error="No compatible SourceBuffer configuration for the variant stream:"+e.resolvedUri,this.mediaSource.endOfStream("decode");this.configureLoaderMimeTypes_(t),this.excludeIncompatibleVariants_(e)}}},{key:"configureLoaderMimeTypes_",value:function(t){var e=t.length>1&&-1===t[0].indexOf(",")&&t[0]!==t[1]?new cr.EventTarget:null;this.mainSegmentLoader_.mimeType(t[0],e),t[1]&&this.audioSegmentLoader_.mimeType(t[1],e)}},{key:"excludeUnsupportedVariants_",value:function(){this.master().playlists.forEach(function(t){var i;t.attributes.CODECS&&e.MediaSource&&e.MediaSource.isTypeSupported&&!e.MediaSource.isTypeSupported('video/mp4; codecs="'+(i=t.attributes.CODECS,i.replace(/avc1\.(\d+)\.(\d+)/i,function(t){return Dc([t])[0]}))+'"')&&(t.excludeUntil=1/0)})}},{key:"excludeIncompatibleVariants_",value:function(t){var e=2,i=null,n=void 0;t.attributes.CODECS&&(n=Ac(t.attributes.CODECS),i=n.videoCodec,e=n.codecCount),this.master().playlists.forEach(function(t){var n={codecCount:2,videoCodec:null};t.attributes.CODECS&&(n=Ac(t.attributes.CODECS)),n.codecCount!==e&&(t.excludeUntil=1/0),n.videoCodec!==i&&(t.excludeUntil=1/0)})}},{key:"updateAdCues_",value:function(t){var i=0,n=this.seekable();n.length&&(i=n.start(0)),function(t,i){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(t.segments)for(var s=n,r=void 0,o=0;o<t.segments.length;o++){var a=t.segments[o];if(r||(r=mh(i,s+a.duration/2)),r){if("cueIn"in a){r.endTime=s,r.adEndTime=s,s+=a.duration,r=null;continue}if(s<r.endTime){s+=a.duration;continue}r.endTime+=a.duration}else if("cueOut"in a&&((r=new e.VTTCue(s,s+a.duration,a.cueOut)).adStartTime=s,r.adEndTime=s+parseFloat(a.cueOut),i.addCue(r)),"cueOutCont"in a){var l,u,c=a.cueOutCont.split("/").map(parseFloat),h=wu(c,2);l=h[0],u=h[1],(r=new e.VTTCue(s,s+a.duration,"")).adStartTime=s-l,r.adEndTime=r.adStartTime+u,i.addCue(r)}s+=a.duration}}(t,this.cueTagsTrack_,i)}},{key:"goalBufferLength",value:function(){var t=this.tech_.currentTime(),e=Kc.GOAL_BUFFER_LENGTH,i=Kc.GOAL_BUFFER_LENGTH_RATE,n=Math.max(e,Kc.MAX_GOAL_BUFFER_LENGTH);return Math.min(e+t*i,n)}},{key:"bufferLowWaterLine",value:function(){var t=this.tech_.currentTime(),e=Kc.BUFFER_LOW_WATER_LINE,i=Kc.BUFFER_LOW_WATER_LINE_RATE,n=Math.max(e,Kc.MAX_BUFFER_LOW_WATER_LINE);return Math.min(e+t*i,n)}}]),i}(cr.EventTarget),Nh=function t(e,i,n){vu(this,t);var s,r,o,a=e.masterPlaylistController_,l=a[(e.options_.smoothQualityChange?"smooth":"fast")+"QualityChange_"].bind(a);if(i.attributes.RESOLUTION){var u=i.attributes.RESOLUTION;this.width=u.width,this.height=u.height}this.bandwidth=i.attributes.BANDWIDTH,this.id=n,this.enabled=(s=e.playlists,r=i.uri,o=l,function(t){var e=s.master.playlists[r],i=Bu(e),n=Wu(e);return void 0===t?n:(t?delete e.disabled:e.disabled=!0,t===n||i||(o(),t?s.trigger("renditionenabled"):s.trigger("renditiondisabled")),t)})},Rh=["seeking","seeked","pause","playing","error"],Uh=function(){function t(i){var n=this;vu(this,t),this.tech_=i.tech,this.seekable=i.seekable,this.seekTo=i.seekTo,this.consecutiveUpdates=0,this.lastRecordedTime=null,this.timer_=null,this.checkCurrentTimeTimeout_=null,this.logger_=$c("PlaybackWatcher"),this.logger_("initialize");var s=function(){return n.monitorCurrentTime_()},r=function(){return n.techWaiting_()},o=function(){return n.cancelTimer_()},a=function(){return n.fixesBadSeeks_()};this.tech_.on("seekablechanged",a),this.tech_.on("waiting",r),this.tech_.on(Rh,o),this.tech_.on("canplay",s),this.dispose=function(){n.logger_("dispose"),n.tech_.off("seekablechanged",a),n.tech_.off("waiting",r),n.tech_.off(Rh,o),n.tech_.off("canplay",s),n.checkCurrentTimeTimeout_&&e.clearTimeout(n.checkCurrentTimeTimeout_),n.cancelTimer_()}}return yu(t,[{key:"monitorCurrentTime_",value:function(){this.checkCurrentTime_(),this.checkCurrentTimeTimeout_&&e.clearTimeout(this.checkCurrentTimeTimeout_),this.checkCurrentTimeTimeout_=e.setTimeout(this.monitorCurrentTime_.bind(this),250)}},{key:"checkCurrentTime_",value:function(){if(this.tech_.seeking()&&this.fixesBadSeeks_())return this.consecutiveUpdates=0,void(this.lastRecordedTime=this.tech_.currentTime());if(!this.tech_.paused()&&!this.tech_.seeking()){var t=this.tech_.currentTime(),e=this.tech_.buffered();if(this.lastRecordedTime===t&&(!e.length||t+.1>=e.end(e.length-1)))return this.techWaiting_();this.consecutiveUpdates>=5&&t===this.lastRecordedTime?(this.consecutiveUpdates++,this.waiting_()):t===this.lastRecordedTime?this.consecutiveUpdates++:(this.consecutiveUpdates=0,this.lastRecordedTime=t)}}},{key:"cancelTimer_",value:function(){this.consecutiveUpdates=0,this.timer_&&(this.logger_("cancelTimer_"),clearTimeout(this.timer_)),this.timer_=null}},{key:"fixesBadSeeks_",value:function(){var t=this.tech_.seeking(),e=this.seekable(),i=this.tech_.currentTime(),n=void 0;t&&this.afterSeekableWindow_(e,i)&&(n=e.end(e.length-1));t&&this.beforeSeekableWindow_(e,i)&&(n=e.start(0)+.1);return void 0!==n&&(this.logger_("Trying to seek outside of seekable at time "+i+" with seekable range "+cc(e)+". Seeking to "+n+"."),this.seekTo(n),!0)}},{key:"waiting_",value:function(){if(!this.techWaiting_()){var t=this.tech_.currentTime(),e=this.tech_.buffered(),i=lc(e,t);return i.length&&t+3<=i.end(0)?(this.cancelTimer_(),this.seekTo(t),this.logger_("Stopped at "+t+" while inside a buffered region ["+i.start(0)+" -> "+i.end(0)+"]. Attempting to resume playback by seeking to the current time."),void this.tech_.trigger({type:"usage",name:"hls-unknown-waiting"})):void 0}}},{key:"techWaiting_",value:function(){var t=this.seekable(),e=this.tech_.currentTime();if(this.tech_.seeking()&&this.fixesBadSeeks_())return!0;if(this.tech_.seeking()||null!==this.timer_)return!0;if(this.beforeSeekableWindow_(t,e)){var i=t.end(t.length-1);return this.logger_("Fell out of live window at time "+e+". Seeking to live point (seekable end) "+i),this.cancelTimer_(),this.seekTo(i),this.tech_.trigger({type:"usage",name:"hls-live-resync"}),!0}var n=this.tech_.buffered(),s=uc(n,e);if(this.videoUnderflow_(s,n,e))return this.cancelTimer_(),this.seekTo(e),this.tech_.trigger({type:"usage",name:"hls-video-underflow"}),!0;if(s.length>0){var r=s.start(0)-e;return this.logger_("Stopped at "+e+", setting timer for "+r+", seeking to "+s.start(0)),this.timer_=setTimeout(this.skipTheGap_.bind(this),1e3*r,e),!0}return!1}},{key:"afterSeekableWindow_",value:function(t,e){return!!t.length&&e>t.end(t.length-1)+.1}},{key:"beforeSeekableWindow_",value:function(t,e){return!!(t.length&&t.start(0)>0&&e<t.start(0)-.1)}},{key:"videoUnderflow_",value:function(t,e,i){if(0===t.length){var n=this.gapFromVideoUnderflow_(e,i);if(n)return this.logger_("Encountered a gap in video from "+n.start+" to "+n.end+". Seeking to current time "+i),!0}return!1}},{key:"skipTheGap_",value:function(t){var e=this.tech_.buffered(),i=this.tech_.currentTime(),n=uc(e,i);this.cancelTimer_(),0!==n.length&&i===t&&(this.logger_("skipTheGap_:","currentTime:",i,"scheduled currentTime:",t,"nextRange start:",n.start(0)),this.seekTo(n.start(0)+1/30),this.tech_.trigger({type:"usage",name:"hls-gap-skip"}))}},{key:"gapFromVideoUnderflow_",value:function(t,e){for(var i=function(t){if(t.length<2)return cr.createTimeRanges();for(var e=[],i=1;i<t.length;i++){var n=t.end(i-1),s=t.start(i);e.push([n,s])}return cr.createTimeRanges(e)}(t),n=0;n<i.length;n++){var s=i.start(n),r=i.end(n);if(e-s<4&&e-s>2)return{start:s,end:r}}return null}}]),t}(),Fh={errorInterval:30,getSource:function(t){return t(this.tech({IWillNotUseThisInPlugins:!0}).currentSource_)}},jh=function(t){!function t(e,i){var n=0,s=0,r=cr.mergeOptions(Fh,i);e.ready(function(){e.trigger({type:"usage",name:"hls-error-reload-initialized"})});var o=function(){s&&e.currentTime(s)},a=function(t){null!=t&&(s=e.duration()!==1/0&&e.currentTime()||0,e.one("loadedmetadata",o),e.src(t),e.trigger({type:"usage",name:"hls-error-reload"}),e.play())},l=function(){if(Date.now()-n<1e3*r.errorInterval)e.trigger({type:"usage",name:"hls-error-reload-canceled"});else{if(r.getSource&&"function"==typeof r.getSource)return n=Date.now(),r.getSource.call(e,a);cr.log.error("ERROR: reloadSourceOnError - The option getSource must be a function!")}},u=function t(){e.off("loadedmetadata",o),e.off("error",l),e.off("dispose",t)};e.on("error",l),e.on("dispose",u),e.reloadSourceOnError=function(i){u(),t(e,i)}}(this,t)};cr.use("*",function(t){return{setSource:function(t,e){e(null,t)},setCurrentTime:function(e){return t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(e),e},play:function(){t.vhs&&t.currentSource().src===t.vhs.source_.src&&t.vhs.setCurrentTime(t.currentTime())}}});var Hh={PlaylistLoader:Pu,Playlist:qu,Decrypter:mu,AsyncStream:du,decrypt:fu,utils:ic,STANDARD_PLAYLIST_SELECTOR:function(){return function(t,i,n,s,r){var o=t.playlists.map(function(t){var i,n;return i=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width,n=t.attributes.RESOLUTION&&t.attributes.RESOLUTION.height,{bandwidth:t.attributes.BANDWIDTH||e.Number.MAX_VALUE,width:i,height:n,playlist:t}});ah(o,function(t,e){return t.bandwidth-e.bandwidth});var a=(o=o.filter(function(t){return!qu.isIncompatible(t.playlist)})).filter(function(t){return qu.isEnabled(t.playlist)});a.length||(a=o.filter(function(t){return!qu.isDisabled(t.playlist)}));var l=a.filter(function(t){return t.bandwidth*Kc.BANDWIDTH_VARIANCE<i}),u=l[l.length-1],c=l.filter(function(t){return t.bandwidth===u.bandwidth})[0];if(!1===r){var h=c||a[0]||o[0];return h?h.playlist:null}var d=l.filter(function(t){return t.width&&t.height});ah(d,function(t,e){return t.width-e.width});var p=d.filter(function(t){return t.width===n&&t.height===s});u=p[p.length-1];var f=p.filter(function(t){return t.bandwidth===u.bandwidth})[0],m=void 0,g=void 0,v=void 0;f||(g=(m=d.filter(function(t){return t.width>n||t.height>s})).filter(function(t){return t.width===m[0].width&&t.height===m[0].height}),u=g[g.length-1],v=g.filter(function(t){return t.bandwidth===u.bandwidth})[0]);var y=v||f||c||a[0]||o[0];return y?y.playlist:null}(this.playlists.master,this.systemBandwidth,parseInt(oh(this.tech_.el(),"width"),10),parseInt(oh(this.tech_.el(),"height"),10),this.limitRenditionByPlayerDimensions)},INITIAL_PLAYLIST_SELECTOR:function(){var t=this.playlists.master.playlists.filter(qu.isEnabled);return ah(t,function(t,e){return lh(t,e)}),t.filter(function(t){return Ac(t.attributes.CODECS).videoCodec})[0]||null},comparePlaylistBandwidth:lh,comparePlaylistResolution:function(t,i){var n=void 0,s=void 0;return t.attributes.RESOLUTION&&t.attributes.RESOLUTION.width&&(n=t.attributes.RESOLUTION.width),n=n||e.Number.MAX_VALUE,i.attributes.RESOLUTION&&i.attributes.RESOLUTION.width&&(s=i.attributes.RESOLUTION.width),n===(s=s||e.Number.MAX_VALUE)&&t.attributes.BANDWIDTH&&i.attributes.BANDWIDTH?t.attributes.BANDWIDTH-i.attributes.BANDWIDTH:n-s},xhr:Xu()};["GOAL_BUFFER_LENGTH","MAX_GOAL_BUFFER_LENGTH","GOAL_BUFFER_LENGTH_RATE","BUFFER_LOW_WATER_LINE","MAX_BUFFER_LOW_WATER_LINE","BUFFER_LOW_WATER_LINE_RATE","BANDWIDTH_VARIANCE"].forEach(function(t){Object.defineProperty(Hh,t,{get:function(){return cr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),Kc[t]},set:function(e){cr.log.warn("using Hls."+t+" is UNSAFE be sure you know what you are doing"),"number"!=typeof e||e<0?cr.log.warn("value of Hls."+t+" must be greater than or equal to 0"):Kc[t]=e}})});var zh=function(t){if(/^(audio|video|application)\/(x-|vnd\.apple\.)?mpegurl/i.test(t))return"hls";return/^application\/dash\+xml/i.test(t)?"dash":null},Bh=function(t,e){for(var i=e.media(),n=-1,s=0;s<t.length;s++)if(t[s].id===i.uri){n=s;break}t.selectedIndex_=n,t.trigger({selectedIndex:n,type:"change"})};Hh.canPlaySource=function(){return cr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Wh=function(t){if("dash"===t.options_.sourceType){var e=cr.players[t.tech_.options_.playerId];if(e.eme){var i=function(t,e,i){if(!t)return t;var n={};for(var s in t)n[s]={audioContentType:'audio/mp4; codecs="'+i.attributes.CODECS+'"',videoContentType:'video/mp4; codecs="'+e.attributes.CODECS+'"'},e.contentProtection&&e.contentProtection[s]&&e.contentProtection[s].pssh&&(n[s].pssh=e.contentProtection[s].pssh),"string"==typeof t[s]&&(n[s].url=t[s]);return cr.mergeOptions(t,n)}(t.source_.keySystems,t.playlists.media(),t.masterPlaylistController_.mediaTypes_.AUDIO.activePlaylistLoader.media());i&&(e.currentSource().keySystems=i,e.eme.initializeMediaKeys&&e.eme.initializeMediaKeys())}}},Yh=function(){if(!window.localStorage)return null;var t=window.localStorage.getItem("videojs-vhs");if(!t)return null;try{return JSON.parse(t)}catch(t){return null}};Hh.supportsNativeHls=function(){var e=t.createElement("video");if(!cr.getTech("Html5").isSupported())return!1;return["application/vnd.apple.mpegurl","audio/mpegurl","audio/x-mpegurl","application/x-mpegurl","video/x-mpegurl","video/mpegurl","application/mpegurl"].some(function(t){return/maybe|probably/i.test(e.canPlayType(t))})}(),Hh.supportsNativeDash=!!cr.getTech("Html5").isSupported()&&/maybe|probably/i.test(t.createElement("video").canPlayType("application/dash+xml")),Hh.supportsTypeNatively=function(t){return"hls"===t?Hh.supportsNativeHls:"dash"===t&&Hh.supportsNativeDash},Hh.isSupported=function(){return cr.log.warn("HLS is no longer a tech. Please remove it from your player's techOrder.")};var Vh=cr.getComponent("Component"),qh=function(e){function i(e,n,s){vu(this,i);var r=bu(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,s.hls));if(n.options_&&n.options_.playerId){var o=cr(n.options_.playerId);o.hasOwnProperty("hls")||Object.defineProperty(o,"hls",{get:function(){return cr.log.warn("player.hls is deprecated. Use player.tech().hls instead."),n.trigger({type:"usage",name:"hls-player-access"}),r},configurable:!0}),o.vhs=r,o.dash=r,r.player_=o}if(r.tech_=n,r.source_=e,r.stats={},r.setOptions_(),r.options_.overrideNative&&n.overrideNativeAudioTracks&&n.overrideNativeVideoTracks)n.overrideNativeAudioTracks(!0),n.overrideNativeVideoTracks(!0);else if(r.options_.overrideNative&&(n.featuresNativeVideoTracks||n.featuresNativeAudioTracks))throw new Error("Overriding native HLS requires emulated tracks. See https://git.io/vMpjB");return r.on(t,["fullscreenchange","webkitfullscreenchange","mozfullscreenchange","MSFullscreenChange"],function(e){var i=t.fullscreenElement||t.webkitFullscreenElement||t.mozFullScreenElement||t.msFullscreenElement;i&&i.contains(r.tech_.el())&&r.masterPlaylistController_.smoothQualityChange_()}),r.on(r.tech_,"seeking",function(){this.tech_.seeking()&&0===this.tech_.currentTime()&&this.tech_.player_.loop()&&this.setCurrentTime(0)}),r.on(r.tech_,"error",function(){this.masterPlaylistController_&&this.masterPlaylistController_.pauseLoading()}),r.on(r.tech_,"play",r.play),r}return _u(i,Vh),yu(i,[{key:"setOptions_",value:function(){var t=this;if(this.options_.withCredentials=this.options_.withCredentials||!1,this.options_.limitRenditionByPlayerDimensions=!1!==this.options_.limitRenditionByPlayerDimensions,this.options_.smoothQualityChange=this.options_.smoothQualityChange||!1,this.options_.useBandwidthFromLocalStorage=void 0!==this.source_.useBandwidthFromLocalStorage?this.source_.useBandwidthFromLocalStorage:this.options_.useBandwidthFromLocalStorage||!1,"number"!=typeof this.options_.blacklistDuration&&(this.options_.blacklistDuration=300),"number"!=typeof this.options_.bandwidth&&this.options_.useBandwidthFromLocalStorage){var e=Yh();e&&e.bandwidth&&(this.options_.bandwidth=e.bandwidth,this.tech_.trigger({type:"usage",name:"hls-bandwidth-from-local-storage"})),e&&e.throughput&&(this.options_.throughput=e.throughput,this.tech_.trigger({type:"usage",name:"hls-throughput-from-local-storage"}))}"number"!=typeof this.options_.bandwidth&&(this.options_.bandwidth=Kc.INITIAL_BANDWIDTH),this.options_.enableLowInitialPlaylist=this.options_.enableLowInitialPlaylist&&this.options_.bandwidth===Kc.INITIAL_BANDWIDTH,["withCredentials","limitRenditionByPlayerDimensions","bandwidth","smoothQualityChange"].forEach(function(e){void 0!==t.source_[e]&&(t.options_[e]=t.source_[e])}),this.limitRenditionByPlayerDimensions=this.options_.limitRenditionByPlayerDimensions}},{key:"src",value:function(t,e){var i=this;t&&(this.setOptions_(),this.options_.url=this.source_.src,this.options_.tech=this.tech_,this.options_.externHls=Hh,this.options_.sourceType=zh(e),this.options_.seekTo=function(t){i.tech_.setCurrentTime(t),i.setCurrentTime(t)},this.masterPlaylistController_=new Lh(this.options_),this.playbackWatcher_=new Uh(cr.mergeOptions(this.options_,{seekable:function(){return i.seekable()}})),this.masterPlaylistController_.on("error",function(){cr.players[i.tech_.options_.playerId].error(i.masterPlaylistController_.error)}),this.masterPlaylistController_.selectPlaylist=this.selectPlaylist?this.selectPlaylist.bind(this):Hh.STANDARD_PLAYLIST_SELECTOR.bind(this),this.masterPlaylistController_.selectInitialPlaylist=Hh.INITIAL_PLAYLIST_SELECTOR.bind(this),this.playlists=this.masterPlaylistController_.masterPlaylistLoader_,this.mediaSource=this.masterPlaylistController_.mediaSource,Object.defineProperties(this,{selectPlaylist:{get:function(){return this.masterPlaylistController_.selectPlaylist},set:function(t){this.masterPlaylistController_.selectPlaylist=t.bind(this)}},throughput:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.throughput.rate},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.throughput.rate=t,this.masterPlaylistController_.mainSegmentLoader_.throughput.count=1}},bandwidth:{get:function(){return this.masterPlaylistController_.mainSegmentLoader_.bandwidth},set:function(t){this.masterPlaylistController_.mainSegmentLoader_.bandwidth=t,this.masterPlaylistController_.mainSegmentLoader_.throughput={rate:0,count:0}}},systemBandwidth:{get:function(){var t=1/(this.bandwidth||1),e=void 0;return e=this.throughput>0?1/this.throughput:0,Math.floor(1/(t+e))},set:function(){cr.log.error('The "systemBandwidth" property is read-only')}}}),this.options_.bandwidth&&(this.bandwidth=this.options_.bandwidth),this.options_.throughput&&(this.throughput=this.options_.throughput),Object.defineProperties(this.stats,{bandwidth:{get:function(){return i.bandwidth||0},enumerable:!0},mediaRequests:{get:function(){return i.masterPlaylistController_.mediaRequests_()||0},enumerable:!0},mediaRequestsAborted:{get:function(){return i.masterPlaylistController_.mediaRequestsAborted_()||0},enumerable:!0},mediaRequestsTimedout:{get:function(){return i.masterPlaylistController_.mediaRequestsTimedout_()||0},enumerable:!0},mediaRequestsErrored:{get:function(){return i.masterPlaylistController_.mediaRequestsErrored_()||0},enumerable:!0},mediaTransferDuration:{get:function(){return i.masterPlaylistController_.mediaTransferDuration_()||0},enumerable:!0},mediaBytesTransferred:{get:function(){return i.masterPlaylistController_.mediaBytesTransferred_()||0},enumerable:!0},mediaSecondsLoaded:{get:function(){return i.masterPlaylistController_.mediaSecondsLoaded_()||0},enumerable:!0},buffered:{get:function(){return hc(i.tech_.buffered())},enumerable:!0},currentTime:{get:function(){return i.tech_.currentTime()},enumerable:!0},currentSource:{get:function(){return i.tech_.currentSource_},enumerable:!0},currentTech:{get:function(){return i.tech_.name_},enumerable:!0},duration:{get:function(){return i.tech_.duration()},enumerable:!0},master:{get:function(){return i.playlists.master},enumerable:!0},playerDimensions:{get:function(){return i.tech_.currentDimensions()},enumerable:!0},seekable:{get:function(){return hc(i.tech_.seekable())},enumerable:!0},timestamp:{get:function(){return Date.now()},enumerable:!0},videoPlaybackQuality:{get:function(){return i.tech_.getVideoPlaybackQuality()},enumerable:!0}}),this.tech_.one("canplay",this.masterPlaylistController_.setupFirstPlay.bind(this.masterPlaylistController_)),this.tech_.on("bandwidthupdate",function(){i.options_.useBandwidthFromLocalStorage&&function(t){if(!window.localStorage)return!1;var e=Yh();e=e?cr.mergeOptions(e,t):t;try{window.localStorage.setItem("videojs-vhs",JSON.stringify(e))}catch(t){return!1}}({bandwidth:i.bandwidth,throughput:Math.round(i.throughput)})}),this.masterPlaylistController_.on("selectedinitialmedia",function(){var t,e;e=(t=i).playlists,t.representations=function(){return e.master.playlists.filter(function(t){return!Bu(t)}).map(function(e,i){return new Nh(t,e,e.uri)})},Wh(i)}),this.on(this.masterPlaylistController_,"progress",function(){this.tech_.trigger("progress")}),this.tech_.ready(function(){return i.setupQualityLevels_()}),this.tech_.el()&&this.tech_.src(cr.URL.createObjectURL(this.masterPlaylistController_.mediaSource)))}},{key:"setupQualityLevels_",value:function(){var t=this,e=cr.players[this.tech_.options_.playerId];e&&e.qualityLevels&&(this.qualityLevels_=e.qualityLevels(),this.masterPlaylistController_.on("selectedinitialmedia",function(){var e,i;e=t.qualityLevels_,(i=t).representations().forEach(function(t){e.addQualityLevel(t)}),Bh(e,i.playlists)}),this.playlists.on("mediachange",function(){Bh(t.qualityLevels_,t.playlists)}))}},{key:"play",value:function(){this.masterPlaylistController_.play()}},{key:"setCurrentTime",value:function(t){this.masterPlaylistController_.setCurrentTime(t)}},{key:"duration",value:function(){return this.masterPlaylistController_.duration()}},{key:"seekable",value:function(){return this.masterPlaylistController_.seekable()}},{key:"dispose",value:function(){this.playbackWatcher_&&this.playbackWatcher_.dispose(),this.masterPlaylistController_&&this.masterPlaylistController_.dispose(),this.qualityLevels_&&this.qualityLevels_.dispose(),this.player_&&(delete this.player_.vhs,delete this.player_.dash,delete this.player_.hls),this.tech_&&this.tech_.hls&&delete this.tech_.hls,function t(e,i,n){null===e&&(e=Function.prototype);var s=Object.getOwnPropertyDescriptor(e,i);if(void 0===s){var r=Object.getPrototypeOf(e);return null===r?void 0:t(r,i,n)}if("value"in s)return s.value;var o=s.get;return void 0!==o?o.call(n):void 0}(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"dispose",this).call(this)}},{key:"convertToStreamTime",value:function(t,e){return rc({playlist:this.masterPlaylistController_.media(),time:t,callback:e})}},{key:"seekToStreamTime",value:function(t,e){var i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:2;return oc({streamTime:t,playlist:this.masterPlaylistController_.media(),retryCount:n,pauseAfterSeek:i,seekTo:this.options_.seekTo,tech:this.options_.tech,callback:e})}}]),i}(),$h={name:"videojs-http-streaming",VERSION:"1.5.1",canHandleSource:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=cr.mergeOptions(cr.options,e);return $h.canPlayType(t.type,i)},handleSource:function(t,e){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=cr.mergeOptions(cr.options,i);return e.hls=new qh(t,e,n),e.hls.xhr=Xu(),e.hls.src(t.src,t.type),e.hls},canPlayType:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=cr.mergeOptions(cr.options,e).hls.overrideNative,n=zh(t);return n&&(!Hh.supportsTypeNatively(n)||i)?"maybe":""}};return void 0!==cr.MediaSource&&void 0!==cr.URL||(cr.MediaSource=zc,cr.URL=Bc),zc.supportsNativeMediaSources()&&cr.getTech("Html5").registerSourceHandler($h,0),cr.HlsHandler=qh,cr.HlsSourceHandler=$h,cr.Hls=Hh,cr.use||cr.registerComponent("Hls",Hh),cr.options.hls=cr.options.hls||{},cr.registerPlugin?cr.registerPlugin("reloadSourceOnError",jh):cr.plugin("reloadSourceOnError",jh),cr}),function(t,e){if("object"==typeof exports&&"undefined"!=typeof module){var i=require("video.js");module.exports=e(i.default||i)}else"function"==typeof define&&define.amd?define(["videojs"],function(i){return t.Youtube=e(i)}):t.Youtube=e(t.videojs)}(this,function(t){"use strict";var e,i,n,s,r,o,a,l,u=t.browser.IS_IOS||t.browser.IS_NATIVE_ANDROID,c=t.getTech("Tech"),h=t.extend(c,{constructor:function(t,e){c.call(this,t,e),this.setPoster(t.poster),this.setSrc(this.options_.source,!0),this.setTimeout(function(){this.el_&&(this.el_.parentNode.className+=" vjs-youtube",u&&(this.el_.parentNode.className+=" vjs-youtube-mobile"),h.isApiReady?this.initYTPlayer():h.apiReadyQueue.push(this))}.bind(this))},dispose:function(){if(this.ytPlayer)this.ytPlayer.stopVideo&&this.ytPlayer.stopVideo(),this.ytPlayer.destroy&&this.ytPlayer.destroy();else{var t=h.apiReadyQueue.indexOf(this);-1!==t&&h.apiReadyQueue.splice(t,1)}this.ytPlayer=null,this.el_.parentNode.className=this.el_.parentNode.className.replace(" vjs-youtube","").replace(" vjs-youtube-mobile",""),this.el_.parentNode.removeChild(this.el_),c.prototype.dispose.call(this)},createEl:function(){var t=document.createElement("div");t.setAttribute("id",this.options_.techId),t.setAttribute("style","width:100%;height:100%;top:0;left:0;position:absolute"),t.setAttribute("class","vjs-tech");var e=document.createElement("div");if(e.appendChild(t),!u&&!this.options_.ytControls){var i=document.createElement("div");i.setAttribute("class","vjs-iframe-blocker"),i.setAttribute("style","position:absolute;top:0;left:0;width:100%;height:100%"),i.onclick=function(){this.pause()}.bind(this),e.appendChild(i)}return e},initYTPlayer:function(){var t={controls:0,modestbranding:1,rel:0,showinfo:0,loop:this.options_.loop?1:0};if(void 0!==this.options_.autohide&&(t.autohide=this.options_.autohide),void 0!==this.options_.cc_load_policy&&(t.cc_load_policy=this.options_.cc_load_policy),void 0!==this.options_.ytControls&&(t.controls=this.options_.ytControls),void 0!==this.options_.disablekb&&(t.disablekb=this.options_.disablekb),void 0!==this.options_.color&&(t.color=this.options_.color),t.controls?void 0!==this.options_.fs&&(t.fs=this.options_.fs):t.fs=0,-1!==this.options_.source.src.indexOf("end=")){var e=this.options_.source.src.match(/end=([0-9]*)/);this.options_.end=parseInt(e[1])}if(void 0!==this.options_.end&&(t.end=this.options_.end),void 0!==this.options_.hl?t.hl=this.options_.hl:void 0!==this.options_.language&&(t.hl=this.options_.language.substr(0,2)),void 0!==this.options_.iv_load_policy&&(t.iv_load_policy=this.options_.iv_load_policy),void 0!==this.options_.list?t.list=this.options_.list:this.url&&void 0!==this.url.listId&&(t.list=this.url.listId),void 0!==this.options_.listType&&(t.listType=this.options_.listType),void 0!==this.options_.modestbranding&&(t.modestbranding=this.options_.modestbranding),void 0!==this.options_.playlist&&(t.playlist=this.options_.playlist),void 0!==this.options_.playsinline&&(t.playsinline=this.options_.playsinline),void 0!==this.options_.rel&&(t.rel=this.options_.rel),void 0!==this.options_.showinfo&&(t.showinfo=this.options_.showinfo),-1!==this.options_.source.src.indexOf("start=")){var i=this.options_.source.src.match(/start=([0-9]*)/);this.options_.start=parseInt(i[1])}if(void 0!==this.options_.start&&(t.start=this.options_.start),void 0!==this.options_.theme&&(t.theme=this.options_.theme),void 0!==this.options_.customVars){var n=this.options_.customVars;Object.keys(n).forEach(function(e){t[e]=n[e]})}this.activeVideoId=this.url?this.url.videoId:null,this.activeList=t.list;var s={videoId:this.activeVideoId,playerVars:t,events:{onReady:this.onPlayerReady.bind(this),onPlaybackQualityChange:this.onPlayerPlaybackQualityChange.bind(this),onPlaybackRateChange:this.onPlayerPlaybackRateChange.bind(this),onStateChange:this.onPlayerStateChange.bind(this),onVolumeChange:this.onPlayerVolumeChange.bind(this),onError:this.onPlayerError.bind(this)}};void 0!==this.options_.enablePrivacyEnhancedMode&&this.options_.enablePrivacyEnhancedMode&&(s.host="https://www.youtube-nocookie.com"),this.ytPlayer=new YT.Player(this.options_.techId,s)},onPlayerReady:function(){this.options_.muted&&this.ytPlayer.mute(),this.ytPlayer.getAvailablePlaybackRates().length>1&&(this.featuresPlaybackRate=!0),this.playerReady_=!0,this.triggerReady(),this.playOnReady?this.play():this.cueOnReady&&(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)},onPlayerPlaybackQualityChange:function(){},onPlayerPlaybackRateChange:function(){this.trigger("ratechange")},onPlayerStateChange:function(t){var e=t.data;if(e!==this.lastState&&!this.errorNumber)switch(this.lastState=e,e){case-1:this.trigger("loadstart"),this.trigger("loadedmetadata"),this.trigger("durationchange"),this.trigger("ratechange");break;case YT.PlayerState.ENDED:this.trigger("ended");break;case YT.PlayerState.PLAYING:this.trigger("timeupdate"),this.trigger("durationchange"),this.trigger("playing"),this.trigger("play"),this.isSeeking&&this.onSeeked();break;case YT.PlayerState.PAUSED:this.trigger("canplay"),this.isSeeking?this.onSeeked():this.trigger("pause");break;case YT.PlayerState.BUFFERING:this.player_.trigger("timeupdate"),this.player_.trigger("waiting")}},onPlayerVolumeChange:function(){this.trigger("volumechange")},onPlayerError:function(t){this.errorNumber=t.data,this.trigger("pause"),this.trigger("error")},error:function(){var t=1e3+this.errorNumber;switch(this.errorNumber){case 5:return{code:t,message:"Error while trying to play the video"};case 2:case 100:return{code:t,message:"Unable to find the video"};case 101:case 150:return{code:t,message:"Playback on other Websites has been disabled by the video owner."}}return{code:t,message:"YouTube unknown error ("+this.errorNumber+")"}},loadVideoById_:function(t){var e={videoId:t};this.options_.start&&(e.startSeconds=this.options_.start),this.options_.end&&(e.endEnd=this.options_.end),this.ytPlayer.loadVideoById(e)},cueVideoById_:function(t){var e={videoId:t};this.options_.start&&(e.startSeconds=this.options_.start),this.options_.end&&(e.endEnd=this.options_.end),this.ytPlayer.cueVideoById(e)},src:function(t){return t&&this.setSrc({src:t}),this.source},poster:function(){return u?null:this.poster_},setPoster:function(t){this.poster_=t},setSrc:function(t){t&&t.src&&(delete this.errorNumber,this.source=t,this.url=h.parseUrl(t.src),this.options_.poster||this.url.videoId&&(this.poster_="https://img.youtube.com/vi/"+this.url.videoId+"/0.jpg",this.trigger("posterchange"),this.checkHighResPoster()),this.options_.autoplay&&!u?this.isReady_?this.play():this.playOnReady=!0:this.activeVideoId!==this.url.videoId&&(this.isReady_?(this.cueVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId):this.cueOnReady=!0))},autoplay:function(){return this.options_.autoplay},setAutoplay:function(t){this.options_.autoplay=t},loop:function(){return this.options_.loop},setLoop:function(t){this.options_.loop=t},play:function(){this.url&&this.url.videoId&&(this.wasPausedBeforeSeek=!1,this.isReady_?(this.url.listId&&(this.activeList===this.url.listId?this.ytPlayer.playVideo():(this.ytPlayer.loadPlaylist(this.url.listId),this.activeList=this.url.listId)),this.activeVideoId===this.url.videoId?this.ytPlayer.playVideo():(this.loadVideoById_(this.url.videoId),this.activeVideoId=this.url.videoId)):(this.trigger("waiting"),this.playOnReady=!0))},pause:function(){this.ytPlayer&&this.ytPlayer.pauseVideo()},paused:function(){return!this.ytPlayer||this.lastState!==YT.PlayerState.PLAYING&&this.lastState!==YT.PlayerState.BUFFERING},currentTime:function(){return this.ytPlayer?this.ytPlayer.getCurrentTime():0},setCurrentTime:function(t){this.lastState===YT.PlayerState.PAUSED&&(this.timeBeforeSeek=this.currentTime()),this.isSeeking||(this.wasPausedBeforeSeek=this.paused()),this.ytPlayer.seekTo(t,!0),this.trigger("timeupdate"),this.trigger("seeking"),this.isSeeking=!0,this.lastState===YT.PlayerState.PAUSED&&this.timeBeforeSeek!==t&&(clearInterval(this.checkSeekedInPauseInterval),this.checkSeekedInPauseInterval=setInterval(function(){this.lastState===YT.PlayerState.PAUSED&&this.isSeeking?this.currentTime()!==this.timeBeforeSeek&&(this.trigger("timeupdate"),this.onSeeked()):clearInterval(this.checkSeekedInPauseInterval)}.bind(this),250))},seeking:function(){return this.isSeeking},seekable:function(){return this.ytPlayer?t.createTimeRange(0,this.ytPlayer.getDuration()):t.createTimeRange()},onSeeked:function(){clearInterval(this.checkSeekedInPauseInterval),this.isSeeking=!1,this.wasPausedBeforeSeek&&this.pause(),this.trigger("seeked")},playbackRate:function(){return this.ytPlayer?this.ytPlayer.getPlaybackRate():1},setPlaybackRate:function(t){this.ytPlayer&&this.ytPlayer.setPlaybackRate(t)},duration:function(){return this.ytPlayer?this.ytPlayer.getDuration():0},currentSrc:function(){return this.source&&this.source.src},ended:function(){return!!this.ytPlayer&&this.lastState===YT.PlayerState.ENDED},volume:function(){return this.ytPlayer?this.ytPlayer.getVolume()/100:1},setVolume:function(t){this.ytPlayer&&this.ytPlayer.setVolume(100*t)},muted:function(){return!!this.ytPlayer&&this.ytPlayer.isMuted()},setMuted:function(t){this.ytPlayer&&(this.muted(!0),t?this.ytPlayer.mute():this.ytPlayer.unMute(),this.setTimeout(function(){this.trigger("volumechange")},50))},buffered:function(){if(!this.ytPlayer||!this.ytPlayer.getVideoLoadedFraction)return t.createTimeRange();var e=this.ytPlayer.getVideoLoadedFraction()*this.ytPlayer.getDuration();return t.createTimeRange(0,e)},preload:function(){},load:function(){},reset:function(){},networkState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 3:return 2;default:return 1}},readyState:function(){if(!this.ytPlayer)return 0;switch(this.ytPlayer.getPlayerState()){case-1:return 0;case 5:return 1;case 3:return 2;default:return 4}},supportsFullScreen:function(){return document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled},checkHighResPoster:function(){var t="https://img.youtube.com/vi/"+this.url.videoId+"/maxresdefault.jpg";try{var e=new Image;e.onload=function(){if("naturalHeight"in e){if(e.naturalHeight<=90||e.naturalWidth<=120)return}else if(e.height<=90||e.width<=120)return;this.poster_=t,this.trigger("posterchange")}.bind(this),e.onerror=function(){},e.src=t}catch(t){}}});h.isSupported=function(){return!0},h.canPlaySource=function(t){return h.canPlayType(t.type)},h.canPlayType=function(t){return"video/youtube"===t},h.parseUrl=function(t){var e={videoId:null},i=t.match(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/);i&&11===i[2].length&&(e.videoId=i[2]);return(i=t.match(/[?&]list=([^#\&\?]+)/))&&i[1]&&(e.listId=i[1]),e},h.apiReadyQueue=[],"undefined"!=typeof document&&(s="https://www.youtube.com/iframe_api",r=function(){YT.ready(function(){h.isApiReady=!0;for(var t=0;t<h.apiReadyQueue.length;++t)h.apiReadyQueue[t].initYTPlayer()})},o=!1,a=document.createElement("script"),(l=document.getElementsByTagName("script")[0]).parentNode.insertBefore(a,l),a.onload=function(){o||(o=!0,r())},a.onreadystatechange=function(){o||"complete"!==this.readyState&&"loaded"!==this.readyState||(o=!0,r())},a.src=s,e=".vjs-youtube .vjs-iframe-blocker { display: none; }.vjs-youtube.vjs-user-inactive .vjs-iframe-blocker { display: block; }.vjs-youtube .vjs-poster { background-size: cover; }.vjs-youtube-mobile .vjs-big-play-button { display: none; }",i=document.head||document.getElementsByTagName("head")[0],(n=document.createElement("style")).type="text/css",n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e)),i.appendChild(n)),void 0!==t.registerTech?t.registerTech("Youtube",h):t.registerComponent("Youtube",h)}),function(t,e){"function"==typeof define&&define.amd?define([],function(){return t.returnExportsGlobal=e()}):"object"==typeof exports?module.exports=e():t.ResizeSensor=e()}(this,function(){return function(){"use strict";function t(){var t,e;this.q=[],this.add=function(t){this.q.push(t)},this.call=function(){for(t=0,e=this.q.length;e>t;t++)this.q[t].call()}}function e(e,n){if(e.resizedAttached){if(e.resizedAttached)return void e.resizedAttached.add(n)}else e.resizedAttached=new t,e.resizedAttached.add(n);e.resizeSensor=document.createElement("div"),e.resizeSensor.className="resize-sensor";var s="position: absolute; left: 0; top: 0; right: 0; bottom: 0; overflow: hidden; z-index: -1; visibility: hidden; opacity: 0;",r="position: absolute; left: 0; top: 0; transition: 0s;";e.resizeSensor.style.cssText=s,e.resizeSensor.innerHTML='<div class="resize-sensor-expand" style="'+s+'"><div style="'+r+'"></div></div><div class="resize-sensor-shrink" style="'+s+'"><div style="'+r+' width: 200%; height: 200%"></div></div>',e.appendChild(e.resizeSensor),"static"==function(t,e){return t.currentStyle?t.currentStyle[e]:window.getComputedStyle?window.getComputedStyle(t,null).getPropertyValue(e):t.style[e]}(e,"position")&&(e.style.position="relative");var o=e.resizeSensor.childNodes[0],a=o.childNodes[0],l=e.resizeSensor.childNodes[1],u=function(){a.style.width=1e5+"px",a.style.height=1e5+"px",o.scrollLeft=1e5,o.scrollTop=1e5,l.scrollLeft=1e5,l.scrollTop=1e5};u();var c=!1,h=function(){e.resizedAttached&&(c&&(e.resizedAttached.call(),c=!1),i(h))};i(h);var d,p,f,m,g=function(){((f=e.offsetWidth)!=d||(m=e.offsetHeight)!=p)&&(c=!0,d=f,p=m),u()},v=function(t,e,i){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener(e,i)};v(o,"scroll",g),v(l,"scroll",g)}var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||function(t){return window.setTimeout(t,20)},n=function(t,i){var n=Object.prototype.toString.call(t),s=this._isCollectionTyped="[object Array]"===n||"[object NodeList]"===n||"[object HTMLCollection]"===n||"undefined"!=typeof jQuery&&t instanceof window.jQuery||"undefined"!=typeof Elements&&t instanceof window.Elements;if(this._element=t,s)for(var r=0,o=t.length;o>r;r++)e(t[r],i);else e(t,i)};return n.prototype.detach=function(){var t=this._isCollectionTyped,e=this._element;if(t)for(var i=0,s=e.length;s>i;i++)n.detach(e[i]);else n.detach(e)},n.detach=function(t){t.resizeSensor&&(t.removeChild(t.resizeSensor),delete t.resizeSensor,delete t.resizedAttached)},n}()}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e():"function"==typeof define&&define.amd?define(e):e()}(0,function(){"use strict";var t=function(){function t(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,i,n){return i&&t(e.prototype,i),n&&t(e,n),e}}(),e=function(){var e=".stickySidebar",i={topSpacing:0,bottomSpacing:0,containerSelector:!1,innerWrapperSelector:".inner-wrapper-sticky",stickyClass:"is-affixed",resizeSensor:!0,minWidth:!1};return function(){function n(t){var e=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,n),this.options=n.extend(i,s),this.sidebar="string"==typeof t?document.querySelector(t):t,void 0===this.sidebar)throw new Error("There is no specific sidebar element.");this.sidebarInner=!1,this.container=this.sidebar.parentElement,this.affixedType="STATIC",this.direction="down",this.support={transform:!1,transform3d:!1},this._initialized=!1,this._reStyle=!1,this._breakpoint=!1,this._resizeListeners=[],this.dimensions={translateY:0,topSpacing:0,lastTopSpacing:0,bottomSpacing:0,lastBottomSpacing:0,sidebarHeight:0,sidebarWidth:0,containerTop:0,containerHeight:0,viewportHeight:0,viewportTop:0,lastViewportTop:0},["handleEvent"].forEach(function(t){e[t]=e[t].bind(e)}),this.initialize()}return t(n,[{key:"initialize",value:function(){var t=this;if(this._setSupportFeatures(),this.options.innerWrapperSelector&&(this.sidebarInner=this.sidebar.querySelector(this.options.innerWrapperSelector),null===this.sidebarInner&&(this.sidebarInner=!1)),!this.sidebarInner){var e=document.createElement("div");for(e.setAttribute("class","inner-wrapper-sticky"),this.sidebar.appendChild(e);this.sidebar.firstChild!=e;)e.appendChild(this.sidebar.firstChild);this.sidebarInner=this.sidebar.querySelector(".inner-wrapper-sticky")}if(this.options.containerSelector){var i=document.querySelectorAll(this.options.containerSelector);if((i=Array.prototype.slice.call(i)).forEach(function(e,i){e.contains(t.sidebar)&&(t.container=e)}),!i.length)throw new Error("The container does not contains on the sidebar.")}"function"!=typeof this.options.topSpacing&&(this.options.topSpacing=parseInt(this.options.topSpacing)||0),"function"!=typeof this.options.bottomSpacing&&(this.options.bottomSpacing=parseInt(this.options.bottomSpacing)||0),this._widthBreakpoint(),this.calcDimensions(),this.stickyPosition(),this.bindEvents(),this._initialized=!0}},{key:"bindEvents",value:function(){window.addEventListener("resize",this,{passive:!0,capture:!1}),window.addEventListener("scroll",this,{passive:!0,capture:!1}),this.sidebar.addEventListener("update"+e,this),this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(new ResizeSensor(this.sidebarInner,this.handleEvent),new ResizeSensor(this.container,this.handleEvent))}},{key:"handleEvent",value:function(t){this.updateSticky(t)}},{key:"calcDimensions",value:function(){if(!this._breakpoint){var t=this.dimensions;t.containerTop=n.offsetRelative(this.container).top,t.containerHeight=this.container.clientHeight,t.containerBottom=t.containerTop+t.containerHeight,t.sidebarHeight=this.sidebarInner.offsetHeight,t.sidebarWidth=this.sidebar.offsetWidth,t.viewportHeight=window.innerHeight,this._calcDimensionsWithScroll()}}},{key:"_calcDimensionsWithScroll",value:function(){var t=this.dimensions;t.sidebarLeft=n.offsetRelative(this.sidebar).left,t.viewportTop=document.documentElement.scrollTop||document.body.scrollTop,t.viewportBottom=t.viewportTop+t.viewportHeight,t.viewportLeft=document.documentElement.scrollLeft||document.body.scrollLeft,t.topSpacing=this.options.topSpacing,t.bottomSpacing=this.options.bottomSpacing,"function"==typeof t.topSpacing&&(t.topSpacing=parseInt(t.topSpacing(this.sidebar))||0),"function"==typeof t.bottomSpacing&&(t.bottomSpacing=parseInt(t.bottomSpacing(this.sidebar))||0),"VIEWPORT-TOP"===this.affixedType?t.topSpacing<t.lastTopSpacing&&(t.translateY+=t.lastTopSpacing-t.topSpacing,this._reStyle=!0):"VIEWPORT-BOTTOM"===this.affixedType&&t.bottomSpacing<t.lastBottomSpacing&&(t.translateY+=t.lastBottomSpacing-t.bottomSpacing,this._reStyle=!0),t.lastTopSpacing=t.topSpacing,t.lastBottomSpacing=t.bottomSpacing}},{key:"isSidebarFitsViewport",value:function(){return this.dimensions.sidebarHeight<this.dimensions.viewportHeight}},{key:"observeScrollDir",value:function(){var t=this.dimensions;if(t.lastViewportTop!==t.viewportTop){var e="down"===this.direction?Math.min:Math.max;t.viewportTop===e(t.viewportTop,t.lastViewportTop)&&(this.direction="down"===this.direction?"up":"down")}}},{key:"getAffixType",value:function(){var t=this.dimensions,e=!1;this._calcDimensionsWithScroll();var i=t.sidebarHeight+t.containerTop,n=t.viewportTop+t.topSpacing,s=t.viewportBottom-t.bottomSpacing;return"up"===this.direction?n<=t.containerTop?(t.translateY=0,e="STATIC"):n<=t.translateY+t.containerTop?(t.translateY=n-t.containerTop,e="VIEWPORT-TOP"):!this.isSidebarFitsViewport()&&t.containerTop<=n&&(e="VIEWPORT-UNBOTTOM"):this.isSidebarFitsViewport()?t.sidebarHeight+n>=t.containerBottom?(t.translateY=t.containerBottom-i,e="CONTAINER-BOTTOM"):n>=t.containerTop&&(t.translateY=n-t.containerTop,e="VIEWPORT-TOP"):t.containerBottom<=s?(t.translateY=t.containerBottom-i,e="CONTAINER-BOTTOM"):i+t.translateY<=s?(t.translateY=s-i,e="VIEWPORT-BOTTOM"):t.containerTop+t.translateY<=n&&(e="VIEWPORT-UNBOTTOM"),t.translateY=Math.max(0,t.translateY),t.translateY=Math.min(t.containerHeight,t.translateY),t.lastViewportTop=t.viewportTop,e}},{key:"_getStyle",value:function(t){if(void 0!==t){var e={inner:{},outer:{}},i=this.dimensions;switch(t){case"VIEWPORT-TOP":e.inner={position:"fixed",top:i.topSpacing,left:i.sidebarLeft-i.viewportLeft,width:i.sidebarWidth};break;case"VIEWPORT-BOTTOM":e.inner={position:"fixed",top:"auto",left:i.sidebarLeft,bottom:i.bottomSpacing,width:i.sidebarWidth};break;case"CONTAINER-BOTTOM":case"VIEWPORT-UNBOTTOM":var s=this._getTranslate(0,i.translateY+"px");e.inner=s?{transform:s}:{position:"absolute",top:i.translateY,width:i.sidebarWidth}}switch(t){case"VIEWPORT-TOP":case"VIEWPORT-BOTTOM":case"VIEWPORT-UNBOTTOM":case"CONTAINER-BOTTOM":e.outer={height:i.sidebarHeight,position:"relative"}}return e.outer=n.extend({height:"",position:""},e.outer),e.inner=n.extend({position:"relative",top:"",left:"",bottom:"",width:"",transform:this._getTranslate()},e.inner),e}}},{key:"stickyPosition",value:function(t){if(!this._breakpoint){t=this._reStyle||t||!1;var i=this.getAffixType(),s=this._getStyle(i);if((this.affixedType!=i||t)&&i){var r="affix."+i.toLowerCase().replace("viewport-","")+e;for(var o in n.eventTrigger(this.sidebar,r),"STATIC"===i?n.removeClass(this.sidebar,this.options.stickyClass):n.addClass(this.sidebar,this.options.stickyClass),s.outer)this.sidebar.style[o]=s.outer[o];for(var a in s.inner){var l="number"==typeof s.inner[a]?"px":"";this.sidebarInner.style[a]=s.inner[a]+l}var u="affixed."+i.toLowerCase().replace("viewport-","")+e;n.eventTrigger(this.sidebar,u)}else this._initialized&&(this.sidebarInner.style.left=s.inner.left);this.affixedType=i}}},{key:"_widthBreakpoint",value:function(){window.innerWidth<=this.options.minWidth?(this._breakpoint=!0,this.affixedType="STATIC",this.sidebar.removeAttribute("style"),n.removeClass(this.sidebar,this.options.stickyClass),this.sidebarInner.removeAttribute("style")):this._breakpoint=!1}},{key:"updateSticky",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._running||(this._running=!0,function(e){requestAnimationFrame(function(){switch(e){case"scroll":t._calcDimensionsWithScroll(),t.observeScrollDir(),t.stickyPosition();break;case"resize":default:t._widthBreakpoint(),t.calcDimensions(),t.stickyPosition(!0)}t._running=!1})}(e.type))}},{key:"_setSupportFeatures",value:function(){var t=this.support;t.transform=n.supportTransform(),t.transform3d=n.supportTransform(!0)}},{key:"_getTranslate",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return this.support.transform3d?"translate3d("+t+", "+e+", "+i+")":!!this.support.translate&&"translate("+t+", "+e+")"}},{key:"destroy",value:function(){window.removeEventListener("resize",this,{caption:!1}),window.removeEventListener("scroll",this,{caption:!1}),this.sidebar.classList.remove(this.options.stickyClass),this.sidebar.style.minHeight="",this.sidebar.removeEventListener("update"+e,this);var t={inner:{},outer:{}};for(var i in t.inner={position:"",top:"",left:"",bottom:"",width:"",transform:""},t.outer={height:"",position:""},t.outer)this.sidebar.style[i]=t.outer[i];for(var n in t.inner)this.sidebarInner.style[n]=t.inner[n];this.options.resizeSensor&&"undefined"!=typeof ResizeSensor&&(ResizeSensor.detach(this.sidebarInner,this.handleEvent),ResizeSensor.detach(this.container,this.handleEvent))}}],[{key:"supportTransform",value:function(t){var e=!1,i=t?"perspective":"transform",n=i.charAt(0).toUpperCase()+i.slice(1),s=document.createElement("support").style;return(i+" "+["Webkit","Moz","O","ms"].join(n+" ")+n).split(" ").forEach(function(t,i){if(void 0!==s[t])return e=t,!1}),e}},{key:"eventTrigger",value:function(t,e,i){try{var n=new CustomEvent(e,{detail:i})}catch(t){(n=document.createEvent("CustomEvent")).initCustomEvent(e,!0,!0,i)}t.dispatchEvent(n)}},{key:"extend",value:function(t,e){var i={};for(var n in t)void 0!==e[n]?i[n]=e[n]:i[n]=t[n];return i}},{key:"offsetRelative",value:function(t){var e={left:0,top:0};do{var i=t.offsetTop,n=t.offsetLeft;isNaN(i)||(e.top+=i),isNaN(n)||(e.left+=n),t="BODY"===t.tagName?t.parentElement:t.offsetParent}while(t);return e}},{key:"addClass",value:function(t,e){n.hasClass(t,e)||(t.classList?t.classList.add(e):t.className+=" "+e)}},{key:"removeClass",value:function(t,e){n.hasClass(t,e)&&(t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," "))}},{key:"hasClass",value:function(t,e){return t.classList?t.classList.contains(e):new RegExp("(^| )"+e+"( |$)","gi").test(t.className)}}]),n}()}();window.StickySidebar=e,function(){if("undefined"!=typeof window){var t=window.$||window.jQuery||window.Zepto;if(t){t.fn.stickySidebar=function(i){return this.each(function(){var n=t(this),s=t(this).data("stickySidebar");if(s||(s=new e(this,"object"==typeof i&&i),n.data("stickySidebar",s)),"string"==typeof i){if(void 0===s[i]&&-1===["destroy","updateSticky"].indexOf(i))throw new Error('No method named "'+i+'"');s[i]()}})},t.fn.stickySidebar.Constructor=e;var i=t.fn.stickySidebar;t.fn.stickySidebar.noConflict=function(){return t.fn.stickySidebar=i,this}}}}()}),function(t){var e=function(t,e,i){"use strict";var n,s;if(function(){var e,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in s=t.lazySizesConfig||t.lazysizesConfig||{},i)e in s||(s[e]=i[e])}(),!e||!e.getElementsByClassName)return{init:function(){},cfg:s,noSupport:!0};var r=e.documentElement,o=t.HTMLPictureElement,a="addEventListener",l="getAttribute",u=t[a].bind(t),c=t.setTimeout,h=t.requestAnimationFrame||c,d=t.requestIdleCallback,p=/^picture$/i,f=["load","error","lazyincluded","_lazyloaded"],m={},g=Array.prototype.forEach,v=function(t,e){return m[e]||(m[e]=new RegExp("(\\s|^)"+e+"(\\s|$)")),m[e].test(t[l]("class")||"")&&m[e]},y=function(t,e){v(t,e)||t.setAttribute("class",(t[l]("class")||"").trim()+" "+e)},_=function(t,e){var i;(i=v(t,e))&&t.setAttribute("class",(t[l]("class")||"").replace(i," "))},b=function(t,e,i){var n=i?a:"removeEventListener";i&&b(t,e),f.forEach(function(i){t[n](i,e)})},w=function(t,i,s,r,o){var a=e.createEvent("Event");return s||(s={}),s.instance=n,a.initEvent(i,!r,!o),a.detail=s,t.dispatchEvent(a),a},T=function(e,i){var n;!o&&(n=t.picturefill||s.pf)?(i&&i.src&&!e[l]("srcset")&&e.setAttribute("srcset",i.src),n({reevaluate:!0,elements:[e]})):i&&i.src&&(e.src=i.src)},k=function(t,e){return(getComputedStyle(t,null)||{})[e]},S=function(t,e,i){for(i=i||t.offsetWidth;i<s.minSize&&e&&!t._lazysizesWidth;)i=e.offsetWidth,e=e.parentNode;return i},C=function(){var t,i,n=[],s=[],r=n,o=function(){var e=r;for(r=n.length?s:n,t=!0,i=!1;e.length;)e.shift()();t=!1},a=function(n,s){t&&!s?n.apply(this,arguments):(r.push(n),i||(i=!0,(e.hidden?c:h)(o)))};return a._lsFlush=o,a}(),x=function(t,e){return e?function(){C(t)}:function(){var e=this,i=arguments;C(function(){t.apply(e,i)})}},E=function(t){var e,n=0,r=s.throttleDelay,o=s.ricTimeout,a=function(){e=!1,n=i.now(),t()},l=d&&o>49?function(){d(a,{timeout:o}),o!==s.ricTimeout&&(o=s.ricTimeout)}:x(function(){c(a)},!0);return function(t){var s;(t=!0===t)&&(o=33),e||(e=!0,(s=r-(i.now()-n))<0&&(s=0),t||s<9?l():c(l,s))}},D=function(t){var e,n,s=function(){e=null,t()},r=function(){var t=i.now()-n;t<99?c(r,99-t):(d||s)(s)};return function(){n=i.now(),e||(e=c(r,99))}},A=function(){var o,d,f,m,S,A,I,O,M,L,N,R,U=/^img$/i,F=/^iframe$/i,j="onscroll"in t&&!/(gle|ing)bot/.test(navigator.userAgent),H=0,z=0,B=-1,W=function(t){z--,(!t||z<0||!t.target)&&(z=0)},Y=function(t){return null==R&&(R="hidden"==k(e.body,"visibility")),R||!("hidden"==k(t.parentNode,"visibility")&&"hidden"==k(t,"visibility"))},V=function(t,i){var n,s=t,o=Y(t);for(O-=i,N+=i,M-=i,L+=i;o&&(s=s.offsetParent)&&s!=e.body&&s!=r;)(o=(k(s,"opacity")||1)>0)&&"visible"!=k(s,"overflow")&&(n=s.getBoundingClientRect(),o=L>n.left&&M<n.right&&N>n.top-1&&O<n.bottom+1);return o},q=function(){var t,i,a,u,c,h,p,f,g,v,y,_,b=n.elements;if((m=s.loadMode)&&z<8&&(t=b.length)){for(i=0,B++;i<t;i++)if(b[i]&&!b[i]._lazyRace)if(!j||n.prematureUnveil&&n.prematureUnveil(b[i]))J(b[i]);else if((f=b[i][l]("data-expand"))&&(h=1*f)||(h=H),v||(v=!s.expand||s.expand<1?r.clientHeight>500&&r.clientWidth>500?500:370:s.expand,n._defEx=v,y=v*s.expFactor,_=s.hFac,R=null,H<y&&z<1&&B>2&&m>2&&!e.hidden?(H=y,B=0):H=m>1&&B>1&&z<6?v:0),g!==h&&(A=innerWidth+h*_,I=innerHeight+h,p=-1*h,g=h),a=b[i].getBoundingClientRect(),(N=a.bottom)>=p&&(O=a.top)<=I&&(L=a.right)>=p*_&&(M=a.left)<=A&&(N||L||M||O)&&(s.loadHidden||Y(b[i]))&&(d&&z<3&&!f&&(m<3||B<4)||V(b[i],h))){if(J(b[i]),c=!0,z>9)break}else!c&&d&&!u&&z<4&&B<4&&m>2&&(o[0]||s.preloadAfterLoad)&&(o[0]||!f&&(N||L||M||O||"auto"!=b[i][l](s.sizesAttr)))&&(u=o[0]||b[i]);u&&!c&&J(u)}},$=E(q),G=function(t){var e=t.target;e._lazyCache?delete e._lazyCache:(W(t),y(e,s.loadedClass),_(e,s.loadingClass),b(e,K),w(e,"lazyloaded"))},X=x(G),K=function(t){X({target:t.target})},Z=function(t){var e,i=t[l](s.srcsetAttr);(e=s.customMedia[t[l]("data-media")||t[l]("media")])&&t.setAttribute("media",e),i&&t.setAttribute("srcset",i)},Q=x(function(t,e,i,n,r){var o,a,u,h,d,m;(d=w(t,"lazybeforeunveil",e)).defaultPrevented||(n&&(i?y(t,s.autosizesClass):t.setAttribute("sizes",n)),a=t[l](s.srcsetAttr),o=t[l](s.srcAttr),r&&(h=(u=t.parentNode)&&p.test(u.nodeName||"")),m=e.firesLoad||"src"in t&&(a||o||h),d={target:t},y(t,s.loadingClass),m&&(clearTimeout(f),f=c(W,2500),b(t,K,!0)),h&&g.call(u.getElementsByTagName("source"),Z),a?t.setAttribute("srcset",a):o&&!h&&(F.test(t.nodeName)?function(t,e){var i=t.getAttribute("data-load-mode")||s.iframeLoadMode;0==i?t.contentWindow.location.replace(e):1==i&&(t.src=e)}(t,o):t.src=o),r&&(a||h)&&T(t,{src:o})),t._lazyRace&&delete t._lazyRace,_(t,s.lazyClass),C(function(){var e=t.complete&&t.naturalWidth>1;m&&!e||(e&&y(t,s.fastLoadedClass),G(d),t._lazyCache=!0,c(function(){"_lazyCache"in t&&delete t._lazyCache},9)),"lazy"==t.loading&&z--},!0)}),J=function(t){if(!t._lazyRace){var e,i=U.test(t.nodeName),n=i&&(t[l](s.sizesAttr)||t[l]("sizes")),r="auto"==n;(!r&&d||!i||!t[l]("src")&&!t.srcset||t.complete||v(t,s.errorClass)||!v(t,s.lazyClass))&&(e=w(t,"lazyunveilread").detail,r&&P.updateElem(t,!0,t.offsetWidth),t._lazyRace=!0,z++,Q(t,e,r,n,i))}},tt=D(function(){s.loadMode=3,$()}),et=function(){3==s.loadMode&&(s.loadMode=2),tt()},it=function(){d||(i.now()-S<999?c(it,999):(d=!0,s.loadMode=3,$(),u("scroll",et,!0)))};return{_:function(){S=i.now(),n.elements=e.getElementsByClassName(s.lazyClass),o=e.getElementsByClassName(s.lazyClass+" "+s.preloadClass),u("scroll",$,!0),u("resize",$,!0),u("pageshow",function(t){if(t.persisted){var i=e.querySelectorAll("."+s.loadingClass);i.length&&i.forEach&&h(function(){i.forEach(function(t){t.complete&&J(t)})})}}),t.MutationObserver?new MutationObserver($).observe(r,{childList:!0,subtree:!0,attributes:!0}):(r[a]("DOMNodeInserted",$,!0),r[a]("DOMAttrModified",$,!0),setInterval($,999)),u("hashchange",$,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach(function(t){e[a](t,$,!0)}),/d$|^c/.test(e.readyState)?it():(u("load",it),e[a]("DOMContentLoaded",$),c(it,2e4)),n.elements.length?(q(),C._lsFlush()):$()},checkElems:$,unveil:J,_aLSL:et}}(),P=function(){var t,i=x(function(t,e,i,n){var s,r,o;if(t._lazysizesWidth=n,n+="px",t.setAttribute("sizes",n),p.test(e.nodeName||""))for(r=0,o=(s=e.getElementsByTagName("source")).length;r<o;r++)s[r].setAttribute("sizes",n);i.detail.dataAttr||T(t,i.detail)}),n=function(t,e,n){var s,r=t.parentNode;r&&(n=S(t,r,n),(s=w(t,"lazybeforesizes",{width:n,dataAttr:!!e})).defaultPrevented||(n=s.detail.width)&&n!==t._lazysizesWidth&&i(t,r,s,n))},r=D(function(){var e,i=t.length;if(i)for(e=0;e<i;e++)n(t[e])});return{_:function(){t=e.getElementsByClassName(s.autosizesClass),u("resize",r)},checkElems:r,updateElem:n}}(),I=function(){!I.i&&e.getElementsByClassName&&(I.i=!0,P._(),A._())};return c(function(){s.init&&I()}),n={cfg:s,autoSizer:P,loader:A,init:I,uP:T,aC:y,rC:_,hC:v,fire:w,gW:S,rAF:C}}(t,t.document,Date);t.lazySizes=e,"object"==typeof module&&module.exports&&(module.exports=e)}("undefined"!=typeof window?window:{}),function(t,e){var i=function(){e(t.lazySizes),t.removeEventListener("lazyunveilread",i,!0)};e=e.bind(null,t,t.document),"object"==typeof module&&module.exports?e(require("lazysizes")):"function"==typeof define&&define.amd?define(["lazysizes"],e):t.lazySizes?i():t.addEventListener("lazyunveilread",i,!0)}(window,function(t,e,i){"use strict";var n,s,r={};function o(t,i,n){var s,o;r[t]||(s=e.createElement(i?"link":"script"),o=e.getElementsByTagName("script")[0],i?(s.rel="stylesheet",s.href=t):(s.onload=function(){s.onerror=null,s.onload=null,n()},s.onerror=s.onload,s.src=t),r[t]=!0,r[s.src||s.href]=!0,o.parentNode.insertBefore(s,o))}e.addEventListener&&(n=function(t,i){var n=e.createElement("img");n.onload=function(){n.onload=null,n.onerror=null,n=null,i()},n.onerror=n.onload,n.src=t,n&&n.complete&&n.onload&&n.onload()},addEventListener("lazybeforeunveil",function(t){var e,r,a;if(t.detail.instance==i&&!t.defaultPrevented){var l=t.target;if("none"==l.preload&&(l.preload=l.getAttribute("data-preload")||"auto"),null!=l.getAttribute("data-autoplay"))if(l.getAttribute("data-expand")&&!l.autoplay)try{l.play()}catch(t){}else requestAnimationFrame(function(){l.setAttribute("data-expand","-10"),i.aC(l,i.cfg.lazyClass)});(e=l.getAttribute("data-link"))&&o(e,!0),(e=l.getAttribute("data-script"))&&(t.detail.firesLoad=!0,o(e,null,function(){t.detail.firesLoad=!1,i.fire(l,"_lazyloaded",{},!0,!0)})),(e=l.getAttribute("data-require"))&&(i.cfg.requireJs?i.cfg.requireJs([e]):o(e)),(r=l.getAttribute("data-bg"))&&(t.detail.firesLoad=!0,n(r,function(){l.style.backgroundImage="url("+(s.test(r)?JSON.stringify(r):r)+")",t.detail.firesLoad=!1,i.fire(l,"_lazyloaded",{},!0,!0)})),(a=l.getAttribute("data-poster"))&&(t.detail.firesLoad=!0,n(a,function(){l.poster=a,t.detail.firesLoad=!1,i.fire(l,"_lazyloaded",{},!0,!0)}))}},!(s=/\(|\)|\s|'/)))});
