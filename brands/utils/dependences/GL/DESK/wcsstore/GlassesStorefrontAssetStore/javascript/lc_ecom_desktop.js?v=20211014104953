function initFrameLenses(e,n,t){var a=e||window.productDetails.currentProductId,s=n;if(!GLRXCModule.isLoadingLenses){GLRXCModule.isLoadingLensesChange(!0),$(".product-box-detail .edit-lens i").show();var r=window.productDetails.getSubProduct(a,n);$.ajax({url:getAbsoluteURL()+"AjaxInventoryCheckAvailability",data:{itemCatentryId:n,skuPartNumber:r.partNumber},type:"GET",headers:{"Cache-Control":"no-cache"}}).done(function(e){var t=window.productDetails.getSubProduct(a,n);t.hasInventoryServiceLoaded=!0,disablePdpLensSelectionLoading(a,n);var s=$("#detail_box_content_"+a+" .js-addLenses-button"),r=$("#soldout");void 0!==e&&void 0!==e.buyable&&1==e.buyable?(t.buyable=1,s.show(),r.addClass("hidden")):void 0!==e&&void 0!==e.buyable&&0==e.buyable&&(t.buyable=0,s.attr("style","display: none !important"),r.removeClass("hidden"))}).fail(function(e){console.log("Error calling AjaxInventoryCheckAvailability: "+e)});var i="/wcs/resources/store/"+constants.ajaxParams.storeId+"/catalog/"+constants.ajaxParams.catalogId+"/rxc/frameId/"+n+"/lenses";window.defLenses=$.ajax({url:i,dataType:"json"}).done(function(r){GLRXCModule.isLoadingLensesChange(!1),GLRXCModule.setCurrentFrameId(s),window.productDetails.getSubProduct(a,n).hasLensesServiceLoaded=!0,disablePdpLensSelectionLoading(a,n),LC2.currentLenses=r.response.data,pdpLensInfo=r.response.data,$("#current_lenses_product_id").val(s),"ok"==r.response.status&&LC2.pdpUtils.isRXCLensJsonValid(r.response.data)&&($(".select-edit-lens, .edit-lens-link, .edit-link, .js-addLenses-button").disabled=!1),LC2.pdpUtils.initRXCLensSelection(),void 0!==t&&t(e,n)}).fail(function(e,n,t){var a="Cannot add lenses";void 0!==e&&(a+=" - "+e.status);var s={id:"Error",Error_Source:"Client",Error_Code:"Pdp",Error_Details:a+=" : "+t};tealium_data2track.push(s)})}}function initRXC(e,n){var t,a,s=window.productDetails.map.get(e),r=window.productDetails.getSubProduct(e,n);null==r&&(r=window.productDetails.getSibling(e,n)),null!=r.category&&void 0!==r.category&&"SUNGLASSES"==(""+r.category).toUpperCase()?(a="SUNGLASSES",t="999"):(a="EYEGLASSES",t="99");var i={content:pdpLensInfo.content,packages:null},o=GLRXCModule.getRXCLensPackages(r.price.replace("$","").trim(),a);o.length>0&&(i.packages=o);var l="https://assets.glasses.com/is/image/Glasses/"+r.partNumber+"__002.png?impolicy=GL_parameters_transp&width=860",c=s.brandLogoImg.url,d=r.model,u=(r.colorCode+"").replace("/","_"),p=s.name,g=r.sku.length>0?r.sku:p,f={};void 0!=r.rxcFrameMinTotalPower&&null!=r.rxcFrameMinTotalPower?f.powerCombinedMin=r.rxcFrameMinTotalPower:f.powerCombinedMin="-99",void 0!=r.rxcFrameMaxTotalPower&&null!=r.rxcFrameMaxTotalPower?f.powerCombinedMax=r.rxcFrameMaxTotalPower:f.powerCombinedMax="99",void 0===window.framesLensesSelection&&(window.framesLensesSelection=[]);var h=window.framesLensesSelection[n],m=r.originalPrice.replace("$","").trim(),P=m;try{P=r.price.replace("$","").trim()}catch(e){console.error(e)}var _={selector:"#rxcApp",baseURLs:{genericImage:"https://assets.glasses.com/extra/image/Glasses/LOGOS/rxc/",projectImage:"https://assets.glasses.com/extra/image/Glasses/LOGOS/rxc/",framesImage:"https://assets.glasses.com/is/image/Glasses",assetsCDN:"https://assets.glasses.com",learnMoreBaseEndpoint:"/wcs/resources/store/15951/espot/"},unbrandedFrameImages:{rayban:{default:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860",unbranded:"https://assets.glasses.com/extra/image/rxc/frames/#MO#__#CO#__RXP__nologo__qt.png?impolicy=GL_parameters_transp&width=860",rayban:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860"},raybanjr:{default:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860",unbranded:"https://assets.glasses.com/extra/image/rxc/frames/#MO#__#CO#__RXP__nologo__qt.png?impolicy=GL_parameters_transp&width=860",rayban:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860"},oakley:{default:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860",unbranded:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860",oakley:"https://assets.glasses.com/extra/image/rxc/frames/#MO#__#CO#__RXP__logo__qt.png?impolicy=GL_parameters_transp&width=860"},default:{default:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860",unbranded:"https://assets.glasses.com/extra/image/Glasses/#PARTNUMBER#__002.png?impolicy=GL_parameters_transp&width=860"}},translation:{language:"en_US",brand:"GL"},brand:"glasses",insuranceModule:GLRXCInsuranceModule,actionsModule:GLRXCModule,prescriptionModule:GLRXCPrescriptionModule,lensesData:i,cartMode:window.cartModeOrderItemEdited,data:{langId:constants.ajaxParams.langId,storeId:constants.ajaxParams.storeId,frame:{catEntryId:n,name:null!=p?p:g,partNumber:r.partNumber,upc:r.partNumber,color:u.length>0?u:"0",model:d.length>0?d:"0",listPrice:m,offerPrice:P,brand:s.brandName,imageUrl:l,brandImageUrl:c,category:a,rxValues:f},frameOnlyLensUPC:t,lens:{catEntryId:h}},paymentInstallment:{type:"affirm",installments:3}};return void 0!==window.cartModeOrderItemEdited&&(_.cartMode=window.cartModeOrderItemEdited),_}"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict";if(null==e)throw new TypeError("Cannot convert undefined or null to object");e=Object(e);for(var n=1;n<arguments.length;n++){var t=arguments[n];if(null!=t)for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e}),function(e){void 0===window.LC2&&(window.LC2={});var n=window.LC2;n.filterOnlyDigitsInput=function(e){var n=e.selectionStart,t=e.selectionEnd;e.value=e.value.replace(/[^\d]/g,""),e.setSelectionRange(n,t)},n.accordionMenus=function(n){var t=n||e(".accordion-menu");"function"!=typeof t.each&&(t=e(t)),t.each(function(){var n=e(this);if("yes"===n.data("accordioned"))return!0;n.data("accordioned","yes");var t=n.children("li").children("a");t.length&&t.each(function(){var n=e(this),a=n.parent(),s=n.siblings().first();s.length&&n.on("click",function(e){e.preventDefault(),a.toggleClass("expanded"),n.toggleClass("expanded"),t.not(n).next().stop().slideUp("fast").parent().removeClass("expanded"),t.not(n).removeClass("expanded"),s.removeClass("hide"),s.stop().slideToggle("fast")})})})},n.submitStepData=function(e,n){var t=e.split("."),a=t.slice(0,t.length-1),s=t[t.length-1],r=window;a.forEach(function(e){r=r[e]}),r[s].call(null,n)},n.invokeAvalaraService=function(t,a){e.ajax({url:t,dataType:"json",success:function(t){switch(t.resp_status){case"error":var s='<div id="avalara-err-message"><h2>'+t.error_title+"</h2><p>"+t.error_message+"</p></div>";n.dynamicDialogCreation("avalara-err-message",s,null,null,"500");break;case"warning":"unrecognized"===t.warning_type&&(e(".address-validation-area").removeClass("hide"),e("body").animate({scrollTop:e(".address-validation-area").offset().top},200));break;case"success":a()}}})},n.initSlideshowListeners=function(){var n=e(".item-image-options > .views-buttons > a"),t=[];n.each(function(){t.push(e(this)[0].id)}),e(".product").find(".left-arrow, .right-arrow").on("click",function(e){var a,s=n.filter(".active")[0].id,r=t.indexOf(s);switch(e.currentTarget.className){case"left-arrow":a=(--r+t.length)%t.length;break;case"right-arrow":a=(++r+t.length)%t.length}var i=t[a];n.filter(function(e,n){return n.id===i}).trigger("click")})},n.stickyTopMobileCheckout=function(){e(window).on("scroll",function(){window.scrollY>1?e(".progress-sticky-brief").hasClass("hide")&&(e(".progress-sticky-complete").addClass("hide"),e(".progress-sticky-brief").removeClass("hide")):(e(".progress-sticky-complete").removeClass("hide"),e(".progress-sticky-brief").addClass("hide"))})},n.dynamicDialogCreation=function(n,t,a,s,r){var i=e("body");i.find("#"+n).length||i.append(t),r=r||90*window.screen.availWidth/100,isNaN(Number(r))||(r+="px"),e("#"+n).dialog({modal:!0,resizeable:!1,width:r,open:function(){e(".ui-widget-overlay").addClass("black-overlay"),a&&a()},close:function(){s&&s()}})},n.initPdpUtils=function(){function t(n){return Object.assign?Object.assign({},n):e.extend(!0,{},n)}n.pdpUtils={isLensJsonValid:function(e){var n=!0;return e&&Object.keys(e).length&&e.lens_categories&&e.lens_categories.length?e.lens_categories.forEach(function(e){e.lenses.length||(n=!1)}):n=!1,n},isRXCLensJsonValid:function(e){var n=!0;return e&&Object.keys(e).length?(e.content||(n=!1),e.lenses||(n=!1)):n=!1,n},openPupillaryDistance:function(e,t){var a='<div id="'+e+'"><h2>Pupillary Distance</h2><img src="/wcsstore/LensCraftersStorefrontAssetStore/images/pupillary-distance.jpg" /></div>';n.dynamicDialogCreation(e,a,null,null,t)},openJsonInvalidModal:function(e,t){var a='<div id="'+e+'"><div id="checkout-back-warning" class="back-warning black-overlay"><div><h3>Error</h3><p>Drats! It looks like the glasses you picked can\'t be customized yet. We\'re working to fix that. For now, grab them as is by adding to your cart.</p></div></div></div>';n.dynamicDialogCreation(e,a,t)},checkoutStepBackConfirm:function(t,a,s){var r=getConfirmationDialogCheckout(t);n.dynamicDialogCreation(t,r,function(){e("body").on("click","#"+t+" .yes-response",function(e){e.preventDefault(),window.location.replace(s.href)}),e("body").on("click","#"+t+" .no-response",function(n){n.preventDefault(),e("#"+t).dialog("close")})},null,"500")},openExitingFromLensSelection:function(t,a){var s=getConfirmationDialog(t);n.dynamicDialogCreation(t,s,function(){e("body").on("click","#"+t+" .yes-response",function(n){n.preventDefault(),e("#"+t).dialog("close"),e("#lens-selection-area").data("bypassBeforeClose",!0),closeLensSelectionModal()}),e("body").on("click","#"+t+" .no-response",function(n){n.preventDefault(),e("#"+t).dialog("close")})},null,"500")},checkStepToBeHidden:function(n,t){var a=0;return e(".step-template-html").each(function(){e(this).data("stepmounted")&&a++}),3===a&&n&&t&&showModalStep(2),3===a&&n&&!t&&showModalStep(1),2===a&&n&&showModalStep(1),1===a&&showModalStep(0),a},printLensInfoIntoMenu:function(n){n.name&&(n.listPrice||0==n.listPrice)&&(RiaHelper.isInsuranceOn()&&void 0!==n.originalPrice?e(".lens-section .price").html("$"+parseFloat(n.originalPrice).toFixed(2)):e(".lens-section .price").html("$"+parseFloat(n.listPrice).toFixed(2)),n.name==e("#planoName").val()?(e(".lens-section").addClass("hide"),e("li.lens-subsection").removeClass("selected")):(e(".lens-section").removeClass("hide"),e("li.lens-subsection").addClass("selected"),e("li.lens-subsection .lens-material-container p").text(n.material)),e(".lens-hidden-data > .lensCatentryId").val(n.lens_id),e(".lens-hidden-data > .lensPrice").val(n.listPrice),e(".lens-hidden-data > .lensSaving").val(n.offerPrice),e(".lens-hidden-data > .lensUPC").val(n.UPC))},printColor:function(n){e(".lens-subsection .lens-color-container .existing-lens-color").text(n.color),n.lens_sku_code==e("#planoCodeSku").val()?e(".lens-subsection .existing-lens-selection-text").addClass("hide"):e(".lens-subsection .existing-lens-selection-text").removeClass("hide"),e(".lens-hidden-data > .lensColor").val(n.color),e(".lens-hidden-data > .lens_sku_id").val(n.lens_sku_id)},getPropFromLensId:function(e,n,t,a){var s;return e.lens_categories.forEach(function(e){e.lenses.forEach(function(e){e.lens_id==t&&(a?e.lens_color_categories.forEach(function(e){e.skus.forEach(function(e){e.lens_sku_id==a&&(s=e[n])})}):s=e.lens_color_categories[0].skus[0][n])})}),s},getPropFromLensProduct:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.lenses.forEach(function(e){e.lens_id==t&&(a=e[n])})}),a},getPdpInfoSubset:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&(a=e)})}),a},getAddonsInfoSubset:function(e,n,t){var a=[];return void 0!=t&&0!=t.length&&e.lens_categories.forEach(function(e){e.lenses.forEach(function(e){e.lens_id.toString()==n&&e.addons.forEach(function(e){t.forEach(function(n){e.addon_id.toString()==n&&a.push(e)})})})}),a},getLenseNameFromJson:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&(a=e.name)})}),a},getLensCodeFromJson:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&(a=e.lens_code)})}),a},getLensePriceFromJson:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&(a=e.current_price)})}),a},getLenseListPriceFromJson:function(e,n,t){var a;return e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&(a=e.list_price)})}),a},getAddonNameFromJson:function(e,n,t,a){var s=[];return void 0!=a&&0!=a.length&&e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&e.addons.forEach(function(e){a.forEach(function(n){e.addon_id.toString()==n&&s.push(e.name)})})})}),s},getAddonPriceFromJson:function(e,n,t,a){var s=[];return void 0!=a&&0!=a.length&&e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&e.addons.forEach(function(e){a.forEach(function(n){e.addon_id.toString()==n&&s.push(e.current_price)})})})}),s},getAddonListPriceFromJson:function(e,n,t,a){var s=[];return void 0!=a&&0!=a.length&&e.lens_categories.forEach(function(e){e.name.toString()==n&&e.lenses.forEach(function(e){e.lens_id.toString()==t&&e.addons.forEach(function(e){a.forEach(function(n){e.addon_id.toString()==n&&s.push(e.list_price)})})})}),s},formatJson:function(e,n,a){return t({selectedItem:e,addons:e.addons,mobile:!!a})},formatJsonWithCurrentProductInfo:function(e,n,a){var s=n.price.replace("$","").trim(),r=n.originalPrice.replace("$","").trim(),i=n.originalPrice;return t({lens_categories:e.lens_categories,currentSubProduct:n,currentProduct:a,currentSubProductPrice:s,originalPrice:i,listPrice:r})},formatJsonWithCurrentProductInfoAndInsurance:function(e,n,a,s){var r=n.price.replace("$","").trim(),i=n.originalPrice.replace("$","").trim(),o=n.originalPrice;return t({lens_categories:e.lens_categories,currentSubProduct:n,currentProduct:a,currentSubProductPrice:r,isInsuranceOn:s,originalPrice:o,listPrice:i})},mountStepOnRadioClick:function(e,t,a,s,r){var i=!1;s&&(i=s.isOnlyStep1Radio()),i?setTimeout(r,100):n.pdpUtils.mountStep(e,t,a)},addInfoToObj:function(e){e.lens_categories=e.lens_categories.map(function(n){return n.lenses.forEach(function(n){var t=0;n.lens_color_categories.forEach(function(e){t+=e.skus.length}),n.lens_color_categories.forEach(function(e){e.skus[0].onlyOneSkus=1===t}),n.onlyStep1=!e.addons.length&&1===t&&!n.ehnancements}),n})},hideErrorMessages:function(){e("#lens-selection-area .required").hide()},mountStep:function(t,a,s){var r,i;Handlebars.registerHelper("onlyDigits",function(e){return e.replace(/\D/g,"")}),n.pdpUtils.hideErrorMessages(),r=e(a).html(),i=Handlebars.compile(r)(t),i=e("<span />",{html:i}).html().replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&gt;/g,">"),e(s+" > .step-template-html").data("stepmounted",!0).html(i),RiaHelper.isInsuranceOn()?(e("#insurance-switch-pdp-step-1").attr("checked",!0),e("#insurance-switch-pdp-step-2").attr("checked",!0)):(e("#insurance-switch-pdp-step-1").attr("checked",!1),e("#insurance-switch-pdp-step-2").attr("checked",!1)),affirmUpdatePrice("#lens-selection-area")},getSelectedProductInfo:function(e){var n={};return n.name=e.data("name"),n.listPrice=e.data("listprice"),n.offerPrice=e.data("offerprice"),n.originalPrice=e.data("price"),n.lens_id=e.data("lensid"),n.UPC=e.data("lens-upc"),n.material=e.data("lens-material"),n},getQueryStringParams:function(e){for(var n=window.location.search.substring(1).split("&"),t=0;t<n.length;t++){var a=n[t].split("=");if(a[0]==e)return a[1]}},autoOpenLensSelection:function(e){var t=n.pdpUtils.getQueryStringParams("lensPopup");(t=parseInt(t,10))&&e&&e.trigger("click")},initModalTabs:function(){var n=e("#lens-selection-modal-tabs > div.tab-panes > div");e.each(n,function(n,t){if(""==e(t).find("div").html().trim()){var a=e(t).attr("id");e("a[href=#"+a+"]").parent().remove(),e(t).remove()}});n=e("#lens-selection-modal-tabs > div.tab-panes > div");e("#lens-selection-modal-tabs > ul").tabs(n,{current:"active",initialIndex:e("#lens-selection-modal-tabs > ul > div >a.Poly").data("index")?e("#lens-selection-modal-tabs > ul > div >a.Poly").data("index")-1:0,history:!0})},initLensSelection:function(){if(n.pdpUtils.isLensJsonValid(n.currentLenses)){var t=window.productDetails.currentProductId,a=window.productDetails.currentSubProductId,s=window.productDetails.getSubProduct(t,a);null==s&&(s=window.productDetails.getSibling(t,a));var r=window.productDetails.get(t),i=n.pdpUtils.formatJsonWithCurrentProductInfo(n.currentLenses,s,r);let o=!1;e.each(n.currentLenses.lens_categories[0].lenses,function(e,n){("PlanoSun"==n.lens_code||n.lens_code.indexOf("OAK_")>0)&&(o=!0)}),i.brand=window.productDetails.map.get(window.productDetails.currentProductId).brandName,i.category="SUNGLASSES"==s.category||o,n.pdpUtils.mountStep(i,"#lens-selection-area-template-lens-selection","#lens-selection-area-1")}else e("a[rel=#select-a-lens-type]").removeClass("hide").on("click",function(e){e.stopPropagation(),n.pdpUtils.openJsonInvalidModal("modal-json-error")});new PerfectScrollbar(e(".o-steps__scrollable.js-y-scroll")[0],{handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],wheelPropagation:!0,swipeEasing:!0})},initRXCLensSelection:function(){if(n.pdpUtils.isRXCLensJsonValid(n.currentLenses)){var t=window.productDetails.currentProductId,a=window.productDetails.currentSubProductId,s=window.productDetails.getSubProduct(t,a);null==s&&(s=window.productDetails.getSibling(t,a));var r=window.productDetails.get(t),i=n.pdpUtils.formatJsonWithCurrentProductInfo(n.currentLenses,s,r);let o=!1;e.each(n.currentLenses.lenses,function(e,n){("PlanoSun"==n.lens_sku_code||n.lens_sku_code.indexOf("OAK_")>0)&&(o=!0)}),i.brand=window.productDetails.map.get(window.productDetails.currentProductId).brandName,i.category="SUNGLASSES"==s.category||o}else e("a[rel=#select-a-lens-type]").removeClass("hide").on("click",function(e){e.stopPropagation(),n.pdpUtils.openJsonInvalidModal("modal-json-error")})},initLensSelectionSteps:function(t,a){n.currentLenses.selectedLensType=t,n.currentLenses.selectedLensProduct=a;var s=n.currentLenses;if(n.pdpUtils.isLensJsonValid(s)){1===s.lens_categories.length&&s.lens_categories[0].lenses.length;var r=n.pdpUtils.getPdpInfoSubset(s,t,a),i=window.productDetails.currentProductId,o=window.productDetails.currentSubProductId,l=window.productDetails.getSubProduct(i,o),c=window.productDetails.get(i),d=n.pdpUtils.formatJsonWithCurrentProductInfoAndInsurance(r,l,c,RiaHelper.isInsuranceOn());d.selectedLensType=t,d.selectedItem=r,n.pdpUtils.mountStep(d,"#lens-selection-area-template","#lens-selection-area-2"),n.pdpUtils.initModalTabs()}else e("a[rel=#select-a-lens-type]").removeClass("hide").on("click",function(e){e.stopPropagation(),n.pdpUtils.openJsonInvalidModal("modal-json-error")})}}}}(jQuery),$.fn.toggleClasses=function(e,n){this.hasClass(e)?(this.removeClass(e),this.addClass(n)):(this.removeClass(n),this.addClass(e))},$.fn.showOnlyCheckedRadio=function(e){this.each(function(){var n=$(this),t=n.attr("rel"),a=$("#"+t);n.is(":checked")?a.removeClass(e):a.addClass(e)})},$.fn.getAssociatedRadios=function(){var e=$(this).attr("name");return $("input[type=radio][name="+e+"]")},$.fn.onSelectedChange=function(){$(this).getAssociatedRadios().showOnlyCheckedRadio("closed")},$.fn.isGroupType=function(e){var n=$(this).attr("name");return n&&n.indexOf(e)>-1},$.fn.getAssociatedGroupHiddenField=function(e){var n=!1,t=$(this).attr("name"),a=t.indexOf("_");if(a){var s=t.substr(0,a);n=$("input[name="+(s+e)+"]")}return n},$.fn.getAssociatedGroupFields=function(e){var n=$(this),t=!1;if(n.isGroupType(e)){var a=n.attr("name"),s=a.substr(0,a.length-1);t=$("[name^="+s+"]")}return t},$.fn.areAllGroupFieldsValid=function(e){var n=$(this).getAssociatedGroupFields(e),t=!0;return n&&n.each(function(){$(this).hasClass("required")&&(t=!1)}),t},function(e,n){window.LC2.initPdpUtils(),e.fn.isOnlyStep1Radio=function(){return!!e(this).data("onlystep1")}}(jQuery),window.rxcTranslations={GL:{en_US:{backToProductPage:"Back to frame selection",steps:{type:{title:"Select your vision need",confirmedTitle:"Use"},brand:{title:"Choose your lens brand",confirmedTitle:"Lens Brand"},thickness:{title:"Select your lens thickness",confirmedTitle:"Thickness"},treatments:{title:"Complete your lens",confirmedTitle:"Treatments",alreadyIncluded:"Already included with your lens",noTreatments:"Continue without extra treatments",selectTreatmentInsurance:"Select treatment to see your benefits applied",applyAndContinue:"Apply & Continue",continue:"Continue",antiReflective:{title:"Anti-reflective treatment"},blueLight:{title:"Blue light treatment"},transition:{title:"Light responsive treatment",blueLightIncluded:"For two glasses in one, with blue light treatment included.",blueLightAlertDeskEspotName:"D_LensPanel_TransitionsMessage",blueLightAlertMobEspotName:"M_LensPanel_TransitionsMessage"},extraTreatments:{uvProtection:{title:"UV protection & scratch-resistant",imageFileName:"treatment-uv-scratch"},antiScratch:{title:"Scratch-resistant",imageFileName:"treatment-scratch"}}},warranty:{title:"Add repair and replacement coverage",oneYear:"One-year protection plan",twoYear:"Two-year protection plan"}},prescription:{proceedCheckboxError:"Click on the box to proceed"}}}},function(e,n){void 0===window.GLRXCModule&&(window.GLRXCModule={});var t=window.GLRXCModule;t.isLoadingLenses=!1,t.currentFrameId=null,t.isLoadingLensesChange=function(e){t.isLoadingLenses=e},t.setCurrentFrameId=function(e){t.currentFrameId=e},t.getRXCLensPackages=function(s,r){a.utagProducts=utag_data.Products;var i=[];if(n.pdpUtils.isRXCLensJsonValid(pdpLensInfo)){var o={frame:{offerPrice:s,insPrice:null,promoType:null},lensPackage:{blueLight:null,catEntryId:null,productPartNumber:null,productUPC:null,transition:null,type:null,uvProtection:!1,productCatEntryId:null,antiScratch:!1,color:null,clen:null,listPrice:null,offerPrice:null,insPrice:null,insurable:null,brand:null,thickness:null,isBaseLens:null,isMirror:null,badge:null,antiReflective:"Standard",polar:null,partNumber:null,upc:null,colorCategory:null,lensMaterial:null,suitableForDriving:!1,recommendedUse:null,designType:null,bundleName:null,rxValues:{sph:{min:"-99.00",max:"99.00"},cyl:{min:"-99.00",max:"99.00"},add:{min:"-99.00",max:"99.00"},ax:null,pd:null}}};e.each(n.currentLenses.lenses,function(e,n){var a=JSON.parse(JSON.stringify(o));if(a.lensPackage.catEntryId=n.lens_sku_id,a.lensPackage.productPartNumber=n.lens_parent_code,a.lensPackage.productUPC=n.lens_parent_code,a.lensPackage.type=n.type,a.lensPackage.productCatEntryId=n.lens_parent_id,a.lensPackage.listPrice=n.list_price,a.lensPackage.offerPrice=n.current_price,a.lensPackage.brand=n.brand,a.lensPackage.thickness=n.thickness,a.lensPackage.uvProtection=n.uvProtection,a.lensPackage.antiScratch=n.antiScratch,a.lensPackage.badge=n.badge,a.lensPackage.partNumber=n.lens_sku_code,a.lensPackage.upc=n.lens_sku_code,a.lensPackage.color=n.lens_color,a.lensPackage.colorCategory=n.lensColorCategory,a.lensPackage.polar=n.polar,"progressive"!=(n.type+"").toLowerCase()&&(a.lensPackage.rxValues.add=null),"undefined"!==n.insurable&&null!=n.insurable&&("Y"==n.insurable?a.lensPackage.insurable=!0:"N"==n.insurable&&(a.lensPackage.insurable=!1)),"undefined"!==n.isBaseLens&&null!=n.isBaseLens&&("true"==n.isBaseLens?a.lensPackage.isBaseLens=!0:"false"==n.isBaseLens&&(a.lensPackage.isBaseLens=!1)),"undefined"!==n.isMirror&&null!=n.isMirror&&("Y"==n.isMirror?a.lensPackage.isMirror=!0:"N"==n.isMirror&&(a.lensPackage.isMirror=!1)),"undefined"!==n.lensColorCode&&null!=n.lensColorCode&&(a.lensPackage.clen=""+n.lensColorCode.trim()),null!=r&&"EYEGLASSES"==r&&(null!=n.brand&&"oakley"==n.brand.toLowerCase()?a.lensPackage.antiReflective="Premium":a.lensPackage.antiReflective="Standard"),null!=r&&"SUNGLASSES"==r&&(a.lensPackage.antiReflective=n.antiReflective),i.push(t.prepareUPCAndPrice(a,[])),"99"!=n.lens_sku_code&&"999"!=n.lens_sku_code&&null!=r&&"EYEGLASSES"==r)switch(n.brand.toLowerCase()){case"ray-ban":i=t.getRBPackages(n,a,i);break;case"oakley":0==n.lens_sku_code.indexOf("ImpactResistent")&&(i=t.getOOPackages(n,a,i));break;default:i=t.getUnbrandedPackages(n,a,i,"ImpactResistent")}"99"!=n.lens_sku_code&&"999"!=n.lens_sku_code&&null!=r&&"SUNGLASSES"==r&&(a=t.prepareUPCAndPrice(a,[]))})}return i},t.getRBPackages=function(n,a,s){var r=s,i=null,o=null,l=null,c=[];e.each(n.addons,function(e,n){0==n.addon_sku_code.indexOf("CleanShieldElite")?i=n:0==n.addon_sku_code.indexOf("BlueLight")?o=n:0==n.addon_sku_code.indexOf("Transitions")&&(l=n)});var d=JSON.parse(JSON.stringify(a));if(d.lensPackage.isBaseLens=!1,null!=i){d.lensPackage.antiReflective=i.antiReflective,(c=[]).push(i);var u=t.prepareUPCAndPrice(d,c);if(r.push(u),null!=o){var p=JSON.parse(JSON.stringify(u));p.lensPackage.blueLight=o.blueLight,(c=[]).push(o),p=t.prepareUPCAndPrice(p,c),r.push(p);var g=JSON.parse(JSON.stringify(a));if(g.lensPackage.isBaseLens=!1,g.lensPackage.blueLight=o.blueLight,g=t.prepareUPCAndPrice(g,c),r.push(g),null!=l){var f=JSON.parse(JSON.stringify(p));f.lensPackage.transition=l.transition,f.lensPackage.color=l.color,(c=[]).push(l),f=t.prepareUPCAndPrice(f,c),r.push(f);var h=JSON.parse(JSON.stringify(g));h.lensPackage.transition=l.transition,h.lensPackage.color=l.color,h=t.prepareUPCAndPrice(h,c),r.push(h)}}}return r},t.getOOPackages=function(n,a,s){var r=s,i=[],o=null,l=[];if(e.each(n.addons,function(e,t){0==t.addon_sku_code.indexOf("GamingProg")&&n.lens_sku_code.indexOf("Prog")>0||0==t.addon_sku_code.indexOf("Gaming_")&&n.lens_sku_code.indexOf("Prog")<0?o=t:0==t.addon_sku_code.indexOf("Transitions")&&i.push(t)}),i.length>0&&e.each(i,function(e,n){var s=JSON.parse(JSON.stringify(a));s.lensPackage.isBaseLens=!1,s.lensPackage.transition=n.transition,s.lensPackage.blueLight=n.blueLight,s.lensPackage.color=n.color,(l=[]).push(n),r.push(t.prepareUPCAndPrice(s,l))}),null!=o){var c=JSON.parse(JSON.stringify(a));c.lensPackage.isBaseLens=!1,c.lensPackage.blueLight=o.blueLight,c.lensPackage.color=o.color,(l=[]).push(o),c=t.prepareUPCAndPrice(c,l),r.push(c)}return r},t.getUnbrandedPackages=function(n,a,s,r){var i=s,o=null,l=null,c=[],d=[],u=[];e.each(n.addons,function(e,t){0==t.addon_sku_code.indexOf("CleanShieldElite")?(o=t,d.push(t)):0==t.addon_sku_code.indexOf("BlueLight")?(l=t,d.push(t)):0==t.addon_sku_code.indexOf("Transitions")&&(0==t.addon_sku_code.indexOf("TransitionsGray_Xtractive")||0==t.addon_sku_code.indexOf("TransitionsBrown_Xtractive")?0==n.lens_sku_code.indexOf(r)&&c.push(t):c.push(t))});var p=null;if(null!=o&&null!=l){(p=JSON.parse(JSON.stringify(a))).lensPackage.isBaseLens=!1,p.lensPackage.blueLight=l.blueLight,p.lensPackage.antiReflective=null!=l.antiReflective?l.antiReflective:o.antiReflective,(u=[]).push(o),u.push(l);var g=t.prepareUPCAndPrice(p,u);i.push(g),c.length>0&&e.each(c,function(e,n){var a=JSON.parse(JSON.stringify(g));a.lensPackage.blueLight=null!=n.blueLight?n.blueLight:a.lensPackage.blueLight,a.lensPackage.antiReflective=null!=n.antiReflective?n.antiReflective:a.lensPackage.antiReflective,a.lensPackage.transition=n.transition,a.lensPackage.color=n.color,(u=[]).push(n),i.push(t.prepareUPCAndPrice(a,u))})}return c.length>0&&e.each(c,function(e,n){if(null!=l){(p=JSON.parse(JSON.stringify(a))).lensPackage.isBaseLens=!1;var s=null!=n.blueLight?n.blueLight:l.blueLight;p.lensPackage.blueLight=null!=s?s:a.lensPackage.blueLight;var r=null!=n.antiReflective?n.antiReflective:l.antiReflective;p.lensPackage.antiReflective=null!=r?r:a.lensPackage.antiReflective,p.lensPackage.transition=n.transition,p.lensPackage.color=n.color,(u=[]).push(l),u.push(n),i.push(t.prepareUPCAndPrice(p,u))}}),d.length>0&&e.each(d,function(e,n){var s=JSON.parse(JSON.stringify(a));s.lensPackage.isBaseLens=!1,s.lensPackage.blueLight=null!=n.blueLight?n.blueLight:s.lensPackage.blueLight,s.lensPackage.transition=n.transition,s.lensPackage.color=n.color,s.lensPackage.antiReflective=null!=n.antiReflective?n.antiReflective:s.lensPackage.antiReflective,(u=[]).push(n),i.push(t.prepareUPCAndPrice(s,u))}),i},t.prepareUPCAndPrice=function(e,n){var a=JSON.parse(JSON.stringify(e)),s=parseFloat(a.lensPackage.listPrice),r=parseFloat(a.lensPackage.offerPrice);return n.forEach(function(e){a.lensPackage.catEntryId+="_"+e.addon_id,a.lensPackage.partNumber+="$"+e.addon_sku_code,a.lensPackage.upc+="$"+e.addon_sku_code,s+=parseFloat(e.list_price),r+=parseFloat(e.current_price)}),a.lensPackage.listPrice=s.toFixed(2).toString(),a.lensPackage.offerPrice=r.toFixed(2).toString(),t.addPackagesRXValues(a),a},t.addPackagesRXValues=function(e){var t=(e.lensPackage.partNumber.split("$")[0]+"").replace("Prog",""),a=null!=e.lensPackage.polar?1:0,s="Progressive"==e.lensPackage.type?1:0,r="Premium"==e.lensPackage.antiReflective?1:0,i=null!=e.lensPackage.blueLight?1:0,o=null;if(null!=e.lensPackage.color){var l=!1;-1==e.lensPackage.color.indexOf(" RB")&&(l=!0),"grey"==(o=(""+e.lensPackage.color.toLowerCase()).replace("transition","").replace(" rb","").replace(" oo","").replace(" sun","").replace("-","").replace(" ",""))&&l&&(o="gray"),null!=e.lensPackage.transition&&"xtractive"==e.lensPackage.transition.toLowerCase()&&(o+="_x")}for(var c=0;c<n.currentLenses.matsegs.length;c++){var d=n.currentLenses.matsegs[c];if(d.lensSku==t&&d.polar==a&&d.progressive==s&&d.cleanShield==r&&d.blueLight==i&&d.transitionColor==o){var u=null;(d.minSPH||d.maxSPH)&&(u={min:d.minSPH,max:d.maxSPH});var p=null;(d.minCYL||d.maxCYL)&&(p={min:d.minCYL,max:d.maxCYL});var g=null;(d.minADD||d.maxADD)&&(g={min:d.minADD,max:d.maxADD});var f={sph:u,cyl:p,add:g,ax:null,pd:null};e.lensPackage.rxValues=f;break}}return e},t.genericAddToCart=function(n,a,s,r){return new Promise(function(n,s){if(riaInProgress)return!1;textButton=e("#rxcApp .summary-container .add-to-bag").text(),e("#rxcApp .summary-container .add-to-bag").html('<i class="fa fa-spinner fa-spin"></i>'+textButton),e("#rxcApp .main-modal .main-content .step-container .step-inner-container .summary-container .add-to-bag").addClass("no-underline"),e("#add-to-cart").disabled=!0;var r=[];a.lensPackage.partNumber.indexOf("$")>0&&(r=a.lensPackage.partNumber.split("$").slice(1));var i=t.getPdpInfoSubset(pdpLensInfo,a.lensPackage.catEntryId.split("_")[0]),o=void 0;r.length>0&&(o=t.getAddonInfoSubset(i,r)),ajaxAddGlassesToCart(i,o),n()})},t.genericSaveEditFromCart=function(e,n,a,s,r){t.genericAddToCart(e,n,a,s,r).then(CheckoutHelperJS.deleteFrameFromCart(s.orderItemId,window.currentOrderId,"",_dl,s.orderIndex,"WC_OrderItemDetailsf_links_2_"+s.orderIndex))},t.genericSaveLensSelection=function(e,n,t){void 0===window.framesLensesSelection&&(window.framesLensesSelection=[]),window.framesLensesSelection[this.currentFrameId]=n.catEntryId},t.getPdpInfoSubset=function(e,n){var t,a=[{lens_sku_id:null,lens_sku_code:null,name:null,color:null,url:""}];return e.lenses.forEach(function(e){e.lens_sku_id.toString()==n&&(t=e)}),void 0!=t&&(a[0].lens_sku_id=t.lens_sku_id,a[0].lens_sku_code=t.lens_sku_code,t.skus=a,t.lens_id=t.lens_parent_id),t},t.getAddonInfoSubset=function(e,n){var t=[];return void 0!=n&&void 0!=e&&e.addons.forEach(function(e){n.includes(e.addon_sku_code.toString())&&t.push(e)}),t},t.genericExit=function(){console.log("Close configuator"),e("#rxcApp").removeClass("rxc-opened").addClass("rxc-closed");try{0==e(".detail_box.hidden-detail:visible").length&&e(".detail_box.hidden-detail").show();var n=0;(e(".detail_box_content").length||e(".detail_box.hidden-detail").length)&&(n=e(".detail_box.hidden-detail").length>0?e(".detail_box.hidden-detail").offset().top:e(".detail_box_content").offset().top),e("html").animate({scrollTop:n},1e3,function(){!e("body").hasClass("is-menu-hidden")&&e(".detail_box").is(":visible")?e("body").addClass("is-menu-hidden"):0==e(window).scrollTop()&&(e("body").hasClass("is-menu-hidden")?e("body").removeClass("is-menu-hidden"):e("body").removeClass("is-menu-hidden-forced"))})}catch(e){console.log(e)}},t.loadContent=function(n){return new Promise(function(t,a){var s="";-1!=window.location.href.indexOf("127.0.0.1")&&(s="https://localhost:8000"),e.get(s+"/wcs/resources/store/"+constants.ajaxParams.storeId+"/espot/"+n,function(e){e.MarketingSpotData&&e.MarketingSpotData.length>0&&e.MarketingSpotData[0].baseMarketingSpotActivityData&&e.MarketingSpotData[0].baseMarketingSpotActivityData.length>0&&e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription&&e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription.length>0&&e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText&&t(e.MarketingSpotData[0].baseMarketingSpotActivityData[0].marketingContentDescription[0].marketingText)})})},t.loadLearnMoreContent=function(e){return t.loadContent(e)},void 0===window.GLRXCInsuranceModule&&(window.GLRXCInsuranceModule={});var a=window.GLRXCInsuranceModule;a.getInsuranceDiscounts=function(t,s){var r=[],i=[],o={frame:{price:t.listPrice,quantity:"1",type:"f",upc:t.partNumber},lens:{price:null,quantity:"1",type:"l",upc:null}};if(e.each(s,function(t,a){if(null==a.lensPackage.insPrice){var s=JSON.parse(JSON.stringify(o));if(a.lensPackage.partNumber.indexOf("$")>0){var r=[],l=a.lensPackage.partNumber.split("$")[0],c=a.lensPackage.partNumber.split("$").slice(1);e.each(n.currentLenses.lenses,function(n,t){t.lens_sku_code==l&&(s.lens.upc=l,s.lens.price=t.list_price,e.each(t.addons,function(e,n){c.includes(n.addon_sku_code)&&r.push({price:n.list_price,upc:n.addon_sku_code,quantity:"1",type:"a"})}),s.enhancements=r)})}else s.lens.upc=a.lensPackage.partNumber,s.lens.price=a.lensPackage.list_price;i.push(JSON.stringify(s))}}),i.length>0&&!a.isLoading()){riaInProgress=!0;var l={__PRICING_ENTRY:i};return new Promise(function(n,a){sendRIARequest(l,function(i){if(i)try{var o=filterAjaxResponse(i),l=e.parseJSON(o.__PAIR_DISCOUNT);e.each(s,function(n,a){var s=JSON.parse(JSON.stringify(a));for(let n=0;n<l.length;n++){let a=l[n],r=a.lens.upc;var i,o,c;if(void 0!=a.enhancements&&a.enhancements.length>0)e.each(a.enhancements,function(e,n){0==n.upc.indexOf("CleanShieldElite")?i=n.upc:0==n.upc.indexOf("BlueLight")||0==n.upc.indexOf("Gaming")?o=n.upc:0==n.upc.indexOf("Transitions")&&(c=n.upc)}),void 0!=i&&(r=r+"$"+i),void 0!=o&&(r=r+"$"+o),void 0!=c&&(r=r+"$"+c);if(s.lensPackage.partNumber==r){s.frame.insPrice=Math.max(parseFloat(t.listPrice-a.frameDiscount).toFixed(2),0),s.lensPackage.insPrice=Math.max(parseFloat(s.lensPackage.listPrice-a.lensDiscount).toFixed(2),0),console.log("Lens UPC: ",s.lensPackage.partNumber),console.log("Frame insurance price: ",s.frame.insPrice),console.log("Lens insurance price: ",s.lensPackage.insPrice);break}}r.push(s)}),riaInProgress=!1,n(r)}catch(e){a("INSURANCE_SERVICE_ERROR")}else a("INSURANCE_SERVICE_ERROR")},function(e){a("INSURANCE_SERVICE_ERROR")})})}return new Promise(function(e){e(r)})},a.isEnabled=function(){return RiaHelper.isInsuranceOn()},a.isLogged=function(){return!(!RiaHelper.isInsuranceOn()||""===RiaHelper.getInsuranceCookie())},a.isLoading=function(){utag_data.Products=a.utagProducts;var e=window.productDetails.getCurrentProductId(),n=window.productDetails.getCurrentSubProductId(),t=window.productDetails.getSubProduct(e,n);null==t&&(t=window.productDetails.getSibling(currentProductId,currentSubProductId));try{void 0!=utag_data.Products[t.partNumber].Category&&null!=utag_data.Products[t.partNumber].Category&&0!=utag_data.Products[t.partNumber].Category.length&&"N.A."!=utag_data.Products[t.partNumber].Category.trim()||(utag_data.Products[t.partNumber].Category="EYE");var s=window.productDetails.map.get(e);void 0!=utag_data.Products[t.partNumber].Brand&&null!=utag_data.Products[t.partNumber].Brand&&0!=utag_data.Products[t.partNumber].Brand.length||(utag_data.Products[t.partNumber].Brand=s.brandName);var r=utag_data.Products[t.partNumber]||{};utag_data.Products={},utag_data.Products[t.partNumber]=r}catch(e){console.log(e)}return riaInProgress},a.openInsurancePanel=function(){if(RiaHelper.isInsuranceOn())RiaHelper.toggleInsurance(!1),e("#insurance-switch-pdp-step-1").attr("checked",!1),e("#insurance-switch-lenses-step-2").attr("checked",!1),e("#insurance-switch-menu").attr("checked",!1),e("#insurance-shopping-bag").attr("checked",!1),chooseInsurance(!1),e("input[name='lens-type']:checked").change(),e("#insurance-span-pdp").show(),window.dispatchEvent(new Event("insuranceDisabled"));else if(document.getElementById("header_shield_link"))document.getElementById("header_shield_link").click(),""!==RiaHelper.getInsuranceCookie()&&window.dispatchEvent(new Event("insuranceEnabled"));else if(document.getElementById("insurance-switch"))document.getElementById("insurance-switch").click(),""!==RiaHelper.getInsuranceCookie()&&window.dispatchEvent(new Event("insuranceEnabled"));else try{tealium_data2track.push({id:"Error",Error_Source:"Server",Error_Code:"InsurancePanel",Error_Details:"Cannot syn insurance user Profile - Missing insurance panel"})}catch(e){console.error(e)}},a.removeInsuranceBenefits=function(){RiaHelper.toggleInsurance(!1),e("#insurance-switch-pdp-step-1").attr("checked",!1),e("#insurance-switch-lenses-step-2").attr("checked",!1),e("#insurance-switch-menu").attr("checked",!1),e("#insurance-shopping-bag").attr("checked",!1),chooseInsurance(!1),e("input[name='lens-type']:checked").change(),e("#insurance-span-pdp").show(),window.dispatchEvent(new Event("insuranceDisabled"))},a.getEvents=function(){return{INSURANCE_LOGIN:"insuranceLogin",INSURANCE_LOGIN_LOADING:"isLoginLoading",INSURANCE_LOGIN_ERROR:"insuranceLoginError",INSURANCE_LOGOUT:"insuranceLogout",INSURANCE_ENABLED:"insuranceEnabled",INSURANCE_DISABLED:"insuranceDisabled",INSURANCE_TENTATIVE_UPDATE:"insuranceTentativeUpdate",INSURANCE_TENTATIVE_LIMIT_REACHED:"insuranceTentativeLimitReached",INSURANCE_TENTATIVE_RESET:"insuranceTentativeReset",INSURANCE_DISCOUNT_LOADING:"isDiscountLoading",INSURANCE_DISCOUNT_ERROR:"insuranceDiscountError",INSURANCE_DISCOUNT_LOADED:"insuranceDiscountLoaded"}},void 0===window.GLRXCPrescriptionModule&&(window.GLRXCPrescriptionModule={prescriptionType:"FULL",prescriptionFlows:["MANUAL"],hideMoreOptions:!0});var s=window.GLRXCPrescriptionModule;s.loadExtendedPrescription=function(n){return new Promise(function(n,t){var a=null,s=null;if(null!=e.cookie("prescriptionObject"))try{s=JSON.parse(e.cookie("prescriptionObject"))}catch(e){console.log(e)}null!=s&&(a={},null!=s.SPH&&void 0!=s.SPH?a.SPH=s.SPH:a.SPH=null,null!=s.CYL&&void 0!=s.CYL?a.CYL=s.CYL:a.CYL=null,null!=s.ADD&&void 0!=s.ADD?a.ADD=s.ADD:a.ADD=null,null!=s.AX&&void 0!=s.AX?a.AX=s.AX:a.AX=null,null!=s.PD&&void 0!=s.PD?a.PD=s.PD:a.PD=null),n(a)})},s.saveExtendedPrescription=function(n){return new Promise(function(t,a){try{PrescriptionFilter.saveFramePrescription(n,window.productDetails.getCurrentSubProductId())}catch(t){e.cookie("prescriptionObject",JSON.stringify(n),{expires:7,path:"/"})}return t(n)})},s.checkAvailableFrames=function(n,t){return new Promise(function(a,s){var r={frame:n,prescriptionObject:t};if(r=JSON.stringify(r),storeId&&catalogId&&n&&t){var i="/wcs/resources/store/"+constants.ajaxParams.storeId+"/catalog/"+constants.ajaxParams.catalogId+"/checkAvailableFrames";e.ajax({url:i,data:r,type:"POST",dataType:"json",contentType:"application/json; charset=utf-8"}).done(function(e){if(void 0!==e&&void 0!==e.response.count){var n=e.response.count,t=e.response.url;a(n>0?t:null)}else s(o)}).fail(function(e){s(e)})}else{var o="Missing parameters";console.error(o),s(o)}})},s.clearExtendedPrescription=function(n){return new Promise(function(n,t){e.cookie("prescriptionObject",null,{path:"/"}),e.cookie("_prescriptionObject",null,{path:"/"}),n({})})}}(jQuery,window.LC2);
//# sourceMappingURL=lc_ecom_desktop.js.map