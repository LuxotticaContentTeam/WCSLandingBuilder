function monetateTrackPlp(){window.monetateQ=window.monetateQ||[];var e=[];$.each(tealiumProducts,function(t,o){e.push(o.UPC)}),window.monetateQ.push(["addProducts",e]),window.monetateQ.push(["addCategories",[pageSection_1]]),window.monetateQ.push(["setPageType","catalog"]),""!==itemsInCartBadge?monetateTrackCart("catalog",[]):window.monetateQ.push(["trackData"])}function monetateTrackPage(e){monetateTrackCart(e,[])}function monetateTrackProduct(e,t,o){var n=[],r=[{productId:"",sku:""}];r.productId=e,r.sku=t,n.push(r),window.monetateQ=window.monetateQ||[],window.monetateQ.push(["addCategories",[o]]),window.monetateQ.push(["addProductDetails",n]),window.monetateQ.push(["setPageType","product"]),window.monetateQ.push(["trackData"])}function updateOrdersInMonetate(e){void 0===Promise.each&&$.loadScriptNerd("/wcsstore/Common/ThirdPartyLibraries/bluebird/bluebird.min.js",function(){console.log("Reloading bluebird")}),window.monetateCartProducts||(window.monetateCartProducts=[]);var t="/wcs/resources/store/"+WCParamJS.storeId+"/cart/@self";void 0!==personInfo&&"-1002"===personInfo.userId||getAjaxPromise(t).then(function(t){t.orderItem&&Promise.each(t.orderItem,function(e){var t="/wcs/resources/store/"+WCParamJS.storeId+"/productview/byId/"+e.productId;return getAjaxPromise(t).then(function(t){var o=t.CatalogEntryView[0].name;null!=o&&0!=o.length||(o=e.partNumber),window.monetateCartProducts.push({productId:o,quantity:1,unitPrice:parseFloat(e.unitPrice),currency:env_currencyCode})}).catch(function(t){engravingProductId&&e.productId==engravingProductId&&window.monetateCartProducts.push({productId:"814617708100",quantity:1,unitPrice:parseFloat(engravingPriceJSTL),currency:env_currencyCode})})}).then(function(t){pushMonetateTrackInfo(e)}).catch(function(t){pushMonetateTrackInfo(e)})}).catch(function(t){pushMonetateTrackInfo(e)})}function monetateTrackCart(e,t){void 0===Promise.each&&$.loadScriptNerd("/wcsstore/Common/ThirdPartyLibraries/bluebird/bluebird.min.js",function(){console.log("Reloading bluebird")}),window.monetateCartProducts||(window.monetateCartProducts=[]);var o="/wcs/resources/store/"+WCParamJS.storeId+"/cart/@self";void 0===personInfo||"-1002"!==personInfo.userId?getAjaxPromise(o).then(function(o){void 0!==o.orderItem?Promise.each(o.orderItem,function(e){var t="/wcs/resources/store/"+WCParamJS.storeId+"/productview/byId/"+e.productId;return getAjaxPromise(t).then(function(t){var o=t.CatalogEntryView[0].partNumber;null!=o&&0!=o.length||(o=e.partNumber),window.monetateCartProducts.push({productId:o,quantity:1,unitPrice:parseFloat(e.unitPrice),currency:env_currencyCode})}).catch(function(t){engravingProductId&&e.productId==engravingProductId&&window.monetateCartProducts.push({productId:"814617708100",quantity:1,unitPrice:parseFloat(engravingPriceJSTL),currency:env_currencyCode})})}).then(function(o){pushMonetateTrackInfo(e,t)}).catch(function(o){pushMonetateTrackInfo(e,t)}):pushMonetateTrackInfo(e,t)}).catch(function(o){pushMonetateTrackInfo(e,t)}):pushMonetateTrackInfo(e)}function pushMonetateTrackInfo(e,t){window.monetateQ&&(window.monetateQ.push(["setPageType",e]),window.monetateCartProducts&&window.monetateCartProducts.length>0&&window.monetateQ.push(["addCartRows",window.monetateCartProducts]),t&&$.each(t,function(e,t){window.monetateQ.push([t[0],t[1]])}),window.monetateQ.push(["trackData"]))}function checkMonetatePageType(){var e=$("meta[name=pageGroup]").attr("content"),t=$("meta[name=pageIdentifier]").attr("content");return"Category".equalsIgnoreCase(e)?pageType="category":"Product".equalsIgnoreCase(e)?pageType="product":"content".equalsIgnoreCase(e)&&("HomePage".equalsIgnoreCase(t)?pageType="home":pageType="editorial"),pageType}jQuery.loadScriptNerd=function(e,t){jQuery.ajax({url:e,dataType:"script",success:t,async:!0})};
//# sourceMappingURL=monetateNERD.min.js.map