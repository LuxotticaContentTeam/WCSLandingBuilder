var showDropdown=!1,dropDownDlg=null,originalMiniCartWidth=0,isIE=!!document.all,correctBrowser=!1,requestSubmitted=!0,currentId="",numAjaxRequests=0,autoSuggestTimer=-1,autoSuggestKeystrokeDelay=1e3,autoSuggestHover=!1,autoSuggestPreviousTerm="",autoSuggestURL="",autoSelectOption=-1,historyIndex=-1,retrievedCachedSuggestions=!1,TOTAL_SUGGESTED=4,TOTAL_HISTORY=2,AUTOSUGGEST_THRESHOLD=1,DYNAMIC_AUTOSUGGEST_THRESHOLD=1,CACHED_AUTOSUGGEST_OFFSET=1e3;function focusSetter(){$("#MiniCartFocusReceiver1")[0]?$("#MiniCartFocusReceiver1").focus():$("#MiniCartFocusReceiver2").focus()}function determineFocus(e){e.shiftKey&&9==e.keyCode&&(e.srcElement?"MiniCartFocusReceiver1"==e.srcElement.id?($("#WC_MiniShopCartDisplay_link_5")[0]&&$("#WC_MiniShopCartDisplay_link_5").focus(),e.preventDefault()):"MiniCartFocusReceiver2"==e.srcElement.id&&($("#MiniCartFocusReceiver2").focus(),e.preventDefault()):"MiniCartFocusReceiver1"==e.target.id?($("#WC_MiniShopCartDisplay_link_5")[0]&&$("#WC_MiniShopCartDisplay_link_5").focus(),e.preventDefault()):"MiniCartFocusReceiver2"==e.target.id&&($("#MiniCartFocusReceiver2").focus(),e.preventDefault()))}function destroyDialog(){dojo.query(".dijitDialog",document).forEach(function(e){"quick_cart_container"==dijit.byNode(e).id&&dijit.byNode(e).destroyRecursive()}),dropDownDlg=null}function showMiniShopCartDropDown1(e,t,o,n){console.debug(e.keyCode),e.keyCode==dojo.keys.DOWN_ARROW?showMiniShopCartDropDown(t,o,n):e.shiftKey&&e.keyCode==dojo.keys.ENTER&&(showMiniShopCartDropDown(t,o,n),dojo.stopEvent(e))}function showMiniShopCartDropDown(e,t,o){var n=dojo.byId(e),a=dojo.coords(n,!0),r=a.x,i=a.y,s=dojo.coords(dojo.byId("MiniShoppingCart"),!0).w;8==dojo.isIE?s=dojo.coords(dojo.byId("outerCartContainer"),!0).w:dojo.isIE>=7&&dojo.isIE<8?s=dojo.coords(dojo.byId("miniShopCartBody"),!0).w:dojo.isIE<7&&(s=originalMiniCartWidth,"iw-il"!=dojo.locale&&"ar-eg"!=dojo.locale||(s=dojo.coords(dojo.byId("outerCartContainer"),!0).w)),dojo.style(dojo.byId("quick_cart"),"width",s+"px");var l=r;if(dojo.isIE&&(l=r+dojo.contentBox(dojo.byId(e)).w-s),("iw-il"==dojo.locale||"ar-eg"==dojo.locale)&&dojo.isIE<8){var c=dojo.coords(dojo.byId("miniShopCartLeftCorner")).x,u=dojo.coords(dojo.byId("miniShopCartRightCorner")).x;l=u>c?c:u}if(dropDownDlg&&(dropDownDlg.y=i,dropDownDlg.x=l),!dropDownDlg){var d=document.getElementById(t);(dropDownDlg=new wc.widget.WCDialog({relatedSource:e,x:r,y:i},d)).x=l}0!=dojo.isOpera&&null!=dojo.isOpera&&(dropDownDlg.x=dropDownDlg.x+window.pageXOffset,dropDownDlg.y=dropDownDlg.y+window.pageYOffset),"orderItemsList"==o?(dojo.byId("MiniShopCartProductsList").style.display="block",dojo.byId("MiniShopCartProductAdded").style.display="none"):"orderItemAdded"==o&&(dojo.byId("MiniShopCartProductsList").style.display="none",dojo.byId("MiniShopCartProductAdded").style.display="block"),dojo.isIE<7&&(document.getElementById("quick_cart_container").style.display="block"),setTimeout(dojo.hitch(dropDownDlg,"show",null),5),setTimeout(dojo.hitch(this,"hideUnderlayWrapper",""),5)}function hideUnderlayWrapper(){}function loadLink(e){document.location.href=e;try{void 0!=window.top._ceaCollabDialog&&null!=window.top._ceaCollabDialog&&window.top._ceaCollabDialog.topCategoryClicked(e)}catch(e){console.log(e)}}function clearSearchField(){searchText=document.getElementById("SimpleSearchForm_SearchTerm").value,searchText==document.getElementById("searchTextHolder").innerHTML?(document.getElementById("SimpleSearchForm_SearchTerm").value="",$("#SimpleSearchForm_SearchTerm").removeClass("blur")):(document.getElementById("SimpleSearchForm_SearchTerm").select(),showAutoSuggestIfResults(),autoSuggestHover=!1)}function fillSearchField(){autoSuggestHover||showAutoSuggest(!1)}function showDropDownMenu(){var e=document.getElementById("header_menu_dropdown");(null!=document.getElementById("header_menu_dropdown")&&"undefined"!=document.getElementById("header_menu_dropdown")&&(e.style.display="block"),null!=document.getElementById("outerCartContainer")&&"undefined"!=document.getElementById("outerCartContainer"))&&(document.getElementById("outerCartContainer").style.display="block")}function initShopcartTarget(){}function cursor_wait(e){var t=!0;1==e&&$.browser.opera&&(t=!1),t&&setTimeout("showProgressBar()",500)}function showProgressBar(){requestSubmitted&&displayProgressBar()}function displayProgressBar(){}function setCurrentId(e){requestSubmitted||""!=this.currentId||(this.currentId=e)}function trim(e){word=e.toString();for(var t=0,o=word.length-1;" "==word.charAt(t);)t++;for(;" "==word.charAt(o);)o-=1;return t>o?word.substring(t,t):word.substring(t,o+1)}function cursor_clear(){requestSubmitted=!1}function submitRequest(){return!requestSubmitted&&(requestSubmitted=!0,!0)}function setPageLocation(e){submitRequest()&&(document.location.href=e)}function submitSpecifiedForm(e){submitRequest()&&e.submit()}function parseWidget(e){}function parseWCCEAWidget(e){var t,o=ceadijit.byId(e);null!=o&&void 0!=o||null!=(t=null==e||void 0==e?ceadojo.body():ceadojo.byId(e))&&void 0!=t&&(null!=t.getAttribute("ceadojoType")&&void 0!=t.getAttribute("ceadojoType")?ceadojo.parser.instantiate([t]):ceadojo.parser.parse(t))}function parseHeader(e){dojo.byId("progress_bar_dialog");var t=document.getElementById("header_menu_loaded"),o=document.getElementById("header_menu_overlay");if(0==currentId.length&&null!=document.getElementById("header_menu_loaded")&&"undefined"!=document.getElementById("header_menu_loaded")&&null!=document.getElementById("header_menu_overlay")&&"undefined"!=document.getElementById("header_menu_overlay")&&"none"==document.getElementById("header_menu_loaded").style.display){setCurrentId(null!=e&&void 0!=e?e:o.id),submitRequest(),cursor_wait(),o.style.display="none",parseWidget("header_menu_loaded"),t.style.display="block",cursor_clear();try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||dijit.registry.byClass("wc.widget.WCDropDownButton").forEach(function(e){dojo.connect(e,"_onDropDownClick",dojo.hitch(window.top._ceaCollabDialog,"topCategoryClicked",e.getURL())),dojo.connect(e,"onKeyPress",window.top._ceaCollabDialog,function(t){t.keyCode==dojo.keys.ENTER&&window.top._ceaCollabDialog.topCategoryClicked(e.getURL())})})}catch(e){console.log(e)}}}function hideElementById(e){$("#"+e).css("display","none")}function showElementById(e){$("#"+e).css("display","block")}function hideBackgroundImage(e){e.style.backgroundImage="none"}function showBackgroundImage(e){e.style.backgroundImage="url("+getImageDirectoryPath()+getStyleDirectoryPath()+"product_hover_background.png)"}function checkIE8Browser(){$.browser.msie&&parseInt($.browser.version)<=8&&(correctBrowser=!0)}function ApprovalToolLink(e,t){checkIE8Browser(),correctBrowser?RFQwindow=window.open(t):MessageHelper.formErrorHandleClient(e,MessageHelper.messages.ERROR_INCORRECT_BROWSER)}function updateViewAndBeginIndexForCurrencyChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.SetCurrencyPreferenceForm.pageView&&(document.SetCurrencyPreferenceForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.SetCurrencyPreferenceForm.beginIndex&&(document.SetCurrencyPreferenceForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||($("#SetCurrencyPreferenceForm")[0].URL.value=$("SetCurrencyPreferenceForm")[0].URL.value+"&coshopChangeCurrency="+$("#currencySelection")[0].options[$("#currencySelection")[0].selectedIndex].value)}catch(e){console.log(e)}}function updateViewAndBeginIndexForLanguageChange(){null!=document.getElementById("fastFinderResultControls")&&""!=document.getElementById("fastFinderResultControls")?(null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=document.FastFinderForm.pageView.value),null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=document.FastFinderForm.beginIndex.value)):null!=document.getElementById("CategoryDisplay_Widget")&&""!=document.getElementById("CategoryDisplay_Widget")?(""!=wc.render.getContextById("CategoryDisplay_Context").properties.pageView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("CategoryDisplay_Context").properties.pageView),""!=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("CategoryDisplay_Context").properties.beginIndex)):null!=document.getElementById("Search_Result_Summary")&&""!=document.getElementById("Search_Result_Summary")?(""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("catalogSearchResultDisplay_Context").properties.searchResultsPageNum)):null!=document.getElementById("Search_Result_Summary2")&&""!=document.getElementById("Search_Result_Summary2")&&(""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView&&null!=document.LanguageSelectionForm.pageView&&(document.LanguageSelectionForm.pageView.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsView),""!=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum&&null!=document.LanguageSelectionForm.beginIndex&&(document.LanguageSelectionForm.beginIndex.value=wc.render.getContextById("contentSearchResultDisplay_Context").properties.searchResultsPageNum));try{void 0==window.top._ceaCollabDialog&&null==window.top._ceaCollabDialog||($("#LanguageSelectionForm")[0].action=$("#LanguageSelectionForm")[0].action+"&langId="+$("#languageSelection")[0].options[$("#languageSelection")[0].selectedIndex].value)}catch(e){console.log(e)}}function showHeaderLinksInTwoLines(){}function showLinksInOneLine(){$("#header_links").css("visibility","visible")}function isNonNegativeInteger(e){var t=new RegExp(/^\d*$/);return null!=e&&""!=e&&t.test(e)}function isPositiveInteger(e){return isNonNegativeInteger(e)&&0!=e}function closeAllDialogs(){}function setWarningMessageCookie(e){$.cookie("signon_warning_cookie",e)}function removeCookie(e){$.cookie(e,null,{expires:-1,path:"/"})}function getCookie(e){return $.cookie(e)}function isStorePreview(e,t){return e.indexOf(t)>-1}function hideESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"27"==t.keyCode){var o=dijit.byId(e);null!=o&&o.hide()}}function showESpotInfoPopup(e,t){if(null==t||"keypress"!=t.type||"13"==t.keyCode){var o=dijit.byId(e);null!=o&&o.show()}}function incrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&numAjaxRequests++}function decrementNumAjaxRequest(){"undefined"!=numAjaxRequests&&0!=numAjaxRequests&&numAjaxRequests--}function doDynamicAutoSuggest(e,t,o){-1!=autoSuggestTimer&&(clearTimeout(autoSuggestTimer),autoSuggestTimer=-1),autoSuggestTimer=setTimeout(function(){var n={};n.term=escape(t),n.showHeader=o,n.catalogId=$("#CatalogSearchForm [name=catalogId]").val(),n.storeId=$("#CatalogSearchForm [name=storeId]").val(),n.brandCount=$("#autoSuggest_Container [id^=autoSuggestStatic] [id^=suggestionItem]").length,$("[id^=usefulHeader]").length>0&&$("[id^=usefulHeader]").remove(),$.ajax({url:e,data:n,dataType:"html",type:"post",error:function(){tealium_data2track.push({id:"Error",Error_Source:"Client",Error_Code:"Search",Error_Details:"Unable to search for products"})},complete:function(e){$(".load-to-result-search").removeClass("fa fa-spinner fa-spin load-to-result-search-margin"),null==e||null==e.responseText?document.getElementById("autoSuggestDynamic_Result_div").innerHTML="":($("#autoSuggestDynamic_Result_div").html(e.responseText),0==$("[id^=usefulHeader]").length&&$("#usefulHeader").insertAfter($("#autoSuggestDynamic_Result_div"))),showAutoSuggestIfResults();try{if(!isNaN(parseInt($(".solrTotalCollection").text()))&&!isNaN(parseInt($(".solrTotal").text())))var o=parseInt($(".solrTotalCollection").text())+parseInt($(".solrTotal").text());var n={id:"SearchPageReady",Search_Keyword:t,Search_Type:"text",Search_ResultItemsQnt:o};tealium_data2track.push(n)}catch(e){n={id:"SearchPageReady-Tentative",Error_Source:"Search",Error_Code:"InternalSearch"};tealium_data2track.push(n)}}}),autoSuggestTimer=-1},autoSuggestKeystrokeDelay)}function showAutoSuggest(e){console.log(e);var t=document.getElementById("autoSuggest_Result_div");if($.browser.msie&&parseInt($.browser.version)<7)var o=document.getElementById("autoSuggest_content_div"),n=document.getElementById("autoSuggestDropDownIFrame");if($("#autoCompleteContainer").html(" "),null!=t&&"undefined"!=t)if(e){t.style.display="block",$(".load-to-result-search").removeClass("fa fa-spinner fa-spin load-to-result-search-margin"),$.browser.msie&&parseInt($.browser.version)<7&&(n.style.height=o.scrollHeight,n.style.display="block");var a=$("#SimpleSearchForm_SearchTerm").val();if(a.length>0)for(var r=a.replace(" ","").replace("-","").toLowerCase(),i=$('.autoSuggest_wrapper [id^="autoSelectOption"]').map(function(){return $(this).find(".product-brand").text()+"/"+$(this).find(".product-name").text()}),s=!1,l=0;l<i.length;l++)for(var c=i[l].split("/"),u=0;u<c.length;u++){if(0==c[u].replace(" ","").replace("-","").toLowerCase().indexOf(r)&&!s){if(c[u]=c[u].replace(/(.*?) &.*/i,"$1"),1==CheckSpecialCharacter(a)&&1==CheckSpecialCharacter(c[u]))$("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+a+'</span><span class="show">'+c[u].substring(a.length)+"</span></span>");else if(1==CheckSpecialCharacter(a)&&0==CheckSpecialCharacter(c[u]))$("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+a+'</span><span class="show">'+c[u].substring(a.length)+"</span></span>");else if(0==CheckSpecialCharacter(a)&&1==CheckSpecialCharacter(c[u])){var d=CheckSpecialCharacterIndex(c[u]);a.length>d?$("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+a+'</span><span class="show">'+c[u].substring(a.length+1)+"</span></span>"):$("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+a+'</span><span class="show">'+c[u].substring(a.length)+"</span></span>")}else $("#autoCompleteContainer").html('<span class="full"><span class="no-visible">'+a+'</span><span class="show">'+c[u].substring(a.length)+"</span></span>");s=!0}}window.GlassesFunctions.prototype.setTransparencyNeeded(!1),registerLazyLoadByClass("div.modal-search-result-img-container.dots-loader")}else $.browser.msie&&parseInt($.browser.version)<7&&(n.style.display="none",n.style.height=0),t.style.display="none"}function showAutoSuggestIfResults(){"undefined"!=typeof staticContent&&""==document.getElementById(staticContentSectionDiv[0]).innerHTML&&""==document.getElementById("autoSuggestHistory").innerHTML&&null==document.getElementById("dynamicAutoSuggestTotalResults")?showAutoSuggest(!1):document.getElementById("SimpleSearchForm_SearchTerm").value.length<=AUTOSUGGEST_THRESHOLD?showAutoSuggest(!1):showAutoSuggest(!0)}function selectAutoSuggest(e){var t=document.getElementById("SimpleSearchForm_SearchTerm");t.value=e,t.focus(),autoSuggestPreviousTerm=e,submitSpecifiedForm(document.CatalogSearchForm)}function highLightSelection(e,t){var o=document.getElementById("autoSelectOption_"+t);if(null!=o&&"undefined"!=o){if(e){o.className="autoSuggestSelected";var n=document.getElementById("SimpleSearchForm_SearchTerm");n.setAttribute("aria-activedescendant","suggestionItem_"+t);var a=document.getElementById("dynamicAutoSuggestTotalResults");null!=a&&"undefined"!=a&&t<a.value||t>=historyIndex?(n.value=o.title,autoSuggestPreviousTerm=o.title,autoSuggestURL=""):autoSuggestURL=o.href}else o.className="";return!0}return!1}function enableAutoSelect(e){highLightSelection(!1,autoSelectOption),document.getElementById("autoSelectOption_"+e).className="autoSuggestSelected",autoSelectOption=e}function resetAutoSuggestKeyword(){var e=document.getElementById("autoSuggestOriginalTerm");null!=e&&"undefined"!=e&&(document.getElementById("SimpleSearchForm_SearchTerm").value=e.value,autoSuggestPreviousTerm=e.value)}function clearAutoSuggestResults(){for(var e=0;e<staticContent.length;e++)document.getElementById(staticContentSectionDiv[e]).innerHTML="";autoSuggestPreviousTerm="",autoSuggestURL="",document.getElementById("autoSuggestDynamic_Result_div").innerHTML="",showAutoSuggest(!1)}function doAutoSuggest(e,t,o){if(""==o?($(".load-to-result-search").removeClass("fa fa-spinner fa-spin load-to-result-search-margin"),$("#tagCloudStatic").show()):($(".load-to-result-search").addClass("fa fa-spinner fa-spin load-to-result-search-margin"),$("#tagCloudStatic").hide()),$("#autoCompleteContainer").text(""),o.length<=AUTOSUGGEST_THRESHOLD&&showAutoSuggest(!1),13!=e.keyCode)if(9!=e.keyCode)if(27!=e.keyCode)if(38!=e.keyCode)if(40!=e.keyCode){if(!(o.length>AUTOSUGGEST_THRESHOLD&&o==autoSuggestPreviousTerm||(autoSuggestPreviousTerm=o,o.length<=AUTOSUGGEST_THRESHOLD)))if(-1!=autoSuggestTimer&&(clearTimeout(autoSuggestTimer),autoSuggestTimer=-1),""!=o){autoSelectOption=-1;doStaticAutoSuggest(o);if(o.length>DYNAMIC_AUTOSUGGEST_THRESHOLD){doDynamicAutoSuggest(t,o,!0)}else document.getElementById("autoSuggestDynamic_Result_div").innerHTML=""}else clearAutoSuggestResults()}else highLightSelection(!0,autoSelectOption+1)?(highLightSelection(!1,autoSelectOption),autoSelectOption++):autoSelectOption<CACHED_AUTOSUGGEST_OFFSET&&highLightSelection(!0,CACHED_AUTOSUGGEST_OFFSET)&&(highLightSelection(!1,autoSelectOption),autoSelectOption=CACHED_AUTOSUGGEST_OFFSET,resetAutoSuggestKeyword());else{var n=document.getElementById("dynamicAutoSuggestTotalResults");if(highLightSelection(!0,autoSelectOption-1))highLightSelection(!1,autoSelectOption),autoSelectOption==historyIndex&&resetAutoSuggestKeyword(),autoSelectOption--;else if(autoSelectOption==CACHED_AUTOSUGGEST_OFFSET&&null!=n&&"undefined"!=n)highLightSelection(!1,CACHED_AUTOSUGGEST_OFFSET),highLightSelection(!0,autoSelectOption=n.value-1);else{highLightSelection(!1,autoSelectOption),autoSelectOption=-1;document.getElementById("autoSuggestOriginalTerm");resetAutoSuggestKeyword()}}else showAutoSuggest(!1);else autoSuggestHover=!0;else $(".load-to-result-search").removeClass("fa fa-spinner fa-spin load-to-result-search-margin")}function doStaticAutoSuggest(e){for(var t=["","","",""],o=["","","",""],n=["","","",""],a=0,r=e.toLowerCase().replace(" ","").replace("-",""),i=CACHED_AUTOSUGGEST_OFFSET,s=!1,l=0;l<staticContent.length;l++)for(var c=0,u=0;u<staticContent[l].length;u++){var d=staticContent[l][u][0],m=staticContent[l][u][1],g=staticContent[l][u][2],p=d.toLowerCase().indexOf(r);if(p>-1){var h=p+g.length-d.length,y="<li id='suggestionItem_"+i+"' role='listitem' tabindex='-1'><a id='autoSelectOption_"+i+"' title='"+g+"' onmouseout='this.className=\"\"; autoSuggestURL=\"\";' onmouseover='enableAutoSelect("+i+"); autoSuggestURL=this.href;' href=\""+m+'"><span class="name-holder"><span class="product-brand">'+g+"</span></span>";if(g.substr(0,h),g.substr(h,e.length),g.substr(h+e.length),0!=p||s?0==p?o[l]=o[l]+y:n[l]=n[l]+y:(o[l]=y+o[l],s=!0),i++,++c>=TOTAL_SUGGESTED)break}}for(l=0;l<c;l++)void 0!==o[l]&&""!=o[l]&&(t[0]=t[0]+o[l]);for(l=0;l<c;l++)void 0!==n[l]&&""!=n[l]&&(t[0]=t[0]+n[l]);for(l=0;l<staticContent.length;l++)document.getElementById(staticContentSectionDiv[l]).innerHTML="",""!=t[l]&&(document.getElementById(staticContentSectionDiv[a]).innerHTML="<div class='results col-3'><div class='heading'>"+staticContentHeaders[l]+"</div><ul>"+t[l]+"</ul></div>",a++);var S=document.getElementById("autoSuggestHistory");S.innerHTML="";new Array;historyIndex=i;getCookie("searchTermHistory");return a>0&&(showAutoSuggest(!0),!0)}function retrieveCachedSuggestions(e){retrievedCachedSuggestions||$.ajax({url:e,dataType:"html",type:"post",complete:function(e){var t=e.responseText;$("#autoSuggestCachedSuggestions_div").html(t),retrievedCachedSuggestions=!0;var o=document.getElementById("SimpleSearchForm_SearchTerm").value;o.length>AUTOSUGGEST_THRESHOLD&&doStaticAutoSuggest(o)}})}function onKeyPressFunctions(e){if(13==e.keyCode){var t=$(".search-txt").val();if(0==t.length||"Search LensCrafters.com"==t)return e.preventDefault(),!1;var o=trim($("#autoCompleteContainer").text());0==o.length?$(".search-txt").val(trim(t)):$(".search-txt").val(o)}}function popupClose(e){$("#AddedWishlistDialogDiv").css("display","none").attr("aria-hidden","true"),$("#content_wrapper_box").customShow()}function CheckSpecialCharacter(e){for(i=0;i<"<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=".length;i++)if(e.indexOf("<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-="[i])>-1)return!0;return!1}function CheckSpecialCharacterIndex(e){var t="<>@!#$%^&*()_+[]{}?:;|'\"\\,./~`-=";for(i=0;i<t.length;i++)if(e.indexOf(t[i])>-1)return e.indexOf(t[i]);return!1}function methodPaymentPayPal(){$(".paypal-custom-label").addClass("payment-icon-radio-checked"),$(".paypal-custom-label").removeClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").addClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").addClass("payment-icon-radio-unchecked"),$(".affirm-custom-label").removeClass("payment-icon-radio-checked"),$("#box").hide(),$("#shippingBillingPageNext").attr("style","display: none !important"),$("#affirmButton").hide(),$("#paypalButton").show(),$(".affirm-payment-desc").hide()}function methodPaymentAffirm(){$(".affirm-custom-label").addClass("payment-icon-radio-checked"),$(".affirm-custom-label").removeClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").addClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-checked"),$(".paypal-custom-label").addClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").removeClass("payment-icon-radio-checked"),$("#box").hide(),$("#shippingBillingPageNext").attr("style","display: none !important"),$("#paypalButton").hide(),$("#affirmButton").show(),$(".affirm-payment-desc").show()}function methodPaymentCC(){1==$("#creditCard").prop("checked")&&($(".creditCard-custom-label").addClass("payment-icon-radio-checked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").addClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").addClass("payment-icon-radio-unchecked"),$(".affirm-custom-label").removeClass("payment-icon-radio-checked"),$(".payment-right-container").show(),$("#box").show(),$("#shippingBillingPageNext").show(),$("#paypalButton").hide(),$("#affirmButton").hide(),$(".affirm-payment-desc").hide())}function methodPaymentPayPalMobile(){$(".paypal-custom-label").addClass("payment-icon-radio-checked"),$(".paypal-custom-label").removeClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").addClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").addClass("payment-icon-radio-unchecked"),$(".card-number").hide(),$(".name-on-card").hide(),$(".expiration-date").hide(),$(".cc-cvc").hide(),$("#paypalButton").show(),$("#shippingBillingPageNext").hide(),$(".affirm-payment-desc").hide(),$("#affirmMsgErrorPayment").addClass("hide")}function methodPaymentCCMobile(){1==$("#creditCard").prop("checked")&&($(".creditCard-custom-label").addClass("payment-icon-radio-checked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").addClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").removeClass("payment-icon-radio-checked"),$(".affirm-custom-label").addClass("payment-icon-radio-unchecked"),$(".payment-right-container").show(),$(".card-number").show(),$(".name-on-card").show(),$(".expiration-date").show(),$(".cc-cvc").show(),$("#paypalButton").hide(),$("#shippingBillingPageNext").show(),$(".affirm-payment-desc").hide(),$("#affirmMsgErrorPayment").addClass("hide"))}function methodPaymentAffirmMobile(){$(".affirm-custom-label").addClass("payment-icon-radio-checked"),$(".affirm-custom-label").removeClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").addClass("payment-icon-radio-unchecked"),$(".creditCard-custom-label").removeClass("payment-icon-radio-checked"),$(".paypal-custom-label").addClass("payment-icon-radio-unchecked"),$(".paypal-custom-label").removeClass("payment-icon-radio-checked"),$(".card-number").hide(),$(".name-on-card").hide(),$(".expiration-date").hide(),$(".cc-cvc").hide(),$("#paypalButton").hide(),$("#shippingBillingPageNext").show(),$(".affirm-payment-desc").show()}function affirmInitiateCheckout(e,t){let o=function(){$(".affirm-overlay").hide(),"desktop"==site_layout?($("#affirm-checkout-spinner").remove(),$("#affirm-checkout-button").show()):"mobile"==site_layout&&removeLoaderForButton("#shippingBillingPageNext","Pay & submit"),$("input[type='radio']#affirm").focus()},n=function(){o(),$(".inventory-block-message-container.hide:has(> #affirmMsgErrorPayment), #affirmMsgErrorPayment.error.hide").removeClass("hide"),tealium_data2track.push({id:"Error",Error_Code:"Checkout - Payment",Error_Details:"Affirm",Error_Source:"Server",Error_Message:"Affirm checkout error"})};"desktop"==site_layout?($("#affirm-checkout-button").hide(),$('<i id="affirm-checkout-spinner" class="fa fa-spinner fa-spin"></i>').insertBefore("#affirm-checkout-button")):"mobile"==site_layout&&showLoaderForButton("#shippingBillingPageNext","Pay & submit"),$(".affirm-overlay").show(),$.ajax({type:"POST",url:e,data:{affirmAuthorizeURL:t},success:function(e){void 0!=e.affirmToken?(affirm.checkout({checkoutAri:e.affirmToken,metadata:{mode:"modal"}}),affirm.ui.ready(function(){affirm.ui.error.on("close",function(){console.log("Affirm modal closed"),o()})}),affirm.checkout.open({onFail:function(e){console.log(e),"canceled"==e.reason?o():n()},onSuccess:function(o){var n={id:"Checkout-Step-Gateway",Order_PaymentType:"Affirm",Products:window.products};tealium_data2track.push(n),setPageLocation(t+"&affirmToken="+e.affirmToken+"&requestID="+e.requestID+"&requestToken="+e.requestToken)}})):setPageLocation(decodeURIComponent(e.affirmErrorURL))},error:function(e){n()},dataType:"json"})}
//# sourceMappingURL=StoreCommonUtilities.js.map