/*! lux-b2c-csr - v0.0.1 - 2022-04-13 */
function WCService(properties){this.actionId=properties.actionId,this.failureHandler=properties.failureHandler,this.formId=properties.formId,this.id=properties.id,this.initProperties=properties.initProperties,this.successHandler=properties.successHandler,this.url=properties.url,this.validateForm=properties.validateForm,this.validateParameters=properties.validateParameters}function WCWidget(id,controllerId,widgetId){this.id=id,this.controllerId=controllerId,this.widgetId=widgetId,this.objectId=$("#"+this.id).attr("objectid"),this.controller=wc.render.getRefreshControllerById(controllerId),this.refresh=function(params){null==params&&(params={}),this.controller.refresh(this,params)}}function WCContext(id,properties,url){this.id=id,this.properties=properties||{},this.url=url,this.contextChangedEventName=id+"/RenderContextChanged",this.update=function(updates){if(this.url){for(var key in updates)updates[key]?this.properties[key]=updates[key]:delete this.properties[key];dojo.publish("ajaxRequestInitiated");var promise=$.ajax({url:this.url,data:properties,dataType:"json",type:"post",context:this});promise.done((function(data){if($.isArray(data.renderContextChanges)){for(var i=0;i<data.renderContextChanges.length;i++){var name=data.renderContextChanges[i];request.properties[name]=data[name]}dojo.publish(this.contextChangedEventName,[data])}})),promise.always((function(){dojo.publish("ajaxRequestCompleted")}))}else{console.debug("wc.render.updateContext - url not specified");var data={renderContextChanges:[]};for(var name in updates){var value=updates[name];value!=this.properties[name]&&(data.renderContextChanges.push(name),void 0===value?delete this.properties[name]:(this.properties[name]=value,data[name]=value,console.debug("updating render context: "+name+" = "+value)))}console.debug("publishing "+this.contextChangedEventName+" event"),dojo.publish(this.contextChangedEventName,[data])}}}function WCController(properties){this.id=properties.id,this.renderContext=properties.renderContext,this.url=properties.url,this.formId=properties.formId,this.modelChangedHandler=properties.modelChangedHandler,this.renderContextChangedHandler=properties.renderContextChangedHandler,this.postRefreshHandler=properties.postRefreshHandler,this.currentRCProperties={},this.getWidgets=function(){return $('[controllerId="'+this.id+'"]').map((function(){var $this=$(this);return new WCWidget(this.id,$this.attr("controllerId"),$this.attr("widgetId"))})).toArray()},this.renderContextChanged=function(message){var widgets=this.getWidgets();for(var i in widgets)this.renderContextChangedHandler(message,widgets[i]);this.syncRCProperties()},this.modelChanged=function(message){var widgets=this.getWidgets();for(var i in widgets)this.modelChangedHandler(message,widgets[i])},this.syncRCProperties=function(){if(this.renderContext){var properties={},rc=this.renderContext.properties;for(var prop in rc)properties[prop]=rc[prop];this.currentRCProperties=properties}},this.testForChangedRC=function(propertyNames){for(var change=!1,i=0;i<propertyNames.length;i++){var prop=propertyNames[i];if(this.currentRCProperties[prop]!=this.renderContext.properties[prop]){change=!0;break}}return change},this.refresh=function(widget,parameters){parameters||(parameters={});var formNode=null;if(this.formId){for(var formData=$("#"+this.formId).serializeArray(),i=0;i<formData.length;i++){var d=formData[i];parameters[d.name]=d.value}formNode=document.getElementById(this.formId)}parameters.requesttype||(parameters.requesttype="ajax"),this.url=this.url.replace(/amp;/g,""),dojo.publish("ajaxRequestInitiated");var promise=$.ajax({url:this.url,data:parameters,dataType:"text",type:"post",context:this});promise.done((function(data){function getIds(idType,controllerURL){var myId="";if(parameters&&parameters[idType]&&(myId=parameters[idType]),""==myId&&null!=formNode&&formNode[idType]&&(myId=formNode[idType],null!=formNode[idType].value&&(myId=formNode[idType].value)),""==myId&&controllerURL){var temp=controllerURL;if(-1!=temp.indexOf(idType))myId=(temp=temp.substring(temp.indexOf(idType))).split("&")[0].split("=")[1]}return myId}var storeId=getIds("storeId",this.url),catalogId=getIds("catalogId",this.url),langId=getIds("langId",this.url),errorCodeBegin=data.indexOf("errorCode");if(-1!=errorCodeBegin){var errorCodeEnd=data.indexOf(",",errorCodeBegin),errorCodeString=data.substring(errorCodeBegin,errorCodeEnd);console.debug("error condition encountered - error code: "+errorCodeString),-1!=errorCodeString.indexOf("2550")?(console.debug("error type: ERR_DIDNT_LOGON - the customer did not log on to the system."),console.debug("redirecting to URL: AjaxLogonForm?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId+"&myAcctMain=1"),document.location.href="AjaxLogonForm?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId+"&myAcctMain=1"):-1!=errorCodeString.indexOf("2510")?(console.debug("error type: ERR_SESSION_TIMEOUT - use session has timed out"),console.debug("redirecting to URL: Logoff?URL=ReLogonFormView&storeId="+storeId),document.location.href="Logoff?URL=ReLogonFormView&storeId="+storeId):-1!=errorCodeString.indexOf("2520")?(console.debug("error type: ERR_PROHIBITED_CHAR - detected prohibited characters in request"),console.debug("redirecting to URL: ProhibitedCharacterErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="ProhibitedCharacterErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId):-1!=errorCodeString.indexOf("2540")?(console.debug("error type: ERR_CSRF - cross site request forgery attempt was detected"),console.debug("redirecting to URL: CrossSiteRequestForgeryErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="CrossSiteRequestForgeryErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId):-1!=errorCodeString.indexOf("CMN1039E")&&(console.debug("error type: _ERR_INVALID_COOKIE - cookie error was detected"),console.debug("redirecting to URL: CookieErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="CookieErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId)}else{var controller=widget.controller;console.debug("RefreshController.refresh - calling refreshHandler for "+widget);var $rootScope=angular.element(document.body).scope().$root;void 0!==$rootScope&&null!=$rootScope.wrapAngular&&"function"==typeof $rootScope.wrapAngular?$rootScope.wrapAngular($("#"+widget.id).html(data)):$("#"+widget.id).html(data),null!=controller.postRefreshHandler&&(console.debug("RefreshController.refresh - calling postRefreshHandler for "+widget),controller.postRefreshHandler(widget))}})),promise.always((function(){dojo.publish("ajaxRequestCompleted")}))},$.isFunction(this.renderContextChangedHandler)&&this.renderContext&&dojo.subscribe(this.renderContext.contextChangedEventName,this,"renderContextChanged"),$.isFunction(this.modelChangedHandler)&&dojo.subscribe("modelChanged",this,"modelChanged")}function filterAjaxResponse(responseText){var resp=responseText;try{resp=$.parseJSON(resp.replace(/^\s*\/\*/,"").replace(/\*\/\s*$/,""))}catch(e){console.debug(e)}return resp}function parseWidget(){}jQuery.cookie=function(name,value,options){if(void 0===value){var cookieValue=null;if(document.cookie&&""!=document.cookie)for(var cookies=document.cookie.split(";"),i=0;i<cookies.length;i++){var cookie=jQuery.trim(cookies[i]);if(cookie.substring(0,name.length+1)==name+"="){cookieValue=decodeURIComponent(cookie.substring(name.length+1));break}}return cookieValue}options=options||{},null===value&&(value="",options.expires=-1);var date,expires="";options.expires&&("number"==typeof options.expires||options.expires.toUTCString)&&("number"==typeof options.expires?(date=new Date).setTime(date.getTime()+24*options.expires*60*60*1e3):date=options.expires,expires="; expires="+date.toUTCString());var path=options.path?"; path="+options.path:"",domain=options.domain?"; domain="+options.domain:"",secure=options.secure?"; secure":"";document.cookie=[name,"=",encodeURIComponent(value),expires,path,domain,secure].join("")},new function(settings){var $separator=settings.separator||"&",$spaces=!1!==settings.spaces,$hash=(settings.suffix,!1!==settings.prefix?!0===settings.hash?"#":"?":""),$numbers=!1!==settings.numbers;jQuery.query=new function(){var is=function(o,t){return null!=o&&null!==o&&(!t||o.constructor==t)},parse=function(path){for(var m,rx=/\[([^[]*)\]/g,match=/^([^[]+)(\[.*\])?$/.exec(path),base=match[1],tokens=[];m=rx.exec(match[2]);)tokens.push(m[1]);return[base,tokens]},set=function(target,tokens,value){var token=tokens.shift();if("object"!=typeof target&&(target=null),""===token)if(target||(target=[]),is(target,Array))target.push(0==tokens.length?value:set(null,tokens.slice(0),value));else if(is(target,Object)){for(var i=0;null!=target[i++];);target[--i]=0==tokens.length?value:set(target[i],tokens.slice(0),value)}else(target=[]).push(0==tokens.length?value:set(null,tokens.slice(0),value));else if(token&&token.match(/^\s*[0-9]+\s*$/)){target||(target=[]),target[index=parseInt(token,10)]=0==tokens.length?value:set(target[index],tokens.slice(0),value)}else{if(!token)return value;var index=token.replace(/^\s*|\s*$/g,"");if(target||(target={}),is(target,Array)){var temp={};for(i=0;i<target.length;++i)temp[i]=target[i];target=temp}target[index]=0==tokens.length?value:set(target[index],tokens.slice(0),value)}return target},queryObject=function(a){var self=this;return self.keys={},a.queryObject?jQuery.each(a.get(),(function(key,val){self.SET(key,val)})):self.parseNew.apply(self,arguments),self};return queryObject.prototype={queryObject:!0,parseNew:function(){var self=this;return self.keys={},jQuery.each(arguments,(function(){var q=""+this;q=(q=q.replace(/^[?#]/,"")).replace(/[;&]$/,""),$spaces&&(q=q.replace(/[+]/g," ")),jQuery.each(q.split(/[&;]/),(function(){var key=decodeURIComponent(this.split("=")[0]||""),val=decodeURIComponent(this.split("=")[1]||"");key&&($numbers&&(/^[+-]?[0-9]+\.[0-9]*$/.test(val)?val=parseFloat(val):/^[+-]?[1-9][0-9]*$/.test(val)&&(val=parseInt(val,10))),val=!val&&0!==val||val,self.SET(key,val))}))})),self},has:function(key,type){var value=this.get(key);return is(value,type)},GET:function(key){if(!is(key))return this.keys;for(var parsed=parse(key),base=parsed[0],tokens=parsed[1],target=this.keys[base];null!=target&&0!=tokens.length;)target=target[tokens.shift()];return"number"==typeof target?target:target||""},get:function(key){var target=this.GET(key);return is(target,Object)?jQuery.extend(!0,{},target):is(target,Array)?target.slice(0):target},SET:function(key,val){var value=is(val)?val:null,parsed=parse(key),base=parsed[0],tokens=parsed[1],target=this.keys[base];return this.keys[base]=set(target,tokens.slice(0),value),this},set:function(key,val){return this.copy().SET(key,val)},REMOVE:function(key,val){if(val){var target=this.GET(key);if(is(target,Array)){for(tval in target)target[tval]=target[tval].toString();var index=$.inArray(val,target);if(!(index>=0))return;key=(key=target.splice(index,1))[index]}else if(val!=target)return}return this.SET(key,null).COMPACT()},remove:function(key,val){return this.copy().REMOVE(key,val)},EMPTY:function(){var self=this;return jQuery.each(self.keys,(function(key,value){delete self.keys[key]})),self},load:function(url){var hash=url.replace(/^.*?[#](.+?)(?:\?.+)?$/,"$1"),search=url.replace(/^.*?[?](.+?)(?:#.+)?$/,"$1");return new queryObject(url.length==search.length?"":search,url.length==hash.length?"":hash)},empty:function(){return this.copy().EMPTY()},copy:function(){return new queryObject(this)},COMPACT:function(){return this.keys=function build(orig){var obj="object"==typeof orig?is(orig,Array)?[]:{}:orig;if("object"==typeof orig){jQuery.each(orig,(function(key,value){if(!is(value))return!0;!function(o,key,value){is(o,Array)?o.push(value):o[key]=value}(obj,key,build(value))}))}return obj}(this.keys),this},compact:function(){return this.copy().COMPACT()},toString:function(){var queryString=[],chunks=[],encode=function(str){return str+="",str=encodeURIComponent(str),$spaces&&(str=str.replace(/%20/g,"+")),str},build=function(obj,base){var newKey=function(key){return base&&""!=base?[base,"[",key,"]"].join(""):[key].join("")};jQuery.each(obj,(function(key,value){"object"==typeof value?build(value,newKey(key)):function(arr,key,value){if(is(value)&&!1!==value){var o=[encode(key)];!0!==value&&(o.push("="),o.push(encode(value))),arr.push(o.join(""))}}(chunks,newKey(key),value)}))};return build(this.keys),chunks.length>0&&queryString.push($hash),queryString.push(chunks.join($separator)),queryString.join("")}},new queryObject(location.search,location.hash)}}(jQuery.query||{}),function(e){var t=function(u,D,f){"use strict";var k,H;if(function(){var e,t={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",fastLoadedClass:"ls-is-cached",iframeLoadMode:0,srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2,loadHidden:!0,ricTimeout:0,throttleDelay:125};for(e in H=u.lazySizesConfig||u.lazysizesConfig||{},t)e in H||(H[e]=t[e])}(),!D||!D.getElementsByClassName)return{init:function(){},cfg:H,noSupport:!0};var O=D.documentElement,i=u.HTMLPictureElement,P="addEventListener",$="getAttribute",q=u[P].bind(u),I=u.setTimeout,U=u.requestAnimationFrame||I,o=u.requestIdleCallback,j=/^picture$/i,r=["load","error","lazyincluded","_lazyloaded"],a={},G=Array.prototype.forEach,J=function(e,t){return a[t]||(a[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),a[t].test(e[$]("class")||"")&&a[t]},K=function(e,t){J(e,t)||e.setAttribute("class",(e[$]("class")||"").trim()+" "+t)},Q=function(e,t){var a;(a=J(e,t))&&e.setAttribute("class",(e[$]("class")||"").replace(a," "))},V=function(t,a,e){var i=e?P:"removeEventListener";e&&V(t,a),r.forEach((function(e){t[i](e,a)}))},X=function(e,t,a,i,r){var n=D.createEvent("Event");return a||(a={}),a.instance=k,n.initEvent(t,!i,!r),n.detail=a,e.dispatchEvent(n),n},Y=function(e,t){var a;!i&&(a=u.picturefill||H.pf)?(t&&t.src&&!e[$]("srcset")&&e.setAttribute("srcset",t.src),a({reevaluate:!0,elements:[e]})):t&&t.src&&(e.src=t.src)},Z=function(e,t){return(getComputedStyle(e,null)||{})[t]},s=function(e,t,a){for(a=a||e.offsetWidth;a<H.minSize&&t&&!e._lazysizesWidth;)a=t.offsetWidth,t=t.parentNode;return a},ee=function(){var a,i,t=[],r=[],n=t,s=function(){var e=n;for(n=t.length?r:t,a=!0,i=!1;e.length;)e.shift()();a=!1},e=function(e,t){a&&!t?e.apply(this,arguments):(n.push(e),i||(i=!0,(D.hidden?I:U)(s)))};return e._lsFlush=s,e}(),te=function(a,e){return e?function(){ee(a)}:function(){var e=this,t=arguments;ee((function(){a.apply(e,t)}))}},ae=function(e){var a,i=0,r=H.throttleDelay,n=H.ricTimeout,t=function(){a=!1,i=f.now(),e()},s=o&&n>49?function(){o(t,{timeout:n}),n!==H.ricTimeout&&(n=H.ricTimeout)}:te((function(){I(t)}),!0);return function(e){var t;(e=!0===e)&&(n=33),a||(a=!0,(t=r-(f.now()-i))<0&&(t=0),e||t<9?s():I(s,t))}},ie=function(e){var t,a,r=function(){t=null,e()},n=function(){var e=f.now()-a;e<99?I(n,99-e):(o||r)(r)};return function(){a=f.now(),t||(t=I(n,99))}},e=function(){var v,m,c,h,e,y,z,g,p,C,b,A,n=/^img$/i,d=/^iframe$/i,E="onscroll"in u&&!/(gle|ing)bot/.test(navigator.userAgent),w=0,M=0,N=-1,L=function(e){M--,(!e||M<0||!e.target)&&(M=0)},x=function(e){return null==A&&(A="hidden"==Z(D.body,"visibility")),A||!("hidden"==Z(e.parentNode,"visibility")&&"hidden"==Z(e,"visibility"))},W=function(e,t){var a,i=e,r=x(e);for(g-=t,b+=t,p-=t,C+=t;r&&(i=i.offsetParent)&&i!=D.body&&i!=O;)(r=(Z(i,"opacity")||1)>0)&&"visible"!=Z(i,"overflow")&&(a=i.getBoundingClientRect(),r=C>a.left&&p<a.right&&b>a.top-1&&g<a.bottom+1);return r},t=function(){var e,t,a,i,r,n,s,o,l,u,f,c,d=k.elements;if((h=H.loadMode)&&M<8&&(e=d.length)){for(t=0,N++;t<e;t++)if(d[t]&&!d[t]._lazyRace)if(!E||k.prematureUnveil&&k.prematureUnveil(d[t]))R(d[t]);else if((o=d[t][$]("data-expand"))&&(n=1*o)||(n=w),u||(u=!H.expand||H.expand<1?O.clientHeight>500&&O.clientWidth>500?500:370:H.expand,k._defEx=u,f=u*H.expFactor,c=H.hFac,A=null,w<f&&M<1&&N>2&&h>2&&!D.hidden?(w=f,N=0):w=h>1&&N>1&&M<6?u:0),l!==n&&(y=innerWidth+n*c,z=innerHeight+n,s=-1*n,l=n),a=d[t].getBoundingClientRect(),(b=a.bottom)>=s&&(g=a.top)<=z&&(C=a.right)>=s*c&&(p=a.left)<=y&&(b||C||p||g)&&(H.loadHidden||x(d[t]))&&(m&&M<3&&!o&&(h<3||N<4)||W(d[t],n))){if(R(d[t]),r=!0,M>9)break}else!r&&m&&!i&&M<4&&N<4&&h>2&&(v[0]||H.preloadAfterLoad)&&(v[0]||!o&&(b||C||p||g||"auto"!=d[t][$](H.sizesAttr)))&&(i=v[0]||d[t]);i&&!r&&R(i)}},a=ae(t),S=function(e){var t=e.target;t._lazyCache?delete t._lazyCache:(L(e),K(t,H.loadedClass),Q(t,H.loadingClass),V(t,B),X(t,"lazyloaded"))},i=te(S),B=function(e){i({target:e.target})},F=function(e){var t,a=e[$](H.srcsetAttr);(t=H.customMedia[e[$]("data-media")||e[$]("media")])&&e.setAttribute("media",t),a&&e.setAttribute("srcset",a)},s=te((function(t,e,a,i,r){var n,s,o,l,u,f;(u=X(t,"lazybeforeunveil",e)).defaultPrevented||(i&&(a?K(t,H.autosizesClass):t.setAttribute("sizes",i)),s=t[$](H.srcsetAttr),n=t[$](H.srcAttr),r&&(l=(o=t.parentNode)&&j.test(o.nodeName||"")),f=e.firesLoad||"src"in t&&(s||n||l),u={target:t},K(t,H.loadingClass),f&&(clearTimeout(c),c=I(L,2500),V(t,B,!0)),l&&G.call(o.getElementsByTagName("source"),F),s?t.setAttribute("srcset",s):n&&!l&&(d.test(t.nodeName)?function(e,t){var a=e.getAttribute("data-load-mode")||H.iframeLoadMode;0==a?e.contentWindow.location.replace(t):1==a&&(e.src=t)}(t,n):t.src=n),r&&(s||l)&&Y(t,{src:n})),t._lazyRace&&delete t._lazyRace,Q(t,H.lazyClass),ee((function(){var e=t.complete&&t.naturalWidth>1;f&&!e||(e&&K(t,H.fastLoadedClass),S(u),t._lazyCache=!0,I((function(){"_lazyCache"in t&&delete t._lazyCache}),9)),"lazy"==t.loading&&M--}),!0)})),R=function(e){if(!e._lazyRace){var t,a=n.test(e.nodeName),i=a&&(e[$](H.sizesAttr)||e[$]("sizes")),r="auto"==i;(!r&&m||!a||!e[$]("src")&&!e.srcset||e.complete||J(e,H.errorClass)||!J(e,H.lazyClass))&&(t=X(e,"lazyunveilread").detail,r&&re.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,M++,s(e,t,r,i,a))}},r=ie((function(){H.loadMode=3,a()})),o=function(){3==H.loadMode&&(H.loadMode=2),r()},l=function(){m||(f.now()-e<999?I(l,999):(m=!0,H.loadMode=3,a(),q("scroll",o,!0)))};return{_:function(){e=f.now(),k.elements=D.getElementsByClassName(H.lazyClass),v=D.getElementsByClassName(H.lazyClass+" "+H.preloadClass),q("scroll",a,!0),q("resize",a,!0),q("pageshow",(function(e){if(e.persisted){var t=D.querySelectorAll("."+H.loadingClass);t.length&&t.forEach&&U((function(){t.forEach((function(e){e.complete&&R(e)}))}))}})),u.MutationObserver?new MutationObserver(a).observe(O,{childList:!0,subtree:!0,attributes:!0}):(O[P]("DOMNodeInserted",a,!0),O[P]("DOMAttrModified",a,!0),setInterval(a,999)),q("hashchange",a,!0),["focus","mouseover","click","load","transitionend","animationend"].forEach((function(e){D[P](e,a,!0)})),/d$|^c/.test(D.readyState)?l():(q("load",l),D[P]("DOMContentLoaded",a),I(l,2e4)),k.elements.length?(t(),ee._lsFlush()):a()},checkElems:a,unveil:R,_aLSL:o}}(),re=function(){var a,n=te((function(e,t,a,i){var r,n,s;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),j.test(t.nodeName||""))for(n=0,s=(r=t.getElementsByTagName("source")).length;n<s;n++)r[n].setAttribute("sizes",i);a.detail.dataAttr||Y(e,a.detail)})),i=function(e,t,a){var i,r=e.parentNode;r&&(a=s(e,r,a),(i=X(e,"lazybeforesizes",{width:a,dataAttr:!!t})).defaultPrevented||(a=i.detail.width)&&a!==e._lazysizesWidth&&n(e,r,i,a))},t=ie((function(){var e,t=a.length;if(t)for(e=0;e<t;e++)i(a[e])}));return{_:function(){a=D.getElementsByClassName(H.autosizesClass),q("resize",t)},checkElems:t,updateElem:i}}(),t=function(){!t.i&&D.getElementsByClassName&&(t.i=!0,re._(),e._())};return I((function(){H.init&&t()})),k={cfg:H,autoSizer:re,loader:e,init:t,uP:Y,aC:K,rC:Q,hC:J,fire:X,gW:s,rAF:ee}}(e,e.document,Date);e.lazySizes=t,"object"==typeof module&&module.exports&&(module.exports=t)}("undefined"!=typeof window?window:{}),dojo={channels:{},channelContexts:{},addClass:function(el,val){"string"==typeof el?$("#"+el).addClass(val):$(el).addClass(val)},addOnLoad:function(f){$(document).ready(f)},attr:function(el,attrName,value){var $el;return($el="string"==typeof el?$("#"+el):$(el)).attr.apply($el,[attrName,value])},back:{init:function(){},setInitialState:function(){}},byId:function(id){return"string"==typeof id?document.getElementById(id):$(id)[0]},connect:function(el,eventType,callback){eventType=eventType.replace("on","");("string"==typeof el?$("#"+el):$(el)).bind(eventType,callback)},cookie:function(){return $.cookie.apply(window,arguments)},dnd:{Moveable:function(){return{}},Source:function(){return{copyOnly:!1,setItem:function(){}}}},isArray:function(obj){return $.isArray(obj)},keys:{BACKSPACE:8,TAB:9,CLEAR:12,ENTER:13,SHIFT:16,CTRL:17,ALT:18,META:224,PAUSE:19,CAPS_LOCK:20,ESCAPE:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT_ARROW:37,UP_ARROW:38,RIGHT_ARROW:39,DOWN_ARROW:40,INSERT:45,DELETE:46,HELP:47,LEFT_WINDOW:91,RIGHT_WINDOW:92,SELECT:93,NUMPAD_0:96,NUMPAD_1:97,NUMPAD_2:98,NUMPAD_3:99,NUMPAD_4:100,NUMPAD_5:101,NUMPAD_6:102,NUMPAD_7:103,NUMPAD_8:104,NUMPAD_9:105,NUMPAD_MULTIPLY:106,NUMPAD_PLUS:107,NUMPAD_ENTER:108,NUMPAD_MINUS:109,NUMPAD_PERIOD:110,NUMPAD_DIVIDE:111,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,F13:124,F14:125,F15:126,NUM_LOCK:144,SCROLL_LOCK:145,copyKey:17},parser:{instantiate:function(){}},publish:function(channel,params){var c=this.channels[channel],cc=this.channelContexts[channel];null==c&&(c=[],cc=[]),null==params&&(params=[]);for(var i=0;i<c.length;i++){var fn=c[i],ctx=cc[i];"function"==typeof fn?fn.apply(ctx,params):window[fn]?window[fn].apply(ctx,params):ctx[fn].apply(ctx,params)}},query:function(selector,el){var results=[];return null==el?results=$(selector).toArray():"string"==typeof el?results=$(selector,"#"+el).toArray():"object"==typeof el&&(results=$(selector,el).toArray()),results.forEach=function(fn){$.each(results,(function(index,element){fn.apply(element,[element,index])}))},results},registerModulePath:function(){},removeClass:function(el,val){"string"==typeof el?$("#"+el).removeClass(val):$(el).removeClass(val)},require:function(){},style:function(id,prop,value){$("#"+id).css(prop,value)},subscribe:function(channel,ctx,fn){var c=this.channels[channel],cc=this.channelContexts[channel];null==c&&(this.channels[channel]=[],this.channelContexts[channel]=[],c=this.channels[channel],cc=this.channelContexts[channel]),null==fn?(c.push(ctx),cc.push(window)):(c.push(fn),cc.push(ctx))},trim:function(val){return $.trim(val)}},wc={service:{servicesMap:{},declare:function(properties){var s=new WCService(properties);return this.servicesMap[s.id]=s,s},getServiceById:function(serviceId){return this.servicesMap[serviceId]},invoke:function(serviceId,parameters){var service=this.servicesMap[serviceId],promise=null;if(service){var data=parameters;if(parameters instanceof Array)for(var key in data={},parameters)data[key]=parameters[key];else null==parameters&&(data={});if(service.formId&&""!=service.formId)for(var formData=$("#"+service.formId).serializeArray(),i=0;i<formData.length;i++){var d=formData[i];data[d.name]=d.value}(promise=$.ajax({url:service.url,data:data,dataType:"text",traditional:!0,type:"post"})).done((function(response){var serviceResponse=filterAjaxResponse(response);if(null==serviceResponse||!serviceResponse.errorMessage&&!serviceResponse.errorMessageKey){if(service.successHandler){service.successHandler.apply(ServicesDeclarationJS,[serviceResponse]);var modelChangedMessage=$.extend(!0,{},serviceResponse);modelChangedMessage.actionId=service.actionId,modelChangedMessage.serviceId=service.serviceId,dojo.publish("modelChanged",[modelChangedMessage]),service.actionId&&(console.debug("success: publishing modelChanged/"+service.actionId+" event"),dojo.publish("modelChanged/"+service.actionId,[modelChangedMessage]))}}else{var storeId=ServicesDeclarationJS.storeId,catalogId=ServicesDeclarationJS.catalogId,langId=ServicesDeclarationJS.langId;if("2500"==serviceResponse.errorCode)myURL="LogonForm?nextUrl="+(myURL=(myURL=(myURL=(myURL=(myURL=serviceResponse.originatingCommand).replace("?","%3F")).replace(/&amp;/g,"%26")).replace(/&/g,"%26")).replace(/=/g,"%3D"))+"&storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId+"&myAcctMain=1",console.debug("error type: ERR_USER_NOT_LOGGED_ON - only registered user can invoke the command"),console.debug("redirecting to URL: "+myURL),document.location.href=myURL;else if("2550"==serviceResponse.errorCode){myURL="AjaxLogonForm?nextUrl="+(myURL=(myURL=(myURL=(myURL=(myURL=serviceResponse.originatingCommand).replace("?","%3F")).replace(/&amp;/g,"%26")).replace(/&/g,"%26")).replace(/=/g,"%3D"))+"&storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId+"&myAcctMain=1",console.debug("error type: ERR_DIDNT_LOGON - the customer did not log on to the system."),console.debug("redirecting to URL: "+myURL),document.location.href=myURL}else if("2530"==serviceResponse.errorCode){var myURL;myURL="PasswordReEnterErrorView?nextUrl="+(myURL=(myURL=(myURL=(myURL=(myURL=serviceResponse.originatingCommand).replace("?","%3F")).replace(/&amp;/g,"%26")).replace(/&/g,"%26")).replace(/=/g,"%3D"))+"&storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId,console.debug("error type: ERR_PASSWORD_REREQUEST - password is required"),console.debug("redirecting to URL: "+myURL),document.location.href=myURL}else"2510"==serviceResponse.errorCode?(console.debug("error type: ERR_SESSION_TIMEOUT - use session has timed out"),console.debug("redirecting to URL: Logoff?URL=ReLogonFormView&storeId="+storeId),document.location.href="Logoff?URL=ReLogonFormView&storeId="+storeId):"2520"==serviceResponse.errorCode?(console.debug("error type: ERR_PROHIBITED_CHAR - detected prohibited characters in request"),console.debug("redirecting to URL: ProhibitedCharacterErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="ProhibitedCharacterErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId):"2540"==serviceResponse.errorCode?(console.debug("error type: ERR_CSRF - cross site request forgery attempt was detected"),console.debug("redirecting to URL: CrossSiteRequestForgeryErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="CrossSiteRequestForgeryErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId):"CMN1039E"==serviceResponse.errorCode?(console.debug("error type: _ERR_INVALID_COOKIE - cookie error was detected"),console.debug("redirecting to URL: CookieErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId),document.location.href="CookieErrorView?storeId="+storeId+"&catalogId="+catalogId+"&langId="+langId):(console.debug("calling service.failureHandler"),service.failureHandler(serviceResponse))}})),promise.fail((function(response){var serviceResponse=filterAjaxResponse(response);service.failureHandler&&service.failureHandler.apply(ServicesDeclarationJS,[serviceResponse])})),promise.always((function(){dojo.publish("ajaxRequestCompleted")}))}return promise}},render:{contexts:{},controllers:{},declareRefreshController:function(properties){var controller=new WCController(properties);return this.controllers[controller.id]=controller,controller},getRefreshControllerById:function(id){return this.controllers[id]},declareContext:function(id,properties,updateContextURL){if(null==this.contexts[id]||""==this.contexts[id])return this.contexts[id]=new WCContext(id,properties,updateContextURL),this.contexts[id]},getContextById:function(id){return this.contexts[id]},updateContext:function(id,updates){this.contexts[id].update(updates)}}},dijit={byNode:function(){return{}},byId:function(){},registry:{byClass:function(){return{forEach:function(){}}}},Tooltip:function(){}},CommonControllersDeclarationJS={setControllerURL:function(){}},jQuery&&function($){$.extend($.fn,{selectBox:function(method,data){var typeTimer,typeSearch="",isMac=navigator.platform.match(/mac/i),getOptions=function(select,type){var options,_getOptions=function(select,options){return select.children("OPTION, OPTGROUP").each((function(){if($(this).is("OPTION"))$(this).length>0?generateOptions($(this),options):options.append("<li> </li>");else{var optgroup=$('<li class="selectBox-optgroup" />');optgroup.text($(this).attr("label")),options.append(optgroup),options=_getOptions($(this),options)}})),options};switch(type){case"inline":return options=$('<ul class="selectBox-options" />'),(options=_getOptions(select,options)).find("A").bind("mouseover.selectBox",(function(event){addHover(select,$(this).parent())})).bind("mouseout.selectBox",(function(event){removeHover(select,$(this).parent())})).bind("mousedown.selectBox",(function(event){event.preventDefault(),select.selectBox("control").hasClass("selectBox-active")||select.selectBox("control").focus()})).bind("mouseup.selectBox",(function(event){hideMenus(),selectOption(select,$(this).parent(),event)})),disableSelection(options),options;case"dropdown":options=$('<ul class="selectBox-dropdown-menu selectBox-options" />'),(options=_getOptions(select,options)).data("selectBox-select",select).css("display","none").appendTo("BODY").find("A").bind("mousedown.selectBox",(function(event){event.preventDefault(),event.screenX===options.data("selectBox-down-at-x")&&event.screenY===options.data("selectBox-down-at-y")&&(options.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),hideMenus())})).bind("mouseup.selectBox",(function(event){event.screenX===options.data("selectBox-down-at-x")&&event.screenY===options.data("selectBox-down-at-y")||(options.removeData("selectBox-down-at-x").removeData("selectBox-down-at-y"),selectOption(select,$(this).parent()),hideMenus())})).bind("mouseover.selectBox",(function(event){addHover(select,$(this).parent())})).bind("mouseout.selectBox",(function(event){removeHover(select,$(this).parent())}));var classes=select.attr("class")||"";if(""!==classes)for(var i in classes=classes.split(" "))options.addClass(classes[i]+"-selectBox-dropdown-menu");return disableSelection(options),options}},getLabelClass=function(select){return("selectBox-label "+($(select).find("OPTION:selected").attr("class")||"")).replace(/\s+$/,"")},getLabelText=function(select){return $(select).find("OPTION:selected").text()||" "},setLabel=function(select){var control=(select=$(select)).data("selectBox-control");control&&control.find(".selectBox-label").attr("class",getLabelClass(select)).text(getLabelText(select))},showMenu=function(select){var control=(select=$(select)).data("selectBox-control"),settings=select.data("selectBox-settings"),options=control.data("selectBox-options");if(control.hasClass("selectBox-disabled"))return!1;hideMenus();var borderBottomWidth=isNaN(control.css("borderBottomWidth"))?0:parseInt(control.css("borderBottomWidth"));if(options.width(control.innerWidth()).css({top:control.offset().top+control.outerHeight()-borderBottomWidth,left:control.offset().left}),select.triggerHandler("beforeopen"))return!1;var dispatchOpenEvent=function(){select.triggerHandler("open",{_selectBox:!0})};if(void 0!==settings){switch(settings.menuTransition){case"fade":options.fadeIn(settings.menuSpeed,dispatchOpenEvent);break;case"slide":options.slideDown(settings.menuSpeed,dispatchOpenEvent);break;default:options.show(settings.menuSpeed,dispatchOpenEvent)}settings.menuSpeed||dispatchOpenEvent();var li=options.find(".selectBox-selected:first");keepOptionInView(select,li,!0),addHover(select,li),control.addClass("selectBox-menuShowing"),$(document).bind("mousedown.selectBox",(function(event){$(event.target).parents().andSelf().hasClass("selectBox-options")||hideMenus()}))}},hideMenus=function(){0!==$(".selectBox-dropdown-menu:visible").length&&($(document).unbind("mousedown.selectBox"),$(".selectBox-dropdown-menu").each((function(){var options=$(this),select=options.data("selectBox-select"),control=select.data("selectBox-control"),settings=select.data("selectBox-settings");if(select.triggerHandler("beforeclose"))return!1;var dispatchCloseEvent=function(){select.triggerHandler("close",{_selectBox:!0})};if(void 0!==settings){switch(settings.menuTransition){case"fade":options.fadeOut(settings.menuSpeed,dispatchCloseEvent);break;case"slide":options.slideUp(settings.menuSpeed,dispatchCloseEvent);break;default:options.hide(settings.menuSpeed,dispatchCloseEvent)}settings.menuSpeed||dispatchCloseEvent(),control.removeClass("selectBox-menuShowing")}})))},selectOption=function(select,li,event){select=$(select),li=$(li);var affectedOptions,control=select.data("selectBox-control");select.data("selectBox-settings");if(control.hasClass("selectBox-disabled"))return!1;if(0===li.length||li.hasClass("selectBox-disabled"))return!1;select.attr("multiple")?event.shiftKey&&control.data("selectBox-last-selected")?(li.toggleClass("selectBox-selected"),affectedOptions=(affectedOptions=li.index()>control.data("selectBox-last-selected").index()?li.siblings().slice(control.data("selectBox-last-selected").index(),li.index()):li.siblings().slice(li.index(),control.data("selectBox-last-selected").index())).not(".selectBox-optgroup, .selectBox-disabled"),li.hasClass("selectBox-selected")?affectedOptions.addClass("selectBox-selected"):affectedOptions.removeClass("selectBox-selected")):isMac&&event.metaKey||!isMac&&event.ctrlKey?li.toggleClass("selectBox-selected"):(li.siblings().removeClass("selectBox-selected"),li.addClass("selectBox-selected")):(li.siblings().removeClass("selectBox-selected"),li.addClass("selectBox-selected"));control.hasClass("selectBox-dropdown")&&control.find(".selectBox-label").text(li.text());var i=0,selection=[];return select.attr("multiple")?control.find(".selectBox-selected A").each((function(){selection[i++]=$(this).attr("rel")})):selection=li.find("A").attr("rel"),control.data("selectBox-last-selected",li),select.val()!==selection&&(select.val(selection),setLabel(select),select.trigger("change")),!0},addHover=function(select,li){select=$(select),li=$(li),select.data("selectBox-control").data("selectBox-options").find(".selectBox-hover").removeClass("selectBox-hover"),li.addClass("selectBox-hover")},removeHover=function(select,li){select=$(select),li=$(li),select.data("selectBox-control").data("selectBox-options").find(".selectBox-hover").removeClass("selectBox-hover")},keepOptionInView=function(select,li,center){if(li&&0!==li.length){var control=(select=$(select)).data("selectBox-control"),options=control.data("selectBox-options"),scrollBox=control.hasClass("selectBox-dropdown")?options:options.parent(),top=parseInt(li.offset().top-scrollBox.position().top),bottom=parseInt(top+li.outerHeight());center?scrollBox.scrollTop(li.offset().top-scrollBox.offset().top+scrollBox.scrollTop()-scrollBox.height()/2):(top<0&&scrollBox.scrollTop(li.offset().top-scrollBox.offset().top+scrollBox.scrollTop()),bottom>scrollBox.height()&&scrollBox.scrollTop(li.offset().top+li.outerHeight()-scrollBox.offset().top+scrollBox.scrollTop()-scrollBox.height()))}},handleKeyDown=function(select,event){var control=(select=$(select)).data("selectBox-control"),options=control.data("selectBox-options"),settings=select.data("selectBox-settings"),totalOptions=0,i=0;if(!control.hasClass("selectBox-disabled"))switch(event.keyCode){case 8:event.preventDefault(),typeSearch="";break;case 9:case 27:hideMenus(),removeHover(select);break;case 13:control.hasClass("selectBox-menuShowing")?(selectOption(select,options.find("LI.selectBox-hover:first"),event),control.hasClass("selectBox-dropdown")&&hideMenus()):showMenu(select);break;case 38:case 37:if(event.preventDefault(),control.hasClass("selectBox-menuShowing")){var prev=options.find(".selectBox-hover").prev("LI");for(totalOptions=options.find("LI:not(.selectBox-optgroup)").length,i=0;(0===prev.length||prev.hasClass("selectBox-disabled")||prev.hasClass("selectBox-optgroup"))&&(0===(prev=prev.prev("LI")).length&&(prev=settings.loopOptions?options.find("LI:last"):options.find("LI:first")),!(++i>=totalOptions)););addHover(select,prev),selectOption(select,prev,event),keepOptionInView(select,prev)}else showMenu(select);break;case 40:case 39:if(event.preventDefault(),control.hasClass("selectBox-menuShowing")){var next=options.find(".selectBox-hover").next("LI");for(totalOptions=options.find("LI:not(.selectBox-optgroup)").length,i=0;(0===next.length||next.hasClass("selectBox-disabled")||next.hasClass("selectBox-optgroup"))&&(0===(next=next.next("LI")).length&&(next=settings.loopOptions?options.find("LI:first"):options.find("LI:last")),!(++i>=totalOptions)););addHover(select,next),selectOption(select,next,event),keepOptionInView(select,next)}else showMenu(select)}},handleKeyPress=function(select,event){var control=(select=$(select)).data("selectBox-control"),options=control.data("selectBox-options");if(!control.hasClass("selectBox-disabled"))switch(event.keyCode){case 9:case 27:case 13:case 38:case 37:case 40:case 39:break;default:control.hasClass("selectBox-menuShowing")||showMenu(select),event.preventDefault(),clearTimeout(typeTimer),typeSearch+=String.fromCharCode(event.charCode||event.keyCode),options.find("A").each((function(){if($(this).text().trim().substr(0,typeSearch.length).toLowerCase()===typeSearch.toLowerCase())return addHover(select,$(this).parent()),keepOptionInView(select,$(this).parent()),!1})),typeTimer=setTimeout((function(){typeSearch=""}),1e3)}},disableSelection=function(selector){$(selector).css("MozUserSelect","none").bind("selectstart",(function(event){event.preventDefault()}))},generateOptions=function(self,options){var li=$("<li />"),a=$("<a />");li.addClass(self.attr("class")),li.data(self.data()),a.attr("rel",self.val()).text(self.text()),li.append(a),self.attr("disabled")&&li.addClass("selectBox-disabled"),self.attr("selected")&&li.addClass("selectBox-selected"),options.append(li)};switch(method){case"control":return $(this).data("selectBox-control");case"settings":if(!data)return $(this).data("selectBox-settings");$(this).each((function(){$(this).data("selectBox-settings",$.extend(!0,$(this).data("selectBox-settings"),data))}));break;case"options":if(void 0===data)return $(this).data("selectBox-control").data("selectBox-options");$(this).each((function(){!function(select,options){var control=(select=$(select)).data("selectBox-control");switch(select.data("selectBox-settings"),typeof data){case"string":select.html(data);break;case"object":for(var i in select.html(""),data)if(null!==data[i])if("object"==typeof data[i]){var optgroup=$('<optgroup label="'+i+'" />');for(var j in data[i])optgroup.append('<option value="'+j+'">'+data[i][j]+"</option>");select.append(optgroup)}else{var option=$('<option value="'+i+'">'+data[i]+"</option>");select.append(option)}}if(control){control.data("selectBox-options").remove();var type=control.hasClass("selectBox-dropdown")?"dropdown":"inline";switch(options=getOptions(select,type),control.data("selectBox-options",options),type){case"inline":control.append(options);break;case"dropdown":setLabel(select),$("BODY").append(options)}}}(this,data)}));break;case"value":if(void 0===data)return $(this).val();$(this).each((function(){!function(select,value){(select=$(select)).val(value),value=select.val();var control=select.data("selectBox-control");if(control){var settings=select.data("selectBox-settings"),options=control.data("selectBox-options");setLabel(select),options.find(".selectBox-selected").removeClass("selectBox-selected"),options.find("A").each((function(){if("object"==typeof value)for(var i=0;i<value.length;i++)$(this).attr("rel")==value[i]&&$(this).parent().addClass("selectBox-selected");else $(this).attr("rel")==value&&$(this).parent().addClass("selectBox-selected")})),settings.change&&settings.change.call(select)}}(this,data)}));break;case"refresh":$(this).each((function(){var select;(select=$(select=this)).selectBox("options",select.html())}));break;case"enable":$(this).each((function(){!function(select){(select=$(select)).attr("disabled",!1);var control=select.data("selectBox-control");control&&control.removeClass("selectBox-disabled")}(this)}));break;case"disable":$(this).each((function(){!function(select){(select=$(select)).attr("disabled",!0);var control=select.data("selectBox-control");control&&control.addClass("selectBox-disabled")}(this)}));break;case"destroy":$(this).each((function(){var select,control;(control=(select=$(select=this)).data("selectBox-control"))&&(control.data("selectBox-options").remove(),control.remove(),select.removeClass("selectBox").removeData("selectBox-control").data("selectBox-control",null).removeData("selectBox-settings").data("selectBox-settings",null).show())}));break;default:$(this).each((function(){!function(select,data){var options;if(navigator.userAgent.match(/iPhone|Android|IEMobile|BlackBerry/i))return!1;if("select"!==select.tagName.toLowerCase())return!1;if((select=$(select)).data("selectBox-control"))return!1;var control=$('<a class="selectBox" href="javascript:void(0);" />'),inline=select.attr("multiple")||parseInt(select.attr("size"))>1,settings=data||{};if(control.width(select.outerWidth()).addClass(select.attr("class")).attr("title",select.attr("title")||"").attr("tabindex",parseInt(select.attr("tabindex"))).css("display","inline-block").bind("focus.selectBox",(function(){this!==document.activeElement&&document.body!==document.activeElement&&$(document.activeElement).blur(),control.hasClass("selectBox-active")||(control.addClass("selectBox-active"),select.trigger("focus"))})).bind("blur.selectBox",(function(){control.hasClass("selectBox-active")&&(control.removeClass("selectBox-active"),select.trigger("blur"))})),$(window).data("selectBox-bindings")||$(window).data("selectBox-bindings",!0).bind("scroll.selectBox",hideMenus).bind("resize.selectBox",hideMenus),select.attr("disabled")&&control.addClass("selectBox-disabled"),select.bind("click.selectBox",(function(event){control.focus(),event.preventDefault()})),inline){if(options=getOptions(select,"inline"),control.append(options).data("selectBox-options",options).addClass("selectBox-inline selectBox-menuShowing").bind("keydown.selectBox",(function(event){handleKeyDown(select,event)})).bind("keypress.selectBox",(function(event){handleKeyPress(select,event)})).bind("mousedown.selectBox",(function(event){$(event.target).is("A.selectBox-inline")&&event.preventDefault(),control.hasClass("selectBox-focus")||control.focus()})).insertAfter(select),!select[0].style.height){var size=select.attr("size")?parseInt(select.attr("size")):5,tmp=control.clone().removeAttr("id").css({position:"absolute",top:"-9999em"}).show().appendTo("body");tmp.find(".selectBox-options").html("<li><a> </a></li>");var optionHeight=parseInt(tmp.find(".selectBox-options A:first").html("&nbsp;").outerHeight());tmp.remove(),control.height(optionHeight*size)}disableSelection(control)}else{var label=$('<span class="selectBox-label" />'),arrow=$('<span class="selectBox-arrow" />');label.attr("class",getLabelClass(select)).text(getLabelText(select)),(options=getOptions(select,"dropdown")).appendTo("BODY"),control.data("selectBox-options",options).addClass("selectBox-dropdown").append(label).append(arrow).bind("mousedown.selectBox",(function(event){control.hasClass("selectBox-menuShowing")?hideMenus():(event.stopPropagation(),options.data("selectBox-down-at-x",event.screenX).data("selectBox-down-at-y",event.screenY),showMenu(select))})).bind("keydown.selectBox",(function(event){handleKeyDown(select,event)})).bind("keypress.selectBox",(function(event){handleKeyPress(select,event)})).bind("open.selectBox",(function(event,triggerData){triggerData&&!0===triggerData._selectBox||showMenu(select)})).bind("close.selectBox",(function(event,triggerData){triggerData&&!0===triggerData._selectBox||hideMenus()})).insertAfter(select);var labelWidth=control.width()-arrow.outerWidth()-parseInt(label.css("paddingLeft"))-parseInt(label.css("paddingLeft"));label.width(labelWidth),disableSelection(control)}select.addClass("selectBox").data("selectBox-control",control).data("selectBox-settings",settings).hide()}(this,method)}))}return $(this)}})}(jQuery),
/*!
 * jQuery Tools v1.2.7 - The missing UI library for the Web
 * 
 * overlay/overlay.js
 * scrollable/scrollable.js
 * tabs/tabs.js
 * tooltip/tooltip.js
 * 
 * NO COPYRIGHTS OR LICENSES. DO WHAT YOU LIKE.
 * 
 * http://flowplayer.org/tools/
 * 
 */
function(b){function m(a,c){var e,f,k,d=this,h=a.add(d),n=b(window),g=b.tools.expose&&(c.mask||c.expose),l=Math.random().toString().slice(10);g&&("string"==typeof g&&(g={color:g}),g.closeOnClick=g.closeOnEsc=!1);var i=c.target||a.attr("rel");if(!(f=i?b(i):a).length)throw"Could not find Overlay: "+i;a&&-1==a.index(f)&&a.click((function(b){return d.load(b),b.preventDefault()})),b.extend(d,{load:function(a){if(d.isOpened())return d;var p=o[c.effect];if(!p)throw'Overlay: cannot find effect : "'+c.effect+'"';if(c.oneInstance&&b.each(q,(function(){this.close(a)})),(a=a||b.Event()).type="onBeforeLoad",h.trigger(a),a.isDefaultPrevented())return d;k=!0,g&&b(f).expose(g);var j=c.top,e=c.left,i=f.outerWidth({margin:!0}),m=f.outerHeight({margin:!0});return"string"==typeof j&&(j="center"==j?Math.max((n.height()-m)/2,0):parseInt(j,10)/100*n.height()),"center"==e&&(e=Math.max((n.width()-i)/2,0)),p[0].call(d,{top:j,left:e},(function(){k&&(a.type="onLoad",h.trigger(a))})),g&&c.closeOnClick&&b.mask.getMask().one("click",d.close),c.closeOnClick&&b(document).on("click."+l,(function(a){b(a.target).parents(f).length||d.close(a)})),c.closeOnEsc&&b(document).on("keydown."+l,(function(a){27==a.keyCode&&d.close(a)})),d},close:function(a){return d.isOpened()?((a=a||b.Event()).type="onBeforeClose",h.trigger(a),a.isDefaultPrevented()?void 0:(k=!1,o[c.effect][1].call(d,(function(){a.type="onClose",h.trigger(a)})),b(document).off("click."+l+" keydown."+l),g&&b.mask.close(),d)):d},getOverlay:function(){return f},getTrigger:function(){return a},getClosers:function(){return e},isOpened:function(){return k},getConf:function(){return c}}),b.each(["onBeforeLoad","onStart","onLoad","onBeforeClose","onClose"],(function(a,e){b.isFunction(c[e])&&b(d).on(e,c[e]),d[e]=function(a){return a&&b(d).on(e,a),d}})),!(e=f.find(c.close||".close")).length&&!c.close&&(e=b('<a class="close"></a>'),f.prepend(e)),e.click((function(a){d.close(a)})),c.load&&d.load()}b.tools=b.tools||{version:"@VERSION"},b.tools.overlay={addEffect:function(a,b,d){o[a]=[b,d]},conf:{close:null,closeOnClick:!0,closeOnEsc:!0,closeSpeed:"fast",effect:"default",fixed:!b.browser.msie||6<b.browser.version,left:"center",load:!1,mask:null,oneInstance:!0,speed:"normal",target:null,top:"10%"}};var q=[],o={};b.tools.overlay.addEffect("default",(function(a,c){var d=this.getConf(),h=b(window);d.fixed||(a.top+=h.scrollTop(),a.left+=h.scrollLeft()),a.position=d.fixed?"fixed":"absolute",this.getOverlay().css(a).fadeIn(d.speed,c)}),(function(a){this.getOverlay().fadeOut(this.getConf().closeSpeed,a)})),b.fn.overlay=function(a){var c=this.data("overlay");return c||(b.isFunction(a)&&(a={onBeforeLoad:a}),a=b.extend(!0,{},b.tools.overlay.conf,a),this.each((function(){c=new m(b(this),a),q.push(c),b(this).data("overlay",c)})),a.api?c:this)}}(jQuery),function(d){function p(f,b){var c=d(b);return 2>c.length?c:f.parent().find(b)}function u(f,b){var c=this,n=f.add(c),g=f.children(),l=0,j=b.vertical;if(k||(k=c),1<g.length&&(g=d(b.items,f)),1<b.size&&(b.circular=!1),d.extend(c,{getConf:function(){return b},getIndex:function(){return l},getSize:function(){return c.getItems().size()},getNaviButtons:function(){return h.add(m)},getRoot:function(){return f},getItemWrap:function(){return g},getItems:function(){return g.find(b.item).not("."+b.clonedClass)},move:function(a,b){return c.seekTo(l+a,b)},next:function(a){return c.move(b.size,a)},prev:function(a){return c.move(-b.size,a)},begin:function(a){return c.seekTo(0,a)},end:function(a){return c.seekTo(c.getSize()-1,a)},focus:function(){return k=c},addItem:function(a){return a=d(a),b.circular?(g.children().last().before(a),g.children().first().replaceWith(a.clone().addClass(b.clonedClass))):(g.append(a),m.removeClass("disabled")),n.trigger("onAddItem",[a]),c},seekTo:function(a,e,f){if(a.jquery||(a*=1),b.circular&&0===a&&-1==l&&0!==e||!b.circular&&a<0||a>c.getSize()||a<-1)return c;var i=a;a.jquery?a=c.getItems().index(a):i=c.getItems().eq(a);var h=d.Event("onBeforeSeek");return f||(n.trigger(h,[a,e]),!h.isDefaultPrevented()&&i.length)?(i=j?{top:-i.position().top}:{left:-i.position().left},l=a,k=c,void 0===e&&(e=b.speed),g.animate(i,e,b.easing,f||function(){n.trigger("onSeek",[a])}),c):c}}),d.each(["onBeforeSeek","onSeek","onAddItem"],(function(a,e){d.isFunction(b[e])&&d(c).on(e,b[e]),c[e]=function(a){return a&&d(c).on(e,a),c}})),b.circular){var q=c.getItems().slice(-1).clone().prependTo(g),r=c.getItems().eq(1).clone().appendTo(g);q.add(r).addClass(b.clonedClass),c.onBeforeSeek((function(a,b,d){if(!a.isDefaultPrevented()){if(-1==b)return c.seekTo(q,d,(function(){c.end(0)})),a.preventDefault();b==c.getSize()&&c.seekTo(r,d,(function(){c.begin(0)}))}}));var o=f.parents().add(f).filter((function(){if("none"===d(this).css("display"))return!0}));o.length?(o.show(),c.seekTo(0,0,(function(){})),o.hide()):c.seekTo(0,0,(function(){}))}var s,t,h=p(f,b.prev).click((function(a){a.stopPropagation(),c.prev()})),m=p(f,b.next).click((function(a){a.stopPropagation(),c.next()}));(b.circular||(c.onBeforeSeek((function(a,e){setTimeout((function(){a.isDefaultPrevented()||(h.toggleClass(b.disabledClass,e<=0),m.toggleClass(b.disabledClass,e>=c.getSize()-1))}),1)})),b.initialIndex||h.addClass(b.disabledClass)),2>c.getSize()&&h.add(m).addClass(b.disabledClass),b.mousewheel&&d.fn.mousewheel&&f.mousewheel((function(a,e){if(b.mousewheel)return c.move(e<0?1:-1,b.wheelSpeed||50),!1})),b.touch)&&(g[0].ontouchstart=function(a){a=a.touches[0],s=a.clientX,t=a.clientY},g[0].ontouchmove=function(a){if(1==a.touches.length&&!g.is(":animated")){var b=a.touches[0],d=s-b.clientX;b=t-b.clientY;c[j&&b>0||!j&&d>0?"next":"prev"](),a.preventDefault()}});b.keyboard&&d(document).on("keydown.scrollable",(function(a){if(b.keyboard&&!a.altKey&&!a.ctrlKey&&!a.metaKey&&!d(a.target).is(":input")&&("static"==b.keyboard||k==c)){var e=a.keyCode;if(j&&(38==e||40==e))return c.move(38==e?-1:1),a.preventDefault();if(!j&&(37==e||39==e))return c.move(37==e?-1:1),a.preventDefault()}})),b.initialIndex&&c.seekTo(b.initialIndex,0,(function(){}))}var k;d.tools=d.tools||{version:"@VERSION"},d.tools.scrollable={conf:{activeClass:"active",circular:!1,clonedClass:"cloned",disabledClass:"disabled",easing:"swing",initialIndex:0,item:"> *",items:".items",keyboard:!0,mousewheel:!1,next:".next",prev:".prev",size:1,speed:400,vertical:!1,touch:!0,wheelSpeed:0}},d.fn.scrollable=function(f){var b=this.data("scrollable");return b||(f=d.extend({},d.tools.scrollable.conf,f),this.each((function(){b=new u(d(this),f),d(this).data("scrollable",b)})),f.api?b:this)}}(jQuery),function(d){function n(c,a,b){var i,e=this,l=c.add(this),g=c.find(b.tabs),f=a.jquery?a:c.children(a);g.length||(g=c.children()),f.length||(f=c.parent().find(a)),f.length||(f=d(a)),d.extend(this,{click:function(a,h){var f=g.eq(a),j=!c.data("tabs");if("string"==typeof a&&a.replace("#","")&&(f=g.filter('[href*="'+a.replace("#","")+'"]'),a=Math.max(g.index(f),0)),b.rotate){var k=g.length-1;if(0>a)return e.click(k,h);if(a>k)return e.click(0,h)}if(!f.length){if(0<=i)return e;a=b.initialIndex,f=g.eq(a)}return a===i?e:((h=h||d.Event()).type="onBeforeClick",l.trigger(h,[a]),h.isDefaultPrevented()?void 0:(m[j?b.initialEffect&&b.effect||"default":b.effect].call(e,a,(function(){i=a,h.type="onClick",l.trigger(h,[a])})),g.removeClass(b.current),f.addClass(b.current),e))},getConf:function(){return b},getTabs:function(){return g},getPanes:function(){return f},getCurrentPane:function(){return f.eq(i)},getCurrentTab:function(){return g.eq(i)},getIndex:function(){return i},next:function(){return e.click(i+1)},prev:function(){return e.click(i-1)},destroy:function(){return g.off(b.event).removeClass(b.current),f.find('a[href^="#"]').off("click.T"),e}}),d.each(["onBeforeClick","onClick"],(function(a,c){d.isFunction(b[c])&&d(e).on(c,b[c]),e[c]=function(a){return a&&d(e).on(c,a),e}})),b.history&&d.fn.history&&(d.tools.history.init(g),b.event="history"),g.each((function(a){d(this).on(b.event,(function(b){return e.click(a,b),b.preventDefault()}))})),f.find('a[href^="#"]').on("click.T",(function(a){e.click(d(this).attr("href"),a)})),location.hash&&"a"==b.tabs&&c.find('[href="'+location.hash+'"]').length?e.click(location.hash):(0===b.initialIndex||0<b.initialIndex)&&e.click(b.initialIndex)}d.tools=d.tools||{version:"@VERSION"},d.tools.tabs={conf:{tabs:"a",current:"current",onBeforeClick:null,onClick:null,effect:"default",initialEffect:!1,initialIndex:0,event:"click",rotate:!1,slideUpSpeed:400,slideDownSpeed:400,history:!1},addEffect:function(c,a){m[c]=a}};var j,k,m={default:function(c,a){this.getPanes().hide().eq(c).show(),a.call()},fade:function(c,a){var b=this.getConf(),e=b.fadeOutSpeed,d=this.getPanes();e?d.fadeOut(e):d.hide(),d.eq(c).fadeIn(b.fadeInSpeed,a)},slide:function(c,a){var b=this.getConf();this.getPanes().slideUp(b.slideUpSpeed),this.getPanes().eq(c).slideDown(b.slideDownSpeed,a)},ajax:function(c,a){this.getPanes().eq(0).load(this.getTabs().eq(c).attr("href"),a)}};d.tools.tabs.addEffect("horizontal",(function(c,a){if(!j){var b=this.getPanes().eq(c),e=this.getCurrentPane();k||(k=this.getPanes().eq(0).width()),j=!0,b.show(),e.animate({width:0},{step:function(a){b.css("width",k-a)},complete:function(){d(this).hide(),a.call(),j=!1}}),e.length||(a.call(),j=!1)}})),d.fn.tabs=function(c,a){var b=this.data("tabs");return b&&(b.destroy(),this.removeData("tabs")),d.isFunction(a)&&(a={onBeforeClick:a}),a=d.extend({},d.tools.tabs.conf,a),this.each((function(){b=new n(d(this),c,a),d(this).data("tabs",b)})),a.api?b:this}}(jQuery),function(e){function p(a,b,d){var f=d.relative?a.position().top:a.offset().top,c=d.relative?a.position().left:a.offset().left,h=d.position[0];f-=b.outerHeight()-d.offset[0],c+=a.outerWidth()+d.offset[1];/iPad/i.test(navigator.userAgent)&&(f-=e(window).scrollTop());var i=b.outerHeight()+a.outerHeight();return"center"==h&&(f+=i/2),"bottom"==h&&(f+=i),h=d.position[1],a=b.outerWidth()+a.outerWidth(),"center"==h&&(c-=a/2),"left"==h&&(c-=a),{top:f,left:c}}function n(a,b){var c,l,d=this,f=a.add(d),h=0,i=0,m=a.attr("title"),q=a.attr("data-tooltip"),r=o[b.effect],s=a.is(":input"),n=s&&a.is(":checkbox, :radio, select, :button, :submit"),t=a.attr("type"),j=b.events[t]||b.events[s?n?"widget":"input":"def"];if(!r)throw'Nonexistent effect "'+b.effect+'"';if(2!=(j=j.split(/,\s*/)).length)throw"Tooltip: bad events configuration for "+t;a.on(j[0],(function(a){clearTimeout(h),b.predelay?i=setTimeout((function(){d.show(a)}),b.predelay):d.show(a)})).on(j[1],(function(a){clearTimeout(i),b.delay?h=setTimeout((function(){d.hide(a)}),b.delay):d.hide(a)})),m&&b.cancelDefault&&(a.removeAttr("title"),a.data("title",m)),e.extend(d,{show:function(k){if(!c&&(q?c=e(q):b.tip?c=e(b.tip).eq(0):m?c=e(b.layout).addClass(b.tipClass).appendTo(document.body).hide().append(m):(c=a.next()).length||(c=a.parent().next()),!c.length))throw"Cannot find tooltip for "+a;if(d.isShown())return d;c.stop(!0,!0);var g=p(a,c,b);return b.tip&&c.html(a.data("title")),(k=e.Event()).type="onBeforeShow",f.trigger(k,[g]),k.isDefaultPrevented()||(g=p(a,c,b),c.css({position:"absolute",top:g.top,left:g.left}),l=!0,r[0].call(d,(function(){k.type="onShow",l="full",f.trigger(k)})),g=b.events.tooltip.split(/,\s*/),c.data("__set")||(c.off(g[0]).on(g[0],(function(){clearTimeout(h),clearTimeout(i)})),g[1]&&!a.is("input:not(:checkbox, :radio), textarea")&&c.off(g[1]).on(g[1],(function(b){b.relatedTarget!=a[0]&&a.trigger(j[1].split(" ")[0])})),b.tip||c.data("__set",!0))),d},hide:function(a){return c&&d.isShown()?((a=e.Event()).type="onBeforeHide",f.trigger(a),a.isDefaultPrevented()?void 0:(l=!1,o[b.effect][1].call(d,(function(){a.type="onHide",f.trigger(a)})),d)):d},isShown:function(a){return a?"full"==l:l},getConf:function(){return b},getTip:function(){return c},getTrigger:function(){return a}}),e.each(["onHide","onBeforeShow","onShow","onBeforeHide"],(function(a,c){e.isFunction(b[c])&&e(d).on(c,b[c]),d[c]=function(a){return a&&e(d).on(c,a),d}}))}e.tools=e.tools||{version:"@VERSION"},e.tools.tooltip={conf:{effect:"toggle",fadeOutSpeed:"fast",predelay:0,delay:30,opacity:1,tip:0,fadeIE:!1,position:["top","center"],offset:[0,0],relative:!1,cancelDefault:!0,events:{def:"mouseenter,mouseleave",input:"focus,blur",widget:"focus mouseenter,blur mouseleave",tooltip:"mouseenter,mouseleave"},layout:"<div/>",tipClass:"tooltip"},addEffect:function(a,b,d){o[a]=[b,d]}};var o={toggle:[function(a){var b=this.getConf(),d=this.getTip();1>(b=b.opacity)&&d.css({opacity:b}),d.show(),a.call()},function(a){this.getTip().hide(),a.call()}],fade:[function(a){var b=this.getConf();!e.browser.msie||b.fadeIE?this.getTip().fadeTo(b.fadeInSpeed,b.opacity,a):(this.getTip().show(),a())},function(a){var b=this.getConf();!e.browser.msie||b.fadeIE?this.getTip().fadeOut(b.fadeOutSpeed,a):(this.getTip().hide(),a())}]};e.fn.tooltip=function(a){var b=this.data("tooltip");return b||("string"==typeof(a=e.extend(!0,{},e.tools.tooltip.conf,a)).position&&(a.position=a.position.split(/,?\s/)),this.each((function(){b=new n(e(this),a),e(this).data("tooltip",b)})),a.api?b:this)}}(jQuery),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}((function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if((b=a.event.fix(g)).type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(j=m=-1*g.deltaY),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})),function(a){"function"==typeof define&&define.amd?define(["jquery"],a):"object"==typeof exports?module.exports=a:a(jQuery)}((function(a){function b(b){var g=b||window.event,h=i.call(arguments,1),j=0,l=0,m=0,n=0,o=0,p=0;if((b=a.event.fix(g)).type="mousewheel","detail"in g&&(m=-1*g.detail),"wheelDelta"in g&&(m=g.wheelDelta),"wheelDeltaY"in g&&(m=g.wheelDeltaY),"wheelDeltaX"in g&&(l=-1*g.wheelDeltaX),"axis"in g&&g.axis===g.HORIZONTAL_AXIS&&(l=-1*m,m=0),j=0===m?l:m,"deltaY"in g&&(j=m=-1*g.deltaY),"deltaX"in g&&(l=g.deltaX,0===m&&(j=-1*l)),0!==m||0!==l){if(1===g.deltaMode){var q=a.data(this,"mousewheel-line-height");j*=q,m*=q,l*=q}else if(2===g.deltaMode){var r=a.data(this,"mousewheel-page-height");j*=r,m*=r,l*=r}if(n=Math.max(Math.abs(m),Math.abs(l)),(!f||f>n)&&(f=n,d(g,n)&&(f/=40)),d(g,n)&&(j/=40,l/=40,m/=40),j=Math[j>=1?"floor":"ceil"](j/f),l=Math[l>=1?"floor":"ceil"](l/f),m=Math[m>=1?"floor":"ceil"](m/f),k.settings.normalizeOffset&&this.getBoundingClientRect){var s=this.getBoundingClientRect();o=b.clientX-s.left,p=b.clientY-s.top}return b.deltaX=l,b.deltaY=m,b.deltaFactor=f,b.offsetX=o,b.offsetY=p,b.deltaMode=0,h.unshift(b,j,l,m),e&&clearTimeout(e),e=setTimeout(c,200),(a.event.dispatch||a.event.handle).apply(this,h)}}function c(){f=null}function d(a,b){return k.settings.adjustOldDeltas&&"mousewheel"===a.type&&b%120==0}var e,f,g=["wheel","mousewheel","DOMMouseScroll","MozMousePixelScroll"],h="onwheel"in document||document.documentMode>=9?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"],i=Array.prototype.slice;if(a.event.fixHooks)for(var j=g.length;j;)a.event.fixHooks[g[--j]]=a.event.mouseHooks;var k=a.event.special.mousewheel={version:"3.1.12",setup:function(){if(this.addEventListener)for(var c=h.length;c;)this.addEventListener(h[--c],b,!1);else this.onmousewheel=b;a.data(this,"mousewheel-line-height",k.getLineHeight(this)),a.data(this,"mousewheel-page-height",k.getPageHeight(this))},teardown:function(){if(this.removeEventListener)for(var c=h.length;c;)this.removeEventListener(h[--c],b,!1);else this.onmousewheel=null;a.removeData(this,"mousewheel-line-height"),a.removeData(this,"mousewheel-page-height")},getLineHeight:function(b){var c=a(b),d=c["offsetParent"in a.fn?"offsetParent":"parent"]();return d.length||(d=a("body")),parseInt(d.css("fontSize"),10)||parseInt(c.css("fontSize"),10)||16},getPageHeight:function(b){return a(b).height()},settings:{adjustOldDeltas:!0,normalizeOffset:!0}};a.fn.extend({mousewheel:function(a){return a?this.bind("mousewheel",a):this.trigger("mousewheel")},unmousewheel:function(a){return this.unbind("mousewheel",a)}})})),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof module&&module.exports?module.exports=e:e(jQuery,window,document)}((function(e){var o,a,n;o="function"==typeof define&&define.amd,a="undefined"!=typeof module&&module.exports,n="https:"==document.location.protocol?"https:":"http:",o||(a?require("jquery-mousewheel")(e):e.event.special.mousewheel||e("head").append(decodeURI("%3Cscript src="+n+"//cdnjs.cloudflare.com/ajax/libs/jquery-mousewheel/3.1.13/jquery.mousewheel.min.js%3E%3C/script%3E"))),function(){var t,o="mCustomScrollbar",a="mCS",n=".mCustomScrollbar",i={setTop:0,setLeft:0,axis:"y",scrollbarPosition:"inside",scrollInertia:950,autoDraggerLength:!0,alwaysShowScrollbar:0,snapOffset:0,mouseWheel:{enable:!0,scrollAmount:"auto",axis:"y",deltaFactor:"auto",disableOver:["select","option","keygen","datalist","textarea"]},scrollButtons:{scrollType:"stepless",scrollAmount:"auto"},keyboard:{enable:!0,scrollType:"stepless",scrollAmount:"auto"},contentTouchScroll:25,documentTouchScroll:!0,advanced:{autoScrollOnFocus:"input,textarea,select,button,datalist,keygen,a[tabindex],area,object,[contenteditable='true']",updateOnContentResize:!0,updateOnImageLoad:"auto",autoUpdateTimeout:60},theme:"light",callbacks:{onTotalScrollOffset:0,onTotalScrollBackOffset:0,alwaysTriggerOffsets:!0}},r=0,l={},s=window.attachEvent&&!window.addEventListener?1:0,c=!1,d=["mCSB_dragger_onDrag","mCSB_scrollTools_onDrag","mCS_img_loaded","mCS_disabled","mCS_destroyed","mCS_no_scrollbar","mCS-autoHide","mCS-dir-rtl","mCS_no_scrollbar_y","mCS_no_scrollbar_x","mCS_y_hidden","mCS_x_hidden","mCSB_draggerContainer","mCSB_buttonUp","mCSB_buttonDown","mCSB_buttonLeft","mCSB_buttonRight"],u={init:function(t){t=e.extend(!0,{},i,t);var o=f.call(this);if(t.live){var s=t.liveSelector||this.selector||n,c=e(s);if("off"===t.live)return void m(s);l[s]=setTimeout((function(){c.mCustomScrollbar(t),"once"===t.live&&c.length&&m(s)}),500)}else m(s);return t.setWidth=t.set_width?t.set_width:t.setWidth,t.setHeight=t.set_height?t.set_height:t.setHeight,t.axis=t.horizontalScroll?"x":p(t.axis),t.scrollInertia=t.scrollInertia>0&&t.scrollInertia<17?17:t.scrollInertia,"object"!=typeof t.mouseWheel&&1==t.mouseWheel&&(t.mouseWheel={enable:!0,scrollAmount:"auto",axis:"y",preventDefault:!1,deltaFactor:"auto",normalizeDelta:!1,invert:!1}),t.mouseWheel.scrollAmount=t.mouseWheelPixels?t.mouseWheelPixels:t.mouseWheel.scrollAmount,t.mouseWheel.normalizeDelta=t.advanced.normalizeMouseWheelDelta?t.advanced.normalizeMouseWheelDelta:t.mouseWheel.normalizeDelta,t.scrollButtons.scrollType=g(t.scrollButtons.scrollType),h(t),e(o).each((function(){var o=e(this);if(!o.data(a)){o.data(a,{idx:++r,opt:t,scrollRatio:{y:null,x:null},overflowed:null,contentReset:{y:null,x:null},bindEvents:!1,tweenRunning:!1,sequential:{},langDir:o.css("direction"),cbOffsets:null,trigger:null,poll:{size:{o:0,n:0},img:{o:0,n:0},change:{o:0,n:0}}});var n=o.data(a),i=n.opt,l=o.data("mcs-axis"),s=o.data("mcs-scrollbar-position"),c=o.data("mcs-theme");l&&(i.axis=l),s&&(i.scrollbarPosition=s),c&&(i.theme=c,h(i)),v.call(this),n&&i.callbacks.onCreate&&"function"==typeof i.callbacks.onCreate&&i.callbacks.onCreate.call(this),e("#mCSB_"+n.idx+"_container img:not(."+d[2]+")").addClass(d[2]),u.update.call(null,o)}}))},update:function(t,o){var n=t||f.call(this);return e(n).each((function(){var t=e(this);if(t.data(a)){var n=t.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container"),l=e("#mCSB_"+n.idx),s=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];if(!r.length)return;n.tweenRunning&&Q(t),o&&n&&i.callbacks.onBeforeUpdate&&"function"==typeof i.callbacks.onBeforeUpdate&&i.callbacks.onBeforeUpdate.call(this),t.hasClass(d[3])&&t.removeClass(d[3]),t.hasClass(d[4])&&t.removeClass(d[4]),l.css("max-height","none"),l.height()!==t.height()&&l.css("max-height",t.height()),_.call(this),"y"===i.axis||i.advanced.autoExpandHorizontalScroll||r.css("width",x(r)),n.overflowed=y.call(this),M.call(this),i.autoDraggerLength&&S.call(this),b.call(this),T.call(this);var c=[Math.abs(r[0].offsetTop),Math.abs(r[0].offsetLeft)];"x"!==i.axis&&(n.overflowed[0]?s[0].height()>s[0].parent().height()?B.call(this):(G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}),n.contentReset.y=null):(B.call(this),"y"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[1]&&G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}))),"y"!==i.axis&&(n.overflowed[1]?s[1].width()>s[1].parent().width()?B.call(this):(G(t,c[1].toString(),{dir:"x",dur:0,overwrite:"none"}),n.contentReset.x=null):(B.call(this),"x"===i.axis?k.call(this):"yx"===i.axis&&n.overflowed[0]&&G(t,c[0].toString(),{dir:"y",dur:0,overwrite:"none"}))),o&&n&&(2===o&&i.callbacks.onImageLoad&&"function"==typeof i.callbacks.onImageLoad?i.callbacks.onImageLoad.call(this):3===o&&i.callbacks.onSelectorChange&&"function"==typeof i.callbacks.onSelectorChange?i.callbacks.onSelectorChange.call(this):i.callbacks.onUpdate&&"function"==typeof i.callbacks.onUpdate&&i.callbacks.onUpdate.call(this)),N.call(this)}}))},scrollTo:function(t,o){if(void 0!==t&&null!=t){var n=f.call(this);return e(n).each((function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l={trigger:"external",scrollInertia:r.scrollInertia,scrollEasing:"mcsEaseInOut",moveDragger:!1,timeout:60,callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},s=e.extend(!0,{},l,o),c=Y.call(this,t),d=s.scrollInertia>0&&s.scrollInertia<17?17:s.scrollInertia;c[0]=X.call(this,c[0],"y"),c[1]=X.call(this,c[1],"x"),s.moveDragger&&(c[0]*=i.scrollRatio.y,c[1]*=i.scrollRatio.x),s.dur=ne()?0:d,setTimeout((function(){null!==c[0]&&void 0!==c[0]&&"x"!==r.axis&&i.overflowed[0]&&(s.dir="y",s.overwrite="all",G(n,c[0].toString(),s)),null!==c[1]&&void 0!==c[1]&&"y"!==r.axis&&i.overflowed[1]&&(s.dir="x",s.overwrite="none",G(n,c[1].toString(),s))}),s.timeout)}}))}},stop:function(){var t=f.call(this);return e(t).each((function(){var t=e(this);t.data(a)&&Q(t)}))},disable:function(t){var o=f.call(this);return e(o).each((function(){var o=e(this);o.data(a)&&(o.data(a),N.call(this,"remove"),k.call(this),t&&B.call(this),M.call(this,!0),o.addClass(d[3]))}))},destroy:function(){var t=f.call(this);return e(t).each((function(){var n=e(this);if(n.data(a)){var i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx),s=e("#mCSB_"+i.idx+"_container"),c=e(".mCSB_"+i.idx+"_scrollbar");r.live&&m(r.liveSelector||e(t).selector),N.call(this,"remove"),k.call(this),B.call(this),n.removeData(a),$(this,"mcs"),c.remove(),s.find("img."+d[2]).removeClass(d[2]),l.replaceWith(s.contents()),n.removeClass(o+" _"+a+"_"+i.idx+" "+d[6]+" "+d[7]+" "+d[5]+" "+d[3]).addClass(d[4])}}))}},f=function(){return"object"!=typeof e(this)||e(this).length<1?n:this},h=function(t){var o=["rounded","rounded-dark","rounded-dots","rounded-dots-dark"],a=["rounded-dots","rounded-dots-dark","3d","3d-dark","3d-thick","3d-thick-dark","inset","inset-dark","inset-2","inset-2-dark","inset-3","inset-3-dark"],n=["minimal","minimal-dark"],i=["minimal","minimal-dark"],r=["minimal","minimal-dark"];t.autoDraggerLength=!(e.inArray(t.theme,o)>-1)&&t.autoDraggerLength,t.autoExpandScrollbar=!(e.inArray(t.theme,a)>-1)&&t.autoExpandScrollbar,t.scrollButtons.enable=!(e.inArray(t.theme,n)>-1)&&t.scrollButtons.enable,t.autoHideScrollbar=e.inArray(t.theme,i)>-1||t.autoHideScrollbar,t.scrollbarPosition=e.inArray(t.theme,r)>-1?"outside":t.scrollbarPosition},m=function(e){l[e]&&(clearTimeout(l[e]),$(l,e))},p=function(e){return"yx"===e||"xy"===e||"auto"===e?"yx":"x"===e||"horizontal"===e?"x":"y"},g=function(e){return"stepped"===e||"pixels"===e||"step"===e||"click"===e?"stepped":"stepless"},v=function(){var t=e(this),n=t.data(a),i=n.opt,r=i.autoExpandScrollbar?" "+d[1]+"_expand":"",l=["<div id='mCSB_"+n.idx+"_scrollbar_vertical' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_vertical"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_vertical' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>","<div id='mCSB_"+n.idx+"_scrollbar_horizontal' class='mCSB_scrollTools mCSB_"+n.idx+"_scrollbar mCS-"+i.theme+" mCSB_scrollTools_horizontal"+r+"'><div class='"+d[12]+"'><div id='mCSB_"+n.idx+"_dragger_horizontal' class='mCSB_dragger' style='position:absolute;'><div class='mCSB_dragger_bar' /></div><div class='mCSB_draggerRail' /></div></div>"],s="yx"===i.axis?"mCSB_vertical_horizontal":"x"===i.axis?"mCSB_horizontal":"mCSB_vertical",c="yx"===i.axis?l[0]+l[1]:"x"===i.axis?l[1]:l[0],u="yx"===i.axis?"<div id='mCSB_"+n.idx+"_container_wrapper' class='mCSB_container_wrapper' />":"",f=i.autoHideScrollbar?" "+d[6]:"",h="x"!==i.axis&&"rtl"===n.langDir?" "+d[7]:"";i.setWidth&&t.css("width",i.setWidth),i.setHeight&&t.css("height",i.setHeight),i.setLeft="y"!==i.axis&&"rtl"===n.langDir?"989999px":i.setLeft,t.addClass(o+" _"+a+"_"+n.idx+f+h).wrapInner("<div id='mCSB_"+n.idx+"' class='mCustomScrollBox mCS-"+i.theme+" "+s+"'><div id='mCSB_"+n.idx+"_container' class='mCSB_container' style='position:relative; top:"+i.setTop+"; left:"+i.setLeft+";' dir='"+n.langDir+"' /></div>");var m=e("#mCSB_"+n.idx),p=e("#mCSB_"+n.idx+"_container");"y"===i.axis||i.advanced.autoExpandHorizontalScroll||p.css("width",x(p)),"outside"===i.scrollbarPosition?("static"===t.css("position")&&t.css("position","relative"),t.css("overflow","visible"),m.addClass("mCSB_outside").after(c)):(m.addClass("mCSB_inside").append(c),p.wrap(u)),w.call(this);var g=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")];g[0].css("min-height",g[0].height()),g[1].css("min-width",g[1].width())},x=function(t){var o=[t[0].scrollWidth,Math.max.apply(Math,t.children().map((function(){return e(this).outerWidth(!0)})).get())],a=t.parent().width();return o[0]>a?o[0]:o[1]>a?o[1]:"100%"},_=function(){var o=e(this).data(a),n=o.opt,i=e("#mCSB_"+o.idx+"_container");if(n.advanced.autoExpandHorizontalScroll&&"y"!==n.axis){i.css({width:"auto","min-width":0,"overflow-x":"scroll"});var r=Math.ceil(i[0].scrollWidth);3===n.advanced.autoExpandHorizontalScroll||2!==n.advanced.autoExpandHorizontalScroll&&r>i.parent().width()?i.css({width:r,"min-width":"100%","overflow-x":"inherit"}):i.css({"overflow-x":"inherit",position:"absolute"}).wrap("<div class='mCSB_h_wrapper' style='position:relative; left:0; width:999999px;' />").css({width:Math.ceil(i[0].getBoundingClientRect().right+.4)-Math.floor(i[0].getBoundingClientRect().left),"min-width":"100%",position:"relative"}).unwrap()}},w=function(){var o=e(this).data(a),n=o.opt,i=e(".mCSB_"+o.idx+"_scrollbar:first"),r=oe(n.scrollButtons.tabindex)?"tabindex='"+n.scrollButtons.tabindex+"'":"",l=["<a href='#' class='"+d[13]+"' "+r+" />","<a href='#' class='"+d[14]+"' "+r+" />","<a href='#' class='"+d[15]+"' "+r+" />","<a href='#' class='"+d[16]+"' "+r+" />"],s=["x"===n.axis?l[2]:l[0],"x"===n.axis?l[3]:l[1],l[2],l[3]];n.scrollButtons.enable&&i.prepend(s[0]).append(s[1]).next(".mCSB_scrollTools").prepend(s[2]).append(s[3])},S=function(){var o=e(this).data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[n.height()/i.outerHeight(!1),n.width()/i.outerWidth(!1)],c=[parseInt(r[0].css("min-height")),Math.round(l[0]*r[0].parent().height()),parseInt(r[1].css("min-width")),Math.round(l[1]*r[1].parent().width())],d=s&&c[1]<c[0]?c[0]:c[1],u=s&&c[3]<c[2]?c[2]:c[3];r[0].css({height:d,"max-height":r[0].parent().height()-10}).find(".mCSB_dragger_bar").css({"line-height":c[0]+"px"}),r[1].css({width:u,"max-width":r[1].parent().width()-10})},b=function(){var o=e(this).data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")],l=[i.outerHeight(!1)-n.height(),i.outerWidth(!1)-n.width()],s=[l[0]/(r[0].parent().height()-r[0].height()),l[1]/(r[1].parent().width()-r[1].width())];o.scrollRatio={y:s[0],x:s[1]}},C=function(e,t,o){var a=o?d[0]+"_expanded":"",n=e.closest(".mCSB_scrollTools");"active"===t?(e.toggleClass(d[0]+" "+a),n.toggleClass(d[1]),e[0]._draggable=e[0]._draggable?0:1):e[0]._draggable||("hide"===t?(e.removeClass(d[0]),n.removeClass(d[1])):(e.addClass(d[0]),n.addClass(d[1])))},y=function(){var o=e(this).data(a),n=e("#mCSB_"+o.idx),i=e("#mCSB_"+o.idx+"_container"),r=null==o.overflowed?i.height():i.outerHeight(!1),l=null==o.overflowed?i.width():i.outerWidth(!1),s=i[0].scrollHeight,c=i[0].scrollWidth;return s>r&&(r=s),c>l&&(l=c),[r>n.height(),l>n.width()]},B=function(){var t=e(this),o=t.data(a),n=o.opt,i=e("#mCSB_"+o.idx),r=e("#mCSB_"+o.idx+"_container"),l=[e("#mCSB_"+o.idx+"_dragger_vertical"),e("#mCSB_"+o.idx+"_dragger_horizontal")];if(Q(t),("x"!==n.axis&&!o.overflowed[0]||"y"===n.axis&&o.overflowed[0])&&(l[0].add(r).css("top",0),G(t,"_resetY")),"y"!==n.axis&&!o.overflowed[1]||"x"===n.axis&&o.overflowed[1]){var s=dx=0;"rtl"===o.langDir&&(s=i.width()-r.outerWidth(!1),dx=Math.abs(s/o.scrollRatio.x)),r.css("left",s),l[1].css("left",dx),G(t,"_resetX")}},T=function(){function t(){r=setTimeout((function(){e.event.special.mousewheel?(clearTimeout(r),W.call(o[0])):t()}),100)}var r,o=e(this),n=o.data(a),i=n.opt;n.bindEvents||(I.call(this),i.contentTouchScroll&&D.call(this),E.call(this),i.mouseWheel.enable&&t(),P.call(this),U.call(this),i.advanced.autoScrollOnFocus&&H.call(this),i.scrollButtons.enable&&F.call(this),i.keyboard.enable&&q.call(this),n.bindEvents=!0)},k=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=".mCSB_"+o.idx+"_scrollbar",l=e("#mCSB_"+o.idx+",#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,"+r+" ."+d[12]+",#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal,"+r+">a"),s=e("#mCSB_"+o.idx+"_container");n.advanced.releaseDraggableSelectors&&l.add(e(n.advanced.releaseDraggableSelectors)),n.advanced.extraDraggableSelectors&&l.add(e(n.advanced.extraDraggableSelectors)),o.bindEvents&&(e(document).add(e(!A()||top.document)).unbind("."+i),l.each((function(){e(this).unbind("."+i)})),clearTimeout(t[0]._focusTimeout),$(t[0],"_focusTimeout"),clearTimeout(o.sequential.step),$(o.sequential,"step"),clearTimeout(s[0].onCompleteTimeout),$(s[0],"onCompleteTimeout"),o.bindEvents=!1)},M=function(t){var o=e(this),n=o.data(a),i=n.opt,r=e("#mCSB_"+n.idx+"_container_wrapper"),l=r.length?r:e("#mCSB_"+n.idx+"_container"),s=[e("#mCSB_"+n.idx+"_scrollbar_vertical"),e("#mCSB_"+n.idx+"_scrollbar_horizontal")],c=[s[0].find(".mCSB_dragger"),s[1].find(".mCSB_dragger")];"x"!==i.axis&&(n.overflowed[0]&&!t?(s[0].add(c[0]).add(s[0].children("a")).css("display","block"),l.removeClass(d[8]+" "+d[10])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[0].css("display","none"),l.removeClass(d[10])):(s[0].css("display","none"),l.addClass(d[10])),l.addClass(d[8]))),"y"!==i.axis&&(n.overflowed[1]&&!t?(s[1].add(c[1]).add(s[1].children("a")).css("display","block"),l.removeClass(d[9]+" "+d[11])):(i.alwaysShowScrollbar?(2!==i.alwaysShowScrollbar&&c[1].css("display","none"),l.removeClass(d[11])):(s[1].css("display","none"),l.addClass(d[11])),l.addClass(d[9]))),n.overflowed[0]||n.overflowed[1]?o.removeClass(d[5]):o.addClass(d[5])},O=function(t){var o=t.type,a=t.target.ownerDocument!==document&&null!==frameElement?[e(frameElement).offset().top,e(frameElement).offset().left]:null,n=A()&&t.target.ownerDocument!==top.document&&null!==frameElement?[e(t.view.frameElement).offset().top,e(t.view.frameElement).offset().left]:[0,0];switch(o){case"pointerdown":case"MSPointerDown":case"pointermove":case"MSPointerMove":case"pointerup":case"MSPointerUp":return a?[t.originalEvent.pageY-a[0]+n[0],t.originalEvent.pageX-a[1]+n[1],!1]:[t.originalEvent.pageY,t.originalEvent.pageX,!1];case"touchstart":case"touchmove":case"touchend":var i=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],r=t.originalEvent.touches.length||t.originalEvent.changedTouches.length;return t.target.ownerDocument!==document?[i.screenY,i.screenX,r>1]:[i.pageY,i.pageX,r>1];default:return a?[t.pageY-a[0]+n[0],t.pageX-a[1]+n[1],!1]:[t.pageY,t.pageX,!1]}},I=function(){function t(e,t,a,n){if(h[0].idleTimer=d.scrollInertia<233?250:0,o.attr("id")===f[1])var i="x",s=(o[0].offsetLeft-t+n)*l.scrollRatio.x;else i="y",s=(o[0].offsetTop-e+a)*l.scrollRatio.y;G(r,s.toString(),{dir:i,drag:!0})}var o,n,i,r=e(this),l=r.data(a),d=l.opt,u=a+"_"+l.idx,f=["mCSB_"+l.idx+"_dragger_vertical","mCSB_"+l.idx+"_dragger_horizontal"],h=e("#mCSB_"+l.idx+"_container"),m=e("#"+f[0]+",#"+f[1]),p=d.advanced.releaseDraggableSelectors?m.add(e(d.advanced.releaseDraggableSelectors)):m,g=d.advanced.extraDraggableSelectors?e(!A()||top.document).add(e(d.advanced.extraDraggableSelectors)):e(!A()||top.document);m.bind("contextmenu."+u,(function(e){e.preventDefault()})).bind("mousedown."+u+" touchstart."+u+" pointerdown."+u+" MSPointerDown."+u,(function(t){if(t.stopImmediatePropagation(),t.preventDefault(),ee(t)){c=!0,s&&(document.onselectstart=function(){return!1}),L.call(h,!1),Q(r);var a=(o=e(this)).offset(),l=O(t)[0]-a.top,u=O(t)[1]-a.left,f=o.height()+a.top,m=o.width()+a.left;f>l&&l>0&&m>u&&u>0&&(n=l,i=u),C(o,"active",d.autoExpandScrollbar)}})).bind("touchmove."+u,(function(e){e.stopImmediatePropagation(),e.preventDefault();var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;t(n,i,r,l)})),e(document).add(g).bind("mousemove."+u+" pointermove."+u+" MSPointerMove."+u,(function(e){if(o){var a=o.offset(),r=O(e)[0]-a.top,l=O(e)[1]-a.left;if(n===r&&i===l)return;t(n,i,r,l)}})).add(p).bind("mouseup."+u+" touchend."+u+" pointerup."+u+" MSPointerUp."+u,(function(){o&&(C(o,"active",d.autoExpandScrollbar),o=null),c=!1,s&&(document.onselectstart=null),L.call(h,!0)}))},D=function(){function o(e){if(!te(e)||c||O(e)[2])t=0;else{t=1,b=0,C=0,d=1,y.removeClass("mCS_touch_action");var o=I.offset();u=O(e)[0]-o.top,f=O(e)[1]-o.left,z=[O(e)[0],O(e)[1]]}}function n(e){if(te(e)&&!c&&!O(e)[2]&&(T.documentTouchScroll||e.preventDefault(),e.stopImmediatePropagation(),(!C||b)&&d)){g=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left,n="mcsLinearOut";if(E.push(o),W.push(a),z[2]=Math.abs(O(e)[0]-z[0]),z[3]=Math.abs(O(e)[1]-z[1]),B.overflowed[0])var i=D[0].parent().height()-D[0].height(),r=u-o>0&&o-u>-i*B.scrollRatio.y&&(2*z[3]<z[2]||"yx"===T.axis);if(B.overflowed[1])var l=D[1].parent().width()-D[1].width(),h=f-a>0&&a-f>-l*B.scrollRatio.x&&(2*z[2]<z[3]||"yx"===T.axis);r||h?(U||e.preventDefault(),b=1):(C=1,y.addClass("mCS_touch_action")),U&&e.preventDefault(),w="yx"===T.axis?[u-o,f-a]:"x"===T.axis?[null,f-a]:[u-o,null],I[0].idleTimer=250,B.overflowed[0]&&s(w[0],R,n,"y","all",!0),B.overflowed[1]&&s(w[1],R,n,"x",L,!0)}}function i(e){if(!te(e)||c||O(e)[2])t=0;else{t=1,e.stopImmediatePropagation(),Q(y),p=K();var o=M.offset();h=O(e)[0]-o.top,m=O(e)[1]-o.left,E=[],W=[]}}function r(e){if(te(e)&&!c&&!O(e)[2]){d=0,e.stopImmediatePropagation(),b=0,C=0,v=K();var t=M.offset(),o=O(e)[0]-t.top,a=O(e)[1]-t.left;if(!(v-g>30)){var n="mcsEaseOut",i=2.5>(_=1e3/(v-p)),r=i?[E[E.length-2],W[W.length-2]]:[0,0];x=i?[o-r[0],a-r[1]]:[o-h,a-m];var u=[Math.abs(x[0]),Math.abs(x[1])];_=i?[Math.abs(x[0]/4),Math.abs(x[1]/4)]:[_,_];var f=[Math.abs(I[0].offsetTop)-x[0]*l(u[0]/_[0],_[0]),Math.abs(I[0].offsetLeft)-x[1]*l(u[1]/_[1],_[1])];w="yx"===T.axis?[f[0],f[1]]:"x"===T.axis?[null,f[1]]:[f[0],null],S=[4*u[0]+T.scrollInertia,4*u[1]+T.scrollInertia];var y=parseInt(T.contentTouchScroll)||0;w[0]=u[0]>y?w[0]:0,w[1]=u[1]>y?w[1]:0,B.overflowed[0]&&s(w[0],S[0],n,"y",L,!1),B.overflowed[1]&&s(w[1],S[1],n,"x",L,!1)}}}function l(e,t){var o=[1.5*t,2*t,t/1.5,t/2];return e>90?t>4?o[0]:o[3]:e>60?t>3?o[3]:o[2]:e>30?t>8?o[1]:t>6?o[0]:t>4?t:o[2]:t>8?t:o[3]}function s(e,t,o,a,n,i){e&&G(y,e.toString(),{dur:t,scrollEasing:o,dir:a,overwrite:n,drag:i})}var d,u,f,h,m,p,g,v,x,_,w,S,b,C,y=e(this),B=y.data(a),T=B.opt,k=a+"_"+B.idx,M=e("#mCSB_"+B.idx),I=e("#mCSB_"+B.idx+"_container"),D=[e("#mCSB_"+B.idx+"_dragger_vertical"),e("#mCSB_"+B.idx+"_dragger_horizontal")],E=[],W=[],R=0,L="yx"===T.axis?"none":"all",z=[],P=I.find("iframe"),H=["touchstart."+k+" pointerdown."+k+" MSPointerDown."+k,"touchmove."+k+" pointermove."+k+" MSPointerMove."+k,"touchend."+k+" pointerup."+k+" MSPointerUp."+k],U=void 0!==document.body.style.touchAction&&""!==document.body.style.touchAction;I.bind(H[0],(function(e){o(e)})).bind(H[1],(function(e){n(e)})),M.bind(H[0],(function(e){i(e)})).bind(H[2],(function(e){r(e)})),P.length&&P.each((function(){e(this).bind("load",(function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(H[0],(function(e){o(e),i(e)})).bind(H[1],(function(e){n(e)})).bind(H[2],(function(e){r(e)}))}))}))},E=function(){function o(){return window.getSelection?window.getSelection().toString():document.selection&&"Control"!=document.selection.type?document.selection.createRange().text:0}function n(e,t,o){d.type=o&&i?"stepped":"stepless",d.scrollAmount=10,j(r,e,t,"mcsLinearOut",o?60:null)}var i,r=e(this),l=r.data(a),s=l.opt,d=l.sequential,u=a+"_"+l.idx,f=e("#mCSB_"+l.idx+"_container"),h=f.parent();f.bind("mousedown."+u,(function(){t||i||(i=1,c=!0)})).add(document).bind("mousemove."+u,(function(e){if(!t&&i&&o()){var a=f.offset(),r=O(e)[0]-a.top+f[0].offsetTop,c=O(e)[1]-a.left+f[0].offsetLeft;r>0&&r<h.height()&&c>0&&c<h.width()?d.step&&n("off",null,"stepped"):("x"!==s.axis&&l.overflowed[0]&&(0>r?n("on",38):r>h.height()&&n("on",40)),"y"!==s.axis&&l.overflowed[1]&&(0>c?n("on",37):c>h.width()&&n("on",39)))}})).bind("mouseup."+u+" dragend."+u,(function(){t||(i&&(i=0,n("off",null)),c=!1)}))},W=function(){function t(t,a){if(Q(o),!z(o,t.target)){var r="auto"!==i.mouseWheel.deltaFactor?parseInt(i.mouseWheel.deltaFactor):s&&t.deltaFactor<100?100:t.deltaFactor||100,d=i.scrollInertia;if("x"===i.axis||"x"===i.mouseWheel.axis)var u="x",f=[Math.round(r*n.scrollRatio.x),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.width()?.9*l.width():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetLeft),p=c[1][0].offsetLeft,g=c[1].parent().width()-c[1].width(),v="y"===i.mouseWheel.axis?t.deltaY||a:t.deltaX;else u="y",f=[Math.round(r*n.scrollRatio.y),parseInt(i.mouseWheel.scrollAmount)],h="auto"!==i.mouseWheel.scrollAmount?f[1]:f[0]>=l.height()?.9*l.height():f[0],m=Math.abs(e("#mCSB_"+n.idx+"_container")[0].offsetTop),p=c[0][0].offsetTop,g=c[0].parent().height()-c[0].height(),v=t.deltaY||a;"y"===u&&!n.overflowed[0]||"x"===u&&!n.overflowed[1]||((i.mouseWheel.invert||t.webkitDirectionInvertedFromDevice)&&(v=-v),i.mouseWheel.normalizeDelta&&(v=0>v?-1:1),(v>0&&0!==p||0>v&&p!==g||i.mouseWheel.preventDefault)&&(t.stopImmediatePropagation(),t.preventDefault()),t.deltaFactor<5&&!i.mouseWheel.normalizeDelta&&(h=t.deltaFactor,d=17),G(o,(m-v*h).toString(),{dir:u,dur:d}))}}if(e(this).data(a)){var o=e(this),n=o.data(a),i=n.opt,r=a+"_"+n.idx,l=e("#mCSB_"+n.idx),c=[e("#mCSB_"+n.idx+"_dragger_vertical"),e("#mCSB_"+n.idx+"_dragger_horizontal")],d=e("#mCSB_"+n.idx+"_container").find("iframe");d.length&&d.each((function(){e(this).bind("load",(function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind("mousewheel."+r,(function(e,o){t(e,o)}))}))})),l.bind("mousewheel."+r,(function(e,o){t(e,o)}))}},R=new Object,A=function(t){var o=!1,a=!1,n=null;if(void 0===t?a="#empty":void 0!==e(t).attr("id")&&(a=e(t).attr("id")),!1!==a&&void 0!==R[a])return R[a];if(t){try{n=(t.contentDocument||t.contentWindow.document).body.innerHTML}catch(r){}o=null!==n}else{try{n=top.document.body.innerHTML}catch(r){}o=null!==n}return!1!==a&&(R[a]=o),o},L=function(e){var t=this.find("iframe");if(t.length){var o=e?"auto":"none";t.css("pointer-events",o)}},z=function(t,o){var n=o.nodeName.toLowerCase(),i=t.data(a).opt.mouseWheel.disableOver,r=["select","textarea"];return e.inArray(n,i)>-1&&!(e.inArray(n,r)>-1&&!e(o).is(":focus"))},P=function(){var t,o=e(this),n=o.data(a),i=a+"_"+n.idx,r=e("#mCSB_"+n.idx+"_container"),l=r.parent();e(".mCSB_"+n.idx+"_scrollbar ."+d[12]).bind("mousedown."+i+" touchstart."+i+" pointerdown."+i+" MSPointerDown."+i,(function(o){c=!0,e(o.target).hasClass("mCSB_dragger")||(t=1)})).bind("touchend."+i+" pointerup."+i+" MSPointerUp."+i,(function(){c=!1})).bind("click."+i,(function(a){if(t&&(t=0,e(a.target).hasClass(d[12])||e(a.target).hasClass("mCSB_draggerRail"))){Q(o);var i=e(this),s=i.find(".mCSB_dragger");if(i.parent(".mCSB_scrollTools_horizontal").length>0){if(!n.overflowed[1])return;var c="x",u=a.pageX>s.offset().left?-1:1,f=Math.abs(r[0].offsetLeft)-u*(.9*l.width())}else{if(!n.overflowed[0])return;c="y",u=a.pageY>s.offset().top?-1:1,f=Math.abs(r[0].offsetTop)-u*(.9*l.height())}G(o,f.toString(),{dir:c,scrollEasing:"mcsEaseInOut"})}}))},H=function(){var t=e(this),o=t.data(a),n=o.opt,i=a+"_"+o.idx,r=e("#mCSB_"+o.idx+"_container"),l=r.parent();r.bind("focusin."+i,(function(){var o=e(document.activeElement),a=r.find(".mCustomScrollBox").length,i=0;o.is(n.advanced.autoScrollOnFocus)&&(Q(t),clearTimeout(t[0]._focusTimeout),t[0]._focusTimer=a?(i+17)*a:0,t[0]._focusTimeout=setTimeout((function(){var e=[ae(o)[0],ae(o)[1]],a=[r[0].offsetTop,r[0].offsetLeft],s=[a[0]+e[0]>=0&&a[0]+e[0]<l.height()-o.outerHeight(!1),a[1]+e[1]>=0&&a[0]+e[1]<l.width()-o.outerWidth(!1)],c="yx"!==n.axis||s[0]||s[1]?"all":"none";"x"===n.axis||s[0]||G(t,e[0].toString(),{dir:"y",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i}),"y"===n.axis||s[1]||G(t,e[1].toString(),{dir:"x",scrollEasing:"mcsEaseInOut",overwrite:c,dur:i})}),t[0]._focusTimer))}))},U=function(){var o=e(this).data(a),n=a+"_"+o.idx,i=e("#mCSB_"+o.idx+"_container").parent();i.bind("scroll."+n,(function(){0===i.scrollTop()&&0===i.scrollLeft()||e(".mCSB_"+o.idx+"_scrollbar").css("visibility","hidden")}))},F=function(){var t=e(this),o=t.data(a),n=o.opt,i=o.sequential,r=a+"_"+o.idx,l=".mCSB_"+o.idx+"_scrollbar";e(l+">a").bind("contextmenu."+r,(function(e){e.preventDefault()})).bind("mousedown."+r+" touchstart."+r+" pointerdown."+r+" MSPointerDown."+r+" mouseup."+r+" touchend."+r+" pointerup."+r+" MSPointerUp."+r+" mouseout."+r+" pointerout."+r+" MSPointerOut."+r+" click."+r,(function(a){function r(e,o){i.scrollAmount=n.scrollButtons.scrollAmount,j(t,e,o)}if(a.preventDefault(),ee(a)){var l=e(this).attr("class");switch(i.type=n.scrollButtons.scrollType,a.type){case"mousedown":case"touchstart":case"pointerdown":case"MSPointerDown":if("stepped"===i.type)return;c=!0,o.tweenRunning=!1,r("on",l);break;case"mouseup":case"touchend":case"pointerup":case"MSPointerUp":case"mouseout":case"pointerout":case"MSPointerOut":if("stepped"===i.type)return;c=!1,i.dir&&r("off",l);break;case"click":if("stepped"!==i.type||o.tweenRunning)return;r("on",l)}}}))},q=function(){function t(t){function a(e,t){r.type=i.keyboard.scrollType,r.scrollAmount=i.keyboard.scrollAmount,"stepped"===r.type&&n.tweenRunning||j(o,e,t)}switch(t.type){case"blur":n.tweenRunning&&r.dir&&a("off",null);break;case"keydown":case"keyup":var l=t.keyCode?t.keyCode:t.which,s="on";if("x"!==i.axis&&(38===l||40===l)||"y"!==i.axis&&(37===l||39===l)){if((38===l||40===l)&&!n.overflowed[0]||(37===l||39===l)&&!n.overflowed[1])return;"keyup"===t.type&&(s="off"),e(document.activeElement).is(u)||(t.preventDefault(),t.stopImmediatePropagation(),a(s,l))}else if(33===l||34===l){if((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"===t.type){Q(o);var f=34===l?-1:1;if("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0])var h="x",m=Math.abs(c[0].offsetLeft)-f*(.9*d.width());else h="y",m=Math.abs(c[0].offsetTop)-f*(.9*d.height());G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"})}}else 35!==l&&36!==l||e(document.activeElement).is(u)||((n.overflowed[0]||n.overflowed[1])&&(t.preventDefault(),t.stopImmediatePropagation()),"keyup"!==t.type)||("x"===i.axis||"yx"===i.axis&&n.overflowed[1]&&!n.overflowed[0]?(h="x",m=35===l?Math.abs(d.width()-c.outerWidth(!1)):0):(h="y",m=35===l?Math.abs(d.height()-c.outerHeight(!1)):0),G(o,m.toString(),{dir:h,scrollEasing:"mcsEaseInOut"}))}}var o=e(this),n=o.data(a),i=n.opt,r=n.sequential,l=a+"_"+n.idx,s=e("#mCSB_"+n.idx),c=e("#mCSB_"+n.idx+"_container"),d=c.parent(),u="input,textarea,select,datalist,keygen,[contenteditable='true']",f=c.find("iframe"),h=["blur."+l+" keydown."+l+" keyup."+l];f.length&&f.each((function(){e(this).bind("load",(function(){A(this)&&e(this.contentDocument||this.contentWindow.document).bind(h[0],(function(e){t(e)}))}))})),s.attr("tabindex","0").bind(h[0],(function(e){t(e)}))},j=function(t,o,n,i,r){function l(e){u.snapAmount&&(f.scrollAmount=u.snapAmount instanceof Array?"x"===f.dir[0]?u.snapAmount[1]:u.snapAmount[0]:u.snapAmount);var o="stepped"!==f.type,a=r||(e?o?p/1.5:g:1e3/60),n=e?o?7.5:40:2.5,s=[Math.abs(h[0].offsetTop),Math.abs(h[0].offsetLeft)],d=[c.scrollRatio.y>10?10:c.scrollRatio.y,c.scrollRatio.x>10?10:c.scrollRatio.x],m="x"===f.dir[0]?s[1]+f.dir[1]*(d[1]*n):s[0]+f.dir[1]*(d[0]*n),v="x"===f.dir[0]?s[1]+f.dir[1]*parseInt(f.scrollAmount):s[0]+f.dir[1]*parseInt(f.scrollAmount),x="auto"!==f.scrollAmount?v:m,_=i||(e?o?"mcsLinearOut":"mcsEaseInOut":"mcsLinear"),w=!!e;return e&&17>a&&(x="x"===f.dir[0]?s[1]:s[0]),G(t,x.toString(),{dir:f.dir[0],scrollEasing:_,dur:a,onComplete:w}),e?void(f.dir=!1):(clearTimeout(f.step),void(f.step=setTimeout((function(){l()}),a)))}function s(){clearTimeout(f.step),$(f,"step"),Q(t)}var c=t.data(a),u=c.opt,f=c.sequential,h=e("#mCSB_"+c.idx+"_container"),m="stepped"===f.type,p=u.scrollInertia<26?26:u.scrollInertia,g=u.scrollInertia<1?17:u.scrollInertia;switch(o){case"on":if(f.dir=[n===d[16]||n===d[15]||39===n||37===n?"x":"y",n===d[13]||n===d[15]||38===n||37===n?-1:1],Q(t),oe(n)&&"stepped"===f.type)return;l(m);break;case"off":s(),(m||c.tweenRunning&&f.dir)&&l(!0)}},Y=function(t){var o=e(this).data(a).opt,n=[];return"function"==typeof t&&(t=t()),t instanceof Array?n=t.length>1?[t[0],t[1]]:"x"===o.axis?[null,t[0]]:[t[0],null]:(n[0]=t.y?t.y:t.x||"x"===o.axis?null:t,n[1]=t.x?t.x:t.y||"y"===o.axis?null:t),"function"==typeof n[0]&&(n[0]=n[0]()),"function"==typeof n[1]&&(n[1]=n[1]()),n},X=function(t,o){if(null!=t&&void 0!==t){var n=e(this),i=n.data(a),r=i.opt,l=e("#mCSB_"+i.idx+"_container"),s=l.parent(),c=typeof t;o||(o="x"===r.axis?"x":"y");var d="x"===o?l.outerWidth(!1)-s.width():l.outerHeight(!1)-s.height(),f="x"===o?l[0].offsetLeft:l[0].offsetTop,h="x"===o?"left":"top";switch(c){case"function":return t();case"object":if(!(m=t.jquery?t:e(t)).length)return;return"x"===o?ae(m)[1]:ae(m)[0];case"string":case"number":if(oe(t))return Math.abs(t);if(-1!==t.indexOf("%"))return Math.abs(d*parseInt(t)/100);if(-1!==t.indexOf("-="))return Math.abs(f-parseInt(t.split("-=")[1]));if(-1!==t.indexOf("+=")){var p=f+parseInt(t.split("+=")[1]);return p>=0?0:Math.abs(p)}if(-1!==t.indexOf("px")&&oe(t.split("px")[0]))return Math.abs(t.split("px")[0]);if("top"===t||"left"===t)return 0;if("bottom"===t)return Math.abs(s.height()-l.outerHeight(!1));if("right"===t)return Math.abs(s.width()-l.outerWidth(!1));if("first"===t||"last"===t){var m=l.find(":"+t);return"x"===o?ae(m)[1]:ae(m)[0]}return e(t).length?"x"===o?ae(e(t))[1]:ae(e(t))[0]:(l.css(h,t),void u.update.call(null,n[0]))}}},N=function(t){function o(){return clearTimeout(f[0].autoUpdate),0===l.parents("html").length?void(l=null):void(f[0].autoUpdate=setTimeout((function(){return c.advanced.updateOnSelectorChange&&(s.poll.change.n=i(),s.poll.change.n!==s.poll.change.o)?(s.poll.change.o=s.poll.change.n,void r(3)):c.advanced.updateOnContentResize&&(s.poll.size.n=l[0].scrollHeight+l[0].scrollWidth+f[0].offsetHeight+l[0].offsetHeight+l[0].offsetWidth,s.poll.size.n!==s.poll.size.o)?(s.poll.size.o=s.poll.size.n,void r(1)):!c.advanced.updateOnImageLoad||"auto"===c.advanced.updateOnImageLoad&&"y"===c.axis||(s.poll.img.n=f.find("img").length,s.poll.img.n===s.poll.img.o)?void((c.advanced.updateOnSelectorChange||c.advanced.updateOnContentResize||c.advanced.updateOnImageLoad)&&o()):(s.poll.img.o=s.poll.img.n,void f.find("img").each((function(){n(this)})))}),c.advanced.autoUpdateTimeout))}function n(t){function o(e,t){return function(){return t.apply(e,arguments)}}function a(){this.onload=null,e(t).addClass(d[2]),r(2)}if(e(t).hasClass(d[2]))r();else{var n=new Image;n.onload=o(n,a),n.src=t.src}}function i(){!0===c.advanced.updateOnSelectorChange&&(c.advanced.updateOnSelectorChange="*");var e=0,t=f.find(c.advanced.updateOnSelectorChange);return c.advanced.updateOnSelectorChange&&t.length>0&&t.each((function(){e+=this.offsetHeight+this.offsetWidth})),e}function r(e){clearTimeout(f[0].autoUpdate),u.update.call(null,l[0],e)}var l=e(this),s=l.data(a),c=s.opt,f=e("#mCSB_"+s.idx+"_container");return t?(clearTimeout(f[0].autoUpdate),void $(f[0],"autoUpdate")):void o()},V=function(e,t,o){return Math.round(e/t)*t-o},Q=function(t){var o=t.data(a);e("#mCSB_"+o.idx+"_container,#mCSB_"+o.idx+"_container_wrapper,#mCSB_"+o.idx+"_dragger_vertical,#mCSB_"+o.idx+"_dragger_horizontal").each((function(){Z.call(this)}))},G=function(t,o,n){function i(e){return s&&c.callbacks[e]&&"function"==typeof c.callbacks[e]}function r(){return[c.callbacks.alwaysTriggerOffsets||w>=S[0]+y,c.callbacks.alwaysTriggerOffsets||-B>=w]}function l(){var e=[h[0].offsetTop,h[0].offsetLeft],o=[x[0].offsetTop,x[0].offsetLeft],a=[h.outerHeight(!1),h.outerWidth(!1)],i=[f.height(),f.width()];t[0].mcs={content:h,top:e[0],left:e[1],draggerTop:o[0],draggerLeft:o[1],topPct:Math.round(100*Math.abs(e[0])/(Math.abs(a[0])-i[0])),leftPct:Math.round(100*Math.abs(e[1])/(Math.abs(a[1])-i[1])),direction:n.dir}}var s=t.data(a),c=s.opt,d={trigger:"internal",dir:"y",scrollEasing:"mcsEaseOut",drag:!1,dur:c.scrollInertia,overwrite:"all",callbacks:!0,onStart:!0,onUpdate:!0,onComplete:!0},u=[(n=e.extend(d,n)).dur,n.drag?0:n.dur],f=e("#mCSB_"+s.idx),h=e("#mCSB_"+s.idx+"_container"),m=h.parent(),p=c.callbacks.onTotalScrollOffset?Y.call(t,c.callbacks.onTotalScrollOffset):[0,0],g=c.callbacks.onTotalScrollBackOffset?Y.call(t,c.callbacks.onTotalScrollBackOffset):[0,0];if(s.trigger=n.trigger,0===m.scrollTop()&&0===m.scrollLeft()||(e(".mCSB_"+s.idx+"_scrollbar").css("visibility","visible"),m.scrollTop(0).scrollLeft(0)),"_resetY"!==o||s.contentReset.y||(i("onOverflowYNone")&&c.callbacks.onOverflowYNone.call(t[0]),s.contentReset.y=1),"_resetX"!==o||s.contentReset.x||(i("onOverflowXNone")&&c.callbacks.onOverflowXNone.call(t[0]),s.contentReset.x=1),"_resetY"!==o&&"_resetX"!==o){if(!s.contentReset.y&&t[0].mcs||!s.overflowed[0]||(i("onOverflowY")&&c.callbacks.onOverflowY.call(t[0]),s.contentReset.x=null),!s.contentReset.x&&t[0].mcs||!s.overflowed[1]||(i("onOverflowX")&&c.callbacks.onOverflowX.call(t[0]),s.contentReset.x=null),c.snapAmount){var v=c.snapAmount instanceof Array?"x"===n.dir?c.snapAmount[1]:c.snapAmount[0]:c.snapAmount;o=V(o,v,c.snapOffset)}switch(n.dir){case"x":var x=e("#mCSB_"+s.idx+"_dragger_horizontal"),_="left",w=h[0].offsetLeft,S=[f.width()-h.outerWidth(!1),x.parent().width()-x.width()],b=[o,0===o?0:o/s.scrollRatio.x],y=p[1],B=g[1],T=y>0?y/s.scrollRatio.x:0,k=B>0?B/s.scrollRatio.x:0;break;case"y":x=e("#mCSB_"+s.idx+"_dragger_vertical"),_="top",w=h[0].offsetTop,S=[f.height()-h.outerHeight(!1),x.parent().height()-x.height()],b=[o,0===o?0:o/s.scrollRatio.y],y=p[0],B=g[0],T=y>0?y/s.scrollRatio.y:0,k=B>0?B/s.scrollRatio.y:0}b[1]<0||0===b[0]&&0===b[1]?b=[0,0]:b[1]>=S[1]?b=[S[0],S[1]]:b[0]=-b[0],t[0].mcs||(l(),i("onInit")&&c.callbacks.onInit.call(t[0])),clearTimeout(h[0].onCompleteTimeout),J(x[0],_,Math.round(b[1]),u[1],n.scrollEasing),!s.tweenRunning&&(0===w&&b[0]>=0||w===S[0]&&b[0]<=S[0])||J(h[0],_,Math.round(b[0]),u[0],n.scrollEasing,n.overwrite,{onStart:function(){n.callbacks&&n.onStart&&!s.tweenRunning&&(i("onScrollStart")&&(l(),c.callbacks.onScrollStart.call(t[0])),s.tweenRunning=!0,C(x),s.cbOffsets=r())},onUpdate:function(){n.callbacks&&n.onUpdate&&i("whileScrolling")&&(l(),c.callbacks.whileScrolling.call(t[0]))},onComplete:function(){if(n.callbacks&&n.onComplete){"yx"===c.axis&&clearTimeout(h[0].onCompleteTimeout);var e=h[0].idleTimer||0;h[0].onCompleteTimeout=setTimeout((function(){i("onScroll")&&(l(),c.callbacks.onScroll.call(t[0])),i("onTotalScroll")&&b[1]>=S[1]-T&&s.cbOffsets[0]&&(l(),c.callbacks.onTotalScroll.call(t[0])),i("onTotalScrollBack")&&b[1]<=k&&s.cbOffsets[1]&&(l(),c.callbacks.onTotalScrollBack.call(t[0])),s.tweenRunning=!1,h[0].idleTimer=0,C(x,"hide")}),e)}}})}},J=function(e,t,o,a,n,i,r){function l(){S.stop||(x||m.call(),x=K()-v,s(),x>=S.time&&(S.time=x>S.time?x+f-(x-S.time):x+f-1,S.time<x+1&&(S.time=x+1)),S.time<a?S.id=h(l):g.call())}function s(){a>0?(S.currVal=u(S.time,_,b,a,n),w[t]=Math.round(S.currVal)+"px"):w[t]=o+"px",p.call()}function c(){f=1e3/60,S.time=x+f,h=window.requestAnimationFrame?window.requestAnimationFrame:function(e){return s(),setTimeout(e,.01)},S.id=h(l)}function d(){null!=S.id&&(window.requestAnimationFrame?window.cancelAnimationFrame(S.id):clearTimeout(S.id),S.id=null)}function u(e,t,o,a,n){switch(n){case"linear":case"mcsLinear":return o*e/a+t;case"mcsLinearOut":return e/=a,e--,o*Math.sqrt(1-e*e)+t;case"easeInOutSmooth":return 1>(e/=a/2)?o/2*e*e+t:-o/2*(--e*(e-2)-1)+t;case"easeInOutStrong":return 1>(e/=a/2)?o/2*Math.pow(2,10*(e-1))+t:(e--,o/2*(2-Math.pow(2,-10*e))+t);case"easeInOut":case"mcsEaseInOut":return 1>(e/=a/2)?o/2*e*e*e+t:o/2*((e-=2)*e*e+2)+t;case"easeOutSmooth":return e/=a,-o*(--e*e*e*e-1)+t;case"easeOutStrong":return o*(1-Math.pow(2,-10*e/a))+t;default:var i=(e/=a)*e,r=i*e;return t+o*(.499999999999997*r*i+-2.5*i*i+5.5*r+-6.5*i+4*e)}}e._mTween||(e._mTween={top:{},left:{}});var f,h,m=(r=r||{}).onStart||function(){},p=r.onUpdate||function(){},g=r.onComplete||function(){},v=K(),x=0,_=e.offsetTop,w=e.style,S=e._mTween[t];"left"===t&&(_=e.offsetLeft);var b=o-_;S.stop=0,"none"!==i&&d(),c()},K=function(){return window.performance&&window.performance.now?window.performance.now():window.performance&&window.performance.webkitNow?window.performance.webkitNow():Date.now?Date.now():(new Date).getTime()},Z=function(){var e=this;e._mTween||(e._mTween={top:{},left:{}});for(var t=["top","left"],o=0;o<t.length;o++){var a=t[o];e._mTween[a].id&&(window.requestAnimationFrame?window.cancelAnimationFrame(e._mTween[a].id):clearTimeout(e._mTween[a].id),e._mTween[a].id=null,e._mTween[a].stop=1)}},$=function(e,t){try{delete e[t]}catch(o){e[t]=null}},ee=function(e){return!(e.which&&1!==e.which)},te=function(e){var t=e.originalEvent.pointerType;return!(t&&"touch"!==t&&2!==t)},oe=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},ae=function(e){var t=e.parents(".mCSB_container");return[e.offset().top-t.offset().top,e.offset().left-t.offset().left]},ne=function(){function e(){var e=["webkit","moz","ms","o"];if("hidden"in document)return"hidden";for(var t=0;t<e.length;t++)if(e[t]+"Hidden"in document)return e[t]+"Hidden";return null}var t=e();return!!t&&document[t]};e.fn[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o]=function(t){return u[t]?u[t].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof t&&t?void e.error("Method "+t+" does not exist"):u.init.apply(this,arguments)},e[o].defaults=i,window[o]=!0,e(window).bind("load",(function(){e(n)[o](),e.extend(e.expr[":"],{mcsInView:e.expr[":"].mcsInView||function(t){var o,a,n=e(t),i=n.parents(".mCSB_container");if(i.length)return o=i.parent(),(a=[i[0].offsetTop,i[0].offsetLeft])[0]+ae(n)[0]>=0&&a[0]+ae(n)[0]<o.height()-n.outerHeight(!1)&&a[1]+ae(n)[1]>=0&&a[1]+ae(n)[1]<o.width()-n.outerWidth(!1)},mcsInSight:e.expr[":"].mcsInSight||function(t,o,a){var n,i,r,l,s=e(t),c=s.parents(".mCSB_container"),d="exact"===a[3]?[[1,0],[1,0]]:[[.9,.1],[.6,.4]];if(c.length)return n=[s.outerHeight(!1),s.outerWidth(!1)],r=[c[0].offsetTop+ae(s)[0],c[0].offsetLeft+ae(s)[1]],i=[c.parent()[0].offsetHeight,c.parent()[0].offsetWidth],l=[n[0]<i[0]?d[0]:d[1],n[1]<i[1]?d[0]:d[1]],r[0]-i[0]*l[0][0]<0&&r[0]+n[0]-i[0]*l[0][1]>=0&&r[1]-i[1]*l[1][0]<0&&r[1]+n[1]-i[1]*l[1][1]>=0},mcsOverflow:e.expr[":"].mcsOverflow||function(t){var o=e(t).data(a);if(o)return o.overflowed[0]||o.overflowed[1]}})}))}()}));