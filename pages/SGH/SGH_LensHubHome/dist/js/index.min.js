(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) arr2[i] = arr[i];
  return arr2;
}
module.exports = _arrayLikeToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],2:[function(require,module,exports){
var arrayLikeToArray = require("./arrayLikeToArray.js");
function _arrayWithoutHoles(arr) {
  if (Array.isArray(arr)) return arrayLikeToArray(arr);
}
module.exports = _arrayWithoutHoles, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayLikeToArray.js":1}],3:[function(require,module,exports){
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    "default": obj
  };
}
module.exports = _interopRequireDefault, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],4:[function(require,module,exports){
function _iterableToArray(iter) {
  if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null) return Array.from(iter);
}
module.exports = _iterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],5:[function(require,module,exports){
function _nonIterableSpread() {
  throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
}
module.exports = _nonIterableSpread, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{}],6:[function(require,module,exports){
var arrayWithoutHoles = require("./arrayWithoutHoles.js");
var iterableToArray = require("./iterableToArray.js");
var unsupportedIterableToArray = require("./unsupportedIterableToArray.js");
var nonIterableSpread = require("./nonIterableSpread.js");
function _toConsumableArray(arr) {
  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();
}
module.exports = _toConsumableArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayWithoutHoles.js":2,"./iterableToArray.js":4,"./nonIterableSpread.js":5,"./unsupportedIterableToArray.js":7}],7:[function(require,module,exports){
var arrayLikeToArray = require("./arrayLikeToArray.js");
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);
}
module.exports = _unsupportedIterableToArray, module.exports.__esModule = true, module.exports["default"] = module.exports;
},{"./arrayLikeToArray.js":1}],8:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var _nav = require("./nav");
function currentDevice() {
  return window.innerWidth > 1025 ? "D" : window.innerWidth < 1025 && window.innerWidth >= 768 ? "T" : window.innerWidth < 768 ? "M" : "not recognized";
}
function sticky_nav() {
  var nav = document.querySelector('.ct_nav__stick_container .ct_nav__stick_wrap');
  var nav_container = document.querySelector('.ct_nav__stick_container');
  var menu_offset = getMenuOffset();
  if (window.scrollY + menu_offset >= nav_container.offsetTop) {
    if (!nav.classList.contains('ct_stick')) {
      nav.classList.add('ct_stick');
    }
  } else {
    if (nav.classList.contains('ct_stick')) {
      nav.classList.remove('ct_stick');
    }
  }
  document.addEventListener('scroll', function () {
    if (window.scrollY + menu_offset >= nav_container.offsetTop) {
      if (!nav.classList.contains('ct_stick')) {
        nav.classList.add('ct_stick');
      }
    } else {
      if (nav.classList.contains('ct_stick')) {
        nav.classList.remove('ct_stick');
      }
    }
  });
}
function video_manager() {
  var videos = document.querySelectorAll('.ct_double_content .ct_video__container');
  videos.forEach(function (elem) {
    elem.querySelector('video').addEventListener('canplay', function (e) {
      elem.querySelector('video').pause();
    }, {
      once: true
    });
    set_video_control(elem.querySelector('.ct_video__controls'), elem.querySelector('video'));
  });
}
function set_video_control(controls, video) {
  controls.addEventListener('click', function (e) {
    if (video.paused) {
      if (video.readyState < 3) {
        video.load();
      }
      if (video.readyState >= 3) {
        video.play();
      } else {
        var waitVideoLoaded = setTimeout(function () {
          // console.log('video waiting..')
          if (video.readyState < 3) {
            video.load();
          }
          if (video.readyState >= 3) {
            video.play();
            clearInterval(waitVideoLoaded);
          }
        }, 250);
      }
      video.addEventListener('play', function () {
        controls.classList.add('ct__playing');
        video.onended = function () {
          controls.classList.remove('ct__playing');
        };
      }, {
        once: true
      });
    } else {
      video.pause();
      controls.classList.remove('ct__playing');
    }
  });
}
function getMenuOffset() {
  return document.querySelector('.main-menu-center.navbar').clientHeight + document.querySelector('.benefitbar').clientHeight;
}
function getSectionOffsets() {
  var offsets = {};
  (0, _toConsumableArray2["default"])(document.querySelectorAll('.ct_space [data-section]')).forEach(function (elem) {
    offsets[elem.dataset.section] = {
      "top": elem.offsetTop
    };
  });
  return offsets;
}
function ct_scroll_to_section(elem, offset) {
  var sectionTop = document.querySelector(".ct_double_content[data-section=\"".concat(elem, "\"]")).getBoundingClientRect().top;
  window.scroll({
    behavior: 'smooth',
    left: 0,
    top: sectionTop + window.scrollY - offset
  });
}
var manual_click = {
  active: false,
  section: ''
};
function nav_handler() {
  var offset = getMenuOffset() + document.querySelector('.ct_nav__stick_wrap').clientHeight;
  console.log(offset);
  (0, _toConsumableArray2["default"])(document.querySelectorAll('.ct_nav__container ul button')).forEach(function (elem) {
    elem.addEventListener('click', function () {
      ct_scroll_to_section(elem.dataset.sectionTo, offset - 1);
      if (document.querySelector('.ct_nav__container ul button.ct_active')) {
        document.querySelector('.ct_nav__container ul button.ct_active').classList.remove("ct_active");
      }
      manual_click.active = true;
      manual_click.section = elem.dataset.sectionTo;
      elem.classList.add('ct_active');
      if (ct_current__device === 'M') {
        $('.ct_nav__stick_wrap ul').stop().animate({
          scrollLeft: $(elem).offset().left + $('.ct_nav__stick_wrap ul').scrollLeft() - 8
        }, 500, 'linear', function () {});
      }
    });
  });
  var sectionOffset = getSectionOffsets();
  var keys = Object.keys(sectionOffset);
  console.log(keys);
  var inSection = false;
  inSection = false;
  keys.forEach(function (elem, i) {
    var _sectionOffset$keys;
    if (window.scrollY + offset >= sectionOffset[elem].top && window.scrollY - offset < ((_sectionOffset$keys = sectionOffset[keys[i + 1]]) === null || _sectionOffset$keys === void 0 ? void 0 : _sectionOffset$keys.top)) {
      inSection = true;
      if (!document.querySelector("[data-section-to=\"".concat(elem, "\"]")).classList.contains('ct_active')) {
        if (document.querySelector('.ct_nav__container button.ct_active')) {
          document.querySelector('.ct_nav__container button.ct_active').classList.remove('ct_active');
        }
        document.querySelector("[data-section-to=\"".concat(elem, "\"]")).classList.add('ct_active');
        if (ct_current__device === 'M') {
          $('.ct_nav__stick_wrap ul').stop().animate({
            scrollLeft: $("[data-section-to=\"".concat(elem, "\"]")).offset().left + $('.ct_nav__stick_wrap ul').scrollLeft() - 8
          }, 500, 'linear', function () {});
        }
      }
    }
  });
  if (!inSection && document.querySelector('.ct_nav__container button.ct_active')) {
    document.querySelector('.ct_nav__container button.ct_active').classList.remove('ct_active');
  }
  document.addEventListener('scroll', function () {
    inSection = false;
    if (manual_click.active) {
      console.log(window.scrollY + offset, "top:", sectionOffset[manual_click.section].top, "bottom:", sectionOffset[keys[keys.indexOf(manual_click.section) + 1]].top);
      if (window.scrollY + offset >= sectionOffset[manual_click.section].top && window.scrollY + offset < sectionOffset[keys[keys.indexOf(manual_click.section) + 1]].top) {
        manual_click.active = false;
      }
    } else {
      keys.forEach(function (elem, i) {
        var _sectionOffset$keys2;
        if (window.scrollY + offset >= sectionOffset[elem].top && window.scrollY + offset < ((_sectionOffset$keys2 = sectionOffset[keys[i + 1]]) === null || _sectionOffset$keys2 === void 0 ? void 0 : _sectionOffset$keys2.top)) {
          inSection = true;
          if (!document.querySelector("[data-section-to=\"".concat(elem, "\"]")).classList.contains('ct_active')) {
            if (document.querySelector('.ct_nav__container button.ct_active')) {
              document.querySelector('.ct_nav__container button.ct_active').classList.remove('ct_active');
            }
            document.querySelector("[data-section-to=\"".concat(elem, "\"]")).classList.add('ct_active');
            if (ct_current__device === 'M') {
              $('.ct_nav__stick_wrap ul').stop().animate({
                scrollLeft: $("[data-section-to=\"".concat(elem, "\"]")).offset().left + $('.ct_nav__stick_wrap ul').scrollLeft() - 8
              }, 500, 'linear', function () {});
            }
          }
        }
      });
      if (!inSection && document.querySelector('.ct_nav__container button.ct_active')) {
        document.querySelector('.ct_nav__container button.ct_active').classList.remove('ct_active');
      }
    }
  });
}
var ct_current__device;
document.addEventListener('DOMContentLoaded', function () {
  ct_current__device = currentDevice();
  window.promo = false;
  sticky_nav();
  video_manager();
  nav_handler();
  // navManger.init();
});

$(document).ready(function () {
  var _$$;
  $('.slider-text').slick({
    slidesToShow: 1,
    slidesToScroll: 1,
    arrows: true,
    fade: true,
    asNavFor: '.slider-images',
    speed: 600,
    dots: true,
    prevArrow: '<button type="button" class="slick-prev"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.64672 11.8535L2.79297 5.99998L8.64672 0.146484L9.35372 0.853484L4.20747 5.99998L9.35372 11.1465L8.64672 11.8535Z" fill="#555555"/> </svg>  </button>',
    nextArrow: '<button type="button" class="slick-next"><svg width="13" height="12" viewBox="0 0 13 12" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4.35348 11.8535L3.64648 11.1465L8.79273 5.99998L3.64648 0.853484L4.35348 0.146484L10.2072 5.99998L4.35348 11.8535Z" fill="#555555"/></svg> </button>'
  });
  $('.slider-images').slick({
    slidesToShow: 3,
    slidesToScroll: 1,
    asNavFor: '.slider-text',
    dots: false,
    arrows: false,
    centerMode: true,
    infinite: true,
    easing: 'ease',
    autoplay: true,
    speed: 600,
    responsive: [{
      breakpoint: 768,
      settings: {
        slidesToShow: 2,
        slidesToScroll: 1,
        centerMode: true,
        arrows: false,
        draggable: true,
        centerPadding: '0px'
      }
    }]
  });
  $('.slider-text .slick-dots').append("<span> / ".concat((_$$ = $('.slider-text .slick-dots')[0]) === null || _$$ === void 0 ? void 0 : _$$.childElementCount, "</span>"));
});
// $('#slider').slick({
//     infinite: true,
//     slidesToShow: 1,
//     arrows:false,
//     accessibility:false,
//     rows:0,
//     responsive: [
//         {
//             breakpoint: 1025,
//             settings: {
//                 infinite: true,
//                 slidesToShow: 2,
//                 arrows:false,
//                 dots: false,
//                 rows:0,
//                 accessibility:false
//             }
//         }
//     ]
// })

},{"./nav":9,"@babel/runtime/helpers/interopRequireDefault":3,"@babel/runtime/helpers/toConsumableArray":6}],9:[function(require,module,exports){
"use strict";

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");
Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.navManger = void 0;
var _toConsumableArray2 = _interopRequireDefault(require("@babel/runtime/helpers/toConsumableArray"));
var navManger = {
  nav: document.querySelector('.ct_nav__stick_container .ct_nav__stick_wrap'),
  nav_container: document.querySelector('.ct_nav__stick_container'),
  menu_offset: 0,
  nav_offset: 0,
  sectionsTopOffest: {},
  manual_click: {
    active: false,
    section: ''
  },
  init: function init() {
    this.setOffests();
    this.setStickyNav();
    this.setClickHandler();
  },
  setOffests: function setOffests() {
    var _this = this;
    this.menu_offset = document.querySelector('.main-menu-center.navbar').clientHeight + document.querySelector('.benefitbar').clientHeight;
    this.nav_offset = this.menu_offset + this.nav.clientHeight;
    (0, _toConsumableArray2["default"])(document.querySelectorAll('.ct_space [data-section]')).forEach(function (elem) {
      _this.sectionsTopOffest[elem.dataset.section] = {
        "top": elem.offsetTop
      };
    });
  },
  setStickyNav: function setStickyNav() {
    if (window.scrollY + this.menu_offset >= this.nav_container.offsetTop) {
      if (!nav.classList.contains('ct_stick')) {
        nav.classList.add('ct_stick');
      }
    } else {
      if (this.nav.classList.contains('ct_stick')) {
        this.nav.classList.remove('ct_stick');
      }
    }
  },
  setClickHandler: function setClickHandler() {
    var _this2 = this;
    (0, _toConsumableArray2["default"])(document.querySelectorAll('.ct_nav__container ul button')).forEach(function (elem) {
      elem.addEventListener('click', function () {
        ct_scroll_to_section(elem.dataset.sectionTo, _this2.nav_offset - 1);
        if (document.querySelector('.ct_nav__container ul button.ct_active')) {
          document.querySelector('.ct_nav__container ul button.ct_active').classList.remove("ct_active");
        }
        manual_click.active = true;
        manual_click.section = elem.dataset.sectionTo;
        elem.classList.add('ct_active');
        if (ct_current__device === 'M') {
          $('.ct_nav__stick_wrap ul').stop().animate({
            scrollLeft: $(elem).offset().left + $('.ct_nav__stick_wrap ul').scrollLeft() - 8
          }, 500, 'linear', function () {});
        }
      });
    });
  }
};
exports.navManger = navManger;
function ct_scroll_to_section(elem, offset) {
  var sectionTop = document.querySelector(".ct_double_content[data-section=\"".concat(elem, "\"]")).getBoundingClientRect().top;
  window.scroll({
    behavior: 'smooth',
    left: 0,
    top: sectionTop + window.scrollY - offset
  });
}

},{"@babel/runtime/helpers/interopRequireDefault":3,"@babel/runtime/helpers/toConsumableArray":6}]},{},[8]);
