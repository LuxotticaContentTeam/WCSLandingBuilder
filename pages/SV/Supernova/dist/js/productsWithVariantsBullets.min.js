!function r(a,n,s){function i(t,e){if(!n[t]){if(!a[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(o)return o(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}c=n[t]={exports:{}},a[t][0].call(c.exports,function(e){return i(a[t][1][e]||e)},c,c.exports,r,a,n,s)}return n[t].exports}for(var o="function"==typeof require&&require,e=0;e<s.length;e++)i(s[e]);return i}({1:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default={init:function(){function t(){$(".ct_midProducts_carousel .ct_category").removeClass("ct_selected"),$(this).addClass("ct_selected"),$(".ct_midProducts_carousel .swiper-slide").remove();var e=$(this).attr("ct_category"),t=(a(e),localStorage.getItem(e)),c=(this.classList.contains("ct_clicked")?(t=JSON.parse(t),console.log(t)):a(e),this.classList.add("ct_clicked"),$(this).attr("ct_category_URL")),r="X_"+$(this).attr("ct_category")+"_Carousel";$(".ct_midProducts_carousel .ct_carousel_view_all").each(function(){$(this).attr("href",c),$(this).attr("data-element-id",r)})}function e(){var e=this.querySelector("img").getAttribute("src").replace("shad__fr","shad__qt");this.querySelector("img").setAttribute("src",e)}function c(){var e=this.querySelector("img").getAttribute("src").replace("shad__qt","shad__fr");this.querySelector("img").setAttribute("src",e)}function a(C){var e="../data/".concat(C,".json"),t="../data/".concat(C,"Variants.json");function c(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){console.error("Errore nel caricamento JSON:",e)})}c(e).then(function(v){c(t).then(function(e){var t=v.products.products.product;"Categoria1"==C&&localStorage.setItem("Categoria1",JSON.stringify(t)),"Categoria2"==C&&localStorage.setItem("Categoria2",JSON.stringify(t));for(var c=t.length-1;0<=c;c--){var r=e["variants"+c]||[],r=(t[c].variants=r,t[c].pdpURL),a=t[c].upc,n=t[c].brand,s=t[c].productName,i=t[c].listPrice.replace("$ 0",""),o=t[c].price,d=Math.floor((100-parseInt(o.replace("$ ",""))/parseInt(i.replace("$ ",""))*100)/5*5),l=document.querySelector(".ct_midProducts_carousel .ct_category_carousel .swiper-wrapper"),u=document.createElement("a"),_=(u.classList.add("swiper-slide","ct_slide","ct_productImage"),u.href=r,u.setAttribute("data-element-id","X_ProductCarousel_LP"),u.setAttribute("data-description",a),u.setAttribute("aria-label","Shop "+s),document.createElement("div")),p=(_.classList.add("ct_description"),document.createElement("p")),n=(p.classList.add("ct_brand"),p.textContent=n,_.appendChild(p),document.createElement("p")),p=(n.classList.add("ct_name"),n.textContent=s,_.appendChild(n),document.createElement("div")),s=(p.classList.add("ct_box"),document.createElement("img")),m=(s.src="https://assets.lenscrafters.com/is/image/LensCrafters/"+a+"__STD__shad__fr.png?imwidth=1024",s.alt="",p.appendChild(s),u.appendChild(p),document.createElement("div")),f=(m.classList.add("ct_description"),document.createElement("p")),h=(f.classList.add("ct_variant_name"),document.createElement("ul")),n=(h.classList.add("ct_variants"),r.lastIndexOf("/")),g=r.substring(0,n),a=(t[c].variants.forEach(function(c,e){var t,r;c&&(_.appendChild(f),m.appendChild(h),t=document.createElement("li"),h.appendChild(t),(r=document.createElement("a")).href="#",r.classList.add("variant-bullet"),r.style.backgroundColor=c.bulletColor,t.appendChild(r),0===e&&(r.classList.add("active"),f.textContent=c.variantColor),r.addEventListener("click",function(e){e.preventDefault();var e=this.closest(".swiper-slide"),t=e.querySelector(".variant-bullet.active");e.querySelector(".ct_variant_name").textContent=c.variantColor,t&&t.classList.remove("active"),this.classList.add("active"),e.href=g+"/"+c.upc,e.querySelector(".ct_box>img").src="https://assets.lenscrafters.com/is/image/LensCrafters/"+c.upc+"__STD__shad__fr.png?imwidth=1024"}))}),document.createElement("div")),s=(a.classList.add("ct_price","ct_price_mob_hide"),document.createElement("p")),r=(s.classList.add("ct_from"),s.textContent="From",document.createElement("p")),n=(r.classList.add("ct_list_price"),r.textContent="$"+i,document.createElement("p")),i=(n.classList.add("ct_discounted_price"),n.textContent="$"+o,document.createElement("p")),d=(i.classList.add("ct_discount"),i.textContent=d+"% Off",a.appendChild(s),a.appendChild(r),a.appendChild(n),a.appendChild(i),m.appendChild(a),document.createElement("div")),s=(d.classList.add("ct_price","cb_d-lg-none"),document.createElement("p")),r=(s.classList.add("ct_from"),s.textContent="Frame only",document.createElement("p"));r.classList.add("ct_discounted_price"),r.textContent="$"+o,d.appendChild(s),d.appendChild(r),m.appendChild(d),u.appendChild(m),l.prepend(u),p.prepend(_)}document.querySelectorAll(".ct_discount").forEach(function(e){"NaN% Off"===e.textContent&&(e.style.display="none",e=e.parentNode.querySelector(".ct_list_price"))&&(e.style.display="none")}),new Swiper(".ct_midProducts_carousel .ct_category_carousel",{slidesPerView:"1.5",centeredSlides:!0,spaceBetween:16,initialSlide:4,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:"3.5"}}})})})}var r,n;r=document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category_URL"),n="X_"+document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category")+"_Carousel",document.querySelectorAll(".ct_midProducts_carousel .ct_carousel_view_all").forEach(function(e){e.setAttribute("href",r),e.setAttribute("data-element-id",n)}),document.querySelectorAll(".ct_midProducts_carousel .ct_category").forEach(function(e){e.addEventListener("click",t)}),$(document).on("mouseenter",".ct_category_carousel_module .ct_slide .ct_box",e),$(document).on("mouseleave",".ct_category_carousel_module .ct_slide .ct_box",c),a("Categoria1"),document.querySelectorAll(".ct_midProducts_carousel .ct_category")}}},{}]},{},[1]);