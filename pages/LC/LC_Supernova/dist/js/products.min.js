!function r(a,n,o){function i(t,e){if(!n[t]){if(!a[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(s)return s(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}c=n[t]={exports:{}},a[t][0].call(c.exports,function(e){return i(a[t][1][e]||e)},c,c.exports,r,a,n,o)}return n[t].exports}for(var s="function"==typeof require&&require,e=0;e<o.length;e++)i(o[e]);return i}({1:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default={init:function(){function t(){$(".ct_midProducts_carousel .ct_category").removeClass("ct_selected"),$(this).addClass("ct_selected"),$(".ct_midProducts_carousel .swiper-slide").remove();r("ct_SearchRule_CategoryCarousel__"+$(this).attr("ct_category"));var e=$(this).attr("ct_category"),t=(r(e),$(this).attr("ct_category_URL")),c="X_"+$(this).attr("ct_category")+"_Carousel";$(".ct_midProducts_carousel .ct_carousel_view_all").each(function(){$(this).attr("href",t),$(this).attr("data-element-id",c)})}function e(){var e=this.querySelector("img").getAttribute("src").replace("shad__fr","shad__qt");this.querySelector("img").setAttribute("src",e)}function c(){var e=this.querySelector("img").getAttribute("src").replace("shad__qt","shad__fr");this.querySelector("img").setAttribute("src",e)}function r(e){window.location.href.indexOf("lenscrafter.com");var t="/ajaxSearchDisplayView?storeId="+storeId+"&catalogId=22701&langId=-1&pageSize=120&orderBy=0&searchTerm="+e,c="https://media.lenscrafters.com/2023/SUPERNOVA/JSON/".concat(e,"_Variants.json");function r(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){console.error("Errore nel caricamento JSON:",e)})}console.log(c),r(t).then(function(f){r(c).then(function(e){for(var t=f.products.products.product,c=t.length-1;0<=c;c--){var r=e["variants"+c]||[],r=(t[c].variants=r,t[c].pdpURL),a=t[c].upc,n=t[c].brand,o=t[c].productName.substring(1).split("_")[0],i=t[c].listPrice.replace("$ 0",""),s=t[c].price,d=Math.floor((100-parseInt(s.replace("$ ",""))/parseInt(i.replace("$ ",""))*100)/5*5),l=document.querySelector(".ct_midProducts_carousel .ct_category_carousel .swiper-wrapper"),u=document.createElement("a"),r=(u.classList.add("swiper-slide","ct_slide","ct_productImage"),u.href=r,u.setAttribute("data-element-id","X_ProductCarousel_LP"),u.setAttribute("data-description",a),u.setAttribute("aria-label","Shop "+o),document.createElement("div")),_=(r.classList.add("ct_box"),document.createElement("img")),p=(_.src="https://assets.lenscrafters.com/is/image/LensCrafters/"+a+"__STD__shad__fr.png?imwidth=1024",_.alt="",r.appendChild(_),u.appendChild(r),document.createElement("div")),a=(p.classList.add("ct_description"),document.createElement("p")),_=(a.classList.add("ct_brand"),a.textContent=n,p.appendChild(a),document.createElement("p")),m=(_.classList.add("ct_name"),_.textContent=o,p.appendChild(_),document.createElement("p")),r=(m.classList.add("ct_variant_name"),t[c].variants.forEach(function(e){e&&(p.appendChild(m),m.textContent=e.variantColor)}),document.createElement("div")),n=(r.classList.add("ct_price","ct_price_mob_hide"),document.createElement("p")),a=(n.classList.add("ct_from"),n.textContent="From",document.createElement("p")),o=(a.classList.add("ct_list_price"),a.textContent="$"+i,document.createElement("p")),_=(o.classList.add("ct_discounted_price"),o.textContent="$"+s,document.createElement("p")),i=(_.classList.add("ct_discount"),_.textContent=d+"% Off",r.appendChild(n),r.appendChild(a),r.appendChild(o),r.appendChild(_),p.appendChild(r),document.createElement("div")),d=(i.classList.add("ct_price","cb_d-lg-none"),document.createElement("p")),n=(d.classList.add("ct_from"),d.textContent="Frame only",document.createElement("p"));n.classList.add("ct_discounted_price"),n.textContent="$"+s,i.appendChild(d),i.appendChild(n),p.appendChild(i),u.appendChild(p),l.prepend(u)}document.querySelectorAll(".ct_discount").forEach(function(e){"NaN% Off"===e.textContent&&(e.style.display="none",e=e.parentNode.querySelector(".ct_list_price"))&&(e.style.display="none")}),new Swiper(".ct_midProducts_carousel .ct_category_carousel",{slidesPerView:"1.5",centeredSlides:!0,spaceBetween:16,initialSlide:4,pagination:{el:".swiper-pagination"},breakpoints:{1024:{slidesPerView:"3.5",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}})})})}var a,n;a=document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category_URL"),n="X_"+document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category")+"_Carousel",document.querySelectorAll(".ct_midProducts_carousel .ct_carousel_view_all").forEach(function(e){e.setAttribute("href",a),e.setAttribute("data-element-id",n)}),document.querySelectorAll(".ct_midProducts_carousel .ct_category").forEach(function(e){e.addEventListener("click",t)}),$(document).on("mouseenter",".ct_category_carousel_module .ct_slide .ct_box",e),$(document).on("mouseleave",".ct_category_carousel_module .ct_slide .ct_box",c),r("ct_SearchRule_CategoryCarousel__Wayfarer"),document.querySelectorAll(".ct_midProducts_carousel .ct_category")}}},{}]},{},[1]);