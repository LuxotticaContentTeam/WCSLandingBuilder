!function r(a,s,o){function n(t,e){if(!s[t]){if(!a[t]){var c="function"==typeof require&&require;if(!e&&c)return c(t,!0);if(i)return i(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}c=s[t]={exports:{}},a[t][0].call(c.exports,function(e){return n(a[t][1][e]||e)},c,c.exports,r,a,s,o)}return s[t].exports}for(var i="function"==typeof require&&require,e=0;e<o.length;e++)n(o[e]);return n}({1:[function(e,t,c){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.default=void 0,c.default={init:function(){function t(){$(".ct_midProducts_carousel .ct_category").removeClass("ct_selected"),$(this).addClass("ct_selected"),$(".ct_midProducts_carousel .swiper-slide").remove();var e="ct_SearchRule_CategoryCarousel__"+$(this).attr("ct_category"),t=(a(e),$(this).attr("ct_category")),t=(a(t),localStorage.getItem(t)),c=(this.classList.contains("ct_clicked")?(t=JSON.parse(t),console.log(t)):a(e),this.classList.add("ct_clicked"),$(this).attr("ct_category_URL")),r="X_"+$(this).attr("ct_category")+"_Carousel";$(".ct_midProducts_carousel .ct_carousel_view_all").each(function(){$(this).attr("href",c),$(this).attr("data-element-id",r)})}function e(){var e=this.querySelector("img").getAttribute("src").replace("shad__fr","shad__qt");this.querySelector("img").setAttribute("src",e)}function c(){var e=this.querySelector("img").getAttribute("src").replace("shad__qt","shad__fr");this.querySelector("img").setAttribute("src",e)}function a(y){window.location.href.indexOf("lenscrafter.com");var e="/ajaxSearchDisplayView?storeId="+storeId+"&catalogId=22701&langId=-1&pageSize=120&orderBy=0&searchTerm="+y,t="../data/".concat(y,"_Variants.json");function c(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){console.error("Errore nel caricamento JSON:",e)})}console.log(t),c(e).then(function(C){c(t).then(function(e){var t=C.products.products.product;"Categoria1"==y&&localStorage.setItem("Categoria1",JSON.stringify(t)),"Categoria2"==y&&localStorage.setItem("Categoria2",JSON.stringify(t));for(var c=t.length-1;0<=c;c--){var r=e["variants"+c]||[],r=(t[c].variants=r,t[c].pdpURL),a=t[c].upc,s=t[c].brand,o=t[c].productName.substring(1).split("_")[0],n=t[c].listPrice.replace("$ 0",""),i=t[c].price,d=Math.floor((100-parseInt(i.replace("$ ",""))/parseInt(n.replace("$ ",""))*100)/5*5),l=document.querySelector(".ct_midProducts_carousel .ct_category_carousel .swiper-wrapper"),u=document.createElement("a"),_=(u.classList.add("swiper-slide","ct_slide","ct_productImage"),u.href=r,u.setAttribute("data-element-id","X_ProductCarousel_LP"),u.setAttribute("data-description",a),u.setAttribute("aria-label","Shop "+o),document.createElement("div")),p=(_.classList.add("ct_box"),document.createElement("img")),m=(p.src="https://assets.lenscrafters.com/is/image/LensCrafters/"+a+"__STD__shad__fr.png?imwidth=1024",p.alt="",_.appendChild(p),u.appendChild(_),document.createElement("div")),a=(m.classList.add("ct_description"),document.createElement("p")),p=(a.classList.add("ct_brand"),a.textContent=s,m.appendChild(a),document.createElement("p")),h=(p.classList.add("ct_name"),p.textContent=o,m.appendChild(p),document.createElement("p")),f=(h.classList.add("ct_variant_name"),document.createElement("ul")),_=(f.classList.add("ct_variants"),r.lastIndexOf("/")),g=r.substring(0,_),s=(t[c].variants.forEach(function(c,e){var t,r;c&&(m.appendChild(h),m.appendChild(f),t=document.createElement("li"),f.appendChild(t),(r=document.createElement("a")).href="#",r.classList.add("variant-bullet"),r.style.backgroundColor=c.bulletColor,t.appendChild(r),0===e&&(r.classList.add("active"),h.textContent=c.variantColor),r.addEventListener("click",function(e){e.preventDefault();var e=this.closest(".swiper-slide"),t=e.querySelector(".variant-bullet.active");e.querySelector(".ct_variant_name").textContent=c.variantColor,t&&t.classList.remove("active"),this.classList.add("active"),e.href=g+"/"+c.upc,e.querySelector(".ct_box>img").src="https://assets.lenscrafters.com/is/image/LensCrafters/"+c.upc+"__STD__shad__fr.png?imwidth=1024"}))}),document.createElement("div")),a=(s.classList.add("ct_price","ct_price_mob_hide"),document.createElement("p")),o=(a.classList.add("ct_from"),a.textContent="From",document.createElement("p")),p=(o.classList.add("ct_list_price"),o.textContent="$"+n,document.createElement("p")),r=(p.classList.add("ct_discounted_price"),p.textContent="$"+i,document.createElement("p")),_=(r.classList.add("ct_discount"),r.textContent=d+"% Off",s.appendChild(a),s.appendChild(o),s.appendChild(p),s.appendChild(r),m.appendChild(s),document.createElement("div")),n=(_.classList.add("ct_price","cb_d-lg-none"),document.createElement("p")),d=(n.classList.add("ct_from"),n.textContent="Frame only",document.createElement("p"));d.classList.add("ct_discounted_price"),d.textContent="$"+i,_.appendChild(n),_.appendChild(d),m.appendChild(_),u.appendChild(m),l.prepend(u)}document.querySelectorAll(".ct_discount").forEach(function(e){"NaN% Off"===e.textContent&&(e.style.display="none",e=e.parentNode.querySelector(".ct_list_price"))&&(e.style.display="none")}),new Swiper(".ct_midProducts_carousel .ct_category_carousel",{slidesPerView:"1.5",centeredSlides:!0,spaceBetween:16,initialSlide:4,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{slidesPerView:"3.5"}}})})})}var r,s;r=document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category_URL"),s="X_"+document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category")+"_Carousel",document.querySelectorAll(".ct_midProducts_carousel .ct_carousel_view_all").forEach(function(e){e.setAttribute("href",r),e.setAttribute("data-element-id",s)}),document.querySelectorAll(".ct_midProducts_carousel .ct_category").forEach(function(e){e.addEventListener("click",t)}),$(document).on("mouseenter",".ct_category_carousel_module .ct_slide .ct_box",e),$(document).on("mouseleave",".ct_category_carousel_module .ct_slide .ct_box",c),a("ct_SearchRule_CategoryCarousel__Categoria1"),document.querySelectorAll(".ct_midProducts_carousel .ct_category")}}},{}]},{},[1]);