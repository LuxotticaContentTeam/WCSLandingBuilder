!function n(o,r,c){function s(t,e){if(!r[t]){if(!o[t]){var i="function"==typeof require&&require;if(!e&&i)return i(t,!0);if(a)return a(t,!0);throw(e=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",e}i=r[t]={exports:{}},o[t][0].call(i.exports,function(e){return s(o[t][1][e]||e)},i,i.exports,n,o,r,c)}return r[t].exports}for(var a="function"==typeof require&&require,e=0;e<c.length;e++)s(c[e]);return s}({1:[function(e,t,i){t.exports=function(e){return e&&e.__esModule?e:{default:e}},t.exports.__esModule=!0,t.exports.default=t.exports},{}],2:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n(e("./utilities")));i.default={init:function(){o.default.initializeSwiper(".controls-choices-slider",{slidesPerView:"auto",centeredSlides:!0,spaceBetween:32,loop:!0,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},breakpoints:{1024:{spaceBetween:64}}})}}},{"./utilities":9,"@babel/runtime/helpers/interopRequireDefault":1}],3:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={init:function(){var e=navigator.userAgent.toLowerCase(),t=-1<e.indexOf("android"),e=/(iphone|ipad|ipod|ios)/i.test(e),i=document.getElementById("downloadCTA");t?i.href="https://play.google.com/store/apps/details?id=com.facebook.stella&hl=en_US":e&&(i.href="https://apps.apple.com/it/app/meta-view-for-smart-glasses/id1558240027")}}},{}],4:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n(e("./utilities")));i.default={init:function(){o.default.initializeSwiperOnMobile(".features-slider",{slidesPerView:1.25,pagination:{el:".swiper-pagination"}})}}},{"./utilities":9,"@babel/runtime/helpers/interopRequireDefault":1}],5:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n(e("./utilities")));i.default={init:function(){o.default.initializeSwiperOnMobile(".four-video-slider",{slidesPerView:1.2})}}},{"./utilities":9,"@babel/runtime/helpers/interopRequireDefault":1}],6:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=(Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,n(e("./utilities")));i.default={init:function(){o.default.initializeSwiperOnMobile(".get-support-slider",{slidesPerView:1.25,pagination:{el:".swiper-pagination"}})}}},{"./utilities":9,"@babel/runtime/helpers/interopRequireDefault":1}],7:[function(e,t,i){"use strict";var n=e("@babel/runtime/helpers/interopRequireDefault"),o=n(e("./utilities")),r=n(e("./fourVideos")),c=n(e("./getSupport")),s=n(e("./features")),a=n(e("./controlsChoices")),l=n(e("./products")),d=n(e("./downloadApp")),u={setTextOnStickyBanner:function(){window.addEventListener("scroll",function(){var e=document.querySelectorAll("section"),t=document.getElementById("products").offsetTop,i=document.getElementById("stickyBanner"),n=i.querySelector("#stickyBannerText"),o=null;e.forEach(function(e){var t=e.offsetTop,i=t+e.clientHeight;window.scrollY>=t&&window.scrollY<i&&(o=e)}),o&&(e=o.querySelector("[data-title]"),window.scrollY>=t?i.classList.remove("cb_d-none"):i.classList.add("cb_d-none"),e)&&(t=e.getAttribute("data-title"),n.textContent=t)})},init:function(){this.setTextOnStickyBanner(),o.default.playPauseVideoWithControls(),o.default.volumeOnOffVideo(),o.default.manageAccordion(),r.default.init(),c.default.init(),s.default.init(),a.default.init(),l.default.init(),d.default.init()}};document.addEventListener("DOMContentLoaded",function(){u.init()})},{"./controlsChoices":2,"./downloadApp":3,"./features":4,"./fourVideos":5,"./getSupport":6,"./products":8,"./utilities":9,"@babel/runtime/helpers/interopRequireDefault":1}],8:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={init:function(){function t(){$(".ct_midProducts_carousel .ct_category").removeClass("ct_selected"),$(this).addClass("ct_selected"),$(".ct_midProducts_carousel .swiper-slide").remove();n("ct_SearchRule_CategoryCarousel__"+$(this).attr("ct_category"));var e=$(this).attr("ct_category"),t=(n(e),$(this).attr("ct_category_URL")),i="X_"+$(this).attr("ct_category")+"_Carousel";$(".ct_midProducts_carousel .ct_carousel_view_all").each(function(){$(this).attr("href",t),$(this).attr("data-element-id",i)})}function e(){var e=this.querySelector("img").getAttribute("src").replace("shad__fr","shad__qt");this.querySelector("img").setAttribute("src",e)}function i(){var e=this.querySelector("img").getAttribute("src").replace("shad__qt","shad__fr");this.querySelector("img").setAttribute("src",e)}function n(e){window.location.href.indexOf("lenscrafter.com");var t="/ajaxSearchDisplayView?storeId="+storeId+"&catalogId=22701&langId=-1&pageSize=120&orderBy=0&searchTerm="+e,i="https://media.lenscrafters.com/2023/SUPERNOVA/JSON/".concat(e,"_Variants.json");function n(e){return fetch(e).then(function(e){return e.json()}).catch(function(e){console.error("Errore nel caricamento JSON:",e)})}console.log(i),n(t).then(function(m){n(i).then(function(e){for(var t=m.products.products.product,i=t.length-1;0<=i;i--){var n=e["variants"+i]||[],n=(t[i].variants=n,t[i].pdpURL),o=t[i].upc,r=t[i].brand,c=t[i].productName.substring(1).split("_")[0],s=t[i].listPrice.replace("$ 0",""),a=t[i].price,l=Math.floor((100-parseInt(a.replace("$ ",""))/parseInt(s.replace("$ ",""))*100)/5*5),d=document.querySelector(".ct_midProducts_carousel .ct_category_carousel .swiper-wrapper"),u=document.createElement("a"),n=(u.classList.add("swiper-slide","ct_slide","ct_productImage"),u.href=n,u.setAttribute("data-element-id","X_ProductCarousel_LP"),u.setAttribute("data-description",o),u.setAttribute("aria-label","Shop "+c),document.createElement("div")),p=(n.classList.add("ct_box"),document.createElement("img")),f=(p.src="https://assets.lenscrafters.com/is/image/LensCrafters/"+o+"__STD__shad__fr.png?imwidth=1024",p.alt="",n.appendChild(p),u.appendChild(n),document.createElement("div")),o=(f.classList.add("ct_description"),document.createElement("p")),p=(o.classList.add("ct_brand"),o.textContent=r,f.appendChild(o),document.createElement("p")),_=(p.classList.add("ct_name"),p.textContent=c,f.appendChild(p),document.createElement("p")),n=(_.classList.add("ct_variant_name"),t[i].variants.forEach(function(e){e&&(f.appendChild(_),_.textContent=e.variantColor)}),document.createElement("div")),r=(n.classList.add("ct_price","ct_price_mob_hide"),document.createElement("p")),o=(r.classList.add("ct_from"),r.textContent="From",document.createElement("p")),c=(o.classList.add("ct_list_price"),o.textContent="$"+s,document.createElement("p")),p=(c.classList.add("ct_discounted_price"),c.textContent="$"+a,document.createElement("p")),s=(p.classList.add("ct_discount"),p.textContent=l+"% Off",n.appendChild(r),n.appendChild(o),n.appendChild(c),n.appendChild(p),f.appendChild(n),document.createElement("div")),l=(s.classList.add("ct_price","cb_d-lg-none"),document.createElement("p")),r=(l.classList.add("ct_from"),l.textContent="Frame only",document.createElement("p"));r.classList.add("ct_discounted_price"),r.textContent="$"+a,s.appendChild(l),s.appendChild(r),f.appendChild(s),u.appendChild(f),d.prepend(u)}document.querySelectorAll(".ct_discount").forEach(function(e){"NaN% Off"===e.textContent&&(e.style.display="none",e=e.parentNode.querySelector(".ct_list_price"))&&(e.style.display="none")}),new Swiper(".ct_midProducts_carousel .ct_category_carousel",{slidesPerView:"1.5",centeredSlides:!0,spaceBetween:16,initialSlide:4,pagination:{el:".swiper-pagination"},breakpoints:{1024:{slidesPerView:"3.5",navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}}}})})})}var o,r;o=document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category_URL"),r="X_"+document.querySelector(".ct_midProducts_carousel .ct_category.ct_selected").getAttribute("ct_category")+"_Carousel",document.querySelectorAll(".ct_midProducts_carousel .ct_carousel_view_all").forEach(function(e){e.setAttribute("href",o),e.setAttribute("data-element-id",r)}),document.querySelectorAll(".ct_midProducts_carousel .ct_category").forEach(function(e){e.addEventListener("click",t)}),$(document).on("mouseenter",".ct_category_carousel_module .ct_slide .ct_box",e),$(document).on("mouseleave",".ct_category_carousel_module .ct_slide .ct_box",i),n("ct_SearchRule_CategoryCarousel__Categoria1"),document.querySelectorAll(".ct_midProducts_carousel .ct_category")}}},{}],9:[function(e,t,i){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.default=void 0,i.default={setVideoUrl:function(e){var t=window.matchMedia("(max-width: 768px)"),i=e.getAttribute("data-video-mob"),n=e.getAttribute("data-video-desk"),t=t.matches?'<source src="'.concat(i,'" type="video/mp4">Your browser does not support the video tag.'):'<source src="'.concat(n,'" type="video/mp4">Your browser does not support the video tag.');e.innerHTML=t},playPauseVideoWithControls:function(){for(var c=this,e=document.querySelectorAll(".video-control.play-pause"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var e=this.closest("section>div"),t=this.closest(".video-container"),i=t.querySelector("video"),n=t.querySelector(".video-cover"),o=t.nextElementSibling,t=this.querySelector(".play"),r=this.querySelector(".pause");if(c.setVideoUrl(i),n.classList.add("cb_d-none"),i.classList.remove("cb_d-none"),e.classList.contains("is-banner"))for(;o;)o.classList.add("cb_d-none"),o=o.nextElementSibling;t.classList.toggle("cb_d-none"),r.classList.toggle("cb_d-none"),i.classList.contains("is-playing")?(i.pause(),i.classList.remove("is-playing")):(document.querySelectorAll("video.is-playing").forEach(function(e){e.classList.remove("is-playing"),e.closest(".video-container").querySelector(".play").classList.remove("cb_d-none"),e.closest(".video-container").querySelector(".pause").classList.add("cb_d-none"),e.pause()}),i.play(),i.classList.add("is-playing"))})},volumeOnOffVideo:function(){for(var e=document.querySelectorAll(".video-control.volume-on-off"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var e=this.closest(".video-container").querySelector("video"),t=this.querySelector(".volume-on"),i=this.querySelector(".volume-off");t.classList.toggle("cb_d-none"),i.classList.toggle("cb_d-none"),t.classList.contains("cb_d-none")?e.muted=!0:e.muted=!1})},manageAccordion:function(){for(var e=document.querySelectorAll(".accordion-button"),t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault(),this.classList.toggle("active");var t,e=this.nextElementSibling;e.classList.contains("opened")?(e.classList.remove("opened"),e.style.height=0):(e.classList.add("opened"),t=e.children[0].offsetHeight,e.style.height=t+"px")})},initializeSwiper:function(e,t){return new Swiper(e,t)},initializeSwiperOnMobile:function(i,e){function n(){o.matches&&(t=new Swiper(i,e))}var t,o=window.matchMedia("(max-width: 767px)");return n(),window.addEventListener("resize",function(){for(var e=document.querySelectorAll(i),t=0;t<e.length;t++)e[t].classList.contains("swiper-initialized")?o.matches||(e[t].swiper.disable(),e[t].swiper.destroy(!0,!0)):n()}),t},pauseVideoOnPrevNextSlide:function(e){var t=document.querySelector(e);t.swiper.on("slideChange",function(){t.querySelectorAll("video.is-playing").forEach(function(e){e.classList.remove("is-playing"),e.closest(".video-container").querySelector(".play").classList.remove("cb_d-none"),e.closest(".video-container").querySelector(".pause").classList.add("cb_d-none"),e.pause()})})}}},{}]},{},[7]);